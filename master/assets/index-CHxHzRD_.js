(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function E3(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Vr={},Kg=[],xu=()=>{},xoe=()=>!1,lj=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),_3=t=>t.startsWith("onUpdate:"),Wi=Object.assign,P3=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},koe=Object.prototype.hasOwnProperty,Wr=(t,e)=>koe.call(t,e),vn=Array.isArray,Jg=t=>cj(t)==="[object Map]",NH=t=>cj(t)==="[object Set]",Tn=t=>typeof t=="function",ni=t=>typeof t=="string",Zd=t=>typeof t=="symbol",Io=t=>t!==null&&typeof t=="object",LH=t=>(Io(t)||Tn(t))&&Tn(t.then)&&Tn(t.catch),DH=Object.prototype.toString,cj=t=>DH.call(t),Soe=t=>cj(t).slice(8,-1),VH=t=>cj(t)==="[object Object]",I3=t=>ni(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,_1=E3(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),uj=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Coe=/-(\w)/g,Qs=uj(t=>t.replace(Coe,(e,n)=>n?n.toUpperCase():"")),joe=/\B([A-Z])/g,Vh=uj(t=>t.replace(joe,"-$1").toLowerCase()),ef=uj(t=>t.charAt(0).toUpperCase()+t.slice(1)),fM=uj(t=>t?`on${ef(t)}`:""),Ma=(t,e)=>!Object.is(t,e),hM=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},BH=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Aoe=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Moe=t=>{const e=ni(t)?Number(t):NaN;return isNaN(e)?t:e};let _N;const dj=()=>_N||(_N=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Qt(t){if(vn(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],o=ni(r)?Eoe(r):Qt(r);if(o)for(const i in o)e[i]=o[i]}return e}else if(ni(t)||Io(t))return t}const Toe=/;(?![^(]*\))/g,Ooe=/:([^]+)/,$oe=/\/\*[^]*?\*\//g;function Eoe(t){const e={};return t.replace($oe,"").split(Toe).forEach(n=>{if(n){const r=n.split(Ooe);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Tt(t){let e="";if(ni(t))e=t;else if(vn(t))for(let n=0;n<t.length;n++){const r=Tt(t[n]);r&&(e+=r+" ")}else if(Io(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function SS(t){if(!t)return null;let{class:e,style:n}=t;return e&&!ni(e)&&(t.class=Tt(e)),n&&(t.style=Qt(n)),t}const _oe="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Poe=E3(_oe);function zH(t){return!!t||t===""}const HH=t=>!!(t&&t.__v_isRef===!0),Kr=t=>ni(t)?t:t==null?"":vn(t)||Io(t)&&(t.toString===DH||!Tn(t.toString))?HH(t)?Kr(t.value):JSON.stringify(t,FH,2):String(t),FH=(t,e)=>HH(e)?FH(t,e.value):Jg(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,o],i)=>(n[pM(r,i)+" =>"]=o,n),{})}:NH(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>pM(n))}:Zd(e)?pM(e):Io(e)&&!vn(e)&&!VH(e)?String(e):e,pM=(t,e="")=>{var n;return Zd(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Vs;class qH{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Vs,!e&&Vs&&(this.index=(Vs.scopes||(Vs.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Vs;try{return Vs=this,e()}finally{Vs=n}}}on(){++this._on===1&&(this.prevScope=Vs,Vs=this)}off(){this._on>0&&--this._on===0&&(Vs=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function b0(t){return new qH(t)}function R3(){return Vs}function xs(t,e=!1){Vs&&Vs.cleanups.push(t)}let Oo;const mM=new WeakSet;class UH{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Vs&&Vs.active&&Vs.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,mM.has(this)&&(mM.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||KH(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,PN(this),JH(this);const e=Oo,n=mc;Oo=this,mc=!0;try{return this.fn()}finally{GH(this),Oo=e,mc=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)D3(e);this.deps=this.depsTail=void 0,PN(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?mM.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){HO(this)&&this.run()}get dirty(){return HO(this)}}let WH=0,P1,I1;function KH(t,e=!1){if(t.flags|=8,e){t.next=I1,I1=t;return}t.next=P1,P1=t}function N3(){WH++}function L3(){if(--WH>0)return;if(I1){let e=I1;for(I1=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;P1;){let e=P1;for(P1=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function JH(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function GH(t){let e,n=t.depsTail,r=n;for(;r;){const o=r.prevDep;r.version===-1?(r===n&&(n=o),D3(r),Ioe(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}t.deps=e,t.depsTail=n}function HO(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(YH(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function YH(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===w0)||(t.globalVersion=w0,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!HO(t))))return;t.flags|=2;const e=t.dep,n=Oo,r=mc;Oo=t,mc=!0;try{JH(t);const o=t.fn(t._value);(e.version===0||Ma(o,t._value))&&(t.flags|=128,t._value=o,e.version++)}catch(o){throw e.version++,o}finally{Oo=n,mc=r,GH(t),t.flags&=-3}}function D3(t,e=!1){const{dep:n,prevSub:r,nextSub:o}=t;if(r&&(r.nextSub=o,t.prevSub=void 0),o&&(o.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)D3(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ioe(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let mc=!0;const XH=[];function Vd(){XH.push(mc),mc=!1}function Bd(){const t=XH.pop();mc=t===void 0?!0:t}function PN(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Oo;Oo=void 0;try{e()}finally{Oo=n}}}let w0=0;class Roe{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class fj{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Oo||!mc||Oo===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Oo)n=this.activeLink=new Roe(Oo,this),Oo.deps?(n.prevDep=Oo.depsTail,Oo.depsTail.nextDep=n,Oo.depsTail=n):Oo.deps=Oo.depsTail=n,QH(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Oo.depsTail,n.nextDep=void 0,Oo.depsTail.nextDep=n,Oo.depsTail=n,Oo.deps===n&&(Oo.deps=r)}return n}trigger(e){this.version++,w0++,this.notify(e)}notify(e){N3();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{L3()}}}function QH(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)QH(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const CS=new WeakMap,Vp=Symbol(""),FO=Symbol(""),x0=Symbol("");function Hs(t,e,n){if(mc&&Oo){let r=CS.get(t);r||CS.set(t,r=new Map);let o=r.get(n);o||(r.set(n,o=new fj),o.map=r,o.key=n),o.track()}}function fd(t,e,n,r,o,i){const s=CS.get(t);if(!s){w0++;return}const a=l=>{l&&l.trigger()};if(N3(),e==="clear")s.forEach(a);else{const l=vn(t),c=l&&I3(n);if(l&&n==="length"){const u=Number(r);s.forEach((d,f)=>{(f==="length"||f===x0||!Zd(f)&&f>=u)&&a(d)})}else switch((n!==void 0||s.has(void 0))&&a(s.get(n)),c&&a(s.get(x0)),e){case"add":l?c&&a(s.get("length")):(a(s.get(Vp)),Jg(t)&&a(s.get(FO)));break;case"delete":l||(a(s.get(Vp)),Jg(t)&&a(s.get(FO)));break;case"set":Jg(t)&&a(s.get(Vp));break}}L3()}function Noe(t,e){const n=CS.get(t);return n&&n.get(e)}function rg(t){const e=yn(t);return e===t?e:(Hs(e,"iterate",x0),_l(t)?e:e.map(Os))}function hj(t){return Hs(t=yn(t),"iterate",x0),t}const Loe={__proto__:null,[Symbol.iterator](){return gM(this,Symbol.iterator,Os)},concat(...t){return rg(this).concat(...t.map(e=>vn(e)?rg(e):e))},entries(){return gM(this,"entries",t=>(t[1]=Os(t[1]),t))},every(t,e){return Qu(this,"every",t,e,void 0,arguments)},filter(t,e){return Qu(this,"filter",t,e,n=>n.map(Os),arguments)},find(t,e){return Qu(this,"find",t,e,Os,arguments)},findIndex(t,e){return Qu(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Qu(this,"findLast",t,e,Os,arguments)},findLastIndex(t,e){return Qu(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Qu(this,"forEach",t,e,void 0,arguments)},includes(...t){return vM(this,"includes",t)},indexOf(...t){return vM(this,"indexOf",t)},join(t){return rg(this).join(t)},lastIndexOf(...t){return vM(this,"lastIndexOf",t)},map(t,e){return Qu(this,"map",t,e,void 0,arguments)},pop(){return zy(this,"pop")},push(...t){return zy(this,"push",t)},reduce(t,...e){return IN(this,"reduce",t,e)},reduceRight(t,...e){return IN(this,"reduceRight",t,e)},shift(){return zy(this,"shift")},some(t,e){return Qu(this,"some",t,e,void 0,arguments)},splice(...t){return zy(this,"splice",t)},toReversed(){return rg(this).toReversed()},toSorted(t){return rg(this).toSorted(t)},toSpliced(...t){return rg(this).toSpliced(...t)},unshift(...t){return zy(this,"unshift",t)},values(){return gM(this,"values",Os)}};function gM(t,e,n){const r=hj(t),o=r[e]();return r!==t&&!_l(t)&&(o._next=o.next,o.next=()=>{const i=o._next();return i.value&&(i.value=n(i.value)),i}),o}const Doe=Array.prototype;function Qu(t,e,n,r,o,i){const s=hj(t),a=s!==t&&!_l(t),l=s[e];if(l!==Doe[e]){const d=l.apply(t,i);return a?Os(d):d}let c=n;s!==t&&(a?c=function(d,f){return n.call(this,Os(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const u=l.call(s,c,r);return a&&o?o(u):u}function IN(t,e,n,r){const o=hj(t);let i=n;return o!==t&&(_l(t)?n.length>3&&(i=function(s,a,l){return n.call(this,s,a,l,t)}):i=function(s,a,l){return n.call(this,s,Os(a),l,t)}),o[e](i,...r)}function vM(t,e,n){const r=yn(t);Hs(r,"iterate",x0);const o=r[e](...n);return(o===-1||o===!1)&&z3(n[0])?(n[0]=yn(n[0]),r[e](...n)):o}function zy(t,e,n=[]){Vd(),N3();const r=yn(t)[e].apply(t,n);return L3(),Bd(),r}const Voe=E3("__proto__,__v_isRef,__isVue"),ZH=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Zd));function Boe(t){Zd(t)||(t=String(t));const e=yn(this);return Hs(e,"has",t),e.hasOwnProperty(t)}class eF{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const o=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(o?i?Yoe:oF:i?rF:nF).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const s=vn(e);if(!o){let l;if(s&&(l=Loe[n]))return l;if(n==="hasOwnProperty")return Boe}const a=Reflect.get(e,n,Ri(e)?e:r);return(Zd(n)?ZH.has(n):Voe(n))||(o||Hs(e,"get",n),i)?a:Ri(a)?s&&I3(n)?a:a.value:Io(a)?o?Hb(a):ji(a):a}}class tF extends eF{constructor(e=!1){super(!1,e)}set(e,n,r,o){let i=e[n];if(!this._isShallow){const l=xh(i);if(!_l(r)&&!xh(r)&&(i=yn(i),r=yn(r)),!vn(e)&&Ri(i)&&!Ri(r))return l?!1:(i.value=r,!0)}const s=vn(e)&&I3(n)?Number(n)<e.length:Wr(e,n),a=Reflect.set(e,n,r,Ri(e)?e:o);return e===yn(o)&&(s?Ma(r,i)&&fd(e,"set",n,r):fd(e,"add",n,r)),a}deleteProperty(e,n){const r=Wr(e,n);e[n];const o=Reflect.deleteProperty(e,n);return o&&r&&fd(e,"delete",n,void 0),o}has(e,n){const r=Reflect.has(e,n);return(!Zd(n)||!ZH.has(n))&&Hs(e,"has",n),r}ownKeys(e){return Hs(e,"iterate",vn(e)?"length":Vp),Reflect.ownKeys(e)}}class zoe extends eF{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Hoe=new tF,Foe=new zoe,qoe=new tF(!0);const qO=t=>t,Fw=t=>Reflect.getPrototypeOf(t);function Uoe(t,e,n){return function(...r){const o=this.__v_raw,i=yn(o),s=Jg(i),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,c=o[t](...r),u=n?qO:e?jS:Os;return!e&&Hs(i,"iterate",l?FO:Vp),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function qw(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Woe(t,e){const n={get(o){const i=this.__v_raw,s=yn(i),a=yn(o);t||(Ma(o,a)&&Hs(s,"get",o),Hs(s,"get",a));const{has:l}=Fw(s),c=e?qO:t?jS:Os;if(l.call(s,o))return c(i.get(o));if(l.call(s,a))return c(i.get(a));i!==s&&i.get(o)},get size(){const o=this.__v_raw;return!t&&Hs(yn(o),"iterate",Vp),Reflect.get(o,"size",o)},has(o){const i=this.__v_raw,s=yn(i),a=yn(o);return t||(Ma(o,a)&&Hs(s,"has",o),Hs(s,"has",a)),o===a?i.has(o):i.has(o)||i.has(a)},forEach(o,i){const s=this,a=s.__v_raw,l=yn(a),c=e?qO:t?jS:Os;return!t&&Hs(l,"iterate",Vp),a.forEach((u,d)=>o.call(i,c(u),c(d),s))}};return Wi(n,t?{add:qw("add"),set:qw("set"),delete:qw("delete"),clear:qw("clear")}:{add(o){!e&&!_l(o)&&!xh(o)&&(o=yn(o));const i=yn(this);return Fw(i).has.call(i,o)||(i.add(o),fd(i,"add",o,o)),this},set(o,i){!e&&!_l(i)&&!xh(i)&&(i=yn(i));const s=yn(this),{has:a,get:l}=Fw(s);let c=a.call(s,o);c||(o=yn(o),c=a.call(s,o));const u=l.call(s,o);return s.set(o,i),c?Ma(i,u)&&fd(s,"set",o,i):fd(s,"add",o,i),this},delete(o){const i=yn(this),{has:s,get:a}=Fw(i);let l=s.call(i,o);l||(o=yn(o),l=s.call(i,o)),a&&a.call(i,o);const c=i.delete(o);return l&&fd(i,"delete",o,void 0),c},clear(){const o=yn(this),i=o.size!==0,s=o.clear();return i&&fd(o,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=Uoe(o,t,e)}),n}function V3(t,e){const n=Woe(t,e);return(r,o,i)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?r:Reflect.get(Wr(n,o)&&o in r?n:r,o,i)}const Koe={get:V3(!1,!1)},Joe={get:V3(!1,!0)},Goe={get:V3(!0,!1)};const nF=new WeakMap,rF=new WeakMap,oF=new WeakMap,Yoe=new WeakMap;function Xoe(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Qoe(t){return t.__v_skip||!Object.isExtensible(t)?0:Xoe(Soe(t))}function ji(t){return xh(t)?t:B3(t,!1,Hoe,Koe,nF)}function Zoe(t){return B3(t,!1,qoe,Joe,rF)}function Hb(t){return B3(t,!0,Foe,Goe,oF)}function B3(t,e,n,r,o){if(!Io(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Qoe(t);if(i===0)return t;const s=o.get(t);if(s)return s;const a=new Proxy(t,i===2?r:n);return o.set(t,a),a}function Gg(t){return xh(t)?Gg(t.__v_raw):!!(t&&t.__v_isReactive)}function xh(t){return!!(t&&t.__v_isReadonly)}function _l(t){return!!(t&&t.__v_isShallow)}function z3(t){return t?!!t.__v_raw:!1}function yn(t){const e=t&&t.__v_raw;return e?yn(e):t}function Fb(t){return!Wr(t,"__v_skip")&&Object.isExtensible(t)&&BH(t,"__v_skip",!0),t}const Os=t=>Io(t)?ji(t):t,jS=t=>Io(t)?Hb(t):t;function Ri(t){return t?t.__v_isRef===!0:!1}function Ye(t){return iF(t,!1)}function Vt(t){return iF(t,!0)}function iF(t,e){return Ri(t)?t:new eie(t,e)}class eie{constructor(e,n){this.dep=new fj,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:yn(e),this._value=n?e:Os(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||_l(e)||xh(e);e=r?e:yn(e),Ma(e,n)&&(this._rawValue=e,this._value=r?e:Os(e),this.dep.trigger())}}function Ie(t){return Ri(t)?t.value:t}function gs(t){return Tn(t)?t():Ie(t)}const tie={get:(t,e,n)=>e==="__v_raw"?t:Ie(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const o=t[e];return Ri(o)&&!Ri(n)?(o.value=n,!0):Reflect.set(t,e,n,r)}};function sF(t){return Gg(t)?t:new Proxy(t,tie)}class nie{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new fj,{get:r,set:o}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=o}get value(){return this._value=this._get()}set value(e){this._set(e)}}function aF(t){return new nie(t)}function lF(t){const e=vn(t)?new Array(t.length):{};for(const n in t)e[n]=cF(t,n);return e}class rie{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Noe(yn(this._object),this._key)}}class oie{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function De(t,e,n){return Ri(t)?t:Tn(t)?new oie(t):Io(t)&&arguments.length>1?cF(t,e,n):Ye(t)}function cF(t,e,n){const r=t[e];return Ri(r)?r:new rie(t,e,n)}class iie{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new fj(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=w0-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Oo!==this)return KH(this,!0),!0}get value(){const e=this.dep.track();return YH(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function sie(t,e,n=!1){let r,o;return Tn(t)?r=t:(r=t.get,o=t.set),new iie(r,o,n)}const Uw={},AS=new WeakMap;let vp;function aie(t,e=!1,n=vp){if(n){let r=AS.get(n);r||AS.set(n,r=[]),r.push(t)}}function lie(t,e,n=Vr){const{immediate:r,deep:o,once:i,scheduler:s,augmentJob:a,call:l}=n,c=k=>o?k:_l(k)||o===!1||o===0?hd(k,1):hd(k);let u,d,f,h,m=!1,g=!1;if(Ri(t)?(d=()=>t.value,m=_l(t)):Gg(t)?(d=()=>c(t),m=!0):vn(t)?(g=!0,m=t.some(k=>Gg(k)||_l(k)),d=()=>t.map(k=>{if(Ri(k))return k.value;if(Gg(k))return c(k);if(Tn(k))return l?l(k,2):k()})):Tn(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Vd();try{f()}finally{Bd()}}const k=vp;vp=u;try{return l?l(t,3,[h]):t(h)}finally{vp=k}}:d=xu,e&&o){const k=d,w=o===!0?1/0:o;d=()=>hd(k(),w)}const v=R3(),y=()=>{u.stop(),v&&v.active&&P3(v.effects,u)};if(i&&e){const k=e;e=(...w)=>{k(...w),y()}}let b=g?new Array(t.length).fill(Uw):Uw;const x=k=>{if(!(!(u.flags&1)||!u.dirty&&!k))if(e){const w=u.run();if(o||m||(g?w.some((S,C)=>Ma(S,b[C])):Ma(w,b))){f&&f();const S=vp;vp=u;try{const C=[w,b===Uw?void 0:g&&b[0]===Uw?[]:b,h];b=w,l?l(e,3,C):e(...C)}finally{vp=S}}}else u.run()};return a&&a(x),u=new UH(d),u.scheduler=s?()=>s(x,!1):x,h=k=>aie(k,!1,u),f=u.onStop=()=>{const k=AS.get(u);if(k){if(l)l(k,4);else for(const w of k)w();AS.delete(u)}},e?r?x(!0):b=u.run():s?s(x.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function hd(t,e=1/0,n){if(e<=0||!Io(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Ri(t))hd(t.value,e,n);else if(vn(t))for(let r=0;r<t.length;r++)hd(t[r],e,n);else if(NH(t)||Jg(t))t.forEach(r=>{hd(r,e,n)});else if(VH(t)){for(const r in t)hd(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&hd(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qb(t,e,n,r){try{return r?t(...r):t()}catch(o){pj(o,e,n)}}function Mc(t,e,n,r){if(Tn(t)){const o=qb(t,e,n,r);return o&&LH(o)&&o.catch(i=>{pj(i,e,n)}),o}if(vn(t)){const o=[];for(let i=0;i<t.length;i++)o.push(Mc(t[i],e,n,r));return o}}function pj(t,e,n,r=!0){const o=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||Vr;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(i){Vd(),qb(i,null,10,[t,l,c]),Bd();return}}cie(t,n,o,r,s)}function cie(t,e,n,r=!0,o=!1){if(o)throw t;console.error(t)}const ha=[];let ou=-1;const Yg=[];let _f=null,xg=0;const uF=Promise.resolve();let MS=null;function Ni(t){const e=MS||uF;return t?e.then(this?t.bind(this):t):e}function uie(t){let e=ou+1,n=ha.length;for(;e<n;){const r=e+n>>>1,o=ha[r],i=k0(o);i<t||i===t&&o.flags&2?e=r+1:n=r}return e}function H3(t){if(!(t.flags&1)){const e=k0(t),n=ha[ha.length-1];!n||!(t.flags&2)&&e>=k0(n)?ha.push(t):ha.splice(uie(e),0,t),t.flags|=1,dF()}}function dF(){MS||(MS=uF.then(hF))}function die(t){vn(t)?Yg.push(...t):_f&&t.id===-1?_f.splice(xg+1,0,t):t.flags&1||(Yg.push(t),t.flags|=1),dF()}function RN(t,e,n=ou+1){for(;n<ha.length;n++){const r=ha[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;ha.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function fF(t){if(Yg.length){const e=[...new Set(Yg)].sort((n,r)=>k0(n)-k0(r));if(Yg.length=0,_f){_f.push(...e);return}for(_f=e,xg=0;xg<_f.length;xg++){const n=_f[xg];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}_f=null,xg=0}}const k0=t=>t.id==null?t.flags&2?-1:1/0:t.id;function hF(t){try{for(ou=0;ou<ha.length;ou++){const e=ha[ou];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),qb(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ou<ha.length;ou++){const e=ha[ou];e&&(e.flags&=-2)}ou=-1,ha.length=0,fF(),MS=null,(ha.length||Yg.length)&&hF()}}let ns=null,pF=null;function TS(t){const e=ns;return ns=t,pF=t&&t.type.__scopeId||null,e}function He(t,e=ns,n){if(!e||t._n)return t;const r=(...o)=>{r._d&&JN(-1);const i=TS(e);let s;try{s=t(...o)}finally{TS(i),r._d&&JN(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Zs(t,e){if(ns===null)return t;const n=bj(ns),r=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[i,s,a,l=Vr]=e[o];i&&(Tn(i)&&(i={mounted:i,updated:i}),i.deep&&hd(s),r.push({dir:i,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return t}function ip(t,e,n,r){const o=t.dirs,i=e&&e.dirs;for(let s=0;s<o.length;s++){const a=o[s];i&&(a.oldValue=i[s].value);let l=a.dir[r];l&&(Vd(),Mc(l,n,8,[t.el,a,t,e]),Bd())}}const mF=Symbol("_vte"),gF=t=>t.__isTeleport,R1=t=>t&&(t.disabled||t.disabled===""),NN=t=>t&&(t.defer||t.defer===""),LN=t=>typeof SVGElement<"u"&&t instanceof SVGElement,DN=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,UO=(t,e)=>{const n=t&&t.to;return ni(n)?e?e(n):null:n},vF={name:"Teleport",__isTeleport:!0,process(t,e,n,r,o,i,s,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:m,createText:g,createComment:v}}=c,y=R1(e.props);let{shapeFlag:b,children:x,dynamicChildren:k}=e;if(t==null){const w=e.el=g(""),S=e.anchor=g("");h(w,n,r),h(S,n,r);const C=(A,_)=>{b&16&&(o&&o.isCE&&(o.ce._teleportTarget=A),u(x,A,_,o,i,s,a,l))},j=()=>{const A=e.target=UO(e.props,m),_=bF(A,e,g,h);A&&(s!=="svg"&&LN(A)?s="svg":s!=="mathml"&&DN(A)&&(s="mathml"),y||(C(A,_),Tk(e,!1)))};y&&(C(n,S),Tk(e,!0)),NN(e.props)?(e.el.__isMounted=!1,ca(()=>{j(),delete e.el.__isMounted},i)):j()}else{if(NN(e.props)&&t.el.__isMounted===!1){ca(()=>{vF.process(t,e,n,r,o,i,s,a,l,c)},i);return}e.el=t.el,e.targetStart=t.targetStart;const w=e.anchor=t.anchor,S=e.target=t.target,C=e.targetAnchor=t.targetAnchor,j=R1(t.props),A=j?n:S,_=j?w:C;if(s==="svg"||LN(S)?s="svg":(s==="mathml"||DN(S))&&(s="mathml"),k?(f(t.dynamicChildren,k,A,o,i,s,a),G3(t,e,!0)):l||d(t,e,A,_,o,i,s,a,!1),y)j?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ww(e,n,w,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const R=e.target=UO(e.props,m);R&&Ww(e,R,null,c,0)}else j&&Ww(e,S,C,c,1);Tk(e,y)}},remove(t,e,n,{um:r,o:{remove:o}},i){const{shapeFlag:s,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=t;if(d&&(o(c),o(u)),i&&o(l),s&16){const h=i||!R1(f);for(let m=0;m<a.length;m++){const g=a[m];r(g,e,n,h,!!g.dynamicChildren)}}},move:Ww,hydrate:fie};function Ww(t,e,n,{o:{insert:r},m:o},i=2){i===0&&r(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=t,d=i===2;if(d&&r(s,e,n),(!d||R1(u))&&l&16)for(let f=0;f<c.length;f++)o(c[f],e,n,2);d&&r(a,e,n)}function fie(t,e,n,r,o,i,{o:{nextSibling:s,parentNode:a,querySelector:l,insert:c,createText:u}},d){const f=e.target=UO(e.props,l);if(f){const h=R1(e.props),m=f._lpa||f.firstChild;if(e.shapeFlag&16)if(h)e.anchor=d(s(t),e,a(t),n,r,o,i),e.targetStart=m,e.targetAnchor=m&&s(m);else{e.anchor=s(t);let g=m;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,f._lpa=e.targetAnchor&&s(e.targetAnchor);break}}g=s(g)}e.targetAnchor||bF(f,e,u,c),d(m&&s(m),e,f,n,r,o,i)}Tk(e,h)}return e.anchor&&s(e.anchor)}const yF=vF;function Tk(t,e){const n=t.ctx;if(n&&n.ut){let r,o;for(e?(r=t.el,o=t.anchor):(r=t.targetStart,o=t.targetAnchor);r&&r!==o;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function bF(t,e,n,r){const o=e.targetStart=n(""),i=e.targetAnchor=n("");return o[mF]=i,t&&(r(o,t),r(i,t)),i}const Pf=Symbol("_leaveCb"),Kw=Symbol("_enterCb");function wF(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return hl(()=>{t.isMounted=!0}),Ca(()=>{t.isUnmounting=!0}),t}const vl=[Function,Array],xF={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:vl,onEnter:vl,onAfterEnter:vl,onEnterCancelled:vl,onBeforeLeave:vl,onLeave:vl,onAfterLeave:vl,onLeaveCancelled:vl,onBeforeAppear:vl,onAppear:vl,onAfterAppear:vl,onAppearCancelled:vl},kF=t=>{const e=t.subTree;return e.component?kF(e.component):e},hie={name:"BaseTransition",props:xF,setup(t,{slots:e}){const n=Gl(),r=wF();return()=>{const o=e.default&&F3(e.default(),!0);if(!o||!o.length)return;const i=SF(o),s=yn(t),{mode:a}=s;if(r.isLeaving)return yM(i);const l=VN(i);if(!l)return yM(i);let c=S0(l,s,r,n,d=>c=d);l.type!==Is&&om(l,c);let u=n.subTree&&VN(n.subTree);if(u&&u.type!==Is&&!kp(l,u)&&kF(n).type!==Is){let d=S0(u,s,r,n);if(om(u,d),a==="out-in"&&l.type!==Is)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},yM(i);a==="in-out"&&l.type!==Is?d.delayLeave=(f,h,m)=>{const g=CF(r,u);g[String(u.key)]=u,f[Pf]=()=>{h(),f[Pf]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{m(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function SF(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Is){e=n;break}}return e}const pie=hie;function CF(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function S0(t,e,n,r,o){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:v,onAppear:y,onAfterAppear:b,onAppearCancelled:x}=e,k=String(t.key),w=CF(n,t),S=(A,_)=>{A&&Mc(A,r,9,_)},C=(A,_)=>{const R=_[1];S(A,_),vn(A)?A.every(T=>T.length<=1)&&R():A.length<=1&&R()},j={mode:s,persisted:a,beforeEnter(A){let _=l;if(!n.isMounted)if(i)_=v||l;else return;A[Pf]&&A[Pf](!0);const R=w[k];R&&kp(t,R)&&R.el[Pf]&&R.el[Pf](),S(_,[A])},enter(A){let _=c,R=u,T=d;if(!n.isMounted)if(i)_=y||c,R=b||u,T=x||d;else return;let z=!1;const U=A[Kw]=G=>{z||(z=!0,G?S(T,[A]):S(R,[A]),j.delayedLeave&&j.delayedLeave(),A[Kw]=void 0)};_?C(_,[A,U]):U()},leave(A,_){const R=String(t.key);if(A[Kw]&&A[Kw](!0),n.isUnmounting)return _();S(f,[A]);let T=!1;const z=A[Pf]=U=>{T||(T=!0,_(),U?S(g,[A]):S(m,[A]),A[Pf]=void 0,w[R]===t&&delete w[R])};w[R]=t,h?C(h,[A,z]):z()},clone(A){const _=S0(A,e,n,r,o);return o&&o(_),_}};return j}function yM(t){if(mj(t))return t=zd(t),t.children=null,t}function VN(t){if(!mj(t))return gF(t.type)&&t.children?SF(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Tn(n.default))return n.default()}}function om(t,e){t.shapeFlag&6&&t.component?(t.transition=e,om(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function F3(t,e=!1,n){let r=[],o=0;for(let i=0;i<t.length;i++){let s=t[i];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:i);s.type===Dt?(s.patchFlag&128&&o++,r=r.concat(F3(s.children,e,a))):(e||s.type!==Is)&&r.push(a!=null?zd(s,{key:a}):s)}if(o>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function en(t,e){return Tn(t)?Wi({name:t.name},e,{setup:t}):t}function Dc(){const t=Gl();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function jF(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function OS(t,e,n,r,o=!1){if(vn(t)){t.forEach((m,g)=>OS(m,e&&(vn(e)?e[g]:e),n,r,o));return}if(Xg(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&OS(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?bj(r.component):r.el,s=o?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Vr?a.refs={}:a.refs,d=a.setupState,f=yn(d),h=d===Vr?()=>!1:m=>Wr(f,m);if(c!=null&&c!==l&&(ni(c)?(u[c]=null,h(c)&&(d[c]=null)):Ri(c)&&(c.value=null)),Tn(l))qb(l,a,12,[s,u]);else{const m=ni(l),g=Ri(l);if(m||g){const v=()=>{if(t.f){const y=m?h(l)?d[l]:u[l]:l.value;o?vn(y)&&P3(y,i):vn(y)?y.includes(i)||y.push(i):m?(u[l]=[i],h(l)&&(d[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else m?(u[l]=s,h(l)&&(d[l]=s)):g&&(l.value=s,t.k&&(u[t.k]=s))};s?(v.id=-1,ca(v,n)):v()}}}dj().requestIdleCallback;dj().cancelIdleCallback;const Xg=t=>!!t.type.__asyncLoader,mj=t=>t.type.__isKeepAlive;function mie(t,e){MF(t,"a",e)}function AF(t,e){MF(t,"da",e)}function MF(t,e,n=fs){const r=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(gj(e,r,n),n){let o=n.parent;for(;o&&o.parent;)mj(o.parent.vnode)&&gie(r,e,n,o),o=o.parent}}function gie(t,e,n,r){const o=gj(e,t,r,!0);U3(()=>{P3(r[e],o)},n)}function gj(t,e,n=fs,r=!1){if(n){const o=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...s)=>{Vd();const a=Kb(n),l=Mc(e,n,t,s);return a(),Bd(),l});return r?o.unshift(i):o.push(i),i}}const tf=t=>(e,n=fs)=>{(!A0||t==="sp")&&gj(t,(...r)=>e(...r),n)},Ub=tf("bm"),hl=tf("m"),vie=tf("bu"),q3=tf("u"),Ca=tf("bum"),U3=tf("um"),yie=tf("sp"),bie=tf("rtg"),wie=tf("rtc");function xie(t,e=fs){gj("ec",t,e)}const TF="components";function WO(t,e){return $F(TF,t,!0,e)||t}const OF=Symbol.for("v-ndc");function Sv(t){return ni(t)?$F(TF,t,!1)||t:t||OF}function $F(t,e,n=!0,r=!1){const o=ns||fs;if(o){const i=o.type;{const a=cse(i,!1);if(a&&(a===e||a===Qs(e)||a===ef(Qs(e))))return i}const s=BN(o[t]||i[t],e)||BN(o.appContext[t],e);return!s&&r?i:s}}function BN(t,e){return t&&(t[e]||t[Qs(e)]||t[ef(Qs(e))])}function ea(t,e,n,r){let o;const i=n,s=vn(t);if(s||ni(t)){const a=s&&Gg(t);let l=!1,c=!1;a&&(l=!_l(t),c=xh(t),t=hj(t)),o=new Array(t.length);for(let u=0,d=t.length;u<d;u++)o[u]=e(l?c?jS(Os(t[u])):Os(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){o=new Array(t);for(let a=0;a<t;a++)o[a]=e(a+1,a,void 0,i)}else if(Io(t))if(t[Symbol.iterator])o=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);o=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];o[l]=e(t[u],u,l,i)}}else o=[];return o}function W3(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(vn(r))for(let o=0;o<r.length;o++)t[r[o].name]=r[o].fn;else r&&(t[r.name]=r.key?(...o)=>{const i=r.fn(...o);return i&&(i.key=r.key),i}:r.fn)}return t}function Tc(t,e,n={},r,o){if(ns.ce||ns.parent&&Xg(ns.parent)&&ns.parent.ce)return e!=="default"&&(n.name=e),tt(),Rt(Dt,null,[F("slot",n,r&&r())],64);let i=t[e];i&&i._c&&(i._d=!1),tt();const s=i&&EF(i(n)),a=n.key||s&&s.key,l=Rt(Dt,{key:(a&&!Zd(a)?a:`_${e}`)+(!s&&r?"_fb":"")},s||(r?r():[]),s&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function EF(t){return t.some(e=>Cv(e)?!(e.type===Is||e.type===Dt&&!EF(e.children)):!0)?t:null}const KO=t=>t?YF(t)?bj(t):KO(t.parent):null,N1=Wi(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>KO(t.parent),$root:t=>KO(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>PF(t),$forceUpdate:t=>t.f||(t.f=()=>{H3(t.update)}),$nextTick:t=>t.n||(t.n=Ni.bind(t.proxy)),$watch:t=>Kie.bind(t)}),bM=(t,e)=>t!==Vr&&!t.__isScriptSetup&&Wr(t,e),kie={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:o,props:i,accessCache:s,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return o[e];case 4:return n[e];case 3:return i[e]}else{if(bM(r,e))return s[e]=1,r[e];if(o!==Vr&&Wr(o,e))return s[e]=2,o[e];if((c=t.propsOptions[0])&&Wr(c,e))return s[e]=3,i[e];if(n!==Vr&&Wr(n,e))return s[e]=4,n[e];JO&&(s[e]=0)}}const u=N1[e];let d,f;if(u)return e==="$attrs"&&Hs(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Vr&&Wr(n,e))return s[e]=4,n[e];if(f=l.config.globalProperties,Wr(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:o,ctx:i}=t;return bM(o,e)?(o[e]=n,!0):r!==Vr&&Wr(r,e)?(r[e]=n,!0):Wr(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:o,propsOptions:i}},s){let a;return!!n[s]||t!==Vr&&Wr(t,s)||bM(e,s)||(a=i[0])&&Wr(a,s)||Wr(r,s)||Wr(N1,s)||Wr(o.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Wr(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Sie(){return Cie().attrs}function Cie(){const t=Gl();return t.setupContext||(t.setupContext=QF(t))}function $S(t){return vn(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function jie(t,e){return!t||!e?t||e:vn(t)&&vn(e)?t.concat(e):Wi({},$S(t),$S(e))}let JO=!0;function Aie(t){const e=PF(t),n=t.proxy,r=t.ctx;JO=!1,e.beforeCreate&&zN(e.beforeCreate,t,"bc");const{data:o,computed:i,methods:s,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:m,activated:g,deactivated:v,beforeDestroy:y,beforeUnmount:b,destroyed:x,unmounted:k,render:w,renderTracked:S,renderTriggered:C,errorCaptured:j,serverPrefetch:A,expose:_,inheritAttrs:R,components:T,directives:z,filters:U}=e;if(c&&Mie(c,r,null),s)for(const ie in s){const Z=s[ie];Tn(Z)&&(r[ie]=Z.bind(n))}if(o){const ie=o.call(n,n);Io(ie)&&(t.data=ji(ie))}if(JO=!0,i)for(const ie in i){const Z=i[ie],W=Tn(Z)?Z.bind(n,n):Tn(Z.get)?Z.get.bind(n,n):xu,B=!Tn(Z)&&Tn(Z.set)?Z.set.bind(n):xu,H=ue({get:W,set:B});Object.defineProperty(r,ie,{enumerable:!0,configurable:!0,get:()=>H.value,set:K=>H.value=K})}if(a)for(const ie in a)_F(a[ie],r,n,ie);if(l){const ie=Tn(l)?l.call(n):l;Reflect.ownKeys(ie).forEach(Z=>{Ki(Z,ie[Z])})}u&&zN(u,t,"c");function ce(ie,Z){vn(Z)?Z.forEach(W=>ie(W.bind(n))):Z&&ie(Z.bind(n))}if(ce(Ub,d),ce(hl,f),ce(vie,h),ce(q3,m),ce(mie,g),ce(AF,v),ce(xie,j),ce(wie,S),ce(bie,C),ce(Ca,b),ce(U3,k),ce(yie,A),vn(_))if(_.length){const ie=t.exposed||(t.exposed={});_.forEach(Z=>{Object.defineProperty(ie,Z,{get:()=>n[Z],set:W=>n[Z]=W})})}else t.exposed||(t.exposed={});w&&t.render===xu&&(t.render=w),R!=null&&(t.inheritAttrs=R),T&&(t.components=T),z&&(t.directives=z),A&&jF(t)}function Mie(t,e,n=xu){vn(t)&&(t=GO(t));for(const r in t){const o=t[r];let i;Io(o)?"default"in o?i=co(o.from||r,o.default,!0):i=co(o.from||r):i=co(o),Ri(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):e[r]=i}}function zN(t,e,n){Mc(vn(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function _F(t,e,n,r){let o=r.includes(".")?qF(n,r):()=>n[r];if(ni(t)){const i=e[t];Tn(i)&&Bt(o,i)}else if(Tn(t))Bt(o,t.bind(n));else if(Io(t))if(vn(t))t.forEach(i=>_F(i,e,n,r));else{const i=Tn(t.handler)?t.handler.bind(n):e[t.handler];Tn(i)&&Bt(o,i,t)}}function PF(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=t.appContext,a=i.get(e);let l;return a?l=a:!o.length&&!n&&!r?l=e:(l={},o.length&&o.forEach(c=>ES(l,c,s,!0)),ES(l,e,s)),Io(e)&&i.set(e,l),l}function ES(t,e,n,r=!1){const{mixins:o,extends:i}=e;i&&ES(t,i,n,!0),o&&o.forEach(s=>ES(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const a=Tie[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const Tie={data:HN,props:FN,emits:FN,methods:f1,computed:f1,beforeCreate:la,created:la,beforeMount:la,mounted:la,beforeUpdate:la,updated:la,beforeDestroy:la,beforeUnmount:la,destroyed:la,unmounted:la,activated:la,deactivated:la,errorCaptured:la,serverPrefetch:la,components:f1,directives:f1,watch:$ie,provide:HN,inject:Oie};function HN(t,e){return e?t?function(){return Wi(Tn(t)?t.call(this,this):t,Tn(e)?e.call(this,this):e)}:e:t}function Oie(t,e){return f1(GO(t),GO(e))}function GO(t){if(vn(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function la(t,e){return t?[...new Set([].concat(t,e))]:e}function f1(t,e){return t?Wi(Object.create(null),t,e):e}function FN(t,e){return t?vn(t)&&vn(e)?[...new Set([...t,...e])]:Wi(Object.create(null),$S(t),$S(e??{})):e}function $ie(t,e){if(!t)return e;if(!e)return t;const n=Wi(Object.create(null),t);for(const r in e)n[r]=la(t[r],e[r]);return n}function IF(){return{app:null,config:{isNativeTag:xoe,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Eie=0;function _ie(t,e){return function(r,o=null){Tn(r)||(r=Wi({},r)),o!=null&&!Io(o)&&(o=null);const i=IF(),s=new WeakSet,a=[];let l=!1;const c=i.app={_uid:Eie++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:dse,get config(){return i.config},set config(u){},use(u,...d){return s.has(u)||(u&&Tn(u.install)?(s.add(u),u.install(c,...d)):Tn(u)&&(s.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||F(r,o);return h.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(h,u,f),l=!0,c._container=u,u.__vue_app__=c,bj(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Mc(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=Bp;Bp=c;try{return u()}finally{Bp=d}}};return c}}let Bp=null;function Ki(t,e){if(fs){let n=fs.provides;const r=fs.parent&&fs.parent.provides;r===n&&(n=fs.provides=Object.create(r)),n[t]=e}}function co(t,e,n=!1){const r=fs||ns;if(r||Bp){let o=Bp?Bp._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&t in o)return o[t];if(arguments.length>1)return n&&Tn(e)?e.call(r&&r.proxy):e}}function Pie(){return!!(fs||ns||Bp)}const RF={},NF=()=>Object.create(RF),LF=t=>Object.getPrototypeOf(t)===RF;function Iie(t,e,n,r=!1){const o={},i=NF();t.propsDefaults=Object.create(null),DF(t,e,o,i);for(const s in t.propsOptions[0])s in o||(o[s]=void 0);n?t.props=r?o:Zoe(o):t.type.props?t.props=o:t.props=i,t.attrs=i}function Rie(t,e,n,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=t,a=yn(o),[l]=t.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(yj(t.emitsOptions,f))continue;const h=e[f];if(l)if(Wr(i,f))h!==i[f]&&(i[f]=h,c=!0);else{const m=Qs(f);o[m]=YO(l,a,m,h,t,!1)}else h!==i[f]&&(i[f]=h,c=!0)}}}else{DF(t,e,o,i)&&(c=!0);let u;for(const d in a)(!e||!Wr(e,d)&&((u=Vh(d))===d||!Wr(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(o[d]=YO(l,a,d,void 0,t,!0)):delete o[d]);if(i!==a)for(const d in i)(!e||!Wr(e,d))&&(delete i[d],c=!0)}c&&fd(t.attrs,"set","")}function DF(t,e,n,r){const[o,i]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(_1(l))continue;const c=e[l];let u;o&&Wr(o,u=Qs(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:yj(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,s=!0)}if(i){const l=yn(n),c=a||Vr;for(let u=0;u<i.length;u++){const d=i[u];n[d]=YO(o,l,d,c[d],t,!Wr(c,d))}}return s}function YO(t,e,n,r,o,i){const s=t[n];if(s!=null){const a=Wr(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Tn(l)){const{propsDefaults:c}=o;if(n in c)r=c[n];else{const u=Kb(o);r=c[n]=l.call(null,e),u()}}else r=l;o.ce&&o.ce._setProp(n,r)}s[0]&&(i&&!a?r=!1:s[1]&&(r===""||r===Vh(n))&&(r=!0))}return r}const Nie=new WeakMap;function VF(t,e,n=!1){const r=n?Nie:e.propsCache,o=r.get(t);if(o)return o;const i=t.props,s={},a=[];let l=!1;if(!Tn(t)){const u=d=>{l=!0;const[f,h]=VF(d,e,!0);Wi(s,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Io(t)&&r.set(t,Kg),Kg;if(vn(i))for(let u=0;u<i.length;u++){const d=Qs(i[u]);qN(d)&&(s[d]=Vr)}else if(i)for(const u in i){const d=Qs(u);if(qN(d)){const f=i[u],h=s[d]=vn(f)||Tn(f)?{type:f}:Wi({},f),m=h.type;let g=!1,v=!0;if(vn(m))for(let y=0;y<m.length;++y){const b=m[y],x=Tn(b)&&b.name;if(x==="Boolean"){g=!0;break}else x==="String"&&(v=!1)}else g=Tn(m)&&m.name==="Boolean";h[0]=g,h[1]=v,(g||Wr(h,"default"))&&a.push(d)}}const c=[s,a];return Io(t)&&r.set(t,c),c}function qN(t){return t[0]!=="$"&&!_1(t)}const K3=t=>t[0]==="_"||t==="$stable",J3=t=>vn(t)?t.map(lu):[lu(t)],Lie=(t,e,n)=>{if(e._n)return e;const r=He((...o)=>J3(e(...o)),n);return r._c=!1,r},BF=(t,e,n)=>{const r=t._ctx;for(const o in t){if(K3(o))continue;const i=t[o];if(Tn(i))e[o]=Lie(o,i,r);else if(i!=null){const s=J3(i);e[o]=()=>s}}},zF=(t,e)=>{const n=J3(e);t.slots.default=()=>n},HF=(t,e,n)=>{for(const r in e)(n||!K3(r))&&(t[r]=e[r])},Die=(t,e,n)=>{const r=t.slots=NF();if(t.vnode.shapeFlag&32){const o=e._;o?(HF(r,e,n),n&&BH(r,"_",o,!0)):BF(e,r)}else e&&zF(t,e)},Vie=(t,e,n)=>{const{vnode:r,slots:o}=t;let i=!0,s=Vr;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:HF(o,e,n):(i=!e.$stable,BF(e,o)),s=e}else e&&(zF(t,e),s={default:1});if(i)for(const a in o)!K3(a)&&s[a]==null&&delete o[a]},ca=ese;function Bie(t){return zie(t)}function zie(t,e){const n=dj();n.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:s,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=xu,insertStaticContent:m}=t,g=(D,L,re,Y=null,q=null,Ae=null,Ee=void 0,pe=null,Pe=!!L.dynamicChildren)=>{if(D===L)return;D&&!kp(D,L)&&(Y=ge(D),K(D,q,Ae,!0),D=null),L.patchFlag===-2&&(Pe=!1,L.dynamicChildren=null);const{type:we,ref:Re,shapeFlag:Ne}=L;switch(we){case Wb:v(D,L,re,Y);break;case Is:y(D,L,re,Y);break;case xM:D==null&&b(L,re,Y,Ee);break;case Dt:T(D,L,re,Y,q,Ae,Ee,pe,Pe);break;default:Ne&1?w(D,L,re,Y,q,Ae,Ee,pe,Pe):Ne&6?z(D,L,re,Y,q,Ae,Ee,pe,Pe):(Ne&64||Ne&128)&&we.process(D,L,re,Y,q,Ae,Ee,pe,Pe,be)}Re!=null&&q&&OS(Re,D&&D.ref,Ae,L||D,!L)},v=(D,L,re,Y)=>{if(D==null)r(L.el=a(L.children),re,Y);else{const q=L.el=D.el;L.children!==D.children&&c(q,L.children)}},y=(D,L,re,Y)=>{D==null?r(L.el=l(L.children||""),re,Y):L.el=D.el},b=(D,L,re,Y)=>{[D.el,D.anchor]=m(D.children,L,re,Y,D.el,D.anchor)},x=({el:D,anchor:L},re,Y)=>{let q;for(;D&&D!==L;)q=f(D),r(D,re,Y),D=q;r(L,re,Y)},k=({el:D,anchor:L})=>{let re;for(;D&&D!==L;)re=f(D),o(D),D=re;o(L)},w=(D,L,re,Y,q,Ae,Ee,pe,Pe)=>{L.type==="svg"?Ee="svg":L.type==="math"&&(Ee="mathml"),D==null?S(L,re,Y,q,Ae,Ee,pe,Pe):A(D,L,q,Ae,Ee,pe,Pe)},S=(D,L,re,Y,q,Ae,Ee,pe)=>{let Pe,we;const{props:Re,shapeFlag:Ne,transition:_e,dirs:Qe}=D;if(Pe=D.el=s(D.type,Ae,Re&&Re.is,Re),Ne&8?u(Pe,D.children):Ne&16&&j(D.children,Pe,null,Y,q,wM(D,Ae),Ee,pe),Qe&&ip(D,null,Y,"created"),C(Pe,D,D.scopeId,Ee,Y),Re){for(const V in Re)V!=="value"&&!_1(V)&&i(Pe,V,null,Re[V],Ae,Y);"value"in Re&&i(Pe,"value",null,Re.value,Ae),(we=Re.onVnodeBeforeMount)&&Xc(we,Y,D)}Qe&&ip(D,null,Y,"beforeMount");const I=Hie(q,_e);I&&_e.beforeEnter(Pe),r(Pe,L,re),((we=Re&&Re.onVnodeMounted)||I||Qe)&&ca(()=>{we&&Xc(we,Y,D),I&&_e.enter(Pe),Qe&&ip(D,null,Y,"mounted")},q)},C=(D,L,re,Y,q)=>{if(re&&h(D,re),Y)for(let Ae=0;Ae<Y.length;Ae++)h(D,Y[Ae]);if(q){let Ae=q.subTree;if(L===Ae||KF(Ae.type)&&(Ae.ssContent===L||Ae.ssFallback===L)){const Ee=q.vnode;C(D,Ee,Ee.scopeId,Ee.slotScopeIds,q.parent)}}},j=(D,L,re,Y,q,Ae,Ee,pe,Pe=0)=>{for(let we=Pe;we<D.length;we++){const Re=D[we]=pe?If(D[we]):lu(D[we]);g(null,Re,L,re,Y,q,Ae,Ee,pe)}},A=(D,L,re,Y,q,Ae,Ee)=>{const pe=L.el=D.el;let{patchFlag:Pe,dynamicChildren:we,dirs:Re}=L;Pe|=D.patchFlag&16;const Ne=D.props||Vr,_e=L.props||Vr;let Qe;if(re&&sp(re,!1),(Qe=_e.onVnodeBeforeUpdate)&&Xc(Qe,re,L,D),Re&&ip(L,D,re,"beforeUpdate"),re&&sp(re,!0),(Ne.innerHTML&&_e.innerHTML==null||Ne.textContent&&_e.textContent==null)&&u(pe,""),we?_(D.dynamicChildren,we,pe,re,Y,wM(L,q),Ae):Ee||Z(D,L,pe,null,re,Y,wM(L,q),Ae,!1),Pe>0){if(Pe&16)R(pe,Ne,_e,re,q);else if(Pe&2&&Ne.class!==_e.class&&i(pe,"class",null,_e.class,q),Pe&4&&i(pe,"style",Ne.style,_e.style,q),Pe&8){const I=L.dynamicProps;for(let V=0;V<I.length;V++){const J=I[V],se=Ne[J],xe=_e[J];(xe!==se||J==="value")&&i(pe,J,se,xe,q,re)}}Pe&1&&D.children!==L.children&&u(pe,L.children)}else!Ee&&we==null&&R(pe,Ne,_e,re,q);((Qe=_e.onVnodeUpdated)||Re)&&ca(()=>{Qe&&Xc(Qe,re,L,D),Re&&ip(L,D,re,"updated")},Y)},_=(D,L,re,Y,q,Ae,Ee)=>{for(let pe=0;pe<L.length;pe++){const Pe=D[pe],we=L[pe],Re=Pe.el&&(Pe.type===Dt||!kp(Pe,we)||Pe.shapeFlag&198)?d(Pe.el):re;g(Pe,we,Re,null,Y,q,Ae,Ee,!0)}},R=(D,L,re,Y,q)=>{if(L!==re){if(L!==Vr)for(const Ae in L)!_1(Ae)&&!(Ae in re)&&i(D,Ae,L[Ae],null,q,Y);for(const Ae in re){if(_1(Ae))continue;const Ee=re[Ae],pe=L[Ae];Ee!==pe&&Ae!=="value"&&i(D,Ae,pe,Ee,q,Y)}"value"in re&&i(D,"value",L.value,re.value,q)}},T=(D,L,re,Y,q,Ae,Ee,pe,Pe)=>{const we=L.el=D?D.el:a(""),Re=L.anchor=D?D.anchor:a("");let{patchFlag:Ne,dynamicChildren:_e,slotScopeIds:Qe}=L;Qe&&(pe=pe?pe.concat(Qe):Qe),D==null?(r(we,re,Y),r(Re,re,Y),j(L.children||[],re,Re,q,Ae,Ee,pe,Pe)):Ne>0&&Ne&64&&_e&&D.dynamicChildren?(_(D.dynamicChildren,_e,re,q,Ae,Ee,pe),(L.key!=null||q&&L===q.subTree)&&G3(D,L,!0)):Z(D,L,re,Re,q,Ae,Ee,pe,Pe)},z=(D,L,re,Y,q,Ae,Ee,pe,Pe)=>{L.slotScopeIds=pe,D==null?L.shapeFlag&512?q.ctx.activate(L,re,Y,Ee,Pe):U(L,re,Y,q,Ae,Ee,Pe):G(D,L,Pe)},U=(D,L,re,Y,q,Ae,Ee)=>{const pe=D.component=ise(D,Y,q);if(mj(D)&&(pe.ctx.renderer=be),sse(pe,!1,Ee),pe.asyncDep){if(q&&q.registerDep(pe,ce,Ee),!D.el){const Pe=pe.subTree=F(Is);y(null,Pe,L,re)}}else ce(pe,D,L,re,q,Ae,Ee)},G=(D,L,re)=>{const Y=L.component=D.component;if(Qie(D,L,re))if(Y.asyncDep&&!Y.asyncResolved){ie(Y,L,re);return}else Y.next=L,Y.update();else L.el=D.el,Y.vnode=L},ce=(D,L,re,Y,q,Ae,Ee)=>{const pe=()=>{if(D.isMounted){let{next:Ne,bu:_e,u:Qe,parent:I,vnode:V}=D;{const Je=FF(D);if(Je){Ne&&(Ne.el=V.el,ie(D,Ne,Ee)),Je.asyncDep.then(()=>{D.isUnmounted||pe()});return}}let J=Ne,se;sp(D,!1),Ne?(Ne.el=V.el,ie(D,Ne,Ee)):Ne=V,_e&&hM(_e),(se=Ne.props&&Ne.props.onVnodeBeforeUpdate)&&Xc(se,I,Ne,V),sp(D,!0);const xe=WN(D),Fe=D.subTree;D.subTree=xe,g(Fe,xe,d(Fe.el),ge(Fe),D,q,Ae),Ne.el=xe.el,J===null&&Zie(D,xe.el),Qe&&ca(Qe,q),(se=Ne.props&&Ne.props.onVnodeUpdated)&&ca(()=>Xc(se,I,Ne,V),q)}else{let Ne;const{el:_e,props:Qe}=L,{bm:I,m:V,parent:J,root:se,type:xe}=D,Fe=Xg(L);sp(D,!1),I&&hM(I),!Fe&&(Ne=Qe&&Qe.onVnodeBeforeMount)&&Xc(Ne,J,L),sp(D,!0);{se.ce&&se.ce._injectChildStyle(xe);const Je=D.subTree=WN(D);g(null,Je,re,Y,D,q,Ae),L.el=Je.el}if(V&&ca(V,q),!Fe&&(Ne=Qe&&Qe.onVnodeMounted)){const Je=L;ca(()=>Xc(Ne,J,Je),q)}(L.shapeFlag&256||J&&Xg(J.vnode)&&J.vnode.shapeFlag&256)&&D.a&&ca(D.a,q),D.isMounted=!0,L=re=Y=null}};D.scope.on();const Pe=D.effect=new UH(pe);D.scope.off();const we=D.update=Pe.run.bind(Pe),Re=D.job=Pe.runIfDirty.bind(Pe);Re.i=D,Re.id=D.uid,Pe.scheduler=()=>H3(Re),sp(D,!0),we()},ie=(D,L,re)=>{L.component=D;const Y=D.vnode.props;D.vnode=L,D.next=null,Rie(D,L.props,Y,re),Vie(D,L.children,re),Vd(),RN(D),Bd()},Z=(D,L,re,Y,q,Ae,Ee,pe,Pe=!1)=>{const we=D&&D.children,Re=D?D.shapeFlag:0,Ne=L.children,{patchFlag:_e,shapeFlag:Qe}=L;if(_e>0){if(_e&128){B(we,Ne,re,Y,q,Ae,Ee,pe,Pe);return}else if(_e&256){W(we,Ne,re,Y,q,Ae,Ee,pe,Pe);return}}Qe&8?(Re&16&&he(we,q,Ae),Ne!==we&&u(re,Ne)):Re&16?Qe&16?B(we,Ne,re,Y,q,Ae,Ee,pe,Pe):he(we,q,Ae,!0):(Re&8&&u(re,""),Qe&16&&j(Ne,re,Y,q,Ae,Ee,pe,Pe))},W=(D,L,re,Y,q,Ae,Ee,pe,Pe)=>{D=D||Kg,L=L||Kg;const we=D.length,Re=L.length,Ne=Math.min(we,Re);let _e;for(_e=0;_e<Ne;_e++){const Qe=L[_e]=Pe?If(L[_e]):lu(L[_e]);g(D[_e],Qe,re,null,q,Ae,Ee,pe,Pe)}we>Re?he(D,q,Ae,!0,!1,Ne):j(L,re,Y,q,Ae,Ee,pe,Pe,Ne)},B=(D,L,re,Y,q,Ae,Ee,pe,Pe)=>{let we=0;const Re=L.length;let Ne=D.length-1,_e=Re-1;for(;we<=Ne&&we<=_e;){const Qe=D[we],I=L[we]=Pe?If(L[we]):lu(L[we]);if(kp(Qe,I))g(Qe,I,re,null,q,Ae,Ee,pe,Pe);else break;we++}for(;we<=Ne&&we<=_e;){const Qe=D[Ne],I=L[_e]=Pe?If(L[_e]):lu(L[_e]);if(kp(Qe,I))g(Qe,I,re,null,q,Ae,Ee,pe,Pe);else break;Ne--,_e--}if(we>Ne){if(we<=_e){const Qe=_e+1,I=Qe<Re?L[Qe].el:Y;for(;we<=_e;)g(null,L[we]=Pe?If(L[we]):lu(L[we]),re,I,q,Ae,Ee,pe,Pe),we++}}else if(we>_e)for(;we<=Ne;)K(D[we],q,Ae,!0),we++;else{const Qe=we,I=we,V=new Map;for(we=I;we<=_e;we++){const kt=L[we]=Pe?If(L[we]):lu(L[we]);kt.key!=null&&V.set(kt.key,we)}let J,se=0;const xe=_e-I+1;let Fe=!1,Je=0;const Ce=new Array(xe);for(we=0;we<xe;we++)Ce[we]=0;for(we=Qe;we<=Ne;we++){const kt=D[we];if(se>=xe){K(kt,q,Ae,!0);continue}let ht;if(kt.key!=null)ht=V.get(kt.key);else for(J=I;J<=_e;J++)if(Ce[J-I]===0&&kp(kt,L[J])){ht=J;break}ht===void 0?K(kt,q,Ae,!0):(Ce[ht-I]=we+1,ht>=Je?Je=ht:Fe=!0,g(kt,L[ht],re,null,q,Ae,Ee,pe,Pe),se++)}const Me=Fe?Fie(Ce):Kg;for(J=Me.length-1,we=xe-1;we>=0;we--){const kt=I+we,ht=L[kt],dt=kt+1<Re?L[kt+1].el:Y;Ce[we]===0?g(null,ht,re,dt,q,Ae,Ee,pe,Pe):Fe&&(J<0||we!==Me[J]?H(ht,re,dt,2):J--)}}},H=(D,L,re,Y,q=null)=>{const{el:Ae,type:Ee,transition:pe,children:Pe,shapeFlag:we}=D;if(we&6){H(D.component.subTree,L,re,Y);return}if(we&128){D.suspense.move(L,re,Y);return}if(we&64){Ee.move(D,L,re,be);return}if(Ee===Dt){r(Ae,L,re);for(let Ne=0;Ne<Pe.length;Ne++)H(Pe[Ne],L,re,Y);r(D.anchor,L,re);return}if(Ee===xM){x(D,L,re);return}if(Y!==2&&we&1&&pe)if(Y===0)pe.beforeEnter(Ae),r(Ae,L,re),ca(()=>pe.enter(Ae),q);else{const{leave:Ne,delayLeave:_e,afterLeave:Qe}=pe,I=()=>{D.ctx.isUnmounted?o(Ae):r(Ae,L,re)},V=()=>{Ne(Ae,()=>{I(),Qe&&Qe()})};_e?_e(Ae,I,V):V()}else r(Ae,L,re)},K=(D,L,re,Y=!1,q=!1)=>{const{type:Ae,props:Ee,ref:pe,children:Pe,dynamicChildren:we,shapeFlag:Re,patchFlag:Ne,dirs:_e,cacheIndex:Qe}=D;if(Ne===-2&&(q=!1),pe!=null&&(Vd(),OS(pe,null,re,D,!0),Bd()),Qe!=null&&(L.renderCache[Qe]=void 0),Re&256){L.ctx.deactivate(D);return}const I=Re&1&&_e,V=!Xg(D);let J;if(V&&(J=Ee&&Ee.onVnodeBeforeUnmount)&&Xc(J,L,D),Re&6)N(D.component,re,Y);else{if(Re&128){D.suspense.unmount(re,Y);return}I&&ip(D,null,L,"beforeUnmount"),Re&64?D.type.remove(D,L,re,be,Y):we&&!we.hasOnce&&(Ae!==Dt||Ne>0&&Ne&64)?he(we,L,re,!1,!0):(Ae===Dt&&Ne&384||!q&&Re&16)&&he(Pe,L,re),Y&&P(D)}(V&&(J=Ee&&Ee.onVnodeUnmounted)||I)&&ca(()=>{J&&Xc(J,L,D),I&&ip(D,null,L,"unmounted")},re)},P=D=>{const{type:L,el:re,anchor:Y,transition:q}=D;if(L===Dt){M(re,Y);return}if(L===xM){k(D);return}const Ae=()=>{o(re),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(D.shapeFlag&1&&q&&!q.persisted){const{leave:Ee,delayLeave:pe}=q,Pe=()=>Ee(re,Ae);pe?pe(D.el,Ae,Pe):Pe()}else Ae()},M=(D,L)=>{let re;for(;D!==L;)re=f(D),o(D),D=re;o(L)},N=(D,L,re)=>{const{bum:Y,scope:q,job:Ae,subTree:Ee,um:pe,m:Pe,a:we,parent:Re,slots:{__:Ne}}=D;UN(Pe),UN(we),Y&&hM(Y),Re&&vn(Ne)&&Ne.forEach(_e=>{Re.renderCache[_e]=void 0}),q.stop(),Ae&&(Ae.flags|=8,K(Ee,D,L,re)),pe&&ca(pe,L),ca(()=>{D.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},he=(D,L,re,Y=!1,q=!1,Ae=0)=>{for(let Ee=Ae;Ee<D.length;Ee++)K(D[Ee],L,re,Y,q)},ge=D=>{if(D.shapeFlag&6)return ge(D.component.subTree);if(D.shapeFlag&128)return D.suspense.next();const L=f(D.anchor||D.el),re=L&&L[mF];return re?f(re):L};let te=!1;const ee=(D,L,re)=>{D==null?L._vnode&&K(L._vnode,null,null,!0):g(L._vnode||null,D,L,null,null,null,re),L._vnode=D,te||(te=!0,RN(),fF(),te=!1)},be={p:g,um:K,m:H,r:P,mt:U,mc:j,pc:Z,pbc:_,n:ge,o:t};return{render:ee,hydrate:void 0,createApp:_ie(ee)}}function wM({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function sp({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Hie(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function G3(t,e,n=!1){const r=t.children,o=e.children;if(vn(r)&&vn(o))for(let i=0;i<r.length;i++){const s=r[i];let a=o[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[i]=If(o[i]),a.el=s.el),!n&&a.patchFlag!==-2&&G3(s,a)),a.type===Wb&&(a.el=s.el),a.type===Is&&!a.el&&(a.el=s.el)}}function Fie(t){const e=t.slice(),n=[0];let r,o,i,s,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(o=n[n.length-1],t[o]<c){e[r]=o,n.push(r);continue}for(i=0,s=n.length-1;i<s;)a=i+s>>1,t[n[a]]<c?i=a+1:s=a;c<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,s=n[i-1];i-- >0;)n[i]=s,s=e[s];return n}function FF(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:FF(e)}function UN(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const qie=Symbol.for("v-scx"),Uie=()=>co(qie);function Ai(t,e){return vj(t,null,e)}function Wie(t,e){return vj(t,null,{flush:"sync"})}function Bt(t,e,n){return vj(t,e,n)}function vj(t,e,n=Vr){const{immediate:r,deep:o,flush:i,once:s}=n,a=Wi({},n),l=e&&r||!e&&i!=="post";let c;if(A0){if(i==="sync"){const h=Uie();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=xu,h.resume=xu,h.pause=xu,h}}const u=fs;a.call=(h,m,g)=>Mc(h,u,m,g);let d=!1;i==="post"?a.scheduler=h=>{ca(h,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(h,m)=>{m?h():H3(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=lie(t,e,a);return A0&&(c?c.push(f):l&&f()),f}function Kie(t,e,n){const r=this.proxy,o=ni(t)?t.includes(".")?qF(r,t):()=>r[t]:t.bind(r,r);let i;Tn(e)?i=e:(i=e.handler,n=e);const s=Kb(this),a=vj(o,i.bind(r),n);return s(),a}function qF(t,e){const n=e.split(".");return()=>{let r=t;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function Jie(t,e,n=Vr){const r=Gl(),o=Qs(e),i=Vh(e),s=UF(t,o),a=aF((l,c)=>{let u,d=Vr,f;return Wie(()=>{const h=t[o];Ma(u,h)&&(u=h,c())}),{get(){return l(),n.get?n.get(u):u},set(h){const m=n.set?n.set(h):h;if(!Ma(m,u)&&!(d!==Vr&&Ma(h,d)))return;const g=r.vnode.props;g&&(e in g||o in g||i in g)&&(`onUpdate:${e}`in g||`onUpdate:${o}`in g||`onUpdate:${i}`in g)||(u=h,c()),r.emit(`update:${e}`,m),Ma(h,m)&&Ma(h,d)&&!Ma(m,f)&&c(),d=h,f=m}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?s||Vr:a,done:!1}:{done:!0}}}},a}const UF=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Qs(e)}Modifiers`]||t[`${Vh(e)}Modifiers`];function Gie(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Vr;let o=n;const i=e.startsWith("update:"),s=i&&UF(r,e.slice(7));s&&(s.trim&&(o=n.map(u=>ni(u)?u.trim():u)),s.number&&(o=n.map(Aoe)));let a,l=r[a=fM(e)]||r[a=fM(Qs(e))];!l&&i&&(l=r[a=fM(Vh(e))]),l&&Mc(l,t,6,o);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Mc(c,t,6,o)}}function WF(t,e,n=!1){const r=e.emitsCache,o=r.get(t);if(o!==void 0)return o;const i=t.emits;let s={},a=!1;if(!Tn(t)){const l=c=>{const u=WF(c,e,!0);u&&(a=!0,Wi(s,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Io(t)&&r.set(t,null),null):(vn(i)?i.forEach(l=>s[l]=null):Wi(s,i),Io(t)&&r.set(t,s),s)}function yj(t,e){return!t||!lj(e)?!1:(e=e.slice(2).replace(/Once$/,""),Wr(t,e[0].toLowerCase()+e.slice(1))||Wr(t,Vh(e))||Wr(t,e))}function WN(t){const{type:e,vnode:n,proxy:r,withProxy:o,propsOptions:[i],slots:s,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:m,inheritAttrs:g}=t,v=TS(t);let y,b;try{if(n.shapeFlag&4){const k=o||r,w=k;y=lu(c.call(w,k,u,d,h,f,m)),b=a}else{const k=e;y=lu(k.length>1?k(d,{attrs:a,slots:s,emit:l}):k(d,null)),b=e.props?a:Yie(a)}}catch(k){L1.length=0,pj(k,t,1),y=F(Is)}let x=y;if(b&&g!==!1){const k=Object.keys(b),{shapeFlag:w}=x;k.length&&w&7&&(i&&k.some(_3)&&(b=Xie(b,i)),x=zd(x,b,!1,!0))}return n.dirs&&(x=zd(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&om(x,n.transition),y=x,TS(v),y}const Yie=t=>{let e;for(const n in t)(n==="class"||n==="style"||lj(n))&&((e||(e={}))[n]=t[n]);return e},Xie=(t,e)=>{const n={};for(const r in t)(!_3(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Qie(t,e,n){const{props:r,children:o,component:i}=t,{props:s,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?KN(r,s,c):!!s;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(s[f]!==r[f]&&!yj(c,f))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?KN(r,s,c):!0:!!s;return!1}function KN(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(e[i]!==t[i]&&!yj(n,i))return!0}return!1}function Zie({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const KF=t=>t.__isSuspense;function ese(t,e){e&&e.pendingBranch?vn(t)?e.effects.push(...t):e.effects.push(t):die(t)}const Dt=Symbol.for("v-fgt"),Wb=Symbol.for("v-txt"),Is=Symbol.for("v-cmt"),xM=Symbol.for("v-stc"),L1=[];let ol=null;function tt(t=!1){L1.push(ol=t?null:[])}function tse(){L1.pop(),ol=L1[L1.length-1]||null}let C0=1;function JN(t,e=!1){C0+=t,t<0&&ol&&e&&(ol.hasOnce=!0)}function JF(t){return t.dynamicChildren=C0>0?ol||Kg:null,tse(),C0>0&&ol&&ol.push(t),t}function zr(t,e,n,r,o,i){return JF(Oe(t,e,n,r,o,i,!0))}function Rt(t,e,n,r,o){return JF(F(t,e,n,r,o,!0))}function Cv(t){return t?t.__v_isVNode===!0:!1}function kp(t,e){return t.type===e.type&&t.key===e.key}const GF=({key:t})=>t??null,Ok=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ni(t)||Ri(t)||Tn(t)?{i:ns,r:t,k:e,f:!!n}:t:null);function Oe(t,e=null,n=null,r=0,o=null,i=t===Dt?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&GF(e),ref:e&&Ok(e),scopeId:pF,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:ns};return a?(Y3(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=ni(n)?8:16),C0>0&&!s&&ol&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&ol.push(l),l}const F=nse;function nse(t,e=null,n=null,r=0,o=null,i=!1){if((!t||t===OF)&&(t=Is),Cv(t)){const a=zd(t,e,!0);return n&&Y3(a,n),C0>0&&!i&&ol&&(a.shapeFlag&6?ol[ol.indexOf(t)]=a:ol.push(a)),a.patchFlag=-2,a}if(use(t)&&(t=t.__vccOpts),e){e=j0(e);let{class:a,style:l}=e;a&&!ni(a)&&(e.class=Tt(a)),Io(l)&&(z3(l)&&!vn(l)&&(l=Wi({},l)),e.style=Qt(l))}const s=ni(t)?1:KF(t)?128:gF(t)?64:Io(t)?4:Tn(t)?2:0;return Oe(t,e,n,r,o,s,i,!0)}function j0(t){return t?z3(t)||LF(t)?Wi({},t):t:null}function zd(t,e,n=!1,r=!1){const{props:o,ref:i,patchFlag:s,children:a,transition:l}=t,c=e?Pt(o||{},e):o,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&GF(c),ref:e&&e.ref?n&&i?vn(i)?i.concat(Ok(e)):[i,Ok(e)]:Ok(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Dt?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&zd(t.ssContent),ssFallback:t.ssFallback&&zd(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&om(u,l.clone(u)),u}function dr(t=" ",e=0){return F(Wb,null,t,e)}function Ia(t="",e=!1){return e?(tt(),Rt(Is,null,t)):F(Is,null,t)}function lu(t){return t==null||typeof t=="boolean"?F(Is):vn(t)?F(Dt,null,t.slice()):Cv(t)?If(t):F(Wb,null,String(t))}function If(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:zd(t)}function Y3(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(vn(e))n=16;else if(typeof e=="object")if(r&65){const o=e.default;o&&(o._c&&(o._d=!1),Y3(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!LF(e)?e._ctx=ns:o===3&&ns&&(ns.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Tn(e)?(e={default:e,_ctx:ns},n=32):(e=String(e),r&64?(n=16,e=[dr(e)]):n=8);t.children=e,t.shapeFlag|=n}function Pt(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=Tt([e.class,r.class]));else if(o==="style")e.style=Qt([e.style,r.style]);else if(lj(o)){const i=e[o],s=r[o];s&&i!==s&&!(vn(i)&&i.includes(s))&&(e[o]=i?[].concat(i,s):s)}else o!==""&&(e[o]=r[o])}return e}function Xc(t,e,n,r=null){Mc(t,e,7,[n,r])}const rse=IF();let ose=0;function ise(t,e,n){const r=t.type,o=(e?e.appContext:t.appContext)||rse,i={uid:ose++,vnode:t,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new qH(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:VF(r,o),emitsOptions:WF(r,o),emit:null,emitted:null,propsDefaults:Vr,inheritAttrs:r.inheritAttrs,ctx:Vr,data:Vr,props:Vr,attrs:Vr,slots:Vr,refs:Vr,setupState:Vr,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Gie.bind(null,i),t.ce&&t.ce(i),i}let fs=null;const Gl=()=>fs||ns;let _S,XO;{const t=dj(),e=(n,r)=>{let o;return(o=t[n])||(o=t[n]=[]),o.push(r),i=>{o.length>1?o.forEach(s=>s(i)):o[0](i)}};_S=e("__VUE_INSTANCE_SETTERS__",n=>fs=n),XO=e("__VUE_SSR_SETTERS__",n=>A0=n)}const Kb=t=>{const e=fs;return _S(t),t.scope.on(),()=>{t.scope.off(),_S(e)}},GN=()=>{fs&&fs.scope.off(),_S(null)};function YF(t){return t.vnode.shapeFlag&4}let A0=!1;function sse(t,e=!1,n=!1){e&&XO(e);const{props:r,children:o}=t.vnode,i=YF(t);Iie(t,r,i,e),Die(t,o,n||e);const s=i?ase(t,e):void 0;return e&&XO(!1),s}function ase(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,kie);const{setup:r}=n;if(r){Vd();const o=t.setupContext=r.length>1?QF(t):null,i=Kb(t),s=qb(r,t,0,[t.props,o]),a=LH(s);if(Bd(),i(),(a||t.sp)&&!Xg(t)&&jF(t),a){if(s.then(GN,GN),e)return s.then(l=>{YN(t,l)}).catch(l=>{pj(l,t,0)});t.asyncDep=s}else YN(t,s)}else XF(t)}function YN(t,e,n){Tn(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Io(e)&&(t.setupState=sF(e)),XF(t)}function XF(t,e,n){const r=t.type;t.render||(t.render=r.render||xu);{const o=Kb(t);Vd();try{Aie(t)}finally{Bd(),o()}}}const lse={get(t,e){return Hs(t,"get",""),t[e]}};function QF(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,lse),slots:t.slots,emit:t.emit,expose:e}}function bj(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(sF(Fb(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in N1)return N1[n](t)},has(e,n){return n in e||n in N1}})):t.proxy}function cse(t,e=!0){return Tn(t)?t.displayName||t.name:t.name||e&&t.__name}function use(t){return Tn(t)&&"__vccOpts"in t}const ue=(t,e)=>sie(t,e,A0);function ba(t,e,n){const r=arguments.length;return r===2?Io(e)&&!vn(e)?Cv(e)?F(t,null,[e]):F(t,e):F(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Cv(n)&&(n=[n]),F(t,e,n))}const dse="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let QO;const XN=typeof window<"u"&&window.trustedTypes;if(XN)try{QO=XN.createPolicy("vue",{createHTML:t=>t})}catch{}const ZF=QO?t=>QO.createHTML(t):t=>t,fse="http://www.w3.org/2000/svg",hse="http://www.w3.org/1998/Math/MathML",sd=typeof document<"u"?document:null,QN=sd&&sd.createElement("template"),pse={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const o=e==="svg"?sd.createElementNS(fse,t):e==="mathml"?sd.createElementNS(hse,t):n?sd.createElement(t,{is:n}):sd.createElement(t);return t==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:t=>sd.createTextNode(t),createComment:t=>sd.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>sd.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,o,i){const s=n?n.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{QN.innerHTML=ZF(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=QN.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},wf="transition",Hy="animation",jv=Symbol("_vtc"),e7={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},t7=Wi({},xF,e7),mse=t=>(t.displayName="Transition",t.props=t7,t),im=mse((t,{slots:e})=>ba(pie,n7(t),e)),ap=(t,e=[])=>{vn(t)?t.forEach(n=>n(...e)):t&&t(...e)},ZN=t=>t?vn(t)?t.some(e=>e.length>1):t.length>1:!1;function n7(t){const e={};for(const T in t)T in e7||(e[T]=t[T]);if(t.css===!1)return e;const{name:n="v",type:r,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=s,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,m=gse(o),g=m&&m[0],v=m&&m[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:x,onLeave:k,onLeaveCancelled:w,onBeforeAppear:S=y,onAppear:C=b,onAppearCancelled:j=x}=e,A=(T,z,U,G)=>{T._enterCancelled=G,Mf(T,z?u:a),Mf(T,z?c:s),U&&U()},_=(T,z)=>{T._isLeaving=!1,Mf(T,d),Mf(T,h),Mf(T,f),z&&z()},R=T=>(z,U)=>{const G=T?C:b,ce=()=>A(z,T,U);ap(G,[z,ce]),e6(()=>{Mf(z,T?l:i),nu(z,T?u:a),ZN(G)||t6(z,r,g,ce)})};return Wi(e,{onBeforeEnter(T){ap(y,[T]),nu(T,i),nu(T,s)},onBeforeAppear(T){ap(S,[T]),nu(T,l),nu(T,c)},onEnter:R(!1),onAppear:R(!0),onLeave(T,z){T._isLeaving=!0;const U=()=>_(T,z);nu(T,d),T._enterCancelled?(nu(T,f),ZO()):(ZO(),nu(T,f)),e6(()=>{T._isLeaving&&(Mf(T,d),nu(T,h),ZN(k)||t6(T,r,v,U))}),ap(k,[T,U])},onEnterCancelled(T){A(T,!1,void 0,!0),ap(x,[T])},onAppearCancelled(T){A(T,!0,void 0,!0),ap(j,[T])},onLeaveCancelled(T){_(T),ap(w,[T])}})}function gse(t){if(t==null)return null;if(Io(t))return[kM(t.enter),kM(t.leave)];{const e=kM(t);return[e,e]}}function kM(t){return Moe(t)}function nu(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[jv]||(t[jv]=new Set)).add(e)}function Mf(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[jv];n&&(n.delete(e),n.size||(t[jv]=void 0))}function e6(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let vse=0;function t6(t,e,n,r){const o=t._endId=++vse,i=()=>{o===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:s,timeout:a,propCount:l}=r7(t,e);if(!s)return r();const c=s+"end";let u=0;const d=()=>{t.removeEventListener(c,f),i()},f=h=>{h.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,f)}function r7(t,e){const n=window.getComputedStyle(t),r=m=>(n[m]||"").split(", "),o=r(`${wf}Delay`),i=r(`${wf}Duration`),s=n6(o,i),a=r(`${Hy}Delay`),l=r(`${Hy}Duration`),c=n6(a,l);let u=null,d=0,f=0;e===wf?s>0&&(u=wf,d=s,f=i.length):e===Hy?c>0&&(u=Hy,d=c,f=l.length):(d=Math.max(s,c),u=d>0?s>c?wf:Hy:null,f=u?u===wf?i.length:l.length:0);const h=u===wf&&/\b(transform|all)(,|$)/.test(r(`${wf}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function n6(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>r6(n)+r6(t[r])))}function r6(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function ZO(){return document.body.offsetHeight}function yse(t,e,n){const r=t[jv];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const PS=Symbol("_vod"),o7=Symbol("_vsh"),Bh={beforeMount(t,{value:e},{transition:n}){t[PS]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Fy(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Fy(t,!0),r.enter(t)):r.leave(t,()=>{Fy(t,!1)}):Fy(t,e))},beforeUnmount(t,{value:e}){Fy(t,e)}};function Fy(t,e){t.style.display=e?t[PS]:"none",t[o7]=!e}const bse=Symbol(""),wse=/(^|;)\s*display\s*:/;function xse(t,e,n){const r=t.style,o=ni(n);let i=!1;if(n&&!o){if(e)if(ni(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&$k(r,a,"")}else for(const s in e)n[s]==null&&$k(r,s,"");for(const s in n)s==="display"&&(i=!0),$k(r,s,n[s])}else if(o){if(e!==n){const s=r[bse];s&&(n+=";"+s),r.cssText=n,i=wse.test(n)}}else e&&t.removeAttribute("style");PS in t&&(t[PS]=i?r.display:"",t[o7]&&(r.display="none"))}const o6=/\s*!important$/;function $k(t,e,n){if(vn(n))n.forEach(r=>$k(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=kse(t,e);o6.test(n)?t.setProperty(Vh(r),n.replace(o6,""),"important"):t[r]=n}}const i6=["Webkit","Moz","ms"],SM={};function kse(t,e){const n=SM[e];if(n)return n;let r=Qs(e);if(r!=="filter"&&r in t)return SM[e]=r;r=ef(r);for(let o=0;o<i6.length;o++){const i=i6[o]+r;if(i in t)return SM[e]=i}return e}const s6="http://www.w3.org/1999/xlink";function a6(t,e,n,r,o,i=Poe(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(s6,e.slice(6,e.length)):t.setAttributeNS(s6,e,n):n==null||i&&!zH(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Zd(n)?String(n):n)}function l6(t,e,n,r,o){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?ZF(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let s=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=zH(n):n==null&&a==="string"?(n="",s=!0):a==="number"&&(n=0,s=!0)}try{t[e]=n}catch{}s&&t.removeAttribute(o||e)}function Sse(t,e,n,r){t.addEventListener(e,n,r)}function Cse(t,e,n,r){t.removeEventListener(e,n,r)}const c6=Symbol("_vei");function jse(t,e,n,r,o=null){const i=t[c6]||(t[c6]={}),s=i[e];if(r&&s)s.value=r;else{const[a,l]=Ase(e);if(r){const c=i[e]=Ose(r,o);Sse(t,a,c,l)}else s&&(Cse(t,a,s,l),i[e]=void 0)}}const u6=/(?:Once|Passive|Capture)$/;function Ase(t){let e;if(u6.test(t)){e={};let r;for(;r=t.match(u6);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Vh(t.slice(2)),e]}let CM=0;const Mse=Promise.resolve(),Tse=()=>CM||(Mse.then(()=>CM=0),CM=Date.now());function Ose(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Mc($se(r,n.value),e,5,[r])};return n.value=t,n.attached=Tse(),n}function $se(t,e){if(vn(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>o=>!o._stopped&&r&&r(o))}else return e}const d6=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Ese=(t,e,n,r,o,i)=>{const s=o==="svg";e==="class"?yse(t,r,s):e==="style"?xse(t,n,r):lj(e)?_3(e)||jse(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_se(t,e,r,s))?(l6(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&a6(t,e,r,s,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ni(r))?l6(t,Qs(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),a6(t,e,r,s))};function _se(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&d6(e)&&Tn(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=t.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return d6(e)&&ni(n)?!1:e in t}const i7=new WeakMap,s7=new WeakMap,IS=Symbol("_moveCb"),f6=Symbol("_enterCb"),Pse=t=>(delete t.props.mode,t),Ise=Pse({name:"TransitionGroup",props:Wi({},t7,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Gl(),r=wF();let o,i;return q3(()=>{if(!o.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!Dse(o[0].el,n.vnode.el,s)){o=[];return}o.forEach(Rse),o.forEach(Nse);const a=o.filter(Lse);ZO(),a.forEach(l=>{const c=l.el,u=c.style;nu(c,s),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[IS]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c[IS]=null,Mf(c,s))};c.addEventListener("transitionend",d)}),o=[]}),()=>{const s=yn(t),a=n7(s);let l=s.tag||Dt;if(o=[],i)for(let c=0;c<i.length;c++){const u=i[c];u.el&&u.el instanceof Element&&(o.push(u),om(u,S0(u,a,r,n)),i7.set(u,u.el.getBoundingClientRect()))}i=e.default?F3(e.default()):[];for(let c=0;c<i.length;c++){const u=i[c];u.key!=null&&om(u,S0(u,a,r,n))}return F(l,null,i)}}}),X3=Ise;function Rse(t){const e=t.el;e[IS]&&e[IS](),e[f6]&&e[f6]()}function Nse(t){s7.set(t,t.el.getBoundingClientRect())}function Lse(t){const e=i7.get(t),n=s7.get(t),r=e.left-n.left,o=e.top-n.top;if(r||o){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${o}px)`,i.transitionDuration="0s",t}}function Dse(t,e,n){const r=t.cloneNode(),o=t[jv];o&&o.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:s}=r7(r);return i.removeChild(r),s}const Vse=Wi({patchProp:Ese},pse);let h6;function a7(){return h6||(h6=Bie(Vse))}const p6=(...t)=>{a7().render(...t)},Bse=(...t)=>{const e=a7().createApp(...t),{mount:n}=e;return e.mount=r=>{const o=Hse(r);if(!o)return;const i=e._component;!Tn(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const s=n(o,!1,zse(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},e};function zse(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Hse(t){return ni(t)?document.querySelector(t):t}function kh(t,e){let n;function r(){n=b0(),n.run(()=>e.length?e(()=>{n==null||n.stop(),r()}):e())}Bt(t,o=>{o&&!n?r():o||(n==null||n.stop(),n=void 0)},{immediate:!0}),xs(()=>{n==null||n.stop()})}const Jr=typeof window<"u",Q3=Jr&&"IntersectionObserver"in window,Fse=Jr&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),l7=Jr&&"matchMedia"in window&&typeof window.matchMedia=="function",Av=()=>l7&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;function m6(t,e,n){qse(t,e),e.set(t,n)}function qse(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function g6(t,e,n){return t.set(c7(t,e),n),n}function Zu(t,e){return t.get(c7(t,e))}function c7(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function u7(t,e,n){const r=e.length-1;if(r<0)return t===void 0?n:t;for(let o=0;o<r;o++){if(t==null)return n;t=t[e[o]]}return t==null||t[e[r]]===void 0?n:t[e[r]]}function Pl(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(r=>Pl(t[r],e[r]))}function e$(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),u7(t,e.split("."),n))}function lc(t,e,n){if(e===!0)return t===void 0?n:t;if(e==null||typeof e=="boolean")return n;if(t!==Object(t)){if(typeof e!="function")return n;const o=e(t,n);return typeof o>"u"?n:o}if(typeof e=="string")return e$(t,e,n);if(Array.isArray(e))return u7(t,e,n);if(typeof e!="function")return n;const r=e(t,n);return typeof r>"u"?n:r}function d7(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,r)=>e+r)}function fn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(t==null||t==="")return;const n=Number(t);return isNaN(n)?String(t):isFinite(n)?`${n}${e}`:void 0}function RS(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function v6(t){let e;return t!==null&&typeof t=="object"&&((e=Object.getPrototypeOf(t))===Object.prototype||e===null)}function f7(t){if(t&&"$el"in t){const e=t.$el;return(e==null?void 0:e.nodeType)===Node.TEXT_NODE?e.nextElementSibling:e}return t}function h7(t){return Object.keys(t)}function jM(t,e){return e.every(n=>t.hasOwnProperty(n))}function Jb(t,e){const n={};for(const r of e)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function y6(t,e,n){const r=Object.create(null),o=Object.create(null);for(const i in t)e.some(s=>s instanceof RegExp?s.test(i):s===i)?r[i]=t[i]:o[i]=t[i];return[r,o]}function Yl(t,e){const n={...t};return e.forEach(r=>delete n[r]),n}const p7=/^on[^a-z]/,m7=t=>p7.test(t),Use=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function wj(t){const[e,n]=y6(t,[p7]),r=Yl(e,Use),[o,i]=y6(n,["class","style","id",/^data-/]);return Object.assign(o,e),Object.assign(i,r),[o,i]}function ll(t){return t==null?[]:Array.isArray(t)?t:[t]}function Wse(t,e){let n=0;const r=function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];clearTimeout(n),n=setTimeout(()=>t(...i),Ie(e))};return r.clear=()=>{clearTimeout(n)},r.immediate=t,r}function Il(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function b6(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function w6(t,e){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,e-t.length))+t}function Kse(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<t.length;)n.push(t.substr(r,e)),r+=e;return n}function x6(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<e)return`${t} B`;const n=e===1024?["Ki","Mi","Gi"]:["k","M","G"];let r=-1;for(;Math.abs(t)>=e&&r<n.length-1;)t/=e,++r;return`${t.toFixed(1)} ${n[r]}B`}function Ks(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const o in t)r[o]=t[o];for(const o in e){const i=t[o],s=e[o];if(v6(i)&&v6(s)){r[o]=Ks(i,s,n);continue}if(n&&Array.isArray(i)&&Array.isArray(s)){r[o]=n(i,s);continue}r[o]=s}return r}function g7(t){return t.map(e=>e.type===Dt?g7(e.children):e).flat()}function zp(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(zp.cache.has(t))return zp.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return zp.cache.set(t,e),e}zp.cache=new Map;function Rg(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>Rg(t,n)).flat(1);if(e.suspense)return Rg(t,e.ssContent);if(Array.isArray(e.children))return e.children.map(n=>Rg(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return Rg(t,e.component.subTree).flat(1)}return[]}var og=new WeakMap,lp=new WeakMap;class Jse{constructor(e){m6(this,og,[]),m6(this,lp,0),this.size=e}get isFull(){return Zu(og,this).length===this.size}push(e){Zu(og,this)[Zu(lp,this)]=e,g6(lp,this,(Zu(lp,this)+1)%this.size)}values(){return Zu(og,this).slice(Zu(lp,this)).concat(Zu(og,this).slice(0,Zu(lp,this)))}clear(){Zu(og,this).length=0,g6(lp,this,0)}}function Z3(t){const e=ji({});Ai(()=>{const r=t();for(const o in r)e[o]=r[o]},{flush:"sync"});const n={};for(const r in e)n[r]=De(()=>e[r]);return n}function NS(t,e){return t.includes(e)}function v7(t){return t[2].toLowerCase()+t.slice(3)}const za=()=>[Function,Array];function k6(t,e){return e="on"+ef(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function e4(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(Array.isArray(t))for(const o of t)o(...n);else typeof t=="function"&&t(...n)}function M0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(r=>`${r}${e?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(n)]}function y7(t,e,n){let r,o=t.indexOf(document.activeElement);const i=e==="next"?1:-1;do o+=i,r=t[o];while((!r||r.offsetParent==null||!((n==null?void 0:n(r))??!0))&&o<t.length&&o>=0);return r}function D1(t,e){var r,o,i,s;const n=M0(t);if(e==null)(t===document.activeElement||!t.contains(document.activeElement))&&((r=n[0])==null||r.focus());else if(e==="first")(o=n[0])==null||o.focus();else if(e==="last")(i=n.at(-1))==null||i.focus();else if(typeof e=="number")(s=n[e])==null||s.focus();else{const a=y7(n,e);a?a.focus():D1(t,e==="next"?"first":"last")}}function LS(t,e){if(!(Jr&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch{return null}}function b7(t){return t.some(e=>Cv(e)?e.type===Is?!1:e.type!==Dt||b7(e.children):!0)?t:null}function Gse(t,e){if(!Jr||t===0)return e(),()=>{};const n=window.setTimeout(e,t);return()=>window.clearTimeout(n)}function Yse(t,e){const n=t.clientX,r=t.clientY,o=e.getBoundingClientRect(),i=o.left,s=o.top,a=o.right,l=o.bottom;return n>=i&&n<=a&&r>=s&&r<=l}function t$(){const t=Vt(),e=n=>{t.value=n};return Object.defineProperty(e,"value",{enumerable:!0,get:()=>t.value,set:n=>t.value=n}),Object.defineProperty(e,"el",{enumerable:!0,get:()=>f7(t.value)}),e}function S6(t){const e=t.key.length===1,n=!t.ctrlKey&&!t.metaKey&&!t.altKey;return e&&n}function n$(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="bigint"}function Xse(t){const e={};for(const n in t)e[Qs(n)]=t[n];return e}function Qse(t){const e=["checked","disabled"];return Object.fromEntries(Object.entries(t).filter(n=>{let[r,o]=n;return e.includes(r)?!!o:o!==void 0}))}const w7=["top","bottom"],Zse=["start","end","left","right"];function r$(t,e){let[n,r]=t.split(" ");return r||(r=NS(w7,n)?"start":NS(Zse,n)?"top":"center"),{side:C6(n,e),align:C6(r,e)}}function C6(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function AM(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function MM(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function j6(t){return{side:t.align,align:t.side}}function A6(t){return NS(w7,t.side)?"y":"x"}class ku{constructor(e){let{x:n,y:r,width:o,height:i}=e;this.x=n,this.y=r,this.width=o,this.height=i}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function M6(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function x7(t){return Array.isArray(t)?new ku({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function eae(t){if(t===document.documentElement)return visualViewport?new ku({x:visualViewport.scale>1?0:visualViewport.offsetLeft,y:visualViewport.scale>1?0:visualViewport.offsetTop,width:visualViewport.width*visualViewport.scale,height:visualViewport.height*visualViewport.scale}):new ku({x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});{const e=t.getBoundingClientRect();return new ku({x:e.x,y:e.y,width:t.clientWidth,height:t.clientHeight})}}function t4(t){const e=t.getBoundingClientRect(),n=getComputedStyle(t),r=n.transform;if(r){let o,i,s,a,l;if(r.startsWith("matrix3d("))o=r.slice(9,-1).split(/, /),i=Number(o[0]),s=Number(o[5]),a=Number(o[12]),l=Number(o[13]);else if(r.startsWith("matrix("))o=r.slice(7,-1).split(/, /),i=Number(o[0]),s=Number(o[3]),a=Number(o[4]),l=Number(o[5]);else return new ku(e);const c=n.transformOrigin,u=e.x-a-(1-i)*parseFloat(c),d=e.y-l-(1-s)*parseFloat(c.slice(c.indexOf(" ")+1)),f=i?e.width/i:t.offsetWidth+1,h=s?e.height/s:t.offsetHeight+1;return new ku({x:u,y:d,width:f,height:h})}else return new ku(e)}function ld(t,e,n){if(typeof t.animate>"u")return{finished:Promise.resolve()};let r;try{r=t.animate(e,n)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(o=>{r.onfinish=()=>{o(r)}})),r}const Ek=new WeakMap;function tae(t,e){Object.keys(e).forEach(n=>{if(m7(n)){const r=v7(n),o=Ek.get(t);if(e[n]==null)o==null||o.forEach(i=>{const[s,a]=i;s===r&&(t.removeEventListener(r,a),o.delete(i))});else if(!o||![...o].some(i=>i[0]===r&&i[1]===e[n])){t.addEventListener(r,e[n]);const i=o||new Set;i.add([r,e[n]]),Ek.has(t)||Ek.set(t,i)}}else e[n]==null?t.removeAttribute(n):t.setAttribute(n,e[n])})}function nae(t,e){Object.keys(e).forEach(n=>{if(m7(n)){const r=v7(n),o=Ek.get(t);o==null||o.forEach(i=>{const[s,a]=i;s===r&&(t.removeEventListener(r,a),o.delete(i))})}else t.removeAttribute(n)})}const ig=2.4,T6=.2126729,O6=.7151522,$6=.072175,rae=.55,oae=.58,iae=.57,sae=.62,Jw=.03,E6=1.45,aae=5e-4,lae=1.25,cae=1.25,uae=.078,_6=12.82051282051282,Gw=.06,dae=.001;function P6(t,e){const n=(t.r/255)**ig,r=(t.g/255)**ig,o=(t.b/255)**ig,i=(e.r/255)**ig,s=(e.g/255)**ig,a=(e.b/255)**ig;let l=n*T6+r*O6+o*$6,c=i*T6+s*O6+a*$6;if(l<=Jw&&(l+=(Jw-l)**E6),c<=Jw&&(c+=(Jw-c)**E6),Math.abs(c-l)<aae)return 0;let u;if(c>l){const d=(c**rae-l**oae)*lae;u=d<dae?0:d<uae?d-d*_6*Gw:d-Gw}else{const d=(c**sae-l**iae)*cae;u=d>-.001?0:d>-.078?d-d*_6*Gw:d+Gw}return u*100}function k7(t,e){e=Array.isArray(e)?e.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const DS=.20689655172413793,fae=t=>t>DS**3?Math.cbrt(t):t/(3*DS**2)+4/29,hae=t=>t>DS?t**3:3*DS**2*(t-4/29);function S7(t){const e=fae,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function C7(t){const e=hae,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}const pae=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],mae=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,gae=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],vae=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function j7(t){const e=Array(3),n=mae,r=pae;for(let o=0;o<3;++o)e[o]=Math.round(Il(n(r[o][0]*t[0]+r[o][1]*t[1]+r[o][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function n4(t){let{r:e,g:n,b:r}=t;const o=[0,0,0],i=vae,s=gae;e=i(e/255),n=i(n/255),r=i(r/255);for(let a=0;a<3;++a)o[a]=s[a][0]*e+s[a][1]*n+s[a][2]*r;return o}function o$(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function yae(t){return o$(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const I6=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,bae={rgb:(t,e,n,r)=>({r:t,g:e,b:n,a:r}),rgba:(t,e,n,r)=>({r:t,g:e,b:n,a:r}),hsl:(t,e,n,r)=>R6({h:t,s:e,l:n,a:r}),hsla:(t,e,n,r)=>R6({h:t,s:e,l:n,a:r}),hsv:(t,e,n,r)=>T0({h:t,s:e,v:n,a:r}),hsva:(t,e,n,r)=>T0({h:t,s:e,v:n,a:r})};function pu(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&I6.test(t)){const{groups:e}=t.match(I6),{fn:n,values:r}=e,o=r.split(/,\s*|\s*\/\s*|\s+/).map((i,s)=>i.endsWith("%")||s>0&&s<3&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(i)/100:parseFloat(i));return bae[n](...o)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(n=>n+n).join(""):[6,8].includes(e.length),xae(e)}else if(typeof t=="object"){if(jM(t,["r","g","b"]))return t;if(jM(t,["h","s","l"]))return T0(A7(t));if(jM(t,["h","s","v"]))return T0(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function T0(t){const{h:e,s:n,v:r,a:o}=t,i=a=>{const l=(a+e/60)%6;return r-r*n*Math.max(Math.min(l,4-l,1),0)},s=[i(5),i(3),i(1)].map(a=>Math.round(a*255));return{r:s[0],g:s[1],b:s[2],a:o}}function R6(t){return T0(A7(t))}function A7(t){const{h:e,s:n,l:r,a:o}=t,i=r+n*Math.min(r,1-r),s=i===0?0:2-2*r/i;return{h:e,s,v:i,a:o}}function Yw(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function wae(t){let{r:e,g:n,b:r,a:o}=t;return`#${[Yw(e),Yw(n),Yw(r),o!==void 0?Yw(Math.round(o*255)):""].join("")}`}function xae(t){t=kae(t);let[e,n,r,o]=Kse(t,2).map(i=>parseInt(i,16));return o=o===void 0?o:o/255,{r:e,g:n,b:r,a:o}}function kae(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=b6(b6(t,6),8,"F")),t}function Sae(t,e){const n=S7(n4(t));return n[0]=n[0]+e*10,j7(C7(n))}function Cae(t,e){const n=S7(n4(t));return n[0]=n[0]-e*10,j7(C7(n))}function jae(t){const e=pu(t);return n4(e)[1]}function M7(t){const e=Math.abs(P6(pu(0),pu(t)));return Math.abs(P6(pu(16777215),pu(t)))>Math.min(e,50)?"#fff":"#000"}function Ze(t,e){return n=>Object.keys(t).reduce((r,o)=>{const s=typeof t[o]=="object"&&t[o]!=null&&!Array.isArray(t[o])?t[o]:{type:t[o]};return n&&o in n?r[o]={...s,default:n[o]}:r[o]=s,e&&!r[o].source&&(r[o].source=e),r},{})}const On=Ze({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Gi(t,e){const n=Gl();if(!n)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return n}function Hu(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=Gi(t).type;return zp((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}function Aae(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gi("injectSelf");const{provides:n}=e;if(n&&t in n)return n[t]}const Mv=Symbol.for("vuetify:defaults");function Mae(t){return Ye(t)}function r4(){const t=co(Mv);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function zh(t,e){const n=r4(),r=Ye(t),o=ue(()=>{if(Ie(e==null?void 0:e.disabled))return n.value;const s=Ie(e==null?void 0:e.scoped),a=Ie(e==null?void 0:e.reset),l=Ie(e==null?void 0:e.root);if(r.value==null&&!(s||a||l))return n.value;let c=Ks(r.value,{prev:n.value});if(s)return c;if(a||l){const u=Number(a||1/0);for(let d=0;d<=u&&!(!c||!("prev"in c));d++)c=c.prev;return c&&typeof l=="string"&&l in c&&(c=Ks(Ks(c,{prev:c}),c[l])),c}return c.prev?Ks(c.prev,c):c});return Ki(Mv,o),o}function Tae(t,e){return t.props&&(typeof t.props[e]<"u"||typeof t.props[zp(e)]<"u")}function Oae(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r4();const r=Gi("useDefaults");if(e=e??r.type.name??r.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const o=ue(()=>{var l;return(l=n.value)==null?void 0:l[t._as??e]}),i=new Proxy(t,{get(l,c){var h,m,g,v;const u=Reflect.get(l,c);if(c==="class"||c==="style")return[(h=o.value)==null?void 0:h[c],u].filter(y=>y!=null);if(Tae(r.vnode,c))return u;const d=(m=o.value)==null?void 0:m[c];if(d!==void 0)return d;const f=(v=(g=n.value)==null?void 0:g.global)==null?void 0:v[c];return f!==void 0?f:u}}),s=Vt();Ai(()=>{if(o.value){const l=Object.entries(o.value).filter(c=>{let[u]=c;return u.startsWith(u[0].toUpperCase())});s.value=l.length?Object.fromEntries(l):void 0}else s.value=void 0});function a(){const l=Aae(Mv,r);Ki(Mv,ue(()=>s.value?Ks((l==null?void 0:l.value)??{},s.value):l==null?void 0:l.value))}return{props:i,provideSubDefaults:a}}function dy(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=Ze(t.props??{},t.name)();const e=Object.keys(t.props).filter(n=>n!=="class"&&n!=="style");t.filterProps=function(r){return Jb(r,e)},t.props._as=String,t.setup=function(r,o){const i=r4();if(!i.value)return t._setup(r,o);const{props:s,provideSubDefaults:a}=Oae(r,r._as??t.name,i),l=t._setup(s,o);return a(),l}}return t}function Lt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?dy:en)(e)}function xj(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return Lt()({name:n??ef(Qs(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e},...On()},setup(r,o){let{slots:i}=o;return()=>{var s;return ba(r.tag,{class:[t,r.class],style:r.style},(s=i.default)==null?void 0:s.call(i))}}})}function T7(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const O0="cubic-bezier(0.4, 0, 0.2, 1)",N6="cubic-bezier(0.0, 0, 0.2, 1)",L6="cubic-bezier(0.4, 0, 1, 1)",$ae={linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5,instant:t=>1};function O7(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(e?Eae(t):o4(t))return t;t=t.parentElement}return document.scrollingElement}function VS(t,e){const n=[];if(e&&t&&!e.contains(t))return n;for(;t&&(o4(t)&&n.push(t),t!==e);)t=t.parentElement;return n}function o4(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t),n=e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight,r=e.overflowX==="scroll"||e.overflowX==="auto"&&t.scrollWidth>t.clientWidth;return n||r}function Eae(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["scroll","auto"].includes(e.overflowY)}function _ae(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function hn(t){const e=Gi("useRender");e.render=t}function Po(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d=>d,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:d=>d;const i=Gi("useProxiedModel"),s=Ye(t[e]!==void 0?t[e]:n),a=zp(e),c=ue(a!==e?()=>{var d,f,h,m;return t[e],!!(((d=i.vnode.props)!=null&&d.hasOwnProperty(e)||(f=i.vnode.props)!=null&&f.hasOwnProperty(a))&&((h=i.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${e}`)||(m=i.vnode.props)!=null&&m.hasOwnProperty(`onUpdate:${a}`)))}:()=>{var d,f;return t[e],!!((d=i.vnode.props)!=null&&d.hasOwnProperty(e)&&((f=i.vnode.props)!=null&&f.hasOwnProperty(`onUpdate:${e}`)))});kh(()=>!c.value,()=>{Bt(()=>t[e],d=>{s.value=d})});const u=ue({get(){const d=t[e];return r(c.value?d:s.value)},set(d){const f=o(d),h=yn(c.value?t[e]:s.value);h===f||r(h)===d||(s.value=f,i==null||i.emit(`update:${e}`,f))}});return Object.defineProperty(u,"externalValue",{get:()=>c.value?t[e]:s.value}),u}const Pae={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"},ariaLabel:{previousMonth:"Previous month",nextMonth:"Next month",selectYear:"Select year",selectDate:"{0}",currentDate:"Today, {0}"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"},rules:{required:"This field is required",email:"Please enter a valid email",number:"This field can only contain numbers",integer:"This field can only contain integer values",capital:"This field can only contain uppercase letters",maxLength:"You must enter a maximum of {0} characters",minLength:"You must enter a minimum of {0} characters",strictLength:"The length of the entered field is invalid",exclude:"The {0} character is not allowed",notEmpty:"Please choose at least one value",pattern:"Invalid format"},hotkey:{then:"then",ctrl:"Ctrl",command:"Command",space:"Space",shift:"Shift",alt:"Alt",enter:"Enter",escape:"Escape",upArrow:"Up Arrow",downArrow:"Down Arrow",leftArrow:"Left Arrow",rightArrow:"Right Arrow",backspace:"Backspace",option:"Option",plus:"plus",shortcut:"Keyboard shortcut: {0}"},video:{play:"Play",pause:"Pause",seek:"Seek",volume:"Volume",showVolume:"Show volume control",mute:"Mute",unmute:"Unmute",enterFullscreen:"Full screen",exitFullscreen:"Exit full screen"},colorPicker:{ariaLabel:{eyedropper:"Select color with eyedropper",hueSlider:"Hue",alphaSlider:"Alpha",redInput:"Red value",greenInput:"Green value",blueInput:"Blue value",alphaInput:"Alpha value",hueInput:"Hue value",saturationInput:"Saturation value",lightnessInput:"Lightness value",hexInput:"HEX value",hexaInput:"HEX with alpha value",changeFormat:"Change color format"}}},D6="$vuetify.",V6=(t,e)=>t.replace(/\{(\d+)\}/g,(n,r)=>String(e[Number(r)])),$7=(t,e,n)=>function(r){for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];if(!r.startsWith(D6))return V6(r,i);const a=r.replace(D6,""),l=t.value&&n.value[t.value],c=e.value&&n.value[e.value];let u=e$(l,a,null);return u||(`${r}${t.value}`,u=e$(c,a,null)),u||(u=r),typeof u!="string"&&(u=r),V6(u,i)};function i4(t,e){return(n,r)=>new Intl.NumberFormat([t.value,e.value],r).format(n)}function E7(t,e){return i4(t,e)(.1).includes(",")?",":"."}function TM(t,e,n){const r=Po(t,e,t[e]??n.value);return r.value=t[e]??n.value,Bt(n,o=>{t[e]==null&&(r.value=n.value)}),r}function _7(t){return e=>{const n=TM(e,"locale",t.current),r=TM(e,"fallback",t.fallback),o=TM(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:r,messages:o,decimalSeparator:De(()=>E7(n,r)),t:$7(n,r,o),n:i4(n,r),provide:_7({current:n,fallback:r,messages:o})}}}function Iae(t){const e=Vt((t==null?void 0:t.locale)??"en"),n=Vt((t==null?void 0:t.fallback)??"en"),r=Ye({en:Pae,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:n,messages:r,decimalSeparator:De(()=>(t==null?void 0:t.decimalSeparator)??E7(e,n)),t:$7(e,n,r),n:i4(e,n),provide:_7({current:e,fallback:n,messages:r})}}const BS=Symbol.for("vuetify:locale");function Rae(t){return t.name!=null}function Nae(t){const e=t!=null&&t.adapter&&Rae(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:Iae(t),n=Dae(e,t);return{...e,...n}}function Lm(){const t=co(BS);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function Lae(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Dae(t,e){const n=Ye((e==null?void 0:e.rtl)??Lae()),r=ue(()=>n.value[t.current.value]??!1);return{isRtl:r,rtl:n,rtlClasses:De(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function Xl(){const t=co(BS);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}function Gb(t){const e=t.slice(-2).toUpperCase();switch(!0){case t==="GB-alt-variant":return{firstDay:0,firstWeekSize:4};case t==="001":return{firstDay:1,firstWeekSize:1};case`AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE
    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US
    VE VI WS YE ZA ZW`.includes(e):return{firstDay:0,firstWeekSize:1};case`AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV
    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(e):return{firstDay:1,firstWeekSize:1};case`AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS
    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(e):return{firstDay:1,firstWeekSize:4};case"AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY".includes(e):return{firstDay:6,firstWeekSize:1};case e==="MV":return{firstDay:5,firstWeekSize:1};case e==="PT":return{firstDay:0,firstWeekSize:4};default:return null}}function Vae(t,e,n){var u;const r=[];let o=[];const i=P7(t),s=I7(t),a=n??((u=Gb(e))==null?void 0:u.firstDay)??0,l=(i.getDay()-a+7)%7,c=(s.getDay()-a+7)%7;for(let d=0;d<l;d++){const f=new Date(i);f.setDate(f.getDate()-(l-d)),o.push(f)}for(let d=1;d<=s.getDate();d++){const f=new Date(t.getFullYear(),t.getMonth(),d);o.push(f),o.length===7&&(r.push(o),o=[])}for(let d=1;d<7-c;d++){const f=new Date(s);f.setDate(f.getDate()+d),o.push(f)}return o.length>0&&r.push(o),r}function zS(t,e,n){var i;let r=(n??((i=Gb(e))==null?void 0:i.firstDay)??0)%7;[0,1,2,3,4,5,6].includes(r)||(r=0);const o=new Date(t);for(;o.getDay()!==r;)o.setDate(o.getDate()-1);return o}function Bae(t,e){var o;const n=new Date(t),r=((((o=Gb(e))==null?void 0:o.firstDay)??0)+6)%7;for(;n.getDay()!==r;)n.setDate(n.getDate()+1);return n}function P7(t){return new Date(t.getFullYear(),t.getMonth(),1)}function I7(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function zae(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const Hae=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function R7(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(Hae.test(t))return zae(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const B6=new Date(2e3,0,2);function Fae(t,e,n){var o;const r=e??((o=Gb(t))==null?void 0:o.firstDay)??0;return d7(7).map(i=>{const s=new Date(B6);return s.setDate(B6.getDate()+r+i),new Intl.DateTimeFormat(t,{weekday:n??"narrow"}).format(s)})}function qae(t,e,n,r){const o=R7(t)??new Date,i=r==null?void 0:r[e];if(typeof i=="function")return i(o,e,n);let s={};switch(e){case"fullDate":s={year:"numeric",month:"short",day:"numeric"};break;case"fullDateWithWeekday":s={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const a=o.getDate(),l=new Intl.DateTimeFormat(n,{month:"long"}).format(o);return`${a} ${l}`;case"normalDateWithWeekday":s={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":s={month:"short",day:"numeric"};break;case"year":s={year:"numeric"};break;case"month":s={month:"long"};break;case"monthShort":s={month:"short"};break;case"monthAndYear":s={month:"long",year:"numeric"};break;case"monthAndDate":s={month:"long",day:"numeric"};break;case"weekday":s={weekday:"long"};break;case"weekdayShort":s={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(o.getDate());case"hours12h":s={hour:"numeric",hour12:!0};break;case"hours24h":s={hour:"numeric",hour12:!1};break;case"minutes":s={minute:"numeric"};break;case"seconds":s={second:"numeric"};break;case"fullTime":s={hour:"numeric",minute:"numeric"};break;case"fullTime12h":s={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":s={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":s={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":s={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":s={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":s={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return s={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(n,s).format(o).replace(/, /g," ");case"keyboardDateTime12h":return s={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(n,s).format(o).replace(/, /g," ");case"keyboardDateTime24h":return s={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(n,s).format(o).replace(/, /g," ");default:s=i??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,s).format(o)}function Uae(t,e){const n=t.toJsDate(e),r=n.getFullYear(),o=w6(String(n.getMonth()+1),2,"0"),i=w6(String(n.getDate()),2,"0");return`${r}-${o}-${i}`}function Wae(t){const[e,n,r]=t.split("-").map(Number);return new Date(e,n-1,r)}function Kae(t,e){const n=new Date(t);return n.setMinutes(n.getMinutes()+e),n}function Jae(t,e){const n=new Date(t);return n.setHours(n.getHours()+e),n}function Hp(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function Gae(t,e){const n=new Date(t);return n.setDate(n.getDate()+e*7),n}function Yae(t,e){const n=new Date(t);return n.setDate(1),n.setMonth(n.getMonth()+e),n}function $0(t){return t.getFullYear()}function Xae(t){return t.getMonth()}function Qae(t,e,n,r){const o=Gb(e),i=n??(o==null?void 0:o.firstDay)??0,s=(o==null?void 0:o.firstWeekSize)??1;return r!==void 0?Zae(t,e,i,r):ele(t,e,i,s)}function Zae(t,e,n,r){const o=(7+r-n)%7,i=zS(t,e,n),s=Hp(i,6);function a(f){return(7+new Date(f,0,1).getDay()-n)%7}let l=$0(t);l<$0(s)&&a(l+1)<=o&&l++;const c=new Date(l,0,1),u=a(l),d=u<=o?Hp(c,-u):Hp(c,7-u);return 1+FS(s4(t),E0(d),"weeks")}function ele(t,e,n,r){const o=Hp(zS(t,e,n),6);function i(u){const d=new Date(u,0,1);return 7-FS(d,zS(d,e,n),"days")}let s=$0(t);s<$0(o)&&i(s+1)>=r&&s++;const a=new Date(s,0,1),l=i(s),c=l>=r?Hp(a,l-7):Hp(a,l);return 1+FS(s4(t),E0(c),"weeks")}function tle(t){return t.getDate()}function nle(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function rle(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function ole(t){return t.getHours()}function ile(t){return t.getMinutes()}function sle(t){return new Date(t.getFullYear(),0,1)}function ale(t){return new Date(t.getFullYear(),11,31)}function lle(t,e){return HS(t,e[0])&&dle(t,e[1])}function cle(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function HS(t,e){return t.getTime()>e.getTime()}function ule(t,e){return HS(E0(t),E0(e))}function dle(t,e){return t.getTime()<e.getTime()}function z6(t,e){return t.getTime()===e.getTime()}function fle(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function hle(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function ple(t,e){return t.getFullYear()===e.getFullYear()}function FS(t,e,n){const r=new Date(t),o=new Date(e);switch(n){case"years":return r.getFullYear()-o.getFullYear();case"quarters":return Math.floor((r.getMonth()-o.getMonth()+(r.getFullYear()-o.getFullYear())*12)/4);case"months":return r.getMonth()-o.getMonth()+(r.getFullYear()-o.getFullYear())*12;case"weeks":return Math.floor((r.getTime()-o.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((r.getTime()-o.getTime())/(1e3*60*60*24));case"hours":return Math.floor((r.getTime()-o.getTime())/(1e3*60*60));case"minutes":return Math.floor((r.getTime()-o.getTime())/(1e3*60));case"seconds":return Math.floor((r.getTime()-o.getTime())/1e3);default:return r.getTime()-o.getTime()}}function mle(t,e){const n=new Date(t);return n.setHours(e),n}function gle(t,e){const n=new Date(t);return n.setMinutes(e),n}function vle(t,e){const n=new Date(t);return n.setMonth(e),n}function yle(t,e){const n=new Date(t);return n.setDate(e),n}function ble(t,e){const n=new Date(t);return n.setFullYear(e),n}function E0(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function s4(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class wle{constructor(e){this.locale=e.locale,this.formats=e.formats}date(e){return R7(e)}toJsDate(e){return e}toISO(e){return Uae(this,e)}parseISO(e){return Wae(e)}addMinutes(e,n){return Kae(e,n)}addHours(e,n){return Jae(e,n)}addDays(e,n){return Hp(e,n)}addWeeks(e,n){return Gae(e,n)}addMonths(e,n){return Yae(e,n)}getWeekArray(e,n){const r=n!==void 0?Number(n):void 0;return Vae(e,this.locale,r)}startOfWeek(e,n){const r=n!==void 0?Number(n):void 0;return zS(e,this.locale,r)}endOfWeek(e){return Bae(e,this.locale)}startOfMonth(e){return P7(e)}endOfMonth(e){return I7(e)}format(e,n){return qae(e,n,this.locale,this.formats)}isEqual(e,n){return z6(e,n)}isValid(e){return cle(e)}isWithinRange(e,n){return lle(e,n)}isAfter(e,n){return HS(e,n)}isAfterDay(e,n){return ule(e,n)}isBefore(e,n){return!HS(e,n)&&!z6(e,n)}isSameDay(e,n){return fle(e,n)}isSameMonth(e,n){return hle(e,n)}isSameYear(e,n){return ple(e,n)}setMinutes(e,n){return gle(e,n)}setHours(e,n){return mle(e,n)}setMonth(e,n){return vle(e,n)}setDate(e,n){return yle(e,n)}setYear(e,n){return ble(e,n)}getDiff(e,n,r){return FS(e,n,r)}getWeekdays(e,n){const r=e!==void 0?Number(e):void 0;return Fae(this.locale,r,n)}getYear(e){return $0(e)}getMonth(e){return Xae(e)}getWeek(e,n,r){const o=n!==void 0?Number(n):void 0,i=r!==void 0?Number(r):void 0;return Qae(e,this.locale,o,i)}getDate(e){return tle(e)}getNextMonth(e){return nle(e)}getPreviousMonth(e){return rle(e)}getHours(e){return ole(e)}getMinutes(e){return ile(e)}startOfDay(e){return E0(e)}endOfDay(e){return s4(e)}startOfYear(e){return sle(e)}endOfYear(e){return ale(e)}}const xle=Symbol.for("vuetify:date-options"),H6=Symbol.for("vuetify:date-adapter");function kle(t,e){const n=Ks({adapter:wle,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:n,instance:Sle(n,e)}}function Sle(t,e){const n=ji(typeof t.adapter=="function"?new t.adapter({locale:t.locale[e.current.value]??e.current.value,formats:t.formats}):t.adapter);return Bt(e.current,r=>{n.locale=t.locale[r]??r??n.locale}),n}const kj=["sm","md","lg","xl","xxl"],i$=Symbol.for("vuetify:display"),F6={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},Cle=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F6;return Ks(F6,t)};function q6(t){return Jr&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function U6(t){return Jr&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function W6(t){const e=Jr&&!t?window.navigator.userAgent:"ssr";function n(m){return!!e.match(m)}const r=n(/android/i),o=n(/iphone|ipad|ipod/i),i=n(/cordova/i),s=n(/electron/i),a=n(/chrome/i),l=n(/edge/i),c=n(/firefox/i),u=n(/opera/i),d=n(/win/i),f=n(/mac/i),h=n(/linux/i);return{android:r,ios:o,cordova:i,electron:s,chrome:a,edge:l,firefox:c,opera:u,win:d,mac:f,linux:h,touch:Fse,ssr:e==="ssr"}}function jle(t,e){const{thresholds:n,mobileBreakpoint:r}=Cle(t),o=Vt(U6(e)),i=Vt(W6(e)),s=ji({}),a=Vt(q6(e));function l(){o.value=U6(),a.value=q6()}function c(){l(),i.value=W6()}return Ai(()=>{const u=a.value<n.sm,d=a.value<n.md&&!u,f=a.value<n.lg&&!(d||u),h=a.value<n.xl&&!(f||d||u),m=a.value<n.xxl&&!(h||f||d||u),g=a.value>=n.xxl,v=u?"xs":d?"sm":f?"md":h?"lg":m?"xl":"xxl",y=typeof r=="number"?r:n[r],b=a.value<y;s.xs=u,s.sm=d,s.md=f,s.lg=h,s.xl=m,s.xxl=g,s.smAndUp=!u,s.mdAndUp=!(u||d),s.lgAndUp=!(u||d||f),s.xlAndUp=!(u||d||f||h),s.smAndDown=!(f||h||m||g),s.mdAndDown=!(h||m||g),s.lgAndDown=!(m||g),s.xlAndDown=!g,s.name=v,s.height=o.value,s.width=a.value,s.mobile=b,s.mobileBreakpoint=r,s.platform=i.value,s.thresholds=n}),Jr&&(window.addEventListener("resize",l,{passive:!0}),xs(()=>{window.removeEventListener("resize",l)},!0)),{...lF(s),update:c,ssr:!!e}}const Ale=Ze({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function a4(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hu();const n=co(i$);if(!n)throw new Error("Could not find Vuetify display injection");const r=ue(()=>t.mobile?!0:typeof t.mobileBreakpoint=="number"?n.width.value<t.mobileBreakpoint:t.mobileBreakpoint?n.width.value<n.thresholds.value[t.mobileBreakpoint]:t.mobile===null?n.mobile.value:!1),o=De(()=>e?{[`${e}--mobile`]:r.value}:{});return{...n,displayClasses:o,mobile:r}}const N7=Symbol.for("vuetify:goto");function L7(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:$ae}}function Mle(t){return l4(t)??(document.scrollingElement||document.body)}function l4(t){return typeof t=="string"?document.querySelector(t):f7(t)}function OM(t,e,n){if(typeof t=="number")return e&&n?-t:t;let r=l4(t),o=0;for(;r;)o+=e?r.offsetLeft:r.offsetTop,r=r.offsetParent;return o}function Tle(t,e){return{rtl:e.isRtl,options:Ks(L7(),t)}}async function K6(t,e,n,r){const o=n?"scrollLeft":"scrollTop",i=Ks((r==null?void 0:r.options)??L7(),e),s=r==null?void 0:r.rtl.value,a=(typeof t=="number"?t:l4(t))??0,l=i.container==="parent"&&a instanceof HTMLElement?a.parentElement:Mle(i.container),c=window.matchMedia("(prefers-reduced-motion: reduce)").matches?i.patterns.instant:typeof i.easing=="function"?i.easing:i.patterns[i.easing];if(!c)throw new TypeError(`Easing function "${i.easing}" not found.`);let u;if(typeof a=="number")u=OM(a,n,s);else if(u=OM(a,n,s)-OM(l,n,s),i.layout){const m=window.getComputedStyle(a).getPropertyValue("--v-layout-top");m&&(u-=parseInt(m,10))}u+=i.offset,u=$le(l,u,!!s,!!n);const d=l[o]??0;if(u===d)return Promise.resolve(u);const f=performance.now();return new Promise(h=>requestAnimationFrame(function m(g){const y=(g-f)/i.duration,b=Math.floor(d+(u-d)*c(Il(y,0,1)));if(l[o]=b,y>=1&&Math.abs(b-l[o])<10)return h(u);if(y>2)return h(l[o]);requestAnimationFrame(m)}))}function Ole(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=co(N7),{isRtl:n}=Xl();if(!e)throw new Error("[Vuetify] Could not find injected goto instance");const r={...e,rtl:De(()=>e.rtl.value||n.value)};async function o(i,s){return K6(i,Ks(t,s),!1,r)}return o.horizontal=async(i,s)=>K6(i,Ks(t,s),!0,r),o}function $le(t,e,n,r){const{scrollWidth:o,scrollHeight:i}=t,[s,a]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let l,c;return r?n?(l=-(o-s),c=0):(l=0,c=o-s):(l=0,c=i+-a),Il(e,l,c)}const Ele={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",tableGroupCollapse:"mdi-chevron-down",tableGroupExpand:"mdi-chevron-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload",color:"mdi-palette",command:"mdi-apple-keyboard-command",ctrl:"mdi-apple-keyboard-control",space:"mdi-keyboard-space",shift:"mdi-apple-keyboard-shift",alt:"mdi-apple-keyboard-option",enter:"mdi-keyboard-return",arrowup:"mdi-arrow-up",arrowdown:"mdi-arrow-down",arrowleft:"mdi-arrow-left",arrowright:"mdi-arrow-right",backspace:"mdi-backspace",play:"mdi-play",pause:"mdi-pause",fullscreen:"mdi-fullscreen",fullscreenExit:"mdi-fullscreen-exit",volumeHigh:"mdi-volume-high",volumeMedium:"mdi-volume-medium",volumeLow:"mdi-volume-low",volumeOff:"mdi-volume-variant-off"},_le={component:t=>ba(V7,{...t,class:"mdi"})},_r=[String,Function,Object,Array],s$=Symbol.for("vuetify:icons"),Sj=Ze({icon:{type:_r},tag:{type:[String,Object,Function],required:!0}},"icon"),J6=Lt()({name:"VComponentIcon",props:Sj(),setup(t,e){let{slots:n}=e;return()=>{const r=t.icon;return F(t.tag,null,{default:()=>{var o;return[t.icon?F(r,null,null):(o=n.default)==null?void 0:o.call(n)]}})}}}),D7=dy({name:"VSvgIcon",inheritAttrs:!1,props:Sj(),setup(t,e){let{attrs:n}=e;return()=>F(t.tag,Pt(n,{style:null}),{default:()=>[Oe("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(r=>Array.isArray(r)?Oe("path",{d:r[0],"fill-opacity":r[1]},null):Oe("path",{d:r},null)):Oe("path",{d:t.icon},null)])]})}});dy({name:"VLigatureIcon",props:Sj(),setup(t){return()=>F(t.tag,null,{default:()=>[t.icon]})}});const V7=dy({name:"VClassIcon",props:Sj(),setup(t){return()=>F(t.tag,{class:Tt(t.icon)},null)}});function Ple(){return{svg:{component:D7},class:{component:V7}}}function Ile(t){const e=Ple(),n=(t==null?void 0:t.defaultSet)??"mdi";return n==="mdi"&&!e.mdi&&(e.mdi=_le),Ks({defaultSet:n,sets:e,aliases:{...Ele,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},t)}const Rle=t=>{const e=co(s$);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:ue(()=>{var l;const r=gs(t);if(!r)return{component:J6};let o=r;if(typeof o=="string"&&(o=o.trim(),o.startsWith("$")&&(o=(l=e.aliases)==null?void 0:l[o.slice(1)])),Array.isArray(o))return{component:D7,icon:o};if(typeof o!="string")return{component:J6,icon:o};const i=Object.keys(e.sets).find(c=>typeof o=="string"&&o.startsWith(`${c}:`)),s=i?o.slice(i.length+1):o;return{component:e.sets[i??e.defaultSet].component,icon:s}})}},_0=Symbol.for("vuetify:theme"),fi=Ze({theme:String},"theme");function G6(){return{defaultTheme:"light",prefix:"v-",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#EEEEEE","theme-on-kbd":"#000000","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#c8c8c8","on-surface-variant":"#000000",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#424242","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}},stylesheetId:"vuetify-theme-stylesheet",scoped:!1,unimportant:!1,utilities:!0}}function Nle(){var r,o;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:G6();const e=G6();if(!t)return{...e,isDisabled:!0};const n={};for(const[i,s]of Object.entries(t.themes??{})){const a=s.dark||i==="dark"?(r=e.themes)==null?void 0:r.dark:(o=e.themes)==null?void 0:o.light;n[i]=Ks(a,s)}return Ks(e,{...t,themes:n})}function cp(t,e,n,r){t.push(`${Ble(e,r)} {
`,...n.map(o=>`  ${o};
`),`}
`)}function Y6(t,e){const n=t.dark?2:1,r=t.dark?1:2,o=[];for(const[i,s]of Object.entries(t.colors)){const a=pu(s);o.push(`--${e}theme-${i}: ${a.r},${a.g},${a.b}`),i.startsWith("on-")||o.push(`--${e}theme-${i}-overlay-multiplier: ${jae(s)>.18?n:r}`)}for(const[i,s]of Object.entries(t.variables)){const a=typeof s=="string"&&s.startsWith("#")?pu(s):void 0,l=a?`${a.r}, ${a.g}, ${a.b}`:void 0;o.push(`--${e}${i}: ${l??s}`)}return o}function Lle(t,e,n){const r={};if(n)for(const o of["lighten","darken"]){const i=o==="lighten"?Sae:Cae;for(const s of d7(n[o],1))r[`${t}-${o}-${s}`]=wae(i(pu(e),s))}return r}function Dle(t,e){if(!e)return{};let n={};for(const r of e.colors){const o=t[r];o&&(n={...n,...Lle(r,o,e)})}return n}function Vle(t){const e={};for(const n of Object.keys(t)){if(n.startsWith("on-")||t[`on-${n}`])continue;const r=`on-${n}`,o=pu(t[n]);e[r]=M7(o)}return e}function Ble(t,e){if(!e)return t;const n=`:where(${e})`;return t===":root"?n:`${n} ${t}`}function zle(t,e,n){const r=Hle(t,e);r&&(r.innerHTML=n)}function Hle(t,e){if(!Jr)return null;let n=document.getElementById(t);return n||(n=document.createElement("style"),n.id=t,n.type="text/css",e&&n.setAttribute("nonce",e),document.head.appendChild(n)),n}function Fle(t){const e=Nle(t),n=Vt(e.defaultTheme),r=Ye(e.themes),o=Vt("light"),i=ue({get(){return n.value==="system"?o.value:n.value},set(y){n.value=y}}),s=ue(()=>{const y={};for(const[b,x]of Object.entries(r.value)){const k={...x.colors,...Dle(x.colors,e.variations)};y[b]={...x,colors:{...k,...Vle(k)}}}return y}),a=De(()=>s.value[i.value]),l=De(()=>n.value==="system"),c=ue(()=>{var k;const y=[],b=e.unimportant?"":" !important",x=e.scoped?e.prefix:"";(k=a.value)!=null&&k.dark&&cp(y,":root",["color-scheme: dark"],e.scope),cp(y,":root",Y6(a.value,e.prefix),e.scope);for(const[w,S]of Object.entries(s.value))cp(y,`.${e.prefix}theme--${w}`,[`color-scheme: ${S.dark?"dark":"normal"}`,...Y6(S,e.prefix)],e.scope);if(e.utilities){const w=[],S=[],C=new Set(Object.values(s.value).flatMap(j=>Object.keys(j.colors)));for(const j of C)j.startsWith("on-")?cp(S,`.${j}`,[`color: rgb(var(--${e.prefix}theme-${j}))${b}`],e.scope):(cp(w,`.${x}bg-${j}`,[`--${e.prefix}theme-overlay-multiplier: var(--${e.prefix}theme-${j}-overlay-multiplier)`,`background-color: rgb(var(--${e.prefix}theme-${j}))${b}`,`color: rgb(var(--${e.prefix}theme-on-${j}))${b}`],e.scope),cp(S,`.${x}text-${j}`,[`color: rgb(var(--${e.prefix}theme-${j}))${b}`],e.scope),cp(S,`.${x}border-${j}`,[`--${e.prefix}border-color: var(--${e.prefix}theme-${j})`],e.scope));y.push(...w,...S)}return y.map((w,S)=>S===0?w:`    ${w}`).join("")}),u=De(()=>e.isDisabled?void 0:`${e.prefix}theme--${i.value}`),d=De(()=>Object.keys(s.value));if(l7){let b=function(){o.value=y.matches?"dark":"light"};const y=window.matchMedia("(prefers-color-scheme: dark)");b(),y.addEventListener("change",b,{passive:!0}),R3()&&xs(()=>{y.removeEventListener("change",b)})}function f(y){if(e.isDisabled)return;const b=y._context.provides.usehead;if(b){let x=function(){return{style:[{textContent:c.value,id:e.stylesheetId,nonce:e.cspNonce||!1}]}};if(b.push){const k=b.push(x);Jr&&Bt(c,()=>{k.patch(x)})}else Jr?(b.addHeadObjs(De(x)),Ai(()=>b.updateDOM())):b.addHeadObjs(x())}else{let x=function(){zle(e.stylesheetId,e.cspNonce,c.value)};Jr?Bt(c,x,{immediate:!0}):x()}}function h(y){y!=="system"&&!d.value.includes(y)||(i.value=y)}function m(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.value;const b=y.indexOf(i.value),x=b===-1?0:(b+1)%y.length;h(y[x])}function g(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["light","dark"];m(y)}const v=new Proxy(i,{get(y,b){return Reflect.get(y,b)},set(y,b,x){return b==="value"&&k7(`theme.global.name.value = ${x}`,`theme.change('${x}')`),Reflect.set(y,b,x)}});return{install:f,change:h,cycle:m,toggle:g,isDisabled:e.isDisabled,isSystem:l,name:i,themes:r,current:a,computedThemes:s,prefix:e.prefix,themeClasses:u,styles:c,global:{name:v,current:a}}}function Yi(t){Gi("provideTheme");const e=co(_0,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=De(()=>t.theme??e.name.value),r=De(()=>e.themes.value[n.value]),o=De(()=>e.isDisabled?void 0:`${e.prefix}theme--${n.value}`),i={...e,name:n,current:r,themeClasses:o};return Ki(_0,i),i}function fy(){Gi("useTheme");const t=co(_0,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}function sm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=t$(),r=Ye();if(Jr){const o=new ResizeObserver(i=>{t==null||t(i,o),i.length&&(e==="content"?r.value=i[0].contentRect:r.value=i[0].target.getBoundingClientRect())});Ca(()=>{o.disconnect()}),Bt(()=>n.el,(i,s)=>{s&&(o.unobserve(s),r.value=void 0),i&&o.observe(i)},{flush:"post"})}return{resizeRef:n,contentRect:Hb(r)}}const X6=Symbol.for("vuetify:layout"),qle=Symbol.for("vuetify:layout-item"),Q6=1e3,Ule=Ze({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Wle=(t,e,n,r)=>{let o={top:0,left:0,right:0,bottom:0};const i=[{id:"",layer:{...o}}];for(const s of t){const a=e.get(s),l=n.get(s),c=r.get(s);if(!a||!l||!c)continue;const u={...o,[a.value]:parseInt(o[a.value],10)+(c.value?parseInt(l.value,10):0)};i.push({id:s,layer:u}),o=u}return i};function Kle(t){const e=co(X6,null),n=ue(()=>e?e.rootZIndex.value-100:Q6),r=Ye([]),o=ji(new Map),i=ji(new Map),s=ji(new Map),a=ji(new Map),l=ji(new Map),{resizeRef:c,contentRect:u}=sm(),d=ue(()=>{const S=new Map,C=t.overlaps??[];for(const j of C.filter(A=>A.includes(":"))){const[A,_]=j.split(":");if(!r.value.includes(A)||!r.value.includes(_))continue;const R=o.get(A),T=o.get(_),z=i.get(A),U=i.get(_);!R||!T||!z||!U||(S.set(_,{position:R.value,amount:parseInt(z.value,10)}),S.set(A,{position:T.value,amount:-parseInt(U.value,10)}))}return S}),f=ue(()=>{const S=[...new Set([...s.values()].map(j=>j.value))].sort((j,A)=>j-A),C=[];for(const j of S){const A=r.value.filter(_=>{var R;return((R=s.get(_))==null?void 0:R.value)===j});C.push(...A)}return Wle(C,o,i,a)}),h=ue(()=>!Array.from(l.values()).some(S=>S.value)),m=ue(()=>f.value[f.value.length-1].layer),g=De(()=>({"--v-layout-left":fn(m.value.left),"--v-layout-right":fn(m.value.right),"--v-layout-top":fn(m.value.top),"--v-layout-bottom":fn(m.value.bottom),...h.value?void 0:{transition:"none"}})),v=ue(()=>f.value.slice(1).map((S,C)=>{let{id:j}=S;const{layer:A}=f.value[C],_=i.get(j),R=o.get(j);return{id:j,...A,size:Number(_.value),position:R.value}})),y=S=>v.value.find(C=>C.id===S),b=Gi("createLayout"),x=Vt(!1);hl(()=>{x.value=!0}),Ki(X6,{register:(S,C)=>{let{id:j,order:A,position:_,layoutSize:R,elementSize:T,active:z,disableTransitions:U,absolute:G}=C;s.set(j,A),o.set(j,_),i.set(j,R),a.set(j,z),U&&l.set(j,U);const ie=Rg(qle,b==null?void 0:b.vnode).indexOf(S);ie>-1?r.value.splice(ie,0,j):r.value.push(j);const Z=ue(()=>v.value.findIndex(K=>K.id===j)),W=ue(()=>n.value+f.value.length*2-Z.value*2),B=ue(()=>{const K=_.value==="left"||_.value==="right",P=_.value==="right",M=_.value==="bottom",N=T.value??R.value,he=N===0?"%":"px",ge={[_.value]:0,zIndex:W.value,transform:`translate${K?"X":"Y"}(${(z.value?0:-(N===0?100:N))*(P||M?-1:1)}${he})`,position:G.value||n.value!==Q6?"absolute":"fixed",...h.value?void 0:{transition:"none"}};if(!x.value)return ge;const te=v.value[Z.value],ee=d.value.get(j);return ee&&(te[ee.position]+=ee.amount),{...ge,height:K?`calc(100% - ${te.top}px - ${te.bottom}px)`:T.value?`${T.value}px`:void 0,left:P?void 0:`${te.left}px`,right:P?`${te.right}px`:void 0,top:_.value!=="bottom"?`${te.top}px`:void 0,bottom:_.value!=="top"?`${te.bottom}px`:void 0,width:K?T.value?`${T.value}px`:void 0:`calc(100% - ${te.left}px - ${te.right}px)`}}),H=ue(()=>({zIndex:W.value-1}));return{layoutItemStyles:B,layoutItemScrimStyles:H,zIndex:W}},unregister:S=>{s.delete(S),o.delete(S),i.delete(S),a.delete(S),l.delete(S),r.value=r.value.filter(C=>C!==S)},mainRect:m,mainStyles:g,getLayoutItem:y,items:v,layoutRect:u,rootZIndex:n});const k=De(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),w=De(()=>({zIndex:e?n.value:void 0,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:k,layoutStyles:w,getLayoutItem:y,items:v,layoutRect:u,layoutRef:c}}function B7(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,r=Ks(e,n),{aliases:o={},components:i={},directives:s={}}=r,a=b0();return a.run(()=>{const l=Mae(r.defaults),c=jle(r.display,r.ssr),u=Fle(r.theme),d=Ile(r.icons),f=Nae(r.locale),h=kle(r.date,f),m=Tle(r.goTo,f);function g(y){for(const x in s)y.directive(x,s[x]);for(const x in i)y.component(x,i[x]);for(const x in o)y.component(x,dy({...o[x],name:x,aliasName:o[x].name}));const b=b0();if(b.run(()=>{u.install(y)}),y.onUnmount(()=>b.stop()),y.provide(Mv,l),y.provide(i$,c),y.provide(_0,u),y.provide(s$,d),y.provide(BS,f),y.provide(xle,h.options),y.provide(H6,h.instance),y.provide(N7,m),Jr&&r.ssr)if(y.$nuxt)y.$nuxt.hook("app:suspense:resolve",()=>{c.update()});else{const{mount:x}=y;y.mount=function(){const k=x(...arguments);return Ni(()=>c.update()),y.mount=x,k}}y.mixin({computed:{$vuetify(){return ji({defaults:sg.call(this,Mv),display:sg.call(this,i$),theme:sg.call(this,_0),icons:sg.call(this,s$),locale:sg.call(this,BS),date:sg.call(this,H6)})}}})}function v(){a.stop()}return{install:g,unmount:v,defaults:l,display:c,theme:u,icons:d,locale:f,date:h,goTo:m}})}const Jle="3.10.2";B7.version=Jle;function sg(t){var r,o;const e=this.$,n=((r=e.parent)==null?void 0:r.provides)??((o=e.vnode.appContext)==null?void 0:o.provides);if(n&&t in n)return n[t]}const Gle=Ze({...On(),...Yl(Ule(),["fullHeight"]),...fi()},"VApp"),Yle=Lt()({name:"VApp",props:Gle(),setup(t,e){let{slots:n}=e;const r=Yi(t),{layoutClasses:o,getLayoutItem:i,items:s,layoutRef:a}=Kle({...t,fullHeight:!0}),{rtlClasses:l}=Xl();return hn(()=>{var c;return Oe("div",{ref:a,class:Tt(["v-application",r.themeClasses.value,o.value,l.value,t.class]),style:Qt([t.style])},[Oe("div",{class:"v-application__wrap"},[(c=n.default)==null?void 0:c.call(n)])])}),{getLayoutItem:i,items:s,theme:r}}}),Zr=Ze({tag:{type:[String,Object,Function],default:"div"}},"tag"),Xle=Ze({text:String,...On(),...Zr()},"VToolbarTitle"),Qle=Lt()({name:"VToolbarTitle",props:Xle(),setup(t,e){let{slots:n}=e;return hn(()=>{const r=!!(n.default||n.text||t.text);return F(t.tag,{class:Tt(["v-toolbar-title",t.class]),style:Qt(t.style)},{default:()=>{var o;return[r&&Oe("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():t.text,(o=n.default)==null?void 0:o.call(n)])]}})}),{}}}),Zle=Ze({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function pl(t,e,n){return Lt()({name:t,props:Zle({mode:n,origin:e}),setup(r,o){let{slots:i}=o;const s={onBeforeEnter(a){r.origin&&(a.style.transformOrigin=r.origin)},onLeave(a){if(r.leaveAbsolute){const{offsetTop:l,offsetLeft:c,offsetWidth:u,offsetHeight:d}=a;a._transitionInitialStyles={position:a.style.position,top:a.style.top,left:a.style.left,width:a.style.width,height:a.style.height},a.style.position="absolute",a.style.top=`${l}px`,a.style.left=`${c}px`,a.style.width=`${u}px`,a.style.height=`${d}px`}r.hideOnLeave&&a.style.setProperty("display","none","important")},onAfterLeave(a){if(r.leaveAbsolute&&(a!=null&&a._transitionInitialStyles)){const{position:l,top:c,left:u,width:d,height:f}=a._transitionInitialStyles;delete a._transitionInitialStyles,a.style.position=l||"",a.style.top=c||"",a.style.left=u||"",a.style.width=d||"",a.style.height=f||""}}};return()=>{const a=r.group?X3:im;return ba(a,{name:r.disabled?"":t,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:s},i.default)}}})}function z7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Lt()({name:t,props:{mode:{type:String,default:n},disabled:{type:Boolean,default:Av()},group:Boolean},setup(r,o){let{slots:i}=o;const s=r.group?X3:im;return()=>ba(s,{name:r.disabled?"":t,css:!r.disabled,...r.disabled?{}:e},i.default)}})}function H7(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=Qs(`offset-${n}`);return{onBeforeEnter(s){s._parent=s.parentNode,s._initialStyle={transition:s.style.transition,overflow:s.style.overflow,[n]:s.style[n]}},onEnter(s){const a=s._initialStyle;if(!a)return;s.style.setProperty("transition","none","important"),s.style.overflow="hidden";const l=`${s[r]}px`;s.style[n]="0",s.offsetHeight,s.style.transition=a.transition,t&&s._parent&&s._parent.classList.add(t),requestAnimationFrame(()=>{s.style[n]=l})},onAfterEnter:i,onEnterCancelled:i,onLeave(s){s._initialStyle={transition:"",overflow:s.style.overflow,[n]:s.style[n]},s.style.overflow="hidden",s.style[n]=`${s[r]}px`,s.offsetHeight,requestAnimationFrame(()=>s.style[n]="0")},onAfterLeave:o,onLeaveCancelled:o};function o(s){t&&s._parent&&s._parent.classList.remove(t),i(s)}function i(s){if(!s._initialStyle)return;const a=s._initialStyle[n];s.style.overflow=s._initialStyle.overflow,a!=null&&(s.style[n]=a),delete s._initialStyle}}const ece=Ze({target:[Object,Array]},"v-dialog-transition"),$M=new WeakMap,c4=Lt()({name:"VDialogTransition",props:ece(),setup(t,e){let{slots:n}=e;const r={onBeforeEnter(o){o.style.pointerEvents="none",o.style.visibility="hidden"},async onEnter(o,i){var f;await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),o.style.visibility="";const s=e5(t.target,o),{x:a,y:l,sx:c,sy:u,speed:d}=s;if($M.set(o,s),Av())ld(o,[{opacity:0},{}],{duration:125*d,easing:N6}).finished.then(()=>i());else{const h=ld(o,[{transform:`translate(${a}px, ${l}px) scale(${c}, ${u})`,opacity:0},{}],{duration:225*d,easing:N6});(f=Z6(o))==null||f.forEach(m=>{ld(m,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*d,easing:O0})}),h.finished.then(()=>i())}},onAfterEnter(o){o.style.removeProperty("pointer-events")},onBeforeLeave(o){o.style.pointerEvents="none"},async onLeave(o,i){var f;await new Promise(h=>requestAnimationFrame(h));let s;!$M.has(o)||Array.isArray(t.target)||t.target.offsetParent||t.target.getClientRects().length?s=e5(t.target,o):s=$M.get(o);const{x:a,y:l,sx:c,sy:u,speed:d}=s;Av()?ld(o,[{},{opacity:0}],{duration:85*d,easing:L6}).finished.then(()=>i()):(ld(o,[{},{transform:`translate(${a}px, ${l}px) scale(${c}, ${u})`,opacity:0}],{duration:125*d,easing:L6}).finished.then(()=>i()),(f=Z6(o))==null||f.forEach(m=>{ld(m,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*d,easing:O0})}))},onAfterLeave(o){o.style.removeProperty("pointer-events")}};return()=>t.target?F(im,Pt({name:"dialog-transition"},r,{css:!1}),n):F(im,{name:"dialog-transition"},n)}});function Z6(t){var n;const e=(n=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return e&&[...e]}function e5(t,e){const n=x7(t),r=t4(e),[o,i]=getComputedStyle(e).transformOrigin.split(" ").map(y=>parseFloat(y)),[s,a]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;s==="left"||a==="left"?l-=n.width/2:(s==="right"||a==="right")&&(l+=n.width/2);let c=n.top+n.height/2;s==="top"||a==="top"?c-=n.height/2:(s==="bottom"||a==="bottom")&&(c+=n.height/2);const u=n.width/r.width,d=n.height/r.height,f=Math.max(1,u,d),h=u/f||0,m=d/f||0,g=r.width*r.height/(window.innerWidth*window.innerHeight),v=g>.12?Math.min(1.5,(g-.12)*10+1):1;return{x:l-(o+r.left),y:c-(i+r.top),sx:h,sy:m,speed:v}}pl("fab-transition","center center","out-in");pl("dialog-bottom-transition");pl("dialog-top-transition");const t5=pl("fade-transition");pl("scale-transition");pl("scroll-x-transition");pl("scroll-x-reverse-transition");pl("scroll-y-transition");pl("scroll-y-reverse-transition");pl("slide-x-transition");pl("slide-x-reverse-transition");const F7=pl("slide-y-transition");pl("slide-y-reverse-transition");const q7=z7("expand-transition",H7()),U7=z7("expand-x-transition",H7("",!0)),tce=Ze({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),ci=Lt(!1)({name:"VDefaultsProvider",props:tce(),setup(t,e){let{slots:n}=e;const{defaults:r,disabled:o,reset:i,root:s,scoped:a}=lF(t);return zh(r,{reset:i,root:s,scoped:a,disabled:o}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),Vc=Ze({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Bc(t){return{dimensionStyles:ue(()=>{const n={},r=fn(t.height),o=fn(t.maxHeight),i=fn(t.maxWidth),s=fn(t.minHeight),a=fn(t.minWidth),l=fn(t.width);return r!=null&&(n.height=r),o!=null&&(n.maxHeight=o),i!=null&&(n.maxWidth=i),s!=null&&(n.minHeight=s),a!=null&&(n.minWidth=a),l!=null&&(n.width=l),n})}}function nce(t){return{aspectStyles:ue(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const W7=Ze({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...On(),...Vc()},"VResponsive"),n5=Lt()({name:"VResponsive",props:W7(),setup(t,e){let{slots:n}=e;const{aspectStyles:r}=nce(t),{dimensionStyles:o}=Bc(t);return hn(()=>{var i;return Oe("div",{class:Tt(["v-responsive",{"v-responsive--inline":t.inline},t.class]),style:Qt([o.value,t.style])},[Oe("div",{class:"v-responsive__sizer",style:Qt(r.value)},null),(i=n.additional)==null?void 0:i.call(n),n.default&&Oe("div",{class:Tt(["v-responsive__content",t.contentClass])},[n.default()])])}),{}}});function u4(t){return Z3(()=>{const{class:e,style:n}=rce(t);return{colorClasses:e,colorStyles:n}})}function Oc(t){const{colorClasses:e,colorStyles:n}=u4(()=>({text:gs(t)}));return{textColorClasses:e,textColorStyles:n}}function gc(t){const{colorClasses:e,colorStyles:n}=u4(()=>({background:gs(t)}));return{backgroundColorClasses:e,backgroundColorStyles:n}}function rce(t){const e=gs(t),n=[],r={};if(e.background)if(o$(e.background)){if(r.backgroundColor=e.background,!e.text&&yae(e.background)){const o=pu(e.background);if(o.a==null||o.a===1){const i=M7(o);r.color=i,r.caretColor=i}}}else n.push(`bg-${e.background}`);return e.text&&(o$(e.text)?(r.color=e.text,r.caretColor=e.text):n.push(`text-${e.text}`)),{class:n,style:r}}const ml=Ze({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function gl(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hu();return{roundedClasses:ue(()=>{const r=Ri(t)?t.value:t.rounded,o=Ri(t)?!1:t.tile,i=[];if(o||r===!1)i.push("rounded-0");else if(r===!0||r==="")i.push(`${e}--rounded`);else if(typeof r=="string"||r===0)for(const s of String(r).split(" "))i.push(`rounded-${s}`);return i})}}const Yb=Ze({transition:{type:null,default:"fade-transition",validator:t=>t!==!0}},"transition"),gd=(t,e)=>{let{slots:n}=e;const{transition:r,disabled:o,group:i,...s}=t,{component:a=i?X3:im,...l}=RS(r)?r:{};let c;return RS(r)?c=Pt(l,Qse({disabled:o,group:i}),s):c=Pt({name:o||!r?"":r},s),ba(a,c,n)};function oce(t,e){if(!Q3)return;const n=e.modifiers||{},r=e.value,{handler:o,options:i}=typeof r=="object"?r:{handler:r,options:{}},s=new IntersectionObserver(function(){var d;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const c=(d=t._observe)==null?void 0:d[e.instance.$.uid];if(!c)return;const u=a.some(f=>f.isIntersecting);o&&(!n.quiet||c.init)&&(!n.once||u||c.init)&&o(u,a,l),u&&n.once?K7(t,e):c.init=!0},i);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:s},s.observe(t)}function K7(t,e){var r;const n=(r=t._observe)==null?void 0:r[e.instance.$.uid];n&&(n.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const qS={mounted:oce,unmounted:K7},ice=Ze({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...W7(),...On(),...ml(),...Yb()},"VImg"),d4=Lt()({name:"VImg",directives:{vIntersect:qS},props:ice(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:n,slots:r}=e;const{backgroundColorClasses:o,backgroundColorStyles:i}=gc(()=>t.color),{roundedClasses:s}=gl(t),a=Gi("VImg"),l=Vt(""),c=Ye(),u=Vt(t.eager?"loading":"idle"),d=Vt(),f=Vt(),h=ue(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),m=ue(()=>h.value.aspect||d.value/f.value||0);Bt(()=>t.src,()=>{g(u.value!=="idle")}),Bt(m,(T,z)=>{!T&&z&&c.value&&k(c.value)}),Ub(()=>g());function g(T){if(!(t.eager&&T)&&!(Q3&&!T&&!t.eager)){if(u.value="loading",h.value.lazySrc){const z=new Image;z.src=h.value.lazySrc,k(z,null)}h.value.src&&Ni(()=>{var z;n("loadstart",((z=c.value)==null?void 0:z.currentSrc)||h.value.src),setTimeout(()=>{var U;if(!a.isUnmounted)if((U=c.value)!=null&&U.complete){if(c.value.naturalWidth||y(),u.value==="error")return;m.value||k(c.value,null),u.value==="loading"&&v()}else m.value||k(c.value),b()})})}}function v(){var T;a.isUnmounted||(b(),k(c.value),u.value="loaded",n("load",((T=c.value)==null?void 0:T.currentSrc)||h.value.src))}function y(){var T;a.isUnmounted||(u.value="error",n("error",((T=c.value)==null?void 0:T.currentSrc)||h.value.src))}function b(){const T=c.value;T&&(l.value=T.currentSrc||T.src)}let x=-1;Ca(()=>{clearTimeout(x)});function k(T){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const U=()=>{if(clearTimeout(x),a.isUnmounted)return;const{naturalHeight:G,naturalWidth:ce}=T;G||ce?(d.value=ce,f.value=G):!T.complete&&u.value==="loading"&&z!=null?x=window.setTimeout(U,z):(T.currentSrc.endsWith(".svg")||T.currentSrc.startsWith("data:image/svg+xml"))&&(d.value=1,f.value=1)};U()}const w=De(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),S=()=>{var U;if(!h.value.src||u.value==="idle")return null;const T=Oe("img",{class:Tt(["v-img__img",w.value]),style:{objectPosition:t.position},crossorigin:t.crossorigin,src:h.value.src,srcset:h.value.srcset,alt:t.alt,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:c,onLoad:v,onError:y},null),z=(U=r.sources)==null?void 0:U.call(r);return F(gd,{transition:t.transition,appear:!0},{default:()=>[Zs(z?Oe("picture",{class:"v-img__picture"},[z,T]):T,[[Bh,u.value==="loaded"]])]})},C=()=>F(gd,{transition:t.transition},{default:()=>[h.value.lazySrc&&u.value!=="loaded"&&Oe("img",{class:Tt(["v-img__img","v-img__img--preload",w.value]),style:{objectPosition:t.position},crossorigin:t.crossorigin,src:h.value.lazySrc,alt:t.alt,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),j=()=>r.placeholder?F(gd,{transition:t.transition,appear:!0},{default:()=>[(u.value==="loading"||u.value==="error"&&!r.error)&&Oe("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,A=()=>r.error?F(gd,{transition:t.transition,appear:!0},{default:()=>[u.value==="error"&&Oe("div",{class:"v-img__error"},[r.error()])]}):null,_=()=>t.gradient?Oe("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,R=Vt(!1);{const T=Bt(m,z=>{z&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{R.value=!0})}),T())})}return hn(()=>{const T=n5.filterProps(t);return Zs(F(n5,Pt({class:["v-img",{"v-img--absolute":t.absolute,"v-img--booting":!R.value},o.value,s.value,t.class],style:[{width:fn(t.width==="auto"?d.value:t.width)},i.value,t.style]},T,{aspectRatio:m.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>Oe(Dt,null,[F(S,null,null),F(C,null,null),F(_,null,null),F(j,null,null),F(A,null,null)]),default:r.default}),[[qS,{handler:g,options:t.options},null,{once:!0}]])}),{currentSrc:l,image:c,state:u,naturalWidth:d,naturalHeight:f}}}),nf=Ze({border:[Boolean,Number,String]},"border");function rf(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hu();return{borderClasses:ue(()=>{const r=t.border;return r===!0||r===""?`${e}--border`:typeof r=="string"||r===0?String(r).split(" ").map(o=>`border-${o}`):[]})}}const of=Ze({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function sf(t){return{elevationClasses:De(()=>{const n=Ri(t)?t.value:t.elevation;return n==null?[]:[`elevation-${n}`]})}}const sce=[null,"prominent","default","comfortable","compact"],ace=Ze({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>sce.includes(t)},extended:{type:Boolean,default:null},extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...nf(),...On(),...of(),...ml(),...Zr({tag:"header"}),...fi()},"VToolbar"),Hh=Lt()({name:"VToolbar",props:ace(),setup(t,e){var h;let{slots:n}=e;const{backgroundColorClasses:r,backgroundColorStyles:o}=gc(()=>t.color),{borderClasses:i}=rf(t),{elevationClasses:s}=sf(t),{roundedClasses:a}=gl(t),{themeClasses:l}=Yi(t),{rtlClasses:c}=Xl(),u=Vt(t.extended===null?!!((h=n.extension)!=null&&h.call(n)):t.extended),d=ue(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),f=ue(()=>u.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return zh({VBtn:{variant:"text"}}),hn(()=>{var y;const m=!!(t.title||n.title),g=!!(n.image||t.image),v=(y=n.extension)==null?void 0:y.call(n);return u.value=t.extended===null?!!v:t.extended,F(t.tag,{class:Tt(["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},r.value,i.value,s.value,a.value,l.value,c.value,t.class]),style:Qt([o.value,t.style])},{default:()=>[g&&Oe("div",{key:"image",class:"v-toolbar__image"},[n.image?F(ci,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},n.image):F(d4,{key:"image-img",cover:!0,src:t.image},null)]),F(ci,{defaults:{VTabs:{height:fn(d.value)}}},{default:()=>{var b,x,k;return[Oe("div",{class:"v-toolbar__content",style:{height:fn(d.value)}},[n.prepend&&Oe("div",{class:"v-toolbar__prepend"},[(b=n.prepend)==null?void 0:b.call(n)]),m&&F(Qle,{key:"title",text:t.title},{text:n.title}),(x=n.default)==null?void 0:x.call(n),n.append&&Oe("div",{class:"v-toolbar__append"},[(k=n.append)==null?void 0:k.call(n)])])]}}),F(ci,{defaults:{VTabs:{height:fn(f.value)}}},{default:()=>[F(q7,null,{default:()=>[u.value&&Oe("div",{class:"v-toolbar__extension",style:{height:fn(f.value)}},[v])]})]})]})}),{contentHeight:d,extensionHeight:f}}});function J7(){const t=Vt(!1);return hl(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:De(()=>t.value?void 0:{transition:"none !important"}),isBooted:Hb(t)}}const lce=[null,"default","comfortable","compact"],Ql=Ze({density:{type:String,default:"default",validator:t=>lce.includes(t)}},"density");function zc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hu();return{densityClasses:De(()=>`${e}--density-${t.density}`)}}const cce=["elevated","flat","tonal","outlined","text","plain"];function hy(t,e){return Oe(Dt,null,[t&&Oe("span",{key:"overlay",class:Tt(`${e}__overlay`)},null),Oe("span",{key:"underlay",class:Tt(`${e}__underlay`)},null)])}const af=Ze({color:String,variant:{type:String,default:"elevated",validator:t=>cce.includes(t)}},"variant");function py(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hu();const n=De(()=>{const{variant:i}=gs(t);return`${e}--variant-${i}`}),{colorClasses:r,colorStyles:o}=u4(()=>{const{variant:i,color:s}=gs(t);return{[["elevated","flat"].includes(i)?"background":"text"]:s}});return{colorClasses:r,colorStyles:o,variantClasses:n}}const G7=Ze({baseColor:String,divided:Boolean,direction:{type:String,default:"horizontal"},...nf(),...On(),...Ql(),...of(),...ml(),...Zr(),...fi(),...af()},"VBtnGroup"),r5=Lt()({name:"VBtnGroup",props:G7(),setup(t,e){let{slots:n}=e;const{themeClasses:r}=Yi(t),{densityClasses:o}=zc(t),{borderClasses:i}=rf(t),{elevationClasses:s}=sf(t),{roundedClasses:a}=gl(t);zh({VBtn:{height:De(()=>t.direction==="horizontal"?"auto":null),baseColor:De(()=>t.baseColor),color:De(()=>t.color),density:De(()=>t.density),flat:!0,variant:De(()=>t.variant)}}),hn(()=>F(t.tag,{class:Tt(["v-btn-group",`v-btn-group--${t.direction}`,{"v-btn-group--divided":t.divided},r.value,i.value,o.value,s.value,a.value,t.class]),style:Qt(t.style)},n))}}),f4=Ze({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),h4=Ze({value:null,disabled:Boolean,selectedClass:String},"group-item");function p4(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=Gi("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const o=Dc();Ki(Symbol.for(`${e.description}:id`),o);const i=co(e,null);if(!i){if(!n)return i;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const s=De(()=>t.value),a=ue(()=>!!(i.disabled.value||t.disabled));i.register({id:o,value:s,disabled:a},r),Ca(()=>{i.unregister(o)});const l=ue(()=>i.isSelected(o)),c=ue(()=>i.items.value[0].id===o),u=ue(()=>i.items.value[i.items.value.length-1].id===o),d=ue(()=>l.value&&[i.selectedClass.value,t.selectedClass]);return Bt(l,f=>{r.emit("group:selected",{value:f})},{flush:"sync"}),{id:o,isSelected:l,isFirst:c,isLast:u,toggle:()=>i.select(o,!l.value),select:f=>i.select(o,f),selectedClass:d,value:s,disabled:a,group:i}}function Cj(t,e){let n=!1;const r=ji([]),o=Po(t,"modelValue",[],f=>f===void 0?[]:Y7(r,f===null?[null]:ll(f)),f=>{const h=dce(r,f);return t.multiple?h:h[0]}),i=Gi("useGroup");function s(f,h){const m=f,g=Symbol.for(`${e.description}:id`),y=Rg(g,i==null?void 0:i.vnode).indexOf(h);Ie(m.value)===void 0&&(m.value=y,m.useIndexAsValue=!0),y>-1?r.splice(y,0,m):r.push(m)}function a(f){if(n)return;l();const h=r.findIndex(m=>m.id===f);r.splice(h,1)}function l(){const f=r.find(h=>!h.disabled);f&&t.mandatory==="force"&&!o.value.length&&(o.value=[f.id])}hl(()=>{l()}),Ca(()=>{n=!0}),q3(()=>{for(let f=0;f<r.length;f++)r[f].useIndexAsValue&&(r[f].value=f)});function c(f,h){const m=r.find(g=>g.id===f);if(!(h&&(m!=null&&m.disabled)))if(t.multiple){const g=o.value.slice(),v=g.findIndex(b=>b===f),y=~v;if(h=h??!y,y&&t.mandatory&&g.length<=1||!y&&t.max!=null&&g.length+1>t.max)return;v<0&&h?g.push(f):v>=0&&!h&&g.splice(v,1),o.value=g}else{const g=o.value.includes(f);if(t.mandatory&&g||!g&&!h)return;o.value=h??!g?[f]:[]}}function u(f){if(t.multiple,o.value.length){const h=o.value[0],m=r.findIndex(y=>y.id===h);let g=(m+f)%r.length,v=r[g];for(;v.disabled&&g!==m;)g=(g+f)%r.length,v=r[g];if(v.disabled)return;o.value=[r[g].id]}else{const h=r.find(m=>!m.disabled);h&&(o.value=[h.id])}}const d={register:s,unregister:a,selected:o,select:c,disabled:De(()=>t.disabled),prev:()=>u(r.length-1),next:()=>u(1),isSelected:f=>o.value.includes(f),selectedClass:De(()=>t.selectedClass),items:De(()=>r),getItemIndex:f=>uce(r,f)};return Ki(e,d),d}function uce(t,e){const n=Y7(t,[e]);return n.length?t.findIndex(r=>r.id===n[0]):-1}function Y7(t,e){const n=[];return e.forEach(r=>{const o=t.find(s=>Pl(r,s.value)),i=t[r];(o==null?void 0:o.value)!==void 0?n.push(o.id):i!=null&&i.useIndexAsValue&&n.push(i.id)}),n}function dce(t,e){const n=[];return e.forEach(r=>{const o=t.findIndex(i=>i.id===r);if(~o){const i=t[o];n.push(i.value!==void 0?i.value:o)}}),n}const X7=Symbol.for("vuetify:v-btn-toggle"),fce=Ze({...G7(),...f4()},"VBtnToggle"),Q7=Lt()({name:"VBtnToggle",props:fce(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:r,next:o,prev:i,select:s,selected:a}=Cj(t,X7);return hn(()=>{const l=r5.filterProps(t);return F(r5,Pt({class:["v-btn-toggle",t.class]},l,{style:t.style}),{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:r,next:o,prev:i,select:s,selected:a})]}})}),{next:o,prev:i,select:s}}}),hce=["x-small","small","default","large","x-large"],Xb=Ze({size:{type:[String,Number],default:"default"}},"size");function Qb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hu();return Z3(()=>{const n=t.size;let r,o;return NS(hce,n)?r=`${e}--size-${n}`:n&&(o={width:fn(n),height:fn(n)}),{sizeClasses:r,sizeStyles:o}})}const pce=Ze({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:_r,opacity:[String,Number],...On(),...Xb(),...Zr({tag:"i"}),...fi()},"VIcon"),lo=Lt()({name:"VIcon",props:pce(),setup(t,e){let{attrs:n,slots:r}=e;const o=Vt(),{themeClasses:i}=fy(),{iconData:s}=Rle(()=>o.value||t.icon),{sizeClasses:a}=Qb(t),{textColorClasses:l,textColorStyles:c}=Oc(()=>t.color);return hn(()=>{var f,h;const u=(f=r.default)==null?void 0:f.call(r);u&&(o.value=(h=g7(u).filter(m=>m.type===Wb&&m.children&&typeof m.children=="string")[0])==null?void 0:h.children);const d=!!(n.onClick||n.onClickOnce);return F(s.value.component,{tag:t.tag,icon:s.value.icon,class:Tt(["v-icon","notranslate",i.value,a.value,l.value,{"v-icon--clickable":d,"v-icon--disabled":t.disabled,"v-icon--start":t.start,"v-icon--end":t.end},t.class]),style:Qt([{"--v-icon-opacity":t.opacity},a.value?void 0:{fontSize:fn(t.size),height:fn(t.size),width:fn(t.size)},c.value,t.style]),role:d?"button":void 0,"aria-hidden":!d,tabindex:d?t.disabled?-1:0:void 0},{default:()=>[u]})}),{}}});function Z7(t,e){const n=Ye(),r=Vt(!1);if(Q3){const o=new IntersectionObserver(i=>{r.value=!!i.find(s=>s.isIntersecting)},e);xs(()=>{o.disconnect()}),Bt(n,(i,s)=>{s&&(o.unobserve(s),r.value=!1),i&&o.observe(i)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}const mce=Ze({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...On(),...Xb(),...Zr({tag:"div"}),...fi()},"VProgressCircular"),gce=Lt()({name:"VProgressCircular",props:mce(),setup(t,e){let{slots:n}=e;const r=20,o=2*Math.PI*r,i=Ye(),{themeClasses:s}=Yi(t),{sizeClasses:a,sizeStyles:l}=Qb(t),{textColorClasses:c,textColorStyles:u}=Oc(()=>t.color),{textColorClasses:d,textColorStyles:f}=Oc(()=>t.bgColor),{intersectionRef:h,isIntersecting:m}=Z7(),{resizeRef:g,contentRect:v}=sm(),y=De(()=>Il(parseFloat(t.modelValue),0,100)),b=De(()=>Number(t.width)),x=De(()=>l.value?Number(t.size):v.value?v.value.width:Math.max(b.value,32)),k=De(()=>r/(1-b.value/x.value)*2),w=De(()=>b.value/x.value*k.value),S=De(()=>fn((100-y.value)/100*o));return Ai(()=>{h.value=i.value,g.value=i.value}),hn(()=>F(t.tag,{ref:i,class:Tt(["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":m.value,"v-progress-circular--disable-shrink":t.indeterminate&&(t.indeterminate==="disable-shrink"||Av())},s.value,a.value,c.value,t.class]),style:Qt([l.value,u.value,t.style]),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:y.value},{default:()=>[Oe("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${k.value} ${k.value}`},[Oe("circle",{class:Tt(["v-progress-circular__underlay",d.value]),style:Qt(f.value),fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":w.value,"stroke-dasharray":o,"stroke-dashoffset":0},null),Oe("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":w.value,"stroke-dasharray":o,"stroke-dashoffset":S.value},null)]),n.default&&Oe("div",{class:"v-progress-circular__content"},[n.default({value:y.value})])]})),{}}}),o5={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Zb=Ze({location:String},"location");function ew(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=Xl();return{locationStyles:ue(()=>{if(!t.location)return{};const{side:i,align:s}=r$(t.location.split(" ").length>1?t.location:`${t.location} center`,r.value);function a(c){return n?n(c):0}const l={};return i!=="center"&&(e?l[o5[i]]=`calc(100% - ${a(i)}px)`:l[i]=0),s!=="center"?e?l[o5[s]]=`calc(100% - ${a(s)}px)`:l[s]=0:(i==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[i]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[i]),l})}}const vce=Ze({chunkCount:{type:[Number,String],default:null},chunkWidth:{type:[Number,String],default:null},chunkGap:{type:[Number,String],default:4}},"chunks");function yce(t,e){const n=De(()=>!!t.chunkCount||!!t.chunkWidth),r=ue(()=>{const a=gs(e);if(!a)return 0;if(!t.chunkCount)return Number(t.chunkWidth);const l=Number(t.chunkCount);return(a-Number(t.chunkGap)*(l-1))/l}),o=De(()=>Number(t.chunkGap)),i=ue(()=>{if(!n.value)return{};const a=fn(o.value),l=fn(r.value);return{maskRepeat:"repeat-x",maskImage:`linear-gradient(90deg, #000, #000 ${l}, transparent ${l}, transparent)`,maskSize:`calc(${l} + ${a}) 100%`}});function s(a){const l=gs(e);if(!l)return a;const c=100*o.value/l,u=100*(r.value+o.value)/l,d=Math.floor((a+c)/u);return Il(0,d*u-c/2,100)}return{hasChunks:n,chunksMaskStyles:i,snapValueToChunk:s}}const bce=Ze({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...vce(),...On(),...Zb({location:"top"}),...ml(),...Zr(),...fi()},"VProgressLinear"),wce=Lt()({name:"VProgressLinear",props:bce(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=Ye(),o=Po(t,"modelValue"),{isRtl:i,rtlClasses:s}=Xl(),{themeClasses:a}=Yi(t),{locationStyles:l}=ew(t),{textColorClasses:c,textColorStyles:u}=Oc(()=>t.color),{backgroundColorClasses:d,backgroundColorStyles:f}=gc(()=>t.bgColor||t.color),{backgroundColorClasses:h,backgroundColorStyles:m}=gc(()=>t.bufferColor||t.bgColor||t.color),{backgroundColorClasses:g,backgroundColorStyles:v}=gc(()=>t.color),{roundedClasses:y}=gl(t),{intersectionRef:b,isIntersecting:x}=Z7(),k=ue(()=>parseFloat(t.max)),w=ue(()=>parseFloat(t.height)),S=ue(()=>Il(parseFloat(t.bufferValue)/k.value*100,0,100)),C=ue(()=>Il(parseFloat(o.value)/k.value*100,0,100)),j=ue(()=>i.value!==t.reverse),A=ue(()=>t.indeterminate?"fade-transition":"slide-x-transition"),_=Vt(0),{hasChunks:R,chunksMaskStyles:T,snapValueToChunk:z}=yce(t,_);kh(R,()=>{const{resizeRef:ie}=sm(Z=>_.value=Z[0].contentRect.width);Ai(()=>ie.value=r.value)});const U=ue(()=>R.value?z(S.value):S.value),G=ue(()=>R.value?z(C.value):C.value);function ce(ie){if(!b.value)return;const{left:Z,right:W,width:B}=b.value.getBoundingClientRect(),H=j.value?B-ie.clientX+(W-B):ie.clientX-Z;o.value=Math.round(H/B*k.value)}return Ai(()=>{b.value=r.value}),hn(()=>F(t.tag,{ref:r,class:Tt(["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&x.value,"v-progress-linear--reverse":j.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped,"v-progress-linear--clickable":t.clickable},y.value,a.value,s.value,t.class]),style:Qt([{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?fn(w.value):0,"--v-progress-linear-height":fn(w.value),...t.absolute?l.value:{}},T.value,t.style]),role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:Math.min(parseFloat(o.value),k.value),onClick:t.clickable&&ce},{default:()=>[t.stream&&Oe("div",{key:"stream",class:Tt(["v-progress-linear__stream",c.value]),style:{...u.value,[j.value?"left":"right"]:fn(-w.value),borderTop:`${fn(w.value/2)} dotted`,opacity:parseFloat(t.bufferOpacity),top:`calc(50% - ${fn(w.value/4)})`,width:fn(100-S.value,"%"),"--v-progress-linear-stream-to":fn(w.value*(j.value?1:-1))}},null),Oe("div",{class:Tt(["v-progress-linear__background",d.value]),style:Qt([f.value,{opacity:parseFloat(t.bgOpacity),width:t.stream?0:void 0}])},null),Oe("div",{class:Tt(["v-progress-linear__buffer",h.value]),style:Qt([m.value,{opacity:parseFloat(t.bufferOpacity),width:fn(U.value,"%")}])},null),F(im,{name:A.value},{default:()=>[t.indeterminate?Oe("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(ie=>Oe("div",{key:ie,class:Tt(["v-progress-linear__indeterminate",ie,g.value]),style:Qt(v.value)},null))]):Oe("div",{class:Tt(["v-progress-linear__determinate",g.value]),style:Qt([v.value,{width:fn(G.value,"%")}])},null)]}),n.default&&Oe("div",{class:"v-progress-linear__content"},[n.default({value:C.value,buffer:S.value})])]})),{}}}),m4=Ze({loading:[Boolean,String]},"loader");function g4(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hu();return{loaderClasses:De(()=>({[`${e}--loading`]:t.loading}))}}function eq(t,e){var r;let{slots:n}=e;return Oe("div",{class:Tt(`${t.name}__loader`)},[((r=n.default)==null?void 0:r.call(n,{color:t.color,isActive:t.active}))||F(wce,{absolute:t.absolute,active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const xce=["static","relative","fixed","absolute","sticky"],jj=Ze({position:{type:String,validator:t=>xce.includes(t)}},"position");function Aj(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hu();return{positionClasses:De(()=>t.position?`${e}--${t.position}`:void 0)}}function kce(){const t=Gi("useRoute");return ue(()=>{var e;return(e=t==null?void 0:t.proxy)==null?void 0:e.$route})}function Sce(){var t,e;return(e=(t=Gi("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function Mj(t,e){var u,d;const n=Sv("RouterLink"),r=De(()=>!!(t.href||t.to)),o=ue(()=>(r==null?void 0:r.value)||k6(e,"click")||k6(t,"click"));if(typeof n=="string"||!("useLink"in n)){const f=De(()=>t.href);return{isLink:r,isClickable:o,href:f,linkProps:ji({href:f})}}const i=n.useLink({to:De(()=>t.to||""),replace:De(()=>t.replace)}),s=ue(()=>t.to?i:void 0),a=kce(),l=ue(()=>{var f,h,m;return s.value?t.exact?a.value?((m=s.value.isExactActive)==null?void 0:m.value)&&Pl(s.value.route.value.query,a.value.query):((h=s.value.isExactActive)==null?void 0:h.value)??!1:((f=s.value.isActive)==null?void 0:f.value)??!1:!1}),c=ue(()=>{var f;return t.to?(f=s.value)==null?void 0:f.route.value.href:t.href});return{isLink:r,isClickable:o,isActive:l,route:(u=s.value)==null?void 0:u.route,navigate:(d=s.value)==null?void 0:d.navigate,href:c,linkProps:ji({href:c,"aria-current":De(()=>l.value?"page":void 0)})}}const Tj=Ze({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let EM=!1;function Cce(t,e){let n=!1,r,o;Jr&&(t!=null&&t.beforeEach)&&(Ni(()=>{window.addEventListener("popstate",i),r=t.beforeEach((s,a,l)=>{EM?n?e(l):l():setTimeout(()=>n?e(l):l()),EM=!0}),o=t==null?void 0:t.afterEach(()=>{EM=!1})}),xs(()=>{window.removeEventListener("popstate",i),r==null||r(),o==null||o()}));function i(s){var a;(a=s.state)!=null&&a.replaced||(n=!0,setTimeout(()=>n=!1))}}function jce(t,e){Bt(()=>{var n;return(n=t.isActive)==null?void 0:n.value},n=>{t.isLink.value&&n!=null&&e&&Ni(()=>{e(n)})},{immediate:!0})}const a$=Symbol("rippleStop"),Ace=80;function i5(t,e){t.style.transform=e,t.style.webkitTransform=e}function l$(t){return t.constructor.name==="TouchEvent"}function tq(t){return t.constructor.name==="KeyboardEvent"}const Mce=function(t,e){var d;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;if(!tq(t)){const f=e.getBoundingClientRect(),h=l$(t)?t.touches[t.touches.length-1]:t;r=h.clientX-f.left,o=h.clientY-f.top}let i=0,s=.3;(d=e._ripple)!=null&&d.circle?(s=.15,i=e.clientWidth/2,i=n.center?i:i+Math.sqrt((r-i)**2+(o-i)**2)/4):i=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const a=`${(e.clientWidth-i*2)/2}px`,l=`${(e.clientHeight-i*2)/2}px`,c=n.center?a:`${r-i}px`,u=n.center?l:`${o-i}px`;return{radius:i,scale:s,x:c,y:u,centerX:a,centerY:l}},US={show(t,e){var h;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((h=e==null?void 0:e._ripple)!=null&&h.enabled))return;const r=document.createElement("span"),o=document.createElement("span");r.appendChild(o),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:i,scale:s,x:a,y:l,centerX:c,centerY:u}=Mce(t,e,n),d=`${i*2}px`;o.className="v-ripple__animation",o.style.width=d,o.style.height=d,e.appendChild(r);const f=window.getComputedStyle(e);f&&f.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),o.classList.add("v-ripple__animation--enter"),o.classList.add("v-ripple__animation--visible"),i5(o,`translate(${a}, ${l}) scale3d(${s},${s},${s})`),o.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{o.classList.remove("v-ripple__animation--enter"),o.classList.add("v-ripple__animation--in"),i5(o,`translate(${c}, ${u}) scale3d(1,1,1)`)})})},hide(t){var i;if(!((i=t==null?void 0:t._ripple)!=null&&i.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const n=Array.from(e).findLast(s=>!s.dataset.isHiding);if(n)n.dataset.isHiding="true";else return;const r=performance.now()-Number(n.dataset.activated),o=Math.max(250-r,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var a;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((a=n.parentNode)==null?void 0:a.parentNode)===t&&t.removeChild(n.parentNode)},300)},o)}};function nq(t){return typeof t>"u"||!!t}function P0(t){const e={},n=t.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||t[a$])){if(t[a$]=!0,l$(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||tq(t),n._ripple.class&&(e.class=n._ripple.class),l$(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{US.show(t,n,e)},n._ripple.showTimer=window.setTimeout(()=>{var r;(r=n==null?void 0:n._ripple)!=null&&r.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},Ace)}else US.show(t,n,e)}}function s5(t){t[a$]=!0}function Qa(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{Qa(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),US.hide(e)}}function rq(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let I0=!1;function a5(t,e){!I0&&e.includes(t.key)&&(I0=!0,P0(t))}function oq(t){I0=!1,Qa(t)}function iq(t){I0&&(I0=!1,Qa(t))}function sq(t,e,n){const{value:r,modifiers:o}=e,i=nq(r);i||US.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=i,t._ripple.centered=o.center,t._ripple.circle=o.circle;const s=RS(r)?r:{};s.class&&(t._ripple.class=s.class);const a=s.keys??["Enter","Space"];if(t._ripple.keyDownHandler=l=>a5(l,a),i&&!n){if(o.stop){t.addEventListener("touchstart",s5,{passive:!0}),t.addEventListener("mousedown",s5);return}t.addEventListener("touchstart",P0,{passive:!0}),t.addEventListener("touchend",Qa,{passive:!0}),t.addEventListener("touchmove",rq,{passive:!0}),t.addEventListener("touchcancel",Qa),t.addEventListener("mousedown",P0),t.addEventListener("mouseup",Qa),t.addEventListener("mouseleave",Qa),t.addEventListener("keydown",l=>a5(l,a)),t.addEventListener("keyup",oq),t.addEventListener("blur",iq),t.addEventListener("dragstart",Qa,{passive:!0})}else!i&&n&&aq(t)}function aq(t){var e;t.removeEventListener("mousedown",P0),t.removeEventListener("touchstart",P0),t.removeEventListener("touchend",Qa),t.removeEventListener("touchmove",rq),t.removeEventListener("touchcancel",Qa),t.removeEventListener("mouseup",Qa),t.removeEventListener("mouseleave",Qa),(e=t._ripple)!=null&&e.keyDownHandler&&t.removeEventListener("keydown",t._ripple.keyDownHandler),t.removeEventListener("keyup",oq),t.removeEventListener("dragstart",Qa),t.removeEventListener("blur",iq)}function Tce(t,e){sq(t,e,!1)}function Oce(t){aq(t),delete t._ripple}function $ce(t,e){if(e.value===e.oldValue)return;const n=nq(e.oldValue);sq(t,e,n)}const Hd={mounted:Tce,unmounted:Oce,updated:$ce},lq=Ze({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:X7},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:_r,appendIcon:_r,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,spaced:String,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...nf(),...On(),...Ql(),...Vc(),...of(),...h4(),...m4(),...Zb(),...jj(),...ml(),...Tj(),...Xb(),...Zr({tag:"button"}),...fi(),...af({variant:"elevated"})},"VBtn"),fl=Lt()({name:"VBtn",props:lq(),emits:{"group:selected":t=>!0},setup(t,e){let{attrs:n,slots:r}=e;const{themeClasses:o}=Yi(t),{borderClasses:i}=rf(t),{densityClasses:s}=zc(t),{dimensionStyles:a}=Bc(t),{elevationClasses:l}=sf(t),{loaderClasses:c}=g4(t),{locationStyles:u}=ew(t),{positionClasses:d}=Aj(t),{roundedClasses:f}=gl(t),{sizeClasses:h,sizeStyles:m}=Qb(t),g=p4(t,t.symbol,!1),v=Mj(t,n),y=ue(()=>{var R;return t.active!==void 0?t.active:v.isLink.value?(R=v.isActive)==null?void 0:R.value:g==null?void 0:g.isSelected.value}),b=De(()=>y.value?t.activeColor??t.color:t.color),x=ue(()=>{var T,z;return{color:(g==null?void 0:g.isSelected.value)&&(!v.isLink.value||((T=v.isActive)==null?void 0:T.value))||!g||((z=v.isActive)==null?void 0:z.value)?b.value??t.baseColor:t.baseColor,variant:t.variant}}),{colorClasses:k,colorStyles:w,variantClasses:S}=py(x),C=ue(()=>(g==null?void 0:g.disabled.value)||t.disabled),j=De(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),A=ue(()=>{if(!(t.value===void 0||typeof t.value=="symbol"))return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function _(R){var T;C.value||v.isLink.value&&(R.metaKey||R.ctrlKey||R.shiftKey||R.button!==0||n.target==="_blank")||(v.isLink.value?(T=v.navigate)==null||T.call(v,R):g==null||g.toggle())}return jce(v,g==null?void 0:g.select),hn(()=>{const R=v.isLink.value?"a":t.tag,T=!!(t.prependIcon||r.prepend),z=!!(t.appendIcon||r.append),U=!!(t.icon&&t.icon!==!0);return Zs(F(R,Pt({type:R==="a"?void 0:"button",class:["v-btn",g==null?void 0:g.selectedClass.value,{"v-btn--active":y.value,"v-btn--block":t.block,"v-btn--disabled":C.value,"v-btn--elevated":j.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--readonly":t.readonly,"v-btn--slim":t.slim,"v-btn--stacked":t.stacked},t.spaced?["v-btn--spaced",`v-btn--spaced-${t.spaced}`]:[],o.value,i.value,k.value,s.value,l.value,c.value,d.value,f.value,h.value,S.value,t.class],style:[w.value,a.value,u.value,m.value,t.style],"aria-busy":t.loading?!0:void 0,disabled:C.value||void 0,tabindex:t.loading||t.readonly?-1:void 0,onClick:_,value:A.value},v.linkProps),{default:()=>{var G;return[hy(!0,"v-btn"),!t.icon&&T&&Oe("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?F(ci,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},r.prepend):F(lo,{key:"prepend-icon",icon:t.prependIcon},null)]),Oe("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&U?F(lo,{key:"content-icon",icon:t.icon},null):F(ci,{key:"content-defaults",disabled:!U,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var ce;return[((ce=r.default)==null?void 0:ce.call(r))??Kr(t.text)]}})]),!t.icon&&z&&Oe("span",{key:"append",class:"v-btn__append"},[r.append?F(ci,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},r.append):F(lo,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&Oe("span",{key:"loader",class:"v-btn__loader"},[((G=r.loader)==null?void 0:G.call(r))??F(gce,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,width:"2"},null)])]}}),[[Hd,!C.value&&t.ripple,"",{center:!!t.icon}]])}),{group:g}}}),Ece=xj("v-alert-title"),_ce=Ze({iconSize:[Number,String],iconSizes:{type:Array,default:()=>[["x-small",10],["small",16],["default",24],["large",28],["x-large",32]]}},"iconSize");function Pce(t,e){return{iconSize:ue(()=>{const r=new Map(t.iconSizes),o=t.iconSize??e()??"default";return r.has(o)?r.get(o):o})}}const Ice=["success","info","warning","error"],Rce=Ze({border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:_r,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>Ice.includes(t)},...On(),...Ql(),...Vc(),...of(),..._ce(),...Zb(),...jj(),...ml(),...Zr(),...fi(),...af({variant:"flat"})},"VAlert"),cq=Lt()({name:"VAlert",props:Rce(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:r}=e;const o=Po(t,"modelValue"),i=De(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),{iconSize:s}=Pce(t,()=>t.prominent?44:void 0),{themeClasses:a}=Yi(t),{colorClasses:l,colorStyles:c,variantClasses:u}=py(()=>({color:t.color??t.type,variant:t.variant})),{densityClasses:d}=zc(t),{dimensionStyles:f}=Bc(t),{elevationClasses:h}=sf(t),{locationStyles:m}=ew(t),{positionClasses:g}=Aj(t),{roundedClasses:v}=gl(t),{textColorClasses:y,textColorStyles:b}=Oc(()=>t.borderColor),{t:x}=Lm(),k=De(()=>({"aria-label":x(t.closeLabel),onClick(w){o.value=!1,n("click:close",w)}}));return()=>{const w=!!(r.prepend||i.value),S=!!(r.title||t.title),C=!!(r.close||t.closable),j={density:t.density,icon:i.value,size:t.iconSize||t.prominent?s.value:void 0};return o.value&&F(t.tag,{class:Tt(["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},a.value,l.value,d.value,h.value,g.value,v.value,u.value,t.class]),style:Qt([c.value,f.value,m.value,t.style]),role:"alert"},{default:()=>{var A,_;return[hy(!1,"v-alert"),t.border&&Oe("div",{key:"border",class:Tt(["v-alert__border",y.value]),style:Qt(b.value)},null),w&&Oe("div",{key:"prepend",class:"v-alert__prepend"},[r.prepend?F(ci,{key:"prepend-defaults",disabled:!i.value,defaults:{VIcon:{...j}}},r.prepend):F(lo,Pt({key:"prepend-icon"},j),null)]),Oe("div",{class:"v-alert__content"},[S&&F(Ece,{key:"title"},{default:()=>{var R;return[((R=r.title)==null?void 0:R.call(r))??t.title]}}),((A=r.text)==null?void 0:A.call(r))??t.text,(_=r.default)==null?void 0:_.call(r)]),r.append&&Oe("div",{key:"append",class:"v-alert__append"},[r.append()]),C&&Oe("div",{key:"close",class:"v-alert__close"},[r.close?F(ci,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var R;return[(R=r.close)==null?void 0:R.call(r,{props:k.value})]}}):F(fl,Pt({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},k.value),null)])]}})}}}),Nce=Ze({start:Boolean,end:Boolean,icon:_r,image:String,text:String,...nf(),...On(),...Ql(),...ml(),...Xb(),...Zr(),...fi(),...af({variant:"flat"})},"VAvatar"),am=Lt()({name:"VAvatar",props:Nce(),setup(t,e){let{slots:n}=e;const{themeClasses:r}=Yi(t),{borderClasses:o}=rf(t),{colorClasses:i,colorStyles:s,variantClasses:a}=py(t),{densityClasses:l}=zc(t),{roundedClasses:c}=gl(t),{sizeClasses:u,sizeStyles:d}=Qb(t);return hn(()=>F(t.tag,{class:Tt(["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},r.value,o.value,i.value,l.value,c.value,u.value,a.value,t.class]),style:Qt([s.value,d.value,t.style])},{default:()=>[n.default?F(ci,{key:"content-defaults",defaults:{VImg:{cover:!0,src:t.image},VIcon:{icon:t.icon}}},{default:()=>[n.default()]}):t.image?F(d4,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?F(lo,{key:"icon",icon:t.icon},null):t.text,hy(!1,"v-avatar")]})),{}}}),Lce=Ze({text:String,onClick:za(),...On(),...fi()},"VLabel"),uq=Lt()({name:"VLabel",props:Lce(),setup(t,e){let{slots:n}=e;return hn(()=>{var r;return Oe("label",{class:Tt(["v-label",{"v-label--clickable":!!t.onClick},t.class]),style:Qt(t.style),onClick:t.onClick},[t.text,(r=n.default)==null?void 0:r.call(n)])}),{}}}),dq=Symbol.for("vuetify:selection-control-group"),fq=Ze({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:_r,trueIcon:_r,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Pl},...On(),...Ql(),...fi()},"SelectionControlGroup"),Dce=Ze({...fq({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");Lt()({name:"VSelectionControlGroup",props:Dce(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=Po(t,"modelValue"),o=Dc(),i=De(()=>t.id||`v-selection-control-group-${o}`),s=De(()=>t.name||i.value),a=new Set;return Ki(dq,{modelValue:r,forceUpdate:()=>{a.forEach(l=>l())},onForceUpdate:l=>{a.add(l),xs(()=>{a.delete(l)})}}),zh({[t.defaultsTarget]:{color:De(()=>t.color),disabled:De(()=>t.disabled),density:De(()=>t.density),error:De(()=>t.error),inline:De(()=>t.inline),modelValue:r,multiple:De(()=>!!t.multiple||t.multiple==null&&Array.isArray(r.value)),name:s,falseIcon:De(()=>t.falseIcon),trueIcon:De(()=>t.trueIcon),readonly:De(()=>t.readonly),ripple:De(()=>t.ripple),type:De(()=>t.type),valueComparator:De(()=>t.valueComparator)}}),hn(()=>{var l;return Oe("div",{class:Tt(["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class]),style:Qt(t.style),role:t.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}});const hq=Ze({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...On(),...fq()},"VSelectionControl");function Vce(t){const e=co(dq,void 0),{densityClasses:n}=zc(t),r=Po(t,"modelValue"),o=ue(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),i=ue(()=>t.falseValue!==void 0?t.falseValue:!1),s=ue(()=>!!t.multiple||t.multiple==null&&Array.isArray(r.value)),a=ue({get(){const h=e?e.modelValue.value:r.value;return s.value?ll(h).some(m=>t.valueComparator(m,o.value)):t.valueComparator(h,o.value)},set(h){if(t.readonly)return;const m=h?o.value:i.value;let g=m;s.value&&(g=h?[...ll(r.value),m]:ll(r.value).filter(v=>!t.valueComparator(v,o.value))),e?e.modelValue.value=g:r.value=g}}),{textColorClasses:l,textColorStyles:c}=Oc(()=>{if(!(t.error||t.disabled))return a.value?t.color:t.baseColor}),{backgroundColorClasses:u,backgroundColorStyles:d}=gc(()=>a.value&&!t.error&&!t.disabled?t.color:t.baseColor),f=ue(()=>a.value?t.trueIcon:t.falseIcon);return{group:e,densityClasses:n,trueValue:o,falseValue:i,model:a,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:d,icon:f}}const l5=Lt()({name:"VSelectionControl",directives:{vRipple:Hd},inheritAttrs:!1,props:hq(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:r}=e;const{group:o,densityClasses:i,icon:s,model:a,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:d,trueValue:f}=Vce(t),h=Dc(),m=Vt(!1),g=Vt(!1),v=Ye(),y=De(()=>t.id||`input-${h}`),b=De(()=>!t.disabled&&!t.readonly);o==null||o.onForceUpdate(()=>{v.value&&(v.value.checked=a.value)});function x(C){b.value&&(m.value=!0,LS(C.target,":focus-visible")!==!1&&(g.value=!0))}function k(){m.value=!1,g.value=!1}function w(C){C.stopPropagation()}function S(C){if(!b.value){v.value&&(v.value.checked=a.value);return}t.readonly&&o&&Ni(()=>o.forceUpdate()),a.value=C.target.checked}return hn(()=>{var R,T;const C=r.label?r.label({label:t.label,props:{for:y.value}}):t.label,[j,A]=wj(n),_=Oe("input",Pt({ref:v,checked:a.value,disabled:!!t.disabled,id:y.value,onBlur:k,onFocus:x,onInput:S,"aria-disabled":!!t.disabled,"aria-label":t.label,type:t.type,value:f.value,name:t.name,"aria-checked":t.type==="checkbox"?a.value:void 0},A),null);return Oe("div",Pt({class:["v-selection-control",{"v-selection-control--dirty":a.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":m.value,"v-selection-control--focus-visible":g.value,"v-selection-control--inline":t.inline},i.value,t.class]},j,{style:t.style}),[Oe("div",{class:Tt(["v-selection-control__wrapper",l.value]),style:Qt(c.value)},[(R=r.default)==null?void 0:R.call(r,{backgroundColorClasses:u,backgroundColorStyles:d}),Zs(Oe("div",{class:Tt(["v-selection-control__input"])},[((T=r.input)==null?void 0:T.call(r,{model:a,textColorClasses:l,textColorStyles:c,backgroundColorClasses:u,backgroundColorStyles:d,inputNode:_,icon:s.value,props:{onFocus:x,onBlur:k,id:y.value}}))??Oe(Dt,null,[s.value&&F(lo,{key:"icon",icon:s.value},null),_])]),[[Hd,!t.disabled&&!t.readonly&&t.ripple,null,{center:!0,circle:!0}]])]),C&&F(uq,{for:y.value,onClick:w},{default:()=>[C]})])}),{isFocused:m,input:v}}}),pq=Ze({indeterminate:Boolean,indeterminateIcon:{type:_r,default:"$checkboxIndeterminate"},...hq({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),c$=Lt()({name:"VCheckboxBtn",props:pq(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{slots:n}=e;const r=Po(t,"indeterminate"),o=Po(t,"modelValue");function i(l){r.value&&(r.value=!1)}const s=De(()=>r.value?t.indeterminateIcon:t.falseIcon),a=De(()=>r.value?t.indeterminateIcon:t.trueIcon);return hn(()=>{const l=Yl(l5.filterProps(t),["modelValue"]);return F(l5,Pt(l,{modelValue:o.value,"onUpdate:modelValue":[c=>o.value=c,i],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:s.value,trueIcon:a.value,"aria-checked":r.value?"mixed":void 0}),n)}),{}}});function mq(t){const{t:e}=Lm();function n(r){let{name:o,color:i,...s}=r;const a={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[o],l=t[`onClick:${o}`];function c(d){d.key!=="Enter"&&d.key!==" "||(d.preventDefault(),d.stopPropagation(),e4(l,new PointerEvent("click",d)))}const u=l&&a?e(`$vuetify.input.${a}`,t.label??""):void 0;return F(lo,Pt({icon:t[`${o}Icon`],"aria-label":u,onClick:l,onKeydown:c,color:i},s),null)}return{InputIcon:n}}const Bce=Ze({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...On(),...Yb({transition:{component:F7,leaveAbsolute:!0,group:!0}})},"VMessages"),zce=Lt()({name:"VMessages",props:Bce(),setup(t,e){let{slots:n}=e;const r=ue(()=>ll(t.messages)),{textColorClasses:o,textColorStyles:i}=Oc(()=>t.color);return hn(()=>F(gd,{transition:t.transition,tag:"div",class:Tt(["v-messages",o.value,t.class]),style:Qt([i.value,t.style])},{default:()=>[t.active&&r.value.map((s,a)=>Oe("div",{class:"v-messages__message",key:`${a}-${r.value}`},[n.message?n.message({message:s}):s]))]})),{}}}),gq=Ze({focused:Boolean,"onUpdate:focused":za()},"focus");function Oj(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hu();const n=Po(t,"focused"),r=De(()=>({[`${e}--focused`]:n.value}));function o(){n.value=!0}function i(){n.value=!1}return{focusClasses:r,isFocused:n,focus:o,blur:i}}const vq=Symbol.for("vuetify:form"),Hce=Ze({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function Fce(t){const e=Po(t,"modelValue"),n=De(()=>t.disabled),r=De(()=>t.readonly),o=Vt(!1),i=Ye([]),s=Ye([]);async function a(){const u=[];let d=!0;s.value=[],o.value=!0;for(const f of i.value){const h=await f.validate();if(h.length>0&&(d=!1,u.push({id:f.id,errorMessages:h})),!d&&t.fastFail)break}return s.value=u,o.value=!1,{valid:d,errors:s.value}}function l(){i.value.forEach(u=>u.reset())}function c(){i.value.forEach(u=>u.resetValidation())}return Bt(i,()=>{let u=0,d=0;const f=[];for(const h of i.value)h.isValid===!1?(d++,f.push({id:h.id,errorMessages:h.errorMessages})):h.isValid===!0&&u++;s.value=f,e.value=d>0?!1:u===i.value.length?!0:null},{deep:!0,flush:"post"}),Ki(vq,{register:u=>{let{id:d,vm:f,validate:h,reset:m,resetValidation:g}=u;i.value.some(v=>v.id===d),i.value.push({id:d,validate:h,reset:m,resetValidation:g,vm:Fb(f),isValid:null,errorMessages:[]})},unregister:u=>{i.value=i.value.filter(d=>d.id!==u)},update:(u,d,f)=>{const h=i.value.find(m=>m.id===u);h&&(h.isValid=d,h.errorMessages=f)},isDisabled:n,isReadonly:r,isValidating:o,isValid:e,items:i,validateOn:De(()=>t.validateOn)}),{errors:s,isDisabled:n,isReadonly:r,isValidating:o,isValid:e,items:i,validate:a,reset:l,resetValidation:c}}function yq(t){const e=co(vq,null);return{...e,isReadonly:ue(()=>!!((t==null?void 0:t.readonly)??(e==null?void 0:e.isReadonly.value))),isDisabled:ue(()=>!!((t==null?void 0:t.disabled)??(e==null?void 0:e.isDisabled.value)))}}const qce=Symbol.for("vuetify:rules");function Uce(t){const e=co(qce,null);if(!t){if(!e)throw new Error("Could not find Vuetify rules injection");return e.aliases}return(e==null?void 0:e.resolve(t))??De(t)}const Wce=Ze({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...gq()},"validation");function Kce(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hu(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dc();const r=Po(t,"modelValue"),o=ue(()=>t.validationValue===void 0?r.value:t.validationValue),i=yq(t),s=Uce(()=>t.rules),a=Ye([]),l=Vt(!0),c=ue(()=>!!(ll(r.value===""?null:r.value).length||ll(o.value===""?null:o.value).length)),u=ue(()=>{var k;return(k=t.errorMessages)!=null&&k.length?ll(t.errorMessages).concat(a.value).slice(0,Math.max(0,Number(t.maxErrors))):a.value}),d=ue(()=>{var S;let k=(t.validateOn??((S=i.validateOn)==null?void 0:S.value))||"input";k==="lazy"&&(k="input lazy"),k==="eager"&&(k="input eager");const w=new Set((k==null?void 0:k.split(" "))??[]);return{input:w.has("input"),blur:w.has("blur")||w.has("input")||w.has("invalid-input"),invalidInput:w.has("invalid-input"),lazy:w.has("lazy"),eager:w.has("eager")}}),f=ue(()=>{var k;return t.error||(k=t.errorMessages)!=null&&k.length?!1:t.rules.length?l.value?a.value.length||d.value.lazy?null:!0:!a.value.length:!0}),h=Vt(!1),m=ue(()=>({[`${e}--error`]:f.value===!1,[`${e}--dirty`]:c.value,[`${e}--disabled`]:i.isDisabled.value,[`${e}--readonly`]:i.isReadonly.value})),g=Gi("validation"),v=ue(()=>t.name??Ie(n));Ub(()=>{var k;(k=i.register)==null||k.call(i,{id:v.value,vm:g,validate:x,reset:y,resetValidation:b})}),Ca(()=>{var k;(k=i.unregister)==null||k.call(i,v.value)}),hl(async()=>{var k;d.value.lazy||await x(!d.value.eager),(k=i.update)==null||k.call(i,v.value,f.value,u.value)}),kh(()=>d.value.input||d.value.invalidInput&&f.value===!1,()=>{Bt(o,()=>{if(o.value!=null)x();else if(t.focused){const k=Bt(()=>t.focused,w=>{w||x(),k()})}})}),kh(()=>d.value.blur,()=>{Bt(()=>t.focused,k=>{k||x()})}),Bt([f,u],()=>{var k;(k=i.update)==null||k.call(i,v.value,f.value,u.value)});async function y(){r.value=null,await Ni(),await b()}async function b(){l.value=!0,d.value.lazy?a.value=[]:await x(!d.value.eager)}async function x(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const w=[];h.value=!0;for(const S of s.value){if(w.length>=Number(t.maxErrors??1))break;const j=await(typeof S=="function"?S:()=>S)(o.value);if(j!==!0){if(j!==!1&&typeof j!="string"){console.warn(`${j} is not a valid value. Rule functions must return boolean true or a string.`);continue}w.push(j||"")}}return a.value=w,h.value=!1,l.value=k,a.value}return{errorMessages:u,isDirty:c,isDisabled:i.isDisabled,isReadonly:i.isReadonly,isPristine:l,isValid:f,isValidating:h,reset:y,resetValidation:b,validate:x,validationClasses:m}}const $j=Ze({id:String,appendIcon:_r,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:_r,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":za(),"onClick:append":za(),...On(),...Ql(),...Jb(Vc(),["maxWidth","minWidth","width"]),...fi(),...Wce()},"VInput"),lm=Lt()({name:"VInput",props:{...$j()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:r,emit:o}=e;const{densityClasses:i}=zc(t),{dimensionStyles:s}=Bc(t),{themeClasses:a}=Yi(t),{rtlClasses:l}=Xl(),{InputIcon:c}=mq(t),u=Dc(),d=ue(()=>t.id||`input-${u}`),{errorMessages:f,isDirty:h,isDisabled:m,isReadonly:g,isPristine:v,isValid:y,isValidating:b,reset:x,resetValidation:k,validate:w,validationClasses:S}=Kce(t,"v-input",d),C=ue(()=>{var U;return(U=t.errorMessages)!=null&&U.length||!v.value&&f.value.length?f.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages}),j=De(()=>C.value.length>0),A=De(()=>!t.hideDetails||t.hideDetails==="auto"&&(j.value||!!r.details)),_=ue(()=>A.value?`${d.value}-messages`:void 0),R=ue(()=>({id:d,messagesId:_,isDirty:h,isDisabled:m,isReadonly:g,isPristine:v,isValid:y,isValidating:b,hasDetails:A,reset:x,resetValidation:k,validate:w})),T=De(()=>t.error||t.disabled?void 0:t.focused?t.color:t.baseColor),z=De(()=>{if(t.iconColor)return t.iconColor===!0?T.value:t.iconColor});return hn(()=>{var ce,ie,Z,W;const U=!!(r.prepend||t.prependIcon),G=!!(r.append||t.appendIcon);return Oe("div",{class:Tt(["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--focused":t.focused,"v-input--glow":t.glow,"v-input--hide-spin-buttons":t.hideSpinButtons},i.value,a.value,l.value,S.value,t.class]),style:Qt([s.value,t.style])},[U&&Oe("div",{key:"prepend",class:"v-input__prepend"},[(ce=r.prepend)==null?void 0:ce.call(r,R.value),t.prependIcon&&F(c,{key:"prepend-icon",name:"prepend",color:z.value},null)]),r.default&&Oe("div",{class:"v-input__control"},[(ie=r.default)==null?void 0:ie.call(r,R.value)]),G&&Oe("div",{key:"append",class:"v-input__append"},[t.appendIcon&&F(c,{key:"append-icon",name:"append",color:z.value},null),(Z=r.append)==null?void 0:Z.call(r,R.value)]),A.value&&Oe("div",{id:_.value,class:"v-input__details",role:"alert","aria-live":"polite"},[F(zce,{active:j.value,messages:C.value},{message:r.message}),(W=r.details)==null?void 0:W.call(r,R.value)])])}),{reset:x,resetValidation:k,validate:w,isValid:y,errorMessages:f}}}),_M=Symbol("Forwarded refs");function PM(t,e){let n=t;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function lf(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t[_M]=n,new Proxy(t,{get(o,i){if(Reflect.has(o,i))return Reflect.get(o,i);if(!(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))){for(const s of n)if(s.value&&Reflect.has(s.value,i)){const a=Reflect.get(s.value,i);return typeof a=="function"?a.bind(s.value):a}}},has(o,i){if(Reflect.has(o,i))return!0;if(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))return!1;for(const s of n)if(s.value&&Reflect.has(s.value,i))return!0;return!1},set(o,i,s){if(Reflect.has(o,i))return Reflect.set(o,i,s);if(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,i))return Reflect.set(a.value,i,s);return!1},getOwnPropertyDescriptor(o,i){var a;const s=Reflect.getOwnPropertyDescriptor(o,i);if(s)return s;if(!(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))){for(const l of n){if(!l.value)continue;const c=PM(l.value,i)??("_"in l.value?PM((a=l.value._)==null?void 0:a.setupState,i):void 0);if(c)return c}for(const l of n){const c=l.value&&l.value[_M];if(!c)continue;const u=c.slice();for(;u.length;){const d=u.shift(),f=PM(d.value,i);if(f)return f;const h=d.value&&d.value[_M];h&&u.push(...h)}}}}})}const Jce=Ze({...$j(),...Yl(pq(),["inline"])},"VCheckbox"),v4=Lt()({name:"VCheckbox",inheritAttrs:!1,props:Jce(),emits:{"update:modelValue":t=>!0,"update:focused":t=>!0},setup(t,e){let{attrs:n,slots:r}=e;const o=Po(t,"modelValue"),{isFocused:i,focus:s,blur:a}=Oj(t),l=Ye(),c=Dc();return hn(()=>{const[u,d]=wj(n),f=lm.filterProps(t),h=c$.filterProps(t);return F(lm,Pt({ref:l,class:["v-checkbox",t.class]},u,f,{modelValue:o.value,"onUpdate:modelValue":m=>o.value=m,id:t.id||`checkbox-${c}`,focused:i.value,style:t.style}),{...r,default:m=>{let{id:g,messagesId:v,isDisabled:y,isReadonly:b,isValid:x}=m;return F(c$,Pt(h,{id:g.value,"aria-describedby":v.value,disabled:y.value,readonly:b.value},d,{error:x.value===!1,modelValue:o.value,"onUpdate:modelValue":k=>o.value=k,onFocus:s,onBlur:a}),r)}})}),lf({},l)}});function Gce(t){let{selectedElement:e,containerElement:n,isRtl:r,isHorizontal:o}=t;const i=R0(o,n),s=bq(o,r,n),a=R0(o,e),l=wq(o,e),c=a*.4;return s>l?l-c:s+i<l+a?l-i+a+c:s}function Yce(t){let{selectedElement:e,containerElement:n,isHorizontal:r}=t;const o=R0(r,n),i=wq(r,e),s=R0(r,e);return i-o/2+s/2}function c5(t,e){const n=t?"scrollWidth":"scrollHeight";return(e==null?void 0:e[n])||0}function Xce(t,e){const n=t?"clientWidth":"clientHeight";return(e==null?void 0:e[n])||0}function bq(t,e,n){if(!n)return 0;const{scrollLeft:r,offsetWidth:o,scrollWidth:i}=n;return t?e?i-o+r:r:n.scrollTop}function R0(t,e){const n=t?"offsetWidth":"offsetHeight";return(e==null?void 0:e[n])||0}function wq(t,e){const n=t?"offsetLeft":"offsetTop";return(e==null?void 0:e[n])||0}const Qce=Symbol.for("vuetify:v-slide-group"),y4=Ze({centerActive:Boolean,contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Qce},nextIcon:{type:_r,default:"$next"},prevIcon:{type:_r,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...On(),...Ale({mobile:null}),...Zr(),...f4({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),WS=Lt()({name:"VSlideGroup",props:y4(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isRtl:r}=Xl(),{displayClasses:o,mobile:i}=a4(t),s=Cj(t,t.symbol),a=Vt(!1),l=Vt(0),c=Vt(0),u=Vt(0),d=ue(()=>t.direction==="horizontal"),{resizeRef:f,contentRect:h}=sm(),{resizeRef:m,contentRect:g}=sm(),v=Ole(),y=ue(()=>({container:f.el,duration:200,easing:"easeOutQuart"})),b=ue(()=>s.selected.value.length?s.items.value.findIndex(K=>K.id===s.selected.value[0]):-1),x=ue(()=>s.selected.value.length?s.items.value.findIndex(K=>K.id===s.selected.value[s.selected.value.length-1]):-1);if(Jr){let K=-1;Bt(()=>[s.selected.value,h.value,g.value,d.value],()=>{cancelAnimationFrame(K),K=requestAnimationFrame(()=>{if(h.value&&g.value){const P=d.value?"width":"height";c.value=h.value[P],u.value=g.value[P],a.value=c.value+1<u.value}if(b.value>=0&&m.el){const P=m.el.children[x.value];w(P,t.centerActive)}})})}const k=Vt(!1);function w(K,P){let M=0;P?M=Yce({containerElement:f.el,isHorizontal:d.value,selectedElement:K}):M=Gce({containerElement:f.el,isHorizontal:d.value,isRtl:r.value,selectedElement:K}),S(M)}function S(K){if(!Jr||!f.el)return;const P=R0(d.value,f.el),M=bq(d.value,r.value,f.el);if(!(c5(d.value,f.el)<=P||Math.abs(K-M)<16)){if(d.value&&r.value&&f.el){const{scrollWidth:he,offsetWidth:ge}=f.el;K=he-ge-K}d.value?v.horizontal(K,y.value):v(K,y.value)}}function C(K){const{scrollTop:P,scrollLeft:M}=K.target;l.value=d.value?M:P}function j(K){if(k.value=!0,!(!a.value||!m.el)){for(const P of K.composedPath())for(const M of m.el.children)if(M===P){w(M);return}}}function A(K){k.value=!1}let _=!1;function R(K){var P;!_&&!k.value&&!(K.relatedTarget&&((P=m.el)!=null&&P.contains(K.relatedTarget)))&&G(),_=!1}function T(){_=!0}function z(K){if(!m.el)return;function P(M){K.preventDefault(),G(M)}d.value?K.key==="ArrowRight"?P(r.value?"prev":"next"):K.key==="ArrowLeft"&&P(r.value?"next":"prev"):K.key==="ArrowDown"?P("next"):K.key==="ArrowUp"&&P("prev"),K.key==="Home"?P("first"):K.key==="End"&&P("last")}function U(K,P){if(!K)return;let M=K;do M=M==null?void 0:M[P==="next"?"nextElementSibling":"previousElementSibling"];while(M!=null&&M.hasAttribute("disabled"));return M}function G(K){if(!m.el)return;let P;if(!K)P=M0(m.el)[0];else if(K==="next"){if(P=U(m.el.querySelector(":focus"),K),!P)return G("first")}else if(K==="prev"){if(P=U(m.el.querySelector(":focus"),K),!P)return G("last")}else K==="first"?(P=m.el.firstElementChild,P!=null&&P.hasAttribute("disabled")&&(P=U(P,"next"))):K==="last"&&(P=m.el.lastElementChild,P!=null&&P.hasAttribute("disabled")&&(P=U(P,"prev")));P&&P.focus({preventScroll:!0})}function ce(K){const P=d.value&&r.value?-1:1,M=(K==="prev"?-P:P)*c.value;let N=l.value+M;if(d.value&&r.value&&f.el){const{scrollWidth:he,offsetWidth:ge}=f.el;N+=he-ge}S(N)}const ie=ue(()=>({next:s.next,prev:s.prev,select:s.select,isSelected:s.isSelected})),Z=ue(()=>a.value||Math.abs(l.value)>0),W=ue(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!i.value;case!0:return Z.value;case"mobile":return i.value||Z.value;default:return!i.value&&Z.value}}),B=ue(()=>Math.abs(l.value)>1),H=ue(()=>{if(!f.value||!Z.value)return!1;const K=c5(d.value,f.el),P=Xce(d.value,f.el);return K-P-Math.abs(l.value)>1});return hn(()=>F(t.tag,{class:Tt(["v-slide-group",{"v-slide-group--vertical":!d.value,"v-slide-group--has-affixes":W.value,"v-slide-group--is-overflowing":a.value},o.value,t.class]),style:Qt(t.style),tabindex:k.value||s.selected.value.length?-1:0,onFocus:R},{default:()=>{var K,P,M;return[W.value&&Oe("div",{key:"prev",class:Tt(["v-slide-group__prev",{"v-slide-group__prev--disabled":!B.value}]),onMousedown:T,onClick:()=>B.value&&ce("prev")},[((K=n.prev)==null?void 0:K.call(n,ie.value))??F(t5,null,{default:()=>[F(lo,{icon:r.value?t.nextIcon:t.prevIcon},null)]})]),Oe("div",{key:"container",ref:f,class:Tt(["v-slide-group__container",t.contentClass]),onScroll:C},[Oe("div",{ref:m,class:"v-slide-group__content",onFocusin:j,onFocusout:A,onKeydown:z},[(P=n.default)==null?void 0:P.call(n,ie.value)])]),W.value&&Oe("div",{key:"next",class:Tt(["v-slide-group__next",{"v-slide-group__next--disabled":!H.value}]),onMousedown:T,onClick:()=>H.value&&ce("next")},[((M=n.next)==null?void 0:M.call(n,ie.value))??F(t5,null,{default:()=>[F(lo,{icon:r.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:s.selected,scrollTo:ce,scrollOffset:l,focus:G,hasPrev:B,hasNext:H}}}),xq=Symbol.for("vuetify:v-chip-group"),Zce=Ze({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Pl},...y4(),...On(),...f4({selectedClass:"v-chip--selected"}),...Zr(),...fi(),...af({variant:"tonal"})},"VChipGroup");Lt()({name:"VChipGroup",props:Zce(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:r}=Yi(t),{isSelected:o,select:i,next:s,prev:a,selected:l}=Cj(t,xq);return zh({VChip:{baseColor:De(()=>t.baseColor),color:De(()=>t.color),disabled:De(()=>t.disabled),filter:De(()=>t.filter),variant:De(()=>t.variant)}}),hn(()=>{const c=WS.filterProps(t);return F(WS,Pt(c,{class:["v-chip-group",{"v-chip-group--column":t.column},r.value,t.class],style:t.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:o,select:i,next:s,prev:a,selected:l.value})]}})}),{}}});const eue=Ze({activeClass:String,appendAvatar:String,appendIcon:_r,baseColor:String,closable:Boolean,closeIcon:{type:_r,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:_r,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:_r,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:za(),onClickOnce:za(),...nf(),...On(),...Ql(),...of(),...h4(),...ml(),...Tj(),...Xb(),...Zr({tag:"span"}),...fi(),...af({variant:"tonal"})},"VChip"),kq=Lt()({name:"VChip",directives:{vRipple:Hd},props:eue(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,e){let{attrs:n,emit:r,slots:o}=e;const{t:i}=Lm(),{borderClasses:s}=rf(t),{densityClasses:a}=zc(t),{elevationClasses:l}=sf(t),{roundedClasses:c}=gl(t),{sizeClasses:u}=Qb(t),{themeClasses:d}=Yi(t),f=Po(t,"modelValue"),h=p4(t,xq,!1),m=Mj(t,n),g=De(()=>t.link!==!1&&m.isLink.value),v=ue(()=>!t.disabled&&t.link!==!1&&(!!h||t.link||m.isClickable.value)),y=De(()=>({"aria-label":i(t.closeLabel),disabled:t.disabled,onClick(C){C.preventDefault(),C.stopPropagation(),f.value=!1,r("click:close",C)}})),{colorClasses:b,colorStyles:x,variantClasses:k}=py(()=>({color:!h||h.isSelected.value?t.color??t.baseColor:t.baseColor,variant:t.variant}));function w(C){var j;r("click",C),v.value&&((j=m.navigate)==null||j.call(m,C),h==null||h.toggle())}function S(C){(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),w(C))}return()=>{var U;const C=m.isLink.value?"a":t.tag,j=!!(t.appendIcon||t.appendAvatar),A=!!(j||o.append),_=!!(o.close||t.closable),R=!!(o.filter||t.filter)&&h,T=!!(t.prependIcon||t.prependAvatar),z=!!(T||o.prepend);return f.value&&Zs(F(C,Pt({class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":v.value,"v-chip--filter":R,"v-chip--pill":t.pill,[`${t.activeClass}`]:t.activeClass&&((U=m.isActive)==null?void 0:U.value)},d.value,s.value,b.value,a.value,l.value,c.value,u.value,k.value,h==null?void 0:h.selectedClass.value,t.class],style:[x.value,t.style],disabled:t.disabled||void 0,draggable:t.draggable,tabindex:v.value?0:void 0,onClick:w,onKeydown:v.value&&!g.value&&S},m.linkProps),{default:()=>{var G;return[hy(v.value,"v-chip"),R&&F(U7,{key:"filter"},{default:()=>[Zs(Oe("div",{class:"v-chip__filter"},[o.filter?F(ci,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},o.filter):F(lo,{key:"filter-icon",icon:t.filterIcon},null)]),[[Bh,h.isSelected.value]])]}),z&&Oe("div",{key:"prepend",class:"v-chip__prepend"},[o.prepend?F(ci,{key:"prepend-defaults",disabled:!T,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},o.prepend):Oe(Dt,null,[t.prependIcon&&F(lo,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&F(am,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),Oe("div",{class:"v-chip__content","data-no-activator":""},[((G=o.default)==null?void 0:G.call(o,{isSelected:h==null?void 0:h.isSelected.value,selectedClass:h==null?void 0:h.selectedClass.value,select:h==null?void 0:h.select,toggle:h==null?void 0:h.toggle,value:h==null?void 0:h.value.value,disabled:t.disabled}))??Kr(t.text)]),A&&Oe("div",{key:"append",class:"v-chip__append"},[o.append?F(ci,{key:"append-defaults",disabled:!j,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},o.append):Oe(Dt,null,[t.appendIcon&&F(lo,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&F(am,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),_&&Oe("button",Pt({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},y.value),[o.close?F(ci,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},o.close):F(lo,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[Hd,v.value&&t.ripple,null]])}}}),tue=Ze({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...On(),...fi()},"VDivider"),Fh=Lt()({name:"VDivider",props:tue(),setup(t,e){let{attrs:n,slots:r}=e;const{themeClasses:o}=Yi(t),{textColorClasses:i,textColorStyles:s}=Oc(()=>t.color),a=ue(()=>{const l={};return t.length&&(l[t.vertical?"height":"width"]=fn(t.length)),t.thickness&&(l[t.vertical?"borderRightWidth":"borderTopWidth"]=fn(t.thickness)),l});return hn(()=>{const l=Oe("hr",{class:Tt([{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},o.value,i.value,t.class]),style:Qt([a.value,s.value,{"--v-border-opacity":t.opacity},t.style]),"aria-orientation":!n.role||n.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return r.default?Oe("div",{class:Tt(["v-divider__wrapper",{"v-divider__wrapper--vertical":t.vertical,"v-divider__wrapper--inset":t.inset}])},[l,Oe("div",{class:"v-divider__content"},[r.default()]),l]):l}),{}}}),u$=Symbol.for("vuetify:list");function Sq(){let{filterable:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{filterable:!1};const e=co(u$,{filterable:!1,hasPrepend:Vt(!1),updateHasPrepend:()=>null}),n={filterable:e.filterable||t,hasPrepend:Vt(!1),updateHasPrepend:r=>{r&&(n.hasPrepend.value=r)}};return Ki(u$,n),e}function Cq(){return co(u$,null)}const b4=t=>{const e={activate:n=>{let{id:r,value:o,activated:i}=n;return r=yn(r),t&&!o&&i.size===1&&i.has(r)||(o?i.add(r):i.delete(r)),i},in:(n,r,o)=>{let i=new Set;if(n!=null)for(const s of ll(n))i=e.activate({id:s,value:!0,activated:new Set(i),children:r,parents:o});return i},out:n=>Array.from(n)};return e},jq=t=>{const e=b4(t);return{activate:r=>{let{activated:o,id:i,...s}=r;i=yn(i);const a=o.has(i)?new Set([i]):new Set;return e.activate({...s,id:i,activated:a})},in:(r,o,i)=>{let s=new Set;if(r!=null){const a=ll(r);a.length&&(s=e.in(a.slice(0,1),o,i))}return s},out:(r,o,i)=>e.out(r,o,i)}},nue=t=>{const e=b4(t);return{activate:r=>{let{id:o,activated:i,children:s,...a}=r;return o=yn(o),s.has(o)?i:e.activate({id:o,activated:i,children:s,...a})},in:e.in,out:e.out}},rue=t=>{const e=jq(t);return{activate:r=>{let{id:o,activated:i,children:s,...a}=r;return o=yn(o),s.has(o)?i:e.activate({id:o,activated:i,children:s,...a})},in:e.in,out:e.out}},oue={open:t=>{let{id:e,value:n,opened:r,parents:o}=t;if(n){const i=new Set;i.add(e);let s=o.get(e);for(;s!=null;)i.add(s),s=o.get(s);return i}else return r.delete(e),r},select:()=>null},Aq={open:t=>{let{id:e,value:n,opened:r,parents:o}=t;if(n){let i=o.get(e);for(r.add(e);i!=null&&i!==e;)r.add(i),i=o.get(i);return r}else r.delete(e);return r},select:()=>null},iue={open:Aq.open,select:t=>{let{id:e,value:n,opened:r,parents:o}=t;if(!n)return r;const i=[];let s=o.get(e);for(;s!=null;)i.push(s),s=o.get(s);return new Set(i)}},w4=t=>{const e={select:n=>{let{id:r,value:o,selected:i}=n;if(r=yn(r),t&&!o){const s=Array.from(i.entries()).reduce((a,l)=>{let[c,u]=l;return u==="on"&&a.push(c),a},[]);if(s.length===1&&s[0]===r)return i}return i.set(r,o?"on":"off"),i},in:(n,r,o,i)=>{const s=new Map;for(const a of n||[])e.select({id:a,value:!0,selected:s,children:r,parents:o,disabled:i});return s},out:n=>{const r=[];for(const[o,i]of n.entries())i==="on"&&r.push(o);return r}};return e},Mq=t=>{const e=w4(t);return{select:r=>{let{selected:o,id:i,...s}=r;i=yn(i);const a=o.has(i)?new Map([[i,o.get(i)]]):new Map;return e.select({...s,id:i,selected:a})},in:(r,o,i,s)=>r!=null&&r.length?e.in(r.slice(0,1),o,i,s):new Map,out:(r,o,i)=>e.out(r,o,i)}},sue=t=>{const e=w4(t);return{select:r=>{let{id:o,selected:i,children:s,...a}=r;return o=yn(o),s.has(o)?i:e.select({id:o,selected:i,children:s,...a})},in:e.in,out:e.out}},aue=t=>{const e=Mq(t);return{select:r=>{let{id:o,selected:i,children:s,...a}=r;return o=yn(o),s.has(o)?i:e.select({id:o,selected:i,children:s,...a})},in:e.in,out:e.out}},Tq=t=>{const e={select:n=>{let{id:r,value:o,selected:i,children:s,parents:a,disabled:l}=n;r=yn(r);const c=new Map(i),u=[r];for(;u.length;){const f=u.shift();l.has(f)||i.set(yn(f),o?"on":"off"),s.has(f)&&u.push(...s.get(f))}let d=yn(a.get(r));for(;d;){let f=!0,h=!0;for(const m of s.get(d)){const g=yn(m);if(!l.has(g)&&(i.get(g)!=="on"&&(f=!1),i.has(g)&&i.get(g)!=="off"&&(h=!1),!f&&!h))break}i.set(d,f?"on":h?"off":"indeterminate"),d=yn(a.get(d))}return t&&!o&&Array.from(i.entries()).reduce((h,m)=>{let[g,v]=m;return v==="on"&&h.push(g),h},[]).length===0?c:i},in:(n,r,o,i)=>{let s=new Map;for(const a of n||[])s=e.select({id:a,value:!0,selected:s,children:r,parents:o,disabled:i});return s},out:(n,r)=>{const o=[];for(const[i,s]of n.entries())s==="on"&&!r.has(i)&&o.push(i);return o}};return e},lue=t=>{const e=Tq(t);return{select:e.select,in:e.in,out:(r,o,i)=>{const s=[];for(const[a,l]of r.entries())if(l==="on"){if(i.has(a)){const c=i.get(a);if(r.get(c)==="on")continue}s.push(a)}return s}}},N0=Symbol.for("vuetify:nested"),Oq={id:Vt(),root:{register:()=>null,unregister:()=>null,children:Ye(new Map),parents:Ye(new Map),disabled:Ye(new Set),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Ye(!1),selectable:Ye(!1),opened:Ye(new Set),activated:Ye(new Set),selected:Ye(new Map),selectedValues:Ye([]),getPath:()=>[]}},cue=Ze({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),uue=t=>{let e=!1;const n=Vt(new Map),r=Vt(new Map),o=Vt(new Set),i=Po(t,"opened",t.opened,g=>new Set(Array.isArray(g)?g.map(v=>yn(v)):g),g=>[...g.values()]),s=ue(()=>{if(typeof t.activeStrategy=="object")return t.activeStrategy;if(typeof t.activeStrategy=="function")return t.activeStrategy(t.mandatory);switch(t.activeStrategy){case"leaf":return nue(t.mandatory);case"single-leaf":return rue(t.mandatory);case"independent":return b4(t.mandatory);case"single-independent":default:return jq(t.mandatory)}}),a=ue(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;if(typeof t.selectStrategy=="function")return t.selectStrategy(t.mandatory);switch(t.selectStrategy){case"single-leaf":return aue(t.mandatory);case"leaf":return sue(t.mandatory);case"independent":return w4(t.mandatory);case"single-independent":return Mq(t.mandatory);case"trunk":return lue(t.mandatory);case"classic":default:return Tq(t.mandatory)}}),l=ue(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return iue;case"single":return oue;case"multiple":default:return Aq}}),c=Po(t,"activated",t.activated,g=>s.value.in(g,n.value,r.value),g=>s.value.out(g,n.value,r.value)),u=Po(t,"selected",t.selected,g=>a.value.in(g,n.value,r.value,o.value),g=>a.value.out(g,n.value,r.value));Ca(()=>{e=!0});function d(g){const v=[];let y=yn(g);for(;y!==void 0;)v.unshift(y),y=r.value.get(y);return v}const f=Gi("nested"),h=new Set,m={id:Vt(),root:{opened:i,activatable:De(()=>t.activatable),selectable:De(()=>t.selectable),activated:c,selected:u,selectedValues:ue(()=>{const g=[];for(const[v,y]of u.value.entries())y==="on"&&g.push(v);return g}),register:(g,v,y,b)=>{if(h.has(g)){d(g).map(String).join(" -> "),d(v).concat(g).map(String).join(" -> ");return}else h.add(g);v&&g!==v&&r.value.set(g,v),y&&o.value.add(g),b&&n.value.set(g,[]),v!=null&&n.value.set(v,[...n.value.get(v)||[],g])},unregister:g=>{if(e)return;h.delete(g),n.value.delete(g),o.value.delete(g);const v=r.value.get(g);if(v){const y=n.value.get(v)??[];n.value.set(v,y.filter(b=>b!==g))}r.value.delete(g)},open:(g,v,y)=>{f.emit("click:open",{id:g,value:v,path:d(g),event:y});const b=l.value.open({id:g,value:v,opened:new Set(i.value),children:n.value,parents:r.value,event:y});b&&(i.value=b)},openOnSelect:(g,v,y)=>{const b=l.value.select({id:g,value:v,selected:new Map(u.value),opened:new Set(i.value),children:n.value,parents:r.value,event:y});b&&(i.value=b)},select:(g,v,y)=>{f.emit("click:select",{id:g,value:v,path:d(g),event:y});const b=a.value.select({id:g,value:v,selected:new Map(u.value),children:n.value,parents:r.value,disabled:o.value,event:y});b&&(u.value=b),m.root.openOnSelect(g,v,y)},activate:(g,v,y)=>{if(!t.activatable)return m.root.select(g,!0,y);f.emit("click:activate",{id:g,value:v,path:d(g),event:y});const b=s.value.activate({id:g,value:v,activated:new Set(c.value),children:n.value,parents:r.value,event:y});if(b.size!==c.value.size)c.value=b;else{for(const x of b)if(!c.value.has(x)){c.value=b;return}for(const x of c.value)if(!b.has(x)){c.value=b;return}}},children:n,parents:r,disabled:o,getPath:d}};return Ki(N0,m),m.root},$q=(t,e,n)=>{const r=co(N0,Oq),o=Symbol("nested item"),i=ue(()=>{const a=yn(gs(t));return a!==void 0?a:o}),s={...r,id:i,open:(a,l)=>r.root.open(i.value,a,l),openOnSelect:(a,l)=>r.root.openOnSelect(i.value,a,l),isOpen:ue(()=>r.root.opened.value.has(i.value)),parent:ue(()=>r.root.parents.value.get(i.value)),activate:(a,l)=>r.root.activate(i.value,a,l),isActivated:ue(()=>r.root.activated.value.has(i.value)),select:(a,l)=>r.root.select(i.value,a,l),isSelected:ue(()=>r.root.selected.value.get(i.value)==="on"),isIndeterminate:ue(()=>r.root.selected.value.get(i.value)==="indeterminate"),isLeaf:ue(()=>!r.root.children.value.get(i.value)),isGroupActivator:r.isGroupActivator};return Ub(()=>{r.isGroupActivator||r.root.register(i.value,r.id.value,gs(e),n)}),Ca(()=>{r.isGroupActivator||r.root.unregister(i.value)}),n&&Ki(N0,s),s},due=()=>{const t=co(N0,Oq);Ki(N0,{...t,isGroupActivator:!0})},fue=dy({name:"VListGroupActivator",setup(t,e){let{slots:n}=e;return due(),()=>{var r;return(r=n.default)==null?void 0:r.call(n)}}}),hue=Ze({activeColor:String,baseColor:String,color:String,collapseIcon:{type:_r,default:"$collapse"},disabled:Boolean,expandIcon:{type:_r,default:"$expand"},rawId:[String,Number],prependIcon:_r,appendIcon:_r,fluid:Boolean,subgroup:Boolean,title:String,value:null,...On(),...Zr()},"VListGroup"),u5=Lt()({name:"VListGroup",props:hue(),setup(t,e){let{slots:n}=e;const{isOpen:r,open:o,id:i}=$q(()=>t.value,()=>t.disabled,!0),s=ue(()=>`v-list-group--id-${String(t.rawId??i.value)}`),a=Cq(),{isBooted:l}=J7();function c(h){var m;["INPUT","TEXTAREA"].includes((m=h.target)==null?void 0:m.tagName)||o(!r.value,h)}const u=ue(()=>({onClick:c,class:"v-list-group__header",id:s.value})),d=ue(()=>r.value?t.collapseIcon:t.expandIcon),f=ue(()=>({VListItem:{activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&d.value,appendIcon:t.appendIcon||!t.subgroup&&d.value,title:t.title,value:t.value}}));return hn(()=>F(t.tag,{class:Tt(["v-list-group",{"v-list-group--prepend":a==null?void 0:a.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":r.value},t.class]),style:Qt(t.style)},{default:()=>[n.activator&&F(ci,{defaults:f.value},{default:()=>[F(fue,null,{default:()=>[n.activator({props:u.value,isOpen:r.value})]})]}),F(gd,{transition:{component:q7},disabled:!l.value},{default:()=>{var h;return[Zs(Oe("div",{class:"v-list-group__items",role:"group","aria-labelledby":s.value},[(h=n.default)==null?void 0:h.call(n)]),[[Bh,r.value]])]}})]})),{isOpen:r}}}),pue=Ze({opacity:[Number,String],...On(),...Zr()},"VListItemSubtitle"),mue=Lt()({name:"VListItemSubtitle",props:pue(),setup(t,e){let{slots:n}=e;return hn(()=>F(t.tag,{class:Tt(["v-list-item-subtitle",t.class]),style:Qt([{"--v-list-item-subtitle-opacity":t.opacity},t.style])},n)),{}}}),x4=xj("v-list-item-title"),gue=Ze({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:_r,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:_r,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:za(),onClickOnce:za(),...nf(),...On(),...Ql(),...Vc(),...of(),...ml(),...Tj(),...Zr(),...fi(),...af({variant:"text"})},"VListItem"),Tv=Lt()({name:"VListItem",directives:{vRipple:Hd},props:gue(),emits:{click:t=>!0},setup(t,e){let{attrs:n,slots:r,emit:o}=e;const i=Mj(t,n),s=ue(()=>t.value===void 0?i.href.value:t.value),{activate:a,isActivated:l,select:c,isOpen:u,isSelected:d,isIndeterminate:f,isGroupActivator:h,root:m,parent:g,openOnSelect:v,id:y}=$q(s,()=>t.disabled,!1),b=Cq(),x=ue(()=>{var ge;return t.active!==!1&&(t.active||((ge=i.isActive)==null?void 0:ge.value)||(m.activatable.value?l.value:d.value))}),k=De(()=>t.link!==!1&&i.isLink.value),w=ue(()=>!!b&&(m.selectable.value||m.activatable.value||t.value!=null)),S=ue(()=>!t.disabled&&t.link!==!1&&(t.link||i.isClickable.value||w.value)),C=ue(()=>b?w.value?"option":"listitem":void 0),j=ue(()=>{if(w.value)return m.activatable.value?l.value:m.selectable.value?d.value:x.value}),A=De(()=>t.rounded||t.nav),_=De(()=>t.color??t.activeColor),R=De(()=>({color:x.value?_.value??t.baseColor:t.baseColor,variant:t.variant}));Bt(()=>{var ge;return(ge=i.isActive)==null?void 0:ge.value},ge=>{ge&&T()}),Ub(()=>{var ge;(ge=i.isActive)!=null&&ge.value&&T()});function T(){g.value!=null&&m.open(g.value,!0),v(!0)}const{themeClasses:z}=Yi(t),{borderClasses:U}=rf(t),{colorClasses:G,colorStyles:ce,variantClasses:ie}=py(R),{densityClasses:Z}=zc(t),{dimensionStyles:W}=Bc(t),{elevationClasses:B}=sf(t),{roundedClasses:H}=gl(A),K=De(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),P=De(()=>t.ripple!==void 0&&t.ripple&&(b!=null&&b.filterable)?{keys:["Enter"]}:t.ripple),M=ue(()=>({isActive:x.value,select:c,isOpen:u.value,isSelected:d.value,isIndeterminate:f.value}));function N(ge){var te,ee;o("click",ge),!["INPUT","TEXTAREA"].includes((te=ge.target)==null?void 0:te.tagName)&&S.value&&((ee=i.navigate)==null||ee.call(i,ge),!h&&(m.activatable.value?a(!l.value,ge):(m.selectable.value||t.value!=null&&!k.value)&&c(!d.value,ge)))}function he(ge){const te=ge.target;["INPUT","TEXTAREA"].includes(te.tagName)||(ge.key==="Enter"||ge.key===" "&&!(b!=null&&b.filterable))&&(ge.preventDefault(),ge.stopPropagation(),ge.target.dispatchEvent(new MouseEvent("click",ge)))}return hn(()=>{const ge=k.value?"a":t.tag,te=r.title||t.title!=null,ee=r.subtitle||t.subtitle!=null,be=!!(t.appendAvatar||t.appendIcon),ne=!!(be||r.append),D=!!(t.prependAvatar||t.prependIcon),L=!!(D||r.prepend);return b==null||b.updateHasPrepend(L),t.activeColor&&k7("active-color",["color","base-color"]),Zs(F(ge,Pt({class:["v-list-item",{"v-list-item--active":x.value,"v-list-item--disabled":t.disabled,"v-list-item--link":S.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!L&&(b==null?void 0:b.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&x.value},z.value,U.value,G.value,Z.value,B.value,K.value,H.value,ie.value,t.class],style:[ce.value,W.value,t.style],tabindex:S.value?b?-2:0:void 0,"aria-selected":j.value,role:C.value,onClick:N,onKeydown:S.value&&!k.value&&he},i.linkProps),{default:()=>{var re;return[hy(S.value||x.value,"v-list-item"),L&&Oe("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?F(ci,{key:"prepend-defaults",disabled:!D,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var Y;return[(Y=r.prepend)==null?void 0:Y.call(r,M.value)]}}):Oe(Dt,null,[t.prependAvatar&&F(am,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&F(lo,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),Oe("div",{class:"v-list-item__spacer"},null)]),Oe("div",{class:"v-list-item__content","data-no-activator":""},[te&&F(x4,{key:"title"},{default:()=>{var Y;return[((Y=r.title)==null?void 0:Y.call(r,{title:t.title}))??Kr(t.title)]}}),ee&&F(mue,{key:"subtitle"},{default:()=>{var Y;return[((Y=r.subtitle)==null?void 0:Y.call(r,{subtitle:t.subtitle}))??Kr(t.subtitle)]}}),(re=r.default)==null?void 0:re.call(r,M.value)]),ne&&Oe("div",{key:"append",class:"v-list-item__append"},[r.append?F(ci,{key:"append-defaults",disabled:!be,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var Y;return[(Y=r.append)==null?void 0:Y.call(r,M.value)]}}):Oe(Dt,null,[t.appendIcon&&F(lo,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&F(am,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),Oe("div",{class:"v-list-item__spacer"},null)])]}}),[[Hd,S.value&&P.value]])}),{activate:a,isActivated:l,isGroupActivator:h,isSelected:d,list:b,select:c,root:m,id:y,link:i}}}),vue=Ze({color:String,inset:Boolean,sticky:Boolean,title:String,...On(),...Zr()},"VListSubheader"),Eq=Lt()({name:"VListSubheader",props:vue(),setup(t,e){let{slots:n}=e;const{textColorClasses:r,textColorStyles:o}=Oc(()=>t.color);return hn(()=>{const i=!!(n.default||t.title);return F(t.tag,{class:Tt(["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},r.value,t.class]),style:Qt([{textColorStyles:o},t.style])},{default:()=>{var s;return[i&&Oe("div",{class:"v-list-subheader__text"},[((s=n.default)==null?void 0:s.call(n))??t.title])]}})}),{}}}),yue=Ze({items:Array,returnObject:Boolean},"VListChildren"),_q=Lt()({name:"VListChildren",props:yue(),setup(t,e){let{slots:n}=e;return Sq(),()=>{var r,o;return((r=n.default)==null?void 0:r.call(n))??((o=t.items)==null?void 0:o.map(i=>{var f,h;let{children:s,props:a,type:l,raw:c}=i;if(l==="divider")return((f=n.divider)==null?void 0:f.call(n,{props:a}))??F(Fh,a,null);if(l==="subheader")return((h=n.subheader)==null?void 0:h.call(n,{props:a}))??F(Eq,a,null);const u={subtitle:n.subtitle?m=>{var g;return(g=n.subtitle)==null?void 0:g.call(n,{...m,item:c})}:void 0,prepend:n.prepend?m=>{var g;return(g=n.prepend)==null?void 0:g.call(n,{...m,item:c})}:void 0,append:n.append?m=>{var g;return(g=n.append)==null?void 0:g.call(n,{...m,item:c})}:void 0,title:n.title?m=>{var g;return(g=n.title)==null?void 0:g.call(n,{...m,item:c})}:void 0},d=u5.filterProps(a);return s?F(u5,Pt(d,{value:t.returnObject?c:a==null?void 0:a.value,rawId:a==null?void 0:a.value}),{activator:m=>{let{props:g}=m;const v=Pt(a,g,{value:t.returnObject?c:a.value});return n.header?n.header({props:v}):F(Tv,v,u)},default:()=>F(_q,{items:s,returnObject:t.returnObject},n)}):n.item?n.item({props:a}):F(Tv,Pt(a,{value:t.returnObject?c:a.value}),u)}))}}}),Pq=Ze({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},itemType:{type:[Boolean,String,Array,Function],default:"type"},returnObject:Boolean,valueComparator:Function},"list-items"),bue=new Set(["item","divider","subheader"]);function Qg(t,e){const n=lc(e,t.itemTitle,e),r=lc(e,t.itemValue,n),o=lc(e,t.itemChildren),i=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?Yl(e,["children"]):e:void 0:lc(e,t.itemProps);let s=lc(e,t.itemType,"item");bue.has(s)||(s="item");const a={title:n,value:r,...i};return{type:s,title:String(a.title??""),value:a.value,props:a,children:s==="item"&&Array.isArray(o)?Iq(t,o):void 0,raw:e}}Qg.neededProps=["itemTitle","itemValue","itemChildren","itemProps","itemType"];function Iq(t,e){const n=Jb(t,Qg.neededProps),r=[];for(const o of e)r.push(Qg(n,o));return r}function wue(t){const e=ue(()=>Iq(t,t.items)),n=ue(()=>e.value.some(a=>a.value===null)),r=Vt(new Map),o=Vt([]);Ai(()=>{const a=e.value,l=new Map,c=[];for(let u=0;u<a.length;u++){const d=a[u];if(n$(d.value)||d.value===null){let f=l.get(d.value);f||(f=[],l.set(d.value,f)),f.push(d)}else c.push(d)}r.value=l,o.value=c});function i(a){const l=r.value,c=e.value,u=o.value,d=n.value,f=t.returnObject,h=!!t.valueComparator,m=t.valueComparator||Pl,g=Jb(t,Qg.neededProps),v=[];e:for(const y of a){if(!d&&y===null)continue;if(f&&typeof y=="string"){v.push(Qg(g,y));continue}const b=l.get(y);if(h||!b){for(const x of h?c:u)if(m(y,x.value)){v.push(x);continue e}v.push(Qg(g,y));continue}v.push(...b)}return v}function s(a){return t.returnObject?a.map(l=>{let{raw:c}=l;return c}):a.map(l=>{let{value:c}=l;return c})}return{items:e,transformIn:i,transformOut:s}}const xue=new Set(["item","divider","subheader"]);function kue(t,e){const n=n$(e)?e:lc(e,t.itemTitle),r=n$(e)?e:lc(e,t.itemValue,void 0),o=lc(e,t.itemChildren),i=t.itemProps===!0?Yl(e,["children"]):lc(e,t.itemProps);let s=lc(e,t.itemType,"item");xue.has(s)||(s="item");const a={title:n,value:r,...i};return{type:s,title:a.title,value:a.value,props:a,children:s==="item"&&o?Rq(t,o):void 0,raw:e}}function Rq(t,e){const n=[];for(const r of e)n.push(kue(t,r));return n}function Sue(t){return{items:ue(()=>Rq(t,t.items))}}const Cue=Ze({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,filterable:Boolean,expandIcon:_r,collapseIcon:_r,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":za(),"onClick:select":za(),"onUpdate:opened":za(),...cue({selectStrategy:"single-leaf",openStrategy:"list"}),...nf(),...On(),...Ql(),...Vc(),...of(),...Pq(),...ml(),...Zr(),...fi(),...af({variant:"text"})},"VList"),Ej=Lt()({name:"VList",props:Cue(),emits:{"update:selected":t=>!0,"update:activated":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:activate":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:r}=Sue(t),{themeClasses:o}=Yi(t),{backgroundColorClasses:i,backgroundColorStyles:s}=gc(()=>t.bgColor),{borderClasses:a}=rf(t),{densityClasses:l}=zc(t),{dimensionStyles:c}=Bc(t),{elevationClasses:u}=sf(t),{roundedClasses:d}=gl(t),{children:f,open:h,parents:m,select:g,getPath:v}=uue(t),y=De(()=>t.lines?`v-list--${t.lines}-line`:void 0),b=De(()=>t.activeColor),x=De(()=>t.baseColor),k=De(()=>t.color),w=De(()=>t.selectable||t.activatable);Sq({filterable:t.filterable}),zh({VListGroup:{activeColor:b,baseColor:x,color:k,expandIcon:De(()=>t.expandIcon),collapseIcon:De(()=>t.collapseIcon)},VListItem:{activeClass:De(()=>t.activeClass),activeColor:b,baseColor:x,color:k,density:De(()=>t.density),disabled:De(()=>t.disabled),lines:De(()=>t.lines),nav:De(()=>t.nav),slim:De(()=>t.slim),variant:De(()=>t.variant)}});const S=Vt(!1),C=Ye();function j(U){S.value=!0}function A(U){S.value=!1}function _(U){var G;!S.value&&!(U.relatedTarget&&((G=C.value)!=null&&G.contains(U.relatedTarget)))&&z()}function R(U){const G=U.target;if(!(!C.value||G.tagName==="INPUT"&&["Home","End"].includes(U.key)||G.tagName==="TEXTAREA")){if(U.key==="ArrowDown")z("next");else if(U.key==="ArrowUp")z("prev");else if(U.key==="Home")z("first");else if(U.key==="End")z("last");else return;U.preventDefault()}}function T(U){S.value=!0}function z(U){if(C.value)return D1(C.value,U)}return hn(()=>F(t.tag,{ref:C,class:Tt(["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav,"v-list--slim":t.slim},o.value,i.value,a.value,l.value,u.value,y.value,d.value,t.class]),style:Qt([s.value,c.value,t.style]),tabindex:t.disabled?-1:0,role:w.value?"listbox":"list","aria-activedescendant":void 0,onFocusin:j,onFocusout:A,onFocus:_,onKeydown:R,onMousedown:T},{default:()=>[F(_q,{items:r.value,returnObject:t.returnObject},n)]})),{open:h,select:g,focus:z,children:f,parents:m,getPath:v}}});function IM(t,e){return{x:t.x+e.x,y:t.y+e.y}}function jue(t,e){return{x:t.x-e.x,y:t.y-e.y}}function d5(t,e){if(t.side==="top"||t.side==="bottom"){const{side:n,align:r}=t,o=r==="left"?0:r==="center"?e.width/2:r==="right"?e.width:r,i=n==="top"?0:n==="bottom"?e.height:n;return IM({x:o,y:i},e)}else if(t.side==="left"||t.side==="right"){const{side:n,align:r}=t,o=n==="left"?0:n==="right"?e.width:n,i=r==="top"?0:r==="center"?e.height/2:r==="bottom"?e.height:r;return IM({x:o,y:i},e)}return IM({x:e.width/2,y:e.height/2},e)}const Nq={static:Tue,connected:$ue},Aue=Ze({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in Nq},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array],stickToTarget:Boolean},"VOverlay-location-strategies");function Mue(t,e){const n=Ye({}),r=Ye();Jr&&kh(()=>!!(e.isActive.value&&t.locationStrategy),a=>{var l,c;Bt(()=>t.locationStrategy,a),xs(()=>{window.removeEventListener("resize",o),visualViewport==null||visualViewport.removeEventListener("resize",i),visualViewport==null||visualViewport.removeEventListener("scroll",s),r.value=void 0}),window.addEventListener("resize",o,{passive:!0}),visualViewport==null||visualViewport.addEventListener("resize",i,{passive:!0}),visualViewport==null||visualViewport.addEventListener("scroll",s,{passive:!0}),typeof t.locationStrategy=="function"?r.value=(l=t.locationStrategy(e,t,n))==null?void 0:l.updateLocation:r.value=(c=Nq[t.locationStrategy](e,t,n))==null?void 0:c.updateLocation});function o(a){var l;(l=r.value)==null||l.call(r,a)}function i(a){var l;(l=r.value)==null||l.call(r,a)}function s(a){var l;(l=r.value)==null||l.call(r,a)}return{contentStyles:n,updateLocation:r}}function Tue(){}function Oue(t,e){const n=t4(t);return e?n.x+=parseFloat(t.style.right||0):n.x-=parseFloat(t.style.left||0),n.y-=parseFloat(t.style.top||0),n}function $ue(t,e,n){(Array.isArray(t.target.value)||_ae(t.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:o,preferredOrigin:i}=Z3(()=>{const y=r$(e.location,t.isRtl.value),b=e.origin==="overlap"?y:e.origin==="auto"?AM(y):r$(e.origin,t.isRtl.value);return y.side===b.side&&y.align===MM(b).align?{preferredAnchor:j6(y),preferredOrigin:j6(b)}:{preferredAnchor:y,preferredOrigin:b}}),[s,a,l,c]=["minWidth","minHeight","maxWidth","maxHeight"].map(y=>ue(()=>{const b=parseFloat(e[y]);return isNaN(b)?1/0:b})),u=ue(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const y=e.offset.split(" ").map(parseFloat);return y.length<2&&y.push(0),y}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let d=!1,f=-1;const h=new Jse(4),m=new ResizeObserver(()=>{if(!d)return;if(requestAnimationFrame(b=>{b!==f&&h.clear(),requestAnimationFrame(x=>{f=x})}),h.isFull){const b=h.values();if(Pl(b.at(-1),b.at(-3))&&!Pl(b.at(-1),b.at(-2)))return}const y=v();y&&h.push(y.flipped)});let g=new ku({x:0,y:0,width:0,height:0});Bt(t.target,(y,b)=>{b&&!Array.isArray(b)&&m.unobserve(b),Array.isArray(y)?Pl(y,b)||v():y&&m.observe(y)},{immediate:!0}),Bt(t.contentEl,(y,b)=>{b&&m.unobserve(b),y&&m.observe(y)},{immediate:!0}),xs(()=>{m.disconnect()});function v(){if(d=!1,requestAnimationFrame(()=>d=!0),!t.target.value||!t.contentEl.value)return;(Array.isArray(t.target.value)||t.target.value.offsetParent||t.target.value.getClientRects().length)&&(g=x7(t.target.value));const y=Oue(t.contentEl.value,t.isRtl.value),b=VS(t.contentEl.value),x=12;b.length||(b.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(y.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),y.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const k=b.reduce((z,U)=>{const G=eae(U);return z?new ku({x:Math.max(z.left,G.left),y:Math.max(z.top,G.top),width:Math.min(z.right,G.right)-Math.max(z.left,G.left),height:Math.min(z.bottom,G.bottom)-Math.max(z.top,G.top)}):G},void 0);k.x+=x,k.y+=x,k.width-=x*2,k.height-=x*2;let w={anchor:o.value,origin:i.value};function S(z){const U=new ku(y),G=d5(z.anchor,g),ce=d5(z.origin,U);let{x:ie,y:Z}=jue(G,ce);switch(z.anchor.side){case"top":Z-=u.value[0];break;case"bottom":Z+=u.value[0];break;case"left":ie-=u.value[0];break;case"right":ie+=u.value[0];break}switch(z.anchor.align){case"top":Z-=u.value[1];break;case"bottom":Z+=u.value[1];break;case"left":ie-=u.value[1];break;case"right":ie+=u.value[1];break}return U.x+=ie,U.y+=Z,U.width=Math.min(U.width,l.value),U.height=Math.min(U.height,c.value),{overflows:M6(U,k),x:ie,y:Z}}let C=0,j=0;const A={x:0,y:0},_={x:!1,y:!1};let R=-1;for(;!(R++>10);){const{x:z,y:U,overflows:G}=S(w);C+=z,j+=U,y.x+=z,y.y+=U;{const ce=A6(w.anchor),ie=G.x.before||G.x.after,Z=G.y.before||G.y.after;let W=!1;if(["x","y"].forEach(B=>{if(B==="x"&&ie&&!_.x||B==="y"&&Z&&!_.y){const H={anchor:{...w.anchor},origin:{...w.origin}},K=B==="x"?ce==="y"?MM:AM:ce==="y"?AM:MM;H.anchor=K(H.anchor),H.origin=K(H.origin);const{overflows:P}=S(H);(P[B].before<=G[B].before&&P[B].after<=G[B].after||P[B].before+P[B].after<(G[B].before+G[B].after)/2)&&(w=H,W=_[B]=!0)}}),W)continue}G.x.before&&(e.stickToTarget||(C+=G.x.before),y.x+=G.x.before),G.x.after&&(e.stickToTarget||(C-=G.x.after),y.x-=G.x.after),G.y.before&&(e.stickToTarget||(j+=G.y.before),y.y+=G.y.before),G.y.after&&(e.stickToTarget||(j-=G.y.after),y.y-=G.y.after);{const ce=M6(y,k);A.x=k.width-ce.x.before-ce.x.after,A.y=k.height-ce.y.before-ce.y.after,e.stickToTarget||(C+=ce.x.before),y.x+=ce.x.before,e.stickToTarget||(j+=ce.y.before),y.y+=ce.y.before}break}const T=A6(w.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${w.anchor.side} ${w.anchor.align}`,transformOrigin:`${w.origin.side} ${w.origin.align}`,top:fn(RM(j)),left:t.isRtl.value?void 0:fn(RM(C)),right:t.isRtl.value?fn(RM(-C)):void 0,minWidth:fn(T==="y"?Math.min(s.value,g.width):s.value),maxWidth:fn(f5(Il(A.x,s.value===1/0?0:s.value,l.value))),maxHeight:fn(f5(Il(A.y,a.value===1/0?0:a.value,c.value)))}),{available:A,contentBox:y,flipped:_}}return Bt(()=>[o.value,i.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>v()),Ni(()=>{const y=v();if(!y)return;const{available:b,contentBox:x}=y;x.height>b.y&&requestAnimationFrame(()=>{v(),requestAnimationFrame(()=>{v()})})}),{updateLocation:v}}function RM(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function f5(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let d$=!0;const KS=[];function Eue(t){!d$||KS.length?(KS.push(t),f$()):(d$=!1,t(),f$())}let h5=-1;function f$(){cancelAnimationFrame(h5),h5=requestAnimationFrame(()=>{const t=KS.shift();t&&t(),KS.length?f$():d$=!0})}const _k={none:null,close:Iue,block:Rue,reposition:Nue},_ue=Ze({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in _k}},"VOverlay-scroll-strategies");function Pue(t,e){if(!Jr)return;let n;Ai(async()=>{n==null||n.stop(),e.isActive.value&&t.scrollStrategy&&(n=b0(),await new Promise(r=>setTimeout(r)),n.active&&n.run(()=>{var r;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,n):(r=_k[t.scrollStrategy])==null||r.call(_k,e,t,n)}))}),xs(()=>{n==null||n.stop()})}function Iue(t){function e(n){t.isActive.value=!1}Lq(k4(t.target.value,t.contentEl.value),e)}function Rue(t,e){var a;const n=(a=t.root.value)==null?void 0:a.offsetParent,r=k4(t.target.value,t.contentEl.value),o=[...new Set([...VS(r,e.contained?n:void 0),...VS(t.contentEl.value,e.contained?n:void 0)])].filter(l=>!l.classList.contains("v-overlay-scroll-blocked")),i=window.innerWidth-document.documentElement.offsetWidth,s=(l=>o4(l)&&l)(n||document.documentElement);s&&t.root.value.classList.add("v-overlay--scroll-blocked"),o.forEach((l,c)=>{l.style.setProperty("--v-body-scroll-x",fn(-l.scrollLeft)),l.style.setProperty("--v-body-scroll-y",fn(-l.scrollTop)),l!==document.documentElement&&l.style.setProperty("--v-scrollbar-offset",fn(i)),l.classList.add("v-overlay-scroll-blocked")}),xs(()=>{o.forEach((l,c)=>{const u=parseFloat(l.style.getPropertyValue("--v-body-scroll-x")),d=parseFloat(l.style.getPropertyValue("--v-body-scroll-y")),f=l.style.scrollBehavior;l.style.scrollBehavior="auto",l.style.removeProperty("--v-body-scroll-x"),l.style.removeProperty("--v-body-scroll-y"),l.style.removeProperty("--v-scrollbar-offset"),l.classList.remove("v-overlay-scroll-blocked"),l.scrollLeft=-u,l.scrollTop=-d,l.style.scrollBehavior=f}),s&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function Nue(t,e,n){let r=!1,o=-1,i=-1;function s(a){Eue(()=>{var u,d;const l=performance.now();(d=(u=t.updateLocation).value)==null||d.call(u,a),r=(performance.now()-l)/(1e3/60)>2})}i=(typeof requestIdleCallback>"u"?a=>a():requestIdleCallback)(()=>{n.run(()=>{Lq(k4(t.target.value,t.contentEl.value),a=>{r?(cancelAnimationFrame(o),o=requestAnimationFrame(()=>{o=requestAnimationFrame(()=>{s(a)})})):s(a)})})}),xs(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(i),cancelAnimationFrame(o)})}function k4(t,e){return Array.isArray(t)?document.elementsFromPoint(...t).find(n=>!(e!=null&&e.contains(n))):t??e}function Lq(t,e){const n=[document,...VS(t)];n.forEach(r=>{r.addEventListener("scroll",e,{passive:!0})}),xs(()=>{n.forEach(r=>{r.removeEventListener("scroll",e)})})}const h$=Symbol.for("vuetify:v-menu"),Lue=Ze({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Due(t,e){let n=()=>{};function r(s){n==null||n();const a=Number(s?t.openDelay:t.closeDelay);return new Promise(l=>{n=Gse(a,()=>{e==null||e(s),l(s)})})}function o(){return r(!0)}function i(){return r(!1)}return{clearDelay:n,runOpenDelay:o,runCloseDelay:i}}const Vue=Ze({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...Lue()},"VOverlay-activator");function Bue(t,e){let{isActive:n,isTop:r,contentEl:o}=e;const i=Gi("useActivator"),s=Ye();let a=!1,l=!1,c=!0;const u=ue(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),d=ue(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!u.value),{runOpenDelay:f,runCloseDelay:h}=Due(t,j=>{j===(t.openOnHover&&a||u.value&&l)&&!(t.openOnHover&&n.value&&!r.value)&&(n.value!==j&&(c=!0),n.value=j)}),m=Ye(),g={onClick:j=>{j.stopPropagation(),s.value=j.currentTarget||j.target,n.value||(m.value=[j.clientX,j.clientY]),n.value=!n.value},onMouseenter:j=>{var A;(A=j.sourceCapabilities)!=null&&A.firesTouchEvents||(a=!0,s.value=j.currentTarget||j.target,f())},onMouseleave:j=>{a=!1,h()},onFocus:j=>{LS(j.target,":focus-visible")!==!1&&(l=!0,j.stopPropagation(),s.value=j.currentTarget||j.target,f())},onBlur:j=>{l=!1,j.stopPropagation(),h()}},v=ue(()=>{const j={};return d.value&&(j.onClick=g.onClick),t.openOnHover&&(j.onMouseenter=g.onMouseenter,j.onMouseleave=g.onMouseleave),u.value&&(j.onFocus=g.onFocus,j.onBlur=g.onBlur),j}),y=ue(()=>{const j={};if(t.openOnHover&&(j.onMouseenter=()=>{a=!0,f()},j.onMouseleave=()=>{a=!1,h()}),u.value&&(j.onFocusin=()=>{l=!0,f()},j.onFocusout=()=>{l=!1,h()}),t.closeOnContentClick){const A=co(h$,null);j.onClick=()=>{n.value=!1,A==null||A.closeParents()}}return j}),b=ue(()=>{const j={};return t.openOnHover&&(j.onMouseenter=()=>{c&&(a=!0,c=!1,f())},j.onMouseleave=()=>{a=!1,h()}),j});Bt(r,j=>{var A;j&&(t.openOnHover&&!a&&(!u.value||!l)||u.value&&!l&&(!t.openOnHover||!a))&&!((A=o.value)!=null&&A.contains(document.activeElement))&&(n.value=!1)}),Bt(n,j=>{j||setTimeout(()=>{m.value=void 0})},{flush:"post"});const x=t$();Ai(()=>{x.value&&Ni(()=>{s.value=x.el})});const k=t$(),w=ue(()=>t.target==="cursor"&&m.value?m.value:k.value?k.el:Dq(t.target,i)||s.value),S=ue(()=>Array.isArray(w.value)?void 0:w.value);let C;return Bt(()=>!!t.activator,j=>{j&&Jr?(C=b0(),C.run(()=>{zue(t,i,{activatorEl:s,activatorEvents:v})})):C&&C.stop()},{flush:"post",immediate:!0}),xs(()=>{C==null||C.stop()}),{activatorEl:s,activatorRef:x,target:w,targetEl:S,targetRef:k,activatorEvents:v,contentEvents:y,scrimEvents:b}}function zue(t,e,n){let{activatorEl:r,activatorEvents:o}=n;Bt(()=>t.activator,(l,c)=>{if(c&&l!==c){const u=a(c);u&&s(u)}l&&Ni(()=>i())},{immediate:!0}),Bt(()=>t.activatorProps,()=>{i()}),xs(()=>{s()});function i(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&tae(l,Pt(o.value,c))}function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&nae(l,Pt(o.value,c))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const c=Dq(l,e);return r.value=(c==null?void 0:c.nodeType)===Node.ELEMENT_NODE?c:void 0,r.value}}function Dq(t,e){var r,o;if(!t)return;let n;if(t==="parent"){let i=(o=(r=e==null?void 0:e.proxy)==null?void 0:r.$el)==null?void 0:o.parentNode;for(;i!=null&&i.hasAttribute("data-no-activator");)i=i.parentNode;n=i}else typeof t=="string"?n=document.querySelector(t):"$el"in t?n=t.$el:n=t;return n}function Hue(){if(!Jr)return Vt(!1);const{ssr:t}=a4();if(t){const e=Vt(!1);return hl(()=>{e.value=!0}),e}else return Vt(!0)}const Vq=Ze({eager:Boolean},"lazy");function Bq(t,e){const n=Vt(!1),r=De(()=>n.value||t.eager||e.value);Bt(e,()=>n.value=!0);function o(){t.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:o}}function tw(){const e=Gi("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const p5=Symbol.for("vuetify:stack"),qy=ji([]);function Fue(t,e,n){const r=Gi("useStack"),o=!n,i=co(p5,void 0),s=ji({activeChildren:new Set});Ki(p5,s);const a=Vt(Number(gs(e)));kh(t,()=>{var d;const u=(d=qy.at(-1))==null?void 0:d[1];a.value=u?u+10:Number(gs(e)),o&&qy.push([r.uid,a.value]),i==null||i.activeChildren.add(r.uid),xs(()=>{if(o){const f=yn(qy).findIndex(h=>h[0]===r.uid);qy.splice(f,1)}i==null||i.activeChildren.delete(r.uid)})});const l=Vt(!0);o&&Ai(()=>{var d;const u=((d=qy.at(-1))==null?void 0:d[0])===r.uid;setTimeout(()=>l.value=u)});const c=De(()=>!s.activeChildren.size);return{globalTop:Hb(l),localTop:c,stackStyles:De(()=>({zIndex:a.value}))}}function que(t){return{teleportTarget:ue(()=>{const n=t();if(n===!0||!Jr)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null)return;let o=[...r.children].find(i=>i.matches(".v-overlay-container"));return o||(o=document.createElement("div"),o.className="v-overlay-container",r.appendChild(o)),o})}}function Uue(){return!0}function zq(t,e,n){if(!t||Hq(t,n)===!1)return!1;const r=T7(e);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===t.target)return!1;const o=(typeof n.value=="object"&&n.value.include||(()=>[]))();return o.push(e),!o.some(i=>i==null?void 0:i.contains(t.target))}function Hq(t,e){return(typeof e.value=="object"&&e.value.closeConditional||Uue)(t)}function Wue(t,e,n){const r=typeof n.value=="function"?n.value:n.value.handler;t.shadowTarget=t.target,e._clickOutside.lastMousedownWasOutside&&zq(t,e,n)&&setTimeout(()=>{Hq(t,n)&&r&&r(t)},0)}function m5(t,e){const n=T7(t);e(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&e(n)}const g5={mounted(t,e){const n=o=>Wue(o,t,e),r=o=>{t._clickOutside.lastMousedownWasOutside=zq(o,t,e)};m5(t,o=>{o.addEventListener("click",n,!0),o.addEventListener("mousedown",r,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[e.instance.$.uid]={onClick:n,onMousedown:r}},beforeUnmount(t,e){t._clickOutside&&(m5(t,n=>{var i;if(!n||!((i=t._clickOutside)!=null&&i[e.instance.$.uid]))return;const{onClick:r,onMousedown:o}=t._clickOutside[e.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",o,!0)}),delete t._clickOutside[e.instance.$.uid])}};function Kue(t){const{modelValue:e,color:n,...r}=t;return F(im,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&Oe("div",Pt({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},r),null)]})}const _j=Ze({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Vue(),...On(),...Vc(),...Vq(),...Aue(),..._ue(),...fi(),...Yb()},"VOverlay"),Ov=Lt()({name:"VOverlay",directives:{vClickOutside:g5},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,..._j()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,keydown:t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{slots:n,attrs:r,emit:o}=e;const i=Gi("VOverlay"),s=Ye(),a=Ye(),l=Ye(),c=Po(t,"modelValue"),u=ue({get:()=>c.value,set:ge=>{ge&&t.disabled||(c.value=ge)}}),{themeClasses:d}=Yi(t),{rtlClasses:f,isRtl:h}=Xl(),{hasContent:m,onAfterLeave:g}=Bq(t,u),v=gc(()=>typeof t.scrim=="string"?t.scrim:null),{globalTop:y,localTop:b,stackStyles:x}=Fue(u,()=>t.zIndex,t._disableGlobalStack),{activatorEl:k,activatorRef:w,target:S,targetEl:C,targetRef:j,activatorEvents:A,contentEvents:_,scrimEvents:R}=Bue(t,{isActive:u,isTop:b,contentEl:l}),{teleportTarget:T}=que(()=>{var ee,be,ne;const ge=t.attach||t.contained;if(ge)return ge;const te=((ee=k==null?void 0:k.value)==null?void 0:ee.getRootNode())||((ne=(be=i.proxy)==null?void 0:be.$el)==null?void 0:ne.getRootNode());return te instanceof ShadowRoot?te:!1}),{dimensionStyles:z}=Bc(t),U=Hue(),{scopeId:G}=tw();Bt(()=>t.disabled,ge=>{ge&&(u.value=!1)});const{contentStyles:ce,updateLocation:ie}=Mue(t,{isRtl:h,contentEl:l,target:S,isActive:u});Pue(t,{root:s,contentEl:l,targetEl:C,target:S,isActive:u,updateLocation:ie});function Z(ge){o("click:outside",ge),t.persistent?M():u.value=!1}function W(ge){return u.value&&y.value&&(!t.scrim||ge.target===a.value||ge instanceof MouseEvent&&ge.shadowTarget===a.value)}Jr&&Bt(u,ge=>{ge?window.addEventListener("keydown",B):window.removeEventListener("keydown",B)},{immediate:!0}),Ca(()=>{Jr&&window.removeEventListener("keydown",B)});function B(ge){var te,ee,be;ge.key==="Escape"&&y.value&&((te=l.value)!=null&&te.contains(document.activeElement)||o("keydown",ge),t.persistent?M():(u.value=!1,(ee=l.value)!=null&&ee.contains(document.activeElement)&&((be=k.value)==null||be.focus())))}function H(ge){ge.key==="Escape"&&!y.value||o("keydown",ge)}const K=Sce();kh(()=>t.closeOnBack,()=>{Cce(K,ge=>{y.value&&u.value?(ge(!1),t.persistent?M():u.value=!1):ge()})});const P=Ye();Bt(()=>u.value&&(t.absolute||t.contained)&&T.value==null,ge=>{if(ge){const te=O7(s.value);te&&te!==document.scrollingElement&&(P.value=te.scrollTop)}});function M(){t.noClickAnimation||l.value&&ld(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:O0})}function N(){o("afterEnter")}function he(){g(),o("afterLeave")}return hn(()=>{var ge;return Oe(Dt,null,[(ge=n.activator)==null?void 0:ge.call(n,{isActive:u.value,targetRef:j,props:Pt({ref:w},A.value,t.activatorProps)}),U.value&&m.value&&F(yF,{disabled:!T.value,to:T.value},{default:()=>[Oe("div",Pt({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":u.value,"v-overlay--contained":t.contained},d.value,f.value,t.class],style:[x.value,{"--v-overlay-opacity":t.opacity,top:fn(P.value)},t.style],ref:s,onKeydown:H},G,r),[F(Kue,Pt({color:v,modelValue:u.value&&!!t.scrim,ref:a},R.value),null),F(gd,{appear:!0,persisted:!0,transition:t.transition,target:S.value,onAfterEnter:N,onAfterLeave:he},{default:()=>{var te;return[Zs(Oe("div",Pt({ref:l,class:["v-overlay__content",t.contentClass],style:[z.value,ce.value]},_.value,t.contentProps),[(te=n.default)==null?void 0:te.call(n,{isActive:u})]),[[Bh,u.value],[g5,{handler:Z,closeConditional:W,include:()=>[k.value]}]])]}})])]})])}),{activatorEl:k,scrimEl:a,target:S,animateClick:M,contentEl:l,globalTop:y,localTop:b,updateLocation:ie}}}),Jue=Ze({id:String,submenu:Boolean,disableInitialFocus:Boolean,...Yl(_j({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:c4}}),["absolute"])},"VMenu"),nw=Lt()({name:"VMenu",props:Jue(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=Po(t,"modelValue"),{scopeId:o}=tw(),{isRtl:i}=Xl(),s=Dc(),a=De(()=>t.id||`v-menu-${s}`),l=Ye(),c=co(h$,null),u=Vt(new Set);Ki(h$,{register(){u.value.add(s)},unregister(){u.value.delete(s)},closeParents(v){setTimeout(()=>{var y;!u.value.size&&!t.persistent&&(v==null||(y=l.value)!=null&&y.contentEl&&!Yse(v,l.value.contentEl))&&(r.value=!1,c==null||c.closeParents())},40)}}),Ca(()=>{c==null||c.unregister(),document.removeEventListener("focusin",d)}),AF(()=>r.value=!1);async function d(v){var x,k,w;const y=v.relatedTarget,b=v.target;await Ni(),r.value&&y!==b&&((x=l.value)!=null&&x.contentEl)&&((k=l.value)!=null&&k.globalTop)&&![document,l.value.contentEl].includes(b)&&!l.value.contentEl.contains(b)&&((w=M0(l.value.contentEl)[0])==null||w.focus())}Bt(r,v=>{v?(c==null||c.register(),Jr&&!t.disableInitialFocus&&document.addEventListener("focusin",d,{once:!0})):(c==null||c.unregister(),Jr&&document.removeEventListener("focusin",d))},{immediate:!0});function f(v){c==null||c.closeParents(v)}function h(v){var y,b,x,k,w;if(!t.disabled)if(v.key==="Tab"||v.key==="Enter"&&!t.closeOnContentClick){if(v.key==="Enter"&&(v.target instanceof HTMLTextAreaElement||v.target instanceof HTMLInputElement&&v.target.closest("form")))return;v.key==="Enter"&&v.preventDefault(),y7(M0((y=l.value)==null?void 0:y.contentEl,!1),v.shiftKey?"prev":"next",C=>C.tabIndex>=0)||(r.value=!1,(x=(b=l.value)==null?void 0:b.activatorEl)==null||x.focus())}else t.submenu&&v.key===(i.value?"ArrowRight":"ArrowLeft")&&(r.value=!1,(w=(k=l.value)==null?void 0:k.activatorEl)==null||w.focus())}function m(v){var b;if(t.disabled)return;const y=(b=l.value)==null?void 0:b.contentEl;y&&r.value?v.key==="ArrowDown"?(v.preventDefault(),v.stopImmediatePropagation(),D1(y,"next")):v.key==="ArrowUp"?(v.preventDefault(),v.stopImmediatePropagation(),D1(y,"prev")):t.submenu&&(v.key===(i.value?"ArrowRight":"ArrowLeft")?r.value=!1:v.key===(i.value?"ArrowLeft":"ArrowRight")&&(v.preventDefault(),D1(y,"first"))):(t.submenu?v.key===(i.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(v.key))&&(r.value=!0,v.preventDefault(),setTimeout(()=>setTimeout(()=>m(v))))}const g=ue(()=>Pt({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-controls":a.value,onKeydown:m},t.activatorProps));return hn(()=>{const v=Ov.filterProps(t);return F(Ov,Pt({ref:l,id:a.value,class:["v-menu",t.class],style:t.style},v,{modelValue:r.value,"onUpdate:modelValue":y=>r.value=y,absolute:!0,activatorProps:g.value,location:t.location??(t.submenu?"end":"bottom"),"onClick:outside":f,onKeydown:h},o),{activator:n.activator,default:function(){for(var y=arguments.length,b=new Array(y),x=0;x<y;x++)b[x]=arguments[x];return F(ci,{root:"VMenu"},{default:()=>{var k;return[(k=n.default)==null?void 0:k.call(n,...b)]}})}})}),lf({id:a,openChildren:u},l)}}),Gue=Ze({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...On(),...Yb({transition:{component:F7}})},"VCounter"),Fq=Lt()({name:"VCounter",functional:!0,props:Gue(),setup(t,e){let{slots:n}=e;const r=De(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return hn(()=>F(gd,{transition:t.transition},{default:()=>[Zs(Oe("div",{class:Tt(["v-counter",{"text-error":t.max&&!t.disabled&&parseFloat(t.value)>parseFloat(t.max)},t.class]),style:Qt(t.style)},[n.default?n.default({counter:r.value,max:t.max,value:t.value}):r.value]),[[Bh,t.active]])]})),{}}}),Yue=Ze({floating:Boolean,...On()},"VFieldLabel"),Xw=Lt()({name:"VFieldLabel",props:Yue(),setup(t,e){let{slots:n}=e;return hn(()=>F(uq,{class:Tt(["v-field-label",{"v-field-label--floating":t.floating},t.class]),style:Qt(t.style)},n)),{}}}),Xue=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],S4=Ze({appendInnerIcon:_r,bgColor:String,clearable:Boolean,clearIcon:{type:_r,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,details:Boolean,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:_r,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>Xue.includes(t)},"onClick:clear":za(),"onClick:appendInner":za(),"onClick:prependInner":za(),...On(),...m4(),...ml(),...fi()},"VField"),JS=Lt()({name:"VField",inheritAttrs:!1,props:{id:String,...gq(),...S4()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:o}=e;const{themeClasses:i}=Yi(t),{loaderClasses:s}=g4(t),{focusClasses:a,isFocused:l,focus:c,blur:u}=Oj(t),{InputIcon:d}=mq(t),{roundedClasses:f}=gl(t),{rtlClasses:h}=Xl(),m=De(()=>t.dirty||t.active),g=De(()=>!!(t.label||o.label)),v=De(()=>!t.singleLine&&g.value),y=Dc(),b=ue(()=>t.id||`input-${y}`),x=De(()=>t.details?`${b.value}-messages`:void 0),k=Ye(),w=Ye(),S=Ye(),C=ue(()=>["plain","underlined"].includes(t.variant)),j=ue(()=>t.error||t.disabled?void 0:m.value&&l.value?t.color:t.baseColor),A=ue(()=>{if(!(!t.iconColor||t.glow&&!l.value))return t.iconColor===!0?j.value:t.iconColor}),{backgroundColorClasses:_,backgroundColorStyles:R}=gc(()=>t.bgColor),{textColorClasses:T,textColorStyles:z}=Oc(j);Bt(m,ce=>{if(v.value&&!Av()){const ie=k.value.$el,Z=w.value.$el;requestAnimationFrame(()=>{const W=t4(ie),B=Z.getBoundingClientRect(),H=B.x-W.x,K=B.y-W.y-(W.height/2-B.height/2),P=B.width/.75,M=Math.abs(P-W.width)>1?{maxWidth:fn(P)}:void 0,N=getComputedStyle(ie),he=getComputedStyle(Z),ge=parseFloat(N.transitionDuration)*1e3||150,te=parseFloat(he.getPropertyValue("--v-field-label-scale")),ee=he.getPropertyValue("color");ie.style.visibility="visible",Z.style.visibility="hidden",ld(ie,{transform:`translate(${H}px, ${K}px) scale(${te})`,color:ee,...M},{duration:ge,easing:O0,direction:ce?"normal":"reverse"}).finished.then(()=>{ie.style.removeProperty("visibility"),Z.style.removeProperty("visibility")})})}},{flush:"post"});const U=ue(()=>({isActive:m,isFocused:l,controlRef:S,blur:u,focus:c}));function G(ce){ce.target!==document.activeElement&&ce.preventDefault()}return hn(()=>{var H,K,P;const ce=t.variant==="outlined",ie=!!(o["prepend-inner"]||t.prependInnerIcon),Z=!!(t.clearable||o.clear)&&!t.disabled,W=!!(o["append-inner"]||t.appendInnerIcon||Z),B=()=>o.label?o.label({...U.value,label:t.label,props:{for:b.value}}):t.label;return Oe("div",Pt({class:["v-field",{"v-field--active":m.value,"v-field--appended":W,"v-field--center-affix":t.centerAffix??!C.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--glow":t.glow,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":ie,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!B(),[`v-field--variant-${t.variant}`]:!0},i.value,_.value,a.value,s.value,f.value,h.value,t.class],style:[R.value,t.style],onClick:G},n),[Oe("div",{class:"v-field__overlay"},null),F(eq,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:o.loader}),ie&&Oe("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&F(d,{key:"prepend-icon",name:"prependInner",color:A.value},null),(H=o["prepend-inner"])==null?void 0:H.call(o,U.value)]),Oe("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&v.value&&F(Xw,{key:"floating-label",ref:w,class:Tt([T.value]),floating:!0,for:b.value,"aria-hidden":!m.value,style:Qt(z.value)},{default:()=>[B()]}),g.value&&F(Xw,{key:"label",ref:k,for:b.value},{default:()=>[B()]}),((K=o.default)==null?void 0:K.call(o,{...U.value,props:{id:b.value,class:"v-field__input","aria-describedby":x.value},focus:c,blur:u}))??Oe("div",{id:b.value,class:"v-field__input","aria-describedby":x.value},null)]),Z&&F(U7,{key:"clear"},{default:()=>[Zs(Oe("div",{class:"v-field__clearable",onMousedown:M=>{M.preventDefault(),M.stopPropagation()}},[F(ci,{defaults:{VIcon:{icon:t.clearIcon}}},{default:()=>[o.clear?o.clear({...U.value,props:{onFocus:c,onBlur:u,onClick:t["onClick:clear"],tabindex:-1}}):F(d,{name:"clear",onFocus:c,onBlur:u,tabindex:-1},null)]})]),[[Bh,t.dirty]])]}),W&&Oe("div",{key:"append",class:"v-field__append-inner"},[(P=o["append-inner"])==null?void 0:P.call(o,U.value),t.appendInnerIcon&&F(d,{key:"append-icon",name:"appendInner",color:A.value},null)]),Oe("div",{class:Tt(["v-field__outline",T.value]),style:Qt(z.value)},[ce&&Oe(Dt,null,[Oe("div",{class:"v-field__outline__start"},null),v.value&&Oe("div",{class:"v-field__outline__notch"},[F(Xw,{ref:w,floating:!0,for:b.value,"aria-hidden":!m.value},{default:()=>[B()]})]),Oe("div",{class:"v-field__outline__end"},null)]),C.value&&v.value&&F(Xw,{ref:w,floating:!0,for:b.value,"aria-hidden":!m.value},{default:()=>[B()]})])])}),{controlRef:S,fieldIconColor:A}}}),Que=Ze({autocomplete:String},"autocomplete");function Zue(t){const e=Dc(),n=Vt(0),r=De(()=>t.autocomplete==="suppress"),o=De(()=>r.value?`${t.name}-${e}-${n.value}`:t.name),i=De(()=>r.value?"off":t.autocomplete);return{isSuppressing:r,fieldAutocomplete:i,fieldName:o,update:()=>n.value=new Date().getTime()}}function ede(t){function e(n,r){var o,i;!t.autofocus||!n||(i=(o=r[0].target)==null?void 0:o.focus)==null||i.call(o)}return{onIntersect:e}}const tde=["color","file","time","date","datetime-local","week","month"],qq=Ze({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Que(),...$j(),...S4()},"VTextField"),$c=Lt()({name:"VTextField",directives:{vIntersect:qS},inheritAttrs:!1,props:qq(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:o}=e;const i=Po(t,"modelValue"),{isFocused:s,focus:a,blur:l}=Oj(t),{onIntersect:c}=ede(t),u=ue(()=>typeof t.counterValue=="function"?t.counterValue(i.value):typeof t.counterValue=="number"?t.counterValue:(i.value??"").toString().length),d=ue(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),f=ue(()=>["plain","underlined"].includes(t.variant)),h=Ye(),m=Ye(),g=Ye(),v=Zue(t),y=ue(()=>tde.includes(t.type)||t.persistentPlaceholder||s.value||t.active);function b(){v.isSuppressing.value&&v.update(),s.value||a(),Ni(()=>{var C;g.value!==document.activeElement&&((C=g.value)==null||C.focus())})}function x(C){r("mousedown:control",C),C.target!==g.value&&(b(),C.preventDefault())}function k(C){r("click:control",C)}function w(C,j){C.stopPropagation(),b(),Ni(()=>{i.value=null,j(),e4(t["onClick:clear"],C)})}function S(C){var A;const j=C.target;if(i.value=j.value,(A=t.modelModifiers)!=null&&A.trim&&["text","search","password","tel","url"].includes(t.type)){const _=[j.selectionStart,j.selectionEnd];Ni(()=>{j.selectionStart=_[0],j.selectionEnd=_[1]})}}return hn(()=>{const C=!!(o.counter||t.counter!==!1&&t.counter!=null),j=!!(C||o.details),[A,_]=wj(n),{modelValue:R,...T}=lm.filterProps(t),z=JS.filterProps(t);return F(lm,Pt({ref:h,modelValue:i.value,"onUpdate:modelValue":U=>i.value=U,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":f.value},t.class],style:t.style},A,T,{centerAffix:!f.value,focused:s.value}),{...o,default:U=>{let{id:G,isDisabled:ce,isDirty:ie,isReadonly:Z,isValid:W,hasDetails:B,reset:H}=U;return F(JS,Pt({ref:m,onMousedown:x,onClick:k,"onClick:clear":K=>w(K,H),"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},Yl(z,["onClick:clear"]),{id:G.value,active:y.value||ie.value,dirty:ie.value||t.dirty,disabled:ce.value,focused:s.value,details:B.value,error:W.value===!1}),{...o,default:K=>{let{props:{class:P,...M}}=K;const N=Zs(Oe("input",Pt({ref:g,value:i.value,onInput:S,autofocus:t.autofocus,readonly:Z.value,disabled:ce.value,name:v.fieldName.value,autocomplete:v.fieldAutocomplete.value,placeholder:t.placeholder,size:1,role:t.role,type:t.type,onFocus:a,onBlur:l},M,_),null),[[qS,{handler:c},null,{once:!0}]]);return Oe(Dt,null,[t.prefix&&Oe("span",{class:"v-text-field__prefix"},[Oe("span",{class:"v-text-field__prefix__text"},[t.prefix])]),o.default?Oe("div",{class:Tt(P),"data-no-activator":""},[o.default(),N]):zd(N,{class:P}),t.suffix&&Oe("span",{class:"v-text-field__suffix"},[Oe("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:j?U=>{var G;return Oe(Dt,null,[(G=o.details)==null?void 0:G.call(o,U),C&&Oe(Dt,null,[Oe("span",null,null),F(Fq,{active:t.persistentCounter||s.value,value:u.value,max:d.value,disabled:t.disabled},o.counter)])])}:void 0})}),lf({},h,m,g)}}),nde=Ze({renderless:Boolean,...On()},"VVirtualScrollItem"),rde=Lt()({name:"VVirtualScrollItem",inheritAttrs:!1,props:nde(),emits:{"update:height":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:o}=e;const{resizeRef:i,contentRect:s}=sm(void 0,"border");Bt(()=>{var a;return(a=s.value)==null?void 0:a.height},a=>{a!=null&&r("update:height",a)}),hn(()=>{var a,l;return t.renderless?Oe(Dt,null,[(a=o.default)==null?void 0:a.call(o,{itemRef:i})]):Oe("div",Pt({ref:i,class:["v-virtual-scroll__item",t.class],style:t.style},n),[(l=o.default)==null?void 0:l.call(o)])})}}),ode=-1,ide=1,NM=100,sde=Ze({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function ade(t,e){const n=a4(),r=Vt(0);Ai(()=>{r.value=parseFloat(t.itemHeight||0)});const o=Vt(0),i=Vt(Math.ceil((parseInt(t.height)||n.height.value)/(r.value||16))||1),s=Vt(0),a=Vt(0),l=Ye(),c=Ye();let u=0;const{resizeRef:d,contentRect:f}=sm();Ai(()=>{d.value=l.value});const h=ue(()=>{var B;return l.value===document.documentElement?n.height.value:((B=f.value)==null?void 0:B.height)||parseInt(t.height)||0}),m=ue(()=>!!(l.value&&c.value&&h.value&&r.value));let g=Array.from({length:e.value.length}),v=Array.from({length:e.value.length});const y=Vt(0);let b=-1;function x(B){return g[B]||r.value}const k=Wse(()=>{const B=performance.now();v[0]=0;const H=e.value.length;for(let K=1;K<=H-1;K++)v[K]=(v[K-1]||0)+x(K-1);y.value=Math.max(y.value,performance.now()-B)},y),w=Bt(m,B=>{B&&(w(),u=c.value.offsetTop,k.immediate(),ce(),~b&&Ni(()=>{Jr&&window.requestAnimationFrame(()=>{Z(b),b=-1})}))});xs(()=>{k.clear()});function S(B,H){const K=g[B],P=r.value;r.value=P?Math.min(r.value,H):H,(K!==H||P!==r.value)&&(g[B]=H,k())}function C(B){B=Il(B,0,e.value.length-1);const H=Math.floor(B),K=B%1,P=H+1,M=v[H]||0,N=v[P]||M;return M+(N-M)*K}function j(B){return lde(v,B)}let A=0,_=0,R=0;Bt(h,(B,H)=>{H&&(ce(),B<H&&requestAnimationFrame(()=>{_=0,ce()}))});let T=-1;function z(){if(!l.value||!c.value)return;const B=l.value.scrollTop,H=performance.now();H-R>500?(_=Math.sign(B-A),u=c.value.offsetTop):_=B-A,A=B,R=H,window.clearTimeout(T),T=window.setTimeout(U,500),ce()}function U(){!l.value||!c.value||(_=0,R=0,window.clearTimeout(T),ce())}let G=-1;function ce(){cancelAnimationFrame(G),G=requestAnimationFrame(ie)}function ie(){if(!l.value||!h.value||!r.value)return;const B=A-u,H=Math.sign(_),K=Math.max(0,B-NM),P=Il(j(K),0,e.value.length),M=B+h.value+NM,N=Il(j(M)+1,P+1,e.value.length);if((H!==ode||P<o.value)&&(H!==ide||N>i.value)){const he=C(o.value)-C(P),ge=C(N)-C(i.value);Math.max(he,ge)>NM?(o.value=P,i.value=N):(P<=0&&(o.value=P),N>=e.value.length&&(i.value=N))}s.value=C(o.value),a.value=C(e.value.length)-C(i.value)}function Z(B){const H=C(B);!l.value||B&&!H?b=B:l.value.scrollTop=H}const W=ue(()=>e.value.slice(o.value,i.value).map((B,H)=>{const K=H+o.value;return{raw:B,index:K,key:lc(B,t.itemKey,K)}}));return Bt(e,()=>{g=Array.from({length:e.value.length}),v=Array.from({length:e.value.length}),k.immediate(),ce()},{deep:1}),{calculateVisibleItems:ce,containerRef:l,markerRef:c,computedItems:W,paddingTop:s,paddingBottom:a,scrollToIndex:Z,handleScroll:z,handleScrollend:U,handleItemResize:S}}function lde(t,e){let n=t.length-1,r=0,o=0,i=null,s=-1;if(t[n]<e)return n;for(;r<=n;)if(o=r+n>>1,i=t[o],i>e)n=o-1;else if(i<e)s=o,r=o+1;else return i===e?o:r;return s}const cde=Ze({items:{type:Array,default:()=>[]},renderless:Boolean,...sde(),...On(),...Vc()},"VVirtualScroll"),ude=Lt()({name:"VVirtualScroll",props:cde(),setup(t,e){let{slots:n}=e;const r=Gi("VVirtualScroll"),{dimensionStyles:o}=Bc(t),{calculateVisibleItems:i,containerRef:s,markerRef:a,handleScroll:l,handleScrollend:c,handleItemResize:u,scrollToIndex:d,paddingTop:f,paddingBottom:h,computedItems:m}=ade(t,De(()=>t.items));return kh(()=>t.renderless,()=>{function g(){var b,x;const y=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";s.value===document.documentElement?(document[y]("scroll",l,{passive:!0}),document[y]("scrollend",c)):((b=s.value)==null||b[y]("scroll",l,{passive:!0}),(x=s.value)==null||x[y]("scrollend",c))}hl(()=>{s.value=O7(r.vnode.el,!0),g(!0)}),xs(g)}),hn(()=>{const g=m.value.map(v=>F(rde,{key:v.key,renderless:t.renderless,"onUpdate:height":y=>u(v.index,y)},{default:y=>{var b;return(b=n.default)==null?void 0:b.call(n,{item:v.raw,index:v.index,...y})}}));return t.renderless?Oe(Dt,null,[Oe("div",{ref:a,class:"v-virtual-scroll__spacer",style:{paddingTop:fn(f.value)}},null),g,Oe("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:fn(h.value)}},null)]):Oe("div",{ref:s,class:Tt(["v-virtual-scroll",t.class]),onScrollPassive:l,onScrollend:c,style:Qt([o.value,t.style])},[Oe("div",{ref:a,class:"v-virtual-scroll__container",style:{paddingTop:fn(f.value),paddingBottom:fn(h.value)}},[g])])}),{calculateVisibleItems:i,scrollToIndex:d}}});function dde(t,e){const n=Vt(!1);let r;function o(a){cancelAnimationFrame(r),n.value=!0,r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{n.value=!1})})}async function i(){await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>{if(n.value){const l=Bt(n,()=>{l(),a()})}else a()})}async function s(a){var u,d;if(a.key==="Tab"&&((u=e.value)==null||u.focus()),!["PageDown","PageUp","Home","End"].includes(a.key))return;const l=(d=t.value)==null?void 0:d.$el;if(!l)return;(a.key==="Home"||a.key==="End")&&l.scrollTo({top:a.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await i();const c=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(a.key==="PageDown"||a.key==="Home"){const f=l.getBoundingClientRect().top;for(const h of c)if(h.getBoundingClientRect().top>=f){h.focus();break}}else{const f=l.getBoundingClientRect().bottom;for(const h of[...c].reverse())if(h.getBoundingClientRect().bottom<=f){h.focus();break}}}return{onScrollPassive:o,onKeydown:s}}const fde=Ze({closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"}},"autocomplete");function hde(t,e){const{t:n}=Lm(),r=Dc(),o=ue(()=>`menu-${r}`),i=De(()=>gs(e)),s=De(()=>o.value),a=De(()=>n(gs(e)?t.closeText:t.openText));return{menuId:o,ariaExpanded:i,ariaControls:s,ariaLabel:a}}const pde=Ze({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:_r,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...fde(),...Pq({itemChildren:!1})},"Select"),mde=Ze({...pde(),...Yl(qq({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Yb({transition:{component:c4}})},"VSelect"),gde=Lt()({name:"VSelect",props:mde(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:r}=Lm(),o=Ye(),i=Ye(),s=Ye(),{items:a,transformIn:l,transformOut:c}=wue(t),u=Po(t,"modelValue",[],P=>l(P===null?[null]:ll(P)),P=>{const M=c(P);return t.multiple?M:M[0]??null}),d=ue(()=>typeof t.counterValue=="function"?t.counterValue(u.value):typeof t.counterValue=="number"?t.counterValue:u.value.length),f=yq(t),h=ue(()=>u.value.map(P=>P.value)),m=Vt(!1);let g="",v=-1,y;const b=ue(()=>t.hideSelected?a.value.filter(P=>!u.value.some(M=>(t.valueComparator||Pl)(M,P))):a.value),x=ue(()=>t.hideNoData&&!b.value.length||f.isReadonly.value||f.isDisabled.value),k=Po(t,"menu"),w=ue({get:()=>k.value,set:P=>{var M;k.value&&!P&&((M=i.value)!=null&&M.openChildren.size)||P&&x.value||(k.value=P)}}),{menuId:S,ariaExpanded:C,ariaControls:j,ariaLabel:A}=hde(t,w),_=ue(()=>{var P;return{...t.menuProps,activatorProps:{...((P=t.menuProps)==null?void 0:P.activatorProps)||{},"aria-haspopup":"listbox"}}}),R=Ye(),T=dde(R,o);function z(P){t.openOnClear&&(w.value=!0)}function U(){x.value||(w.value=!w.value)}function G(P){S6(P)&&ce(P)}function ce(P){var D,L,re;if(!P.key||f.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(P.key)&&P.preventDefault(),["Enter","ArrowDown"," "].includes(P.key)&&(w.value=!0),["Escape","Tab"].includes(P.key)&&(w.value=!1),P.key==="Home"?(D=R.value)==null||D.focus("first"):P.key==="End"&&((L=R.value)==null||L.focus("last"));const M=1e3;if(!S6(P))return;const N=performance.now();N-y>M&&(g="",v=-1),g+=P.key.toLowerCase(),y=N;const he=b.value;function ge(){let Y=te();return Y||g.at(-1)===g.at(-2)&&(g=g.slice(0,-1),Y=te(),Y)||(v=-1,Y=te(),Y)?Y:(g=P.key.toLowerCase(),te())}function te(){for(let Y=v+1;Y<he.length;Y++){const q=he[Y];if(q.title.toLowerCase().startsWith(g))return[q,Y]}}const ee=ge();if(!ee)return;const[be,ne]=ee;v=ne,(re=R.value)==null||re.focus(ne),t.multiple||(u.value=[be])}function ie(P){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!P.props.disabled)if(t.multiple){const N=u.value.findIndex(ge=>(t.valueComparator||Pl)(ge.value,P.value)),he=M??!~N;if(~N){const ge=he?[...u.value,P]:[...u.value];ge.splice(N,1),u.value=ge}else he&&(u.value=[...u.value,P])}else{const N=M!==!1;u.value=N?[P]:[],Ni(()=>{w.value=!1})}}function Z(P){var M;(M=R.value)!=null&&M.$el.contains(P.relatedTarget)||(w.value=!1)}function W(){var P;t.eager&&((P=s.value)==null||P.calculateVisibleItems())}function B(){var P;m.value&&((P=o.value)==null||P.focus())}function H(P){m.value=!0}function K(P){if(P==null)u.value=[];else if(LS(o.value,":autofill")||LS(o.value,":-webkit-autofill")){const M=a.value.find(N=>N.title===P);M&&ie(M)}else o.value&&(o.value.value="")}return Bt(w,()=>{if(!t.hideSelected&&w.value&&u.value.length){const P=b.value.findIndex(M=>u.value.some(N=>(t.valueComparator||Pl)(N.value,M.value)));Jr&&!t.noAutoScroll&&window.requestAnimationFrame(()=>{var M;P>=0&&((M=s.value)==null||M.scrollToIndex(P))})}}),Bt(a,(P,M)=>{w.value||m.value&&t.hideNoData&&!M.length&&P.length&&(w.value=!0)}),hn(()=>{const P=!!(t.chips||n.chip),M=!!(!t.hideNoData||b.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),N=u.value.length>0,he=$c.filterProps(t),ge=N||!m.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return F($c,Pt({ref:o},he,{modelValue:u.value.map(te=>te.props.value).join(", "),"onUpdate:modelValue":K,focused:m.value,"onUpdate:focused":te=>m.value=te,validationValue:u.externalValue,counterValue:d.value,dirty:N,class:["v-select",{"v-select--active-menu":w.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":u.value.length,"v-select--selection-slot":!!n.selection},t.class],style:t.style,inputmode:"none",placeholder:ge,"onClick:clear":z,"onMousedown:control":U,onBlur:Z,onKeydown:ce,"aria-expanded":C.value,"aria-controls":j.value,"aria-label":A.value,title:A.value}),{...n,default:()=>Oe(Dt,null,[F(nw,Pt({id:S.value,ref:i,modelValue:w.value,"onUpdate:modelValue":te=>w.value=te,activator:"parent",contentClass:"v-select__content",disabled:x.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:W,onAfterLeave:B},_.value),{default:()=>[M&&F(Ej,Pt({ref:R,selected:h.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:te=>te.preventDefault(),onKeydown:G,onFocusin:H,tabindex:"-1",selectable:!0,"aria-live":"polite","aria-label":`${t.label}-list`,color:t.itemColor??t.color},T,t.listProps),{default:()=>{var te,ee,be;return[(te=n["prepend-item"])==null?void 0:te.call(n),!b.value.length&&!t.hideNoData&&(((ee=n["no-data"])==null?void 0:ee.call(n))??F(Tv,{key:"no-data",title:r(t.noDataText)},null)),F(ude,{ref:s,renderless:!0,items:b.value,itemKey:"value"},{default:ne=>{var Ae,Ee,pe;let{item:D,index:L,itemRef:re}=ne;const Y=Xse(D.props),q=Pt(D.props,{ref:re,key:D.value,onClick:()=>ie(D,null)});return D.type==="divider"?((Ae=n.divider)==null?void 0:Ae.call(n,{props:D.raw,index:L}))??F(Fh,Pt(D.props,{key:`divider-${L}`}),null):D.type==="subheader"?((Ee=n.subheader)==null?void 0:Ee.call(n,{props:D.raw,index:L}))??F(Eq,Pt(D.props,{key:`subheader-${L}`}),null):((pe=n.item)==null?void 0:pe.call(n,{item:D,index:L,props:q}))??F(Tv,Pt(q,{role:"option"}),{prepend:Pe=>{let{isSelected:we}=Pe;return Oe(Dt,null,[t.multiple&&!t.hideSelected?F(c$,{key:D.value,modelValue:we,ripple:!1,tabindex:"-1"},null):void 0,Y.prependAvatar&&F(am,{image:Y.prependAvatar},null),Y.prependIcon&&F(lo,{icon:Y.prependIcon},null)])}})}}),(be=n["append-item"])==null?void 0:be.call(n)]}})]}),u.value.map((te,ee)=>{function be(re){re.stopPropagation(),re.preventDefault(),ie(te,!1)}const ne={"onClick:close":be,onKeydown(re){re.key!=="Enter"&&re.key!==" "||(re.preventDefault(),re.stopPropagation(),be(re))},onMousedown(re){re.preventDefault(),re.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},D=P?!!n.chip:!!n.selection,L=D?b7(P?n.chip({item:te,index:ee,props:ne}):n.selection({item:te,index:ee})):void 0;if(!(D&&!L))return Oe("div",{key:te.value,class:"v-select__selection"},[P?n.chip?F(ci,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:te.title}}},{default:()=>[L]}):F(kq,Pt({key:"chip",closable:t.closableChips,size:"small",text:te.title,disabled:te.props.disabled},ne),null):L??Oe("span",{class:"v-select__selection-text"},[te.title,t.multiple&&ee<u.value.length-1&&Oe("span",{class:"v-select__selection-comma"},[dr(",")])])])})]),"append-inner":function(){var ne,D;for(var te=arguments.length,ee=new Array(te),be=0;be<te;be++)ee[be]=arguments[be];return Oe(Dt,null,[(ne=n["append-inner"])==null?void 0:ne.call(n,...ee),t.menuIcon?F(lo,{class:"v-select__menu-icon",color:(D=o.value)==null?void 0:D.fieldIconColor,icon:t.menuIcon},null):void 0])}})}),lf({isFocused:m,menu:w,select:ie},o)}}),vde=Ze({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,..._j({origin:"center center",scrollStrategy:"block",transition:{component:c4},zIndex:2400})},"VDialog"),my=Lt()({name:"VDialog",props:vde(),emits:{"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{emit:n,slots:r}=e;const o=Po(t,"modelValue"),{scopeId:i}=tw(),s=Ye();function a(u){var h,m;const d=u.relatedTarget,f=u.target;if(d!==f&&((h=s.value)!=null&&h.contentEl)&&((m=s.value)!=null&&m.globalTop)&&![document,s.value.contentEl].includes(f)&&!s.value.contentEl.contains(f)){const g=M0(s.value.contentEl);if(!g.length)return;const v=g[0],y=g[g.length-1];d===v?y.focus():v.focus()}}Ca(()=>{document.removeEventListener("focusin",a)}),Jr&&Bt(()=>o.value&&t.retainFocus,u=>{u?document.addEventListener("focusin",a):document.removeEventListener("focusin",a)},{immediate:!0});function l(){var u;n("afterEnter"),(t.scrim||t.retainFocus)&&((u=s.value)!=null&&u.contentEl)&&!s.value.contentEl.contains(document.activeElement)&&s.value.contentEl.focus({preventScroll:!0})}function c(){n("afterLeave")}return Bt(o,async u=>{var d;u||(await Ni(),(d=s.value.activatorEl)==null||d.focus({preventScroll:!0}))}),hn(()=>{const u=Ov.filterProps(t),d=Pt({"aria-haspopup":"dialog"},t.activatorProps),f=Pt({tabindex:-1},t.contentProps);return F(Ov,Pt({ref:s,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},u,{modelValue:o.value,"onUpdate:modelValue":h=>o.value=h,"aria-modal":"true",activatorProps:d,contentProps:f,height:t.fullscreen?void 0:t.height,width:t.fullscreen?void 0:t.width,maxHeight:t.fullscreen?void 0:t.maxHeight,maxWidth:t.fullscreen?void 0:t.maxWidth,role:"dialog",onAfterEnter:l,onAfterLeave:c},i),{activator:r.activator,default:function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return F(ci,{root:"VDialog"},{default:()=>{var v;return[(v=r.default)==null?void 0:v.call(r,...m)]}})}})}),lf({},s)}}),yde=Ze({...On(),...Zr()},"VCardActions"),rw=Lt()({name:"VCardActions",props:yde(),setup(t,e){let{slots:n}=e;return zh({VBtn:{slim:!0,variant:"text"}}),hn(()=>F(t.tag,{class:Tt(["v-card-actions",t.class]),style:Qt(t.style)},n)),{}}}),bde=Ze({opacity:[Number,String],...On(),...Zr()},"VCardSubtitle"),Uq=Lt()({name:"VCardSubtitle",props:bde(),setup(t,e){let{slots:n}=e;return hn(()=>F(t.tag,{class:Tt(["v-card-subtitle",t.class]),style:Qt([{"--v-card-subtitle-opacity":t.opacity},t.style])},n)),{}}}),C4=xj("v-card-title"),wde=Ze({appendAvatar:String,appendIcon:_r,prependAvatar:String,prependIcon:_r,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...On(),...Ql(),...Zr()},"VCardItem"),xde=Lt()({name:"VCardItem",props:wde(),setup(t,e){let{slots:n}=e;return hn(()=>{const r=!!(t.prependAvatar||t.prependIcon),o=!!(r||n.prepend),i=!!(t.appendAvatar||t.appendIcon),s=!!(i||n.append),a=!!(t.title!=null||n.title),l=!!(t.subtitle!=null||n.subtitle);return F(t.tag,{class:Tt(["v-card-item",t.class]),style:Qt(t.style)},{default:()=>{var c;return[o&&Oe("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?F(ci,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},n.prepend):Oe(Dt,null,[t.prependAvatar&&F(am,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&F(lo,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),Oe("div",{class:"v-card-item__content"},[a&&F(C4,{key:"title"},{default:()=>{var u;return[((u=n.title)==null?void 0:u.call(n))??Kr(t.title)]}}),l&&F(Uq,{key:"subtitle"},{default:()=>{var u;return[((u=n.subtitle)==null?void 0:u.call(n))??Kr(t.subtitle)]}}),(c=n.default)==null?void 0:c.call(n)]),s&&Oe("div",{key:"append",class:"v-card-item__append"},[n.append?F(ci,{key:"append-defaults",disabled:!i,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},n.append):Oe(Dt,null,[t.appendIcon&&F(lo,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&F(am,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])]}})}),{}}}),kde=Ze({opacity:[Number,String],...On(),...Zr()},"VCardText"),cf=Lt()({name:"VCardText",props:kde(),setup(t,e){let{slots:n}=e;return hn(()=>F(t.tag,{class:Tt(["v-card-text",t.class]),style:Qt([{"--v-card-text-opacity":t.opacity},t.style])},n)),{}}}),Sde=Ze({appendAvatar:String,appendIcon:_r,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:_r,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...nf(),...On(),...Ql(),...Vc(),...of(),...m4(),...Zb(),...jj(),...ml(),...Tj(),...Zr(),...fi(),...af({variant:"elevated"})},"VCard"),Fu=Lt()({name:"VCard",directives:{vRipple:Hd},props:Sde(),setup(t,e){let{attrs:n,slots:r}=e;const{themeClasses:o}=Yi(t),{borderClasses:i}=rf(t),{colorClasses:s,colorStyles:a,variantClasses:l}=py(t),{densityClasses:c}=zc(t),{dimensionStyles:u}=Bc(t),{elevationClasses:d}=sf(t),{loaderClasses:f}=g4(t),{locationStyles:h}=ew(t),{positionClasses:m}=Aj(t),{roundedClasses:g}=gl(t),v=Mj(t,n);return hn(()=>{const y=t.link!==!1&&v.isLink.value,b=!t.disabled&&t.link!==!1&&(t.link||v.isClickable.value),x=y?"a":t.tag,k=!!(r.title||t.title!=null),w=!!(r.subtitle||t.subtitle!=null),S=k||w,C=!!(r.append||t.appendAvatar||t.appendIcon),j=!!(r.prepend||t.prependAvatar||t.prependIcon),A=!!(r.image||t.image),_=S||j||C,R=!!(r.text||t.text!=null);return Zs(F(x,Pt({class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":b},o.value,i.value,s.value,c.value,d.value,f.value,m.value,g.value,l.value,t.class],style:[a.value,u.value,h.value,t.style],onClick:b&&v.navigate,tabindex:t.disabled?-1:void 0},v.linkProps),{default:()=>{var T;return[A&&Oe("div",{key:"image",class:"v-card__image"},[r.image?F(ci,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},r.image):F(d4,{key:"image-img",cover:!0,src:t.image},null)]),F(eq,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:r.loader}),_&&F(xde,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),R&&F(cf,{key:"text"},{default:()=>{var z;return[((z=r.text)==null?void 0:z.call(r))??t.text]}}),(T=r.default)==null?void 0:T.call(r),r.actions&&F(rw,null,{default:r.actions}),hy(b,"v-card")]}}),[[Hd,b&&t.ripple]])}),{}}}),Cde=t=>{const{touchstartX:e,touchendX:n,touchstartY:r,touchendY:o}=t,i=.5,s=16;t.offsetX=n-e,t.offsetY=o-r,Math.abs(t.offsetY)<i*Math.abs(t.offsetX)&&(t.left&&n<e-s&&t.left(t),t.right&&n>e+s&&t.right(t)),Math.abs(t.offsetX)<i*Math.abs(t.offsetY)&&(t.up&&o<r-s&&t.up(t),t.down&&o>r+s&&t.down(t))};function jde(t,e){var r;const n=t.changedTouches[0];e.touchstartX=n.clientX,e.touchstartY=n.clientY,(r=e.start)==null||r.call(e,{originalEvent:t,...e})}function Ade(t,e){var r;const n=t.changedTouches[0];e.touchendX=n.clientX,e.touchendY=n.clientY,(r=e.end)==null||r.call(e,{originalEvent:t,...e}),Cde(e)}function Mde(t,e){var r;const n=t.changedTouches[0];e.touchmoveX=n.clientX,e.touchmoveY=n.clientY,(r=e.move)==null||r.call(e,{originalEvent:t,...e})}function Tde(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:n=>jde(n,e),touchend:n=>Ade(n,e),touchmove:n=>Mde(n,e)}}function Ode(t,e){var a;const n=e.value,r=n!=null&&n.parent?t.parentElement:t,o=(n==null?void 0:n.options)??{passive:!0},i=(a=e.instance)==null?void 0:a.$.uid;if(!r||i===void 0)return;const s=Tde(e.value);r._touchHandlers=r._touchHandlers??Object.create(null),r._touchHandlers[i]=s,h7(s).forEach(l=>{r.addEventListener(l,s[l],o)})}function $de(t,e){var i,s;const n=(i=e.value)!=null&&i.parent?t.parentElement:t,r=(s=e.instance)==null?void 0:s.$.uid;if(!(n!=null&&n._touchHandlers)||r===void 0)return;const o=n._touchHandlers[r];h7(o).forEach(a=>{n.removeEventListener(a,o[a])}),delete n._touchHandlers[r]}const p$={mounted:Ode,unmounted:$de},Wq=Symbol.for("vuetify:v-window"),Kq=Symbol.for("vuetify:v-window-group"),Jq=Ze({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},verticalArrows:[Boolean,String],touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},crossfade:Boolean,transitionDuration:Number,...On(),...Zr(),...fi()},"VWindow"),m$=Lt()({name:"VWindow",directives:{vTouch:p$},props:Jq(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:r}=Yi(t),{isRtl:o}=Xl(),{t:i}=Lm(),s=Cj(t,Kq),a=Ye(),l=ue(()=>o.value?!t.reverse:t.reverse),c=Vt(!1),u=ue(()=>{if(t.crossfade)return"v-window-crossfade-transition";const k=t.direction==="vertical"?"y":"x",S=(l.value?!c.value:c.value)?"-reverse":"";return`v-window-${k}${S}-transition`}),d=Vt(0),f=Ye(void 0),h=ue(()=>s.items.value.findIndex(k=>s.selected.value.includes(k.id)));Bt(h,(k,w)=>{const S=s.items.value.length,C=S-1;S<=2?c.value=k<w:k===C&&w===0?c.value=!0:k===0&&w===C?c.value=!1:c.value=k<w}),Ki(Wq,{transition:u,isReversed:c,transitionCount:d,transitionHeight:f,rootRef:a});const m=De(()=>t.continuous||h.value!==0),g=De(()=>t.continuous||h.value!==s.items.value.length-1);function v(){m.value&&s.prev()}function y(){g.value&&s.next()}const b=ue(()=>{const k=[],w={icon:o.value?t.nextIcon:t.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:s.prev,"aria-label":i("$vuetify.carousel.prev")};k.push(m.value?n.prev?n.prev({props:w}):F(fl,w,null):Oe("div",null,null));const S={icon:o.value?t.prevIcon:t.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:s.next,"aria-label":i("$vuetify.carousel.next")};return k.push(g.value?n.next?n.next({props:S}):F(fl,S,null):Oe("div",null,null)),k}),x=ue(()=>t.touch===!1?t.touch:{...{left:()=>{l.value?v():y()},right:()=>{l.value?y():v()},start:w=>{let{originalEvent:S}=w;S.stopPropagation()}},...t.touch===!0?{}:t.touch});return hn(()=>Zs(F(t.tag,{ref:a,class:Tt(["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover","v-window--vertical-arrows":!!t.verticalArrows,"v-window--crossfade":!!t.crossfade},r.value,t.class]),style:Qt([t.style,t.transitionDuration&&!Av?{"--v-window-transition-duration":fn(t.transitionDuration,"ms")}:void 0])},{default:()=>{var k,w;return[Oe("div",{class:"v-window__container",style:{height:f.value}},[(k=n.default)==null?void 0:k.call(n,{group:s}),t.showArrows!==!1&&Oe("div",{class:Tt(["v-window__controls",{"v-window__controls--left":t.verticalArrows==="left"||t.verticalArrows===!0},{"v-window__controls--right":t.verticalArrows==="right"}])},[b.value])]),(w=n.additional)==null?void 0:w.call(n,{group:s})]}}),[[p$,x.value]])),{group:s}}}),Gq=Ze({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...On(),...h4(),...Vq()},"VWindowItem"),g$=Lt()({name:"VWindowItem",directives:{vTouch:p$},props:Gq(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const r=co(Wq),o=p4(t,Kq),{isBooted:i}=J7();if(!r||!o)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const s=Vt(!1),a=ue(()=>i.value&&(r.isReversed.value?t.reverseTransition!==!1:t.transition!==!1));function l(){!s.value||!r||(s.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,r.transitionCount.value===0&&(r.transitionHeight.value=void 0)))}function c(){var m;s.value||!r||(s.value=!0,r.transitionCount.value===0&&(r.transitionHeight.value=fn((m=r.rootRef.value)==null?void 0:m.clientHeight)),r.transitionCount.value+=1)}function u(){l()}function d(m){s.value&&Ni(()=>{!a.value||!s.value||!r||(r.transitionHeight.value=fn(m.clientHeight))})}const f=ue(()=>{const m=r.isReversed.value?t.reverseTransition:t.transition;return a.value?{name:typeof m!="string"?r.transition.value:m,onBeforeEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:c,onAfterLeave:l,onLeaveCancelled:u,onEnter:d}:!1}),{hasContent:h}=Bq(t,o.isSelected);return hn(()=>F(gd,{transition:f.value,disabled:!i.value},{default:()=>{var m;return[Zs(Oe("div",{class:Tt(["v-window-item",o.selectedClass.value,t.class]),style:Qt(t.style)},[h.value&&((m=n.default)==null?void 0:m.call(n))]),[[Bh,o.isSelected.value]])]}})),{groupItem:o}}}),Ede=Ze({color:String,...nf(),...On(),...Vc(),...of(),...Zb(),...jj(),...ml(),...Zr(),...fi()},"VSheet"),Yq=Lt()({name:"VSheet",props:Ede(),setup(t,e){let{slots:n}=e;const{themeClasses:r}=Yi(t),{backgroundColorClasses:o,backgroundColorStyles:i}=gc(()=>t.color),{borderClasses:s}=rf(t),{dimensionStyles:a}=Bc(t),{elevationClasses:l}=sf(t),{locationStyles:c}=ew(t),{positionClasses:u}=Aj(t),{roundedClasses:d}=gl(t);return hn(()=>F(t.tag,{class:Tt(["v-sheet",r.value,o.value,s.value,l.value,u.value,d.value,t.class]),style:Qt([i.value,a.value,c.value,t.style])},n)),{}}}),_de=Ze({fluid:{type:Boolean,default:!1},...On(),...Vc(),...Zr()},"VContainer"),Xq=Lt()({name:"VContainer",props:_de(),setup(t,e){let{slots:n}=e;const{rtlClasses:r}=Xl(),{dimensionStyles:o}=Bc(t);return hn(()=>F(t.tag,{class:Tt(["v-container",{"v-container--fluid":t.fluid},r.value,t.class]),style:Qt([o.value,t.style])},n)),{}}}),Qq=kj.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}),Zq=kj.reduce((t,e)=>{const n="offset"+ef(e);return t[n]={type:[String,Number],default:null},t},{}),eU=kj.reduce((t,e)=>{const n="order"+ef(e);return t[n]={type:[String,Number],default:null},t},{}),v5={col:Object.keys(Qq),offset:Object.keys(Zq),order:Object.keys(eU)};function Pde(t,e,n){let r=t;if(!(n==null||n===!1)){if(e){const o=e.replace(t,"");r+=`-${o}`}return t==="col"&&(r="v-"+r),t==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const Ide=["auto","start","end","center","baseline","stretch"],Rde=Ze({cols:{type:[Boolean,String,Number],default:!1},...Qq,offset:{type:[String,Number],default:null},...Zq,order:{type:[String,Number],default:null},...eU,alignSelf:{type:String,default:null,validator:t=>Ide.includes(t)},...On(),...Zr()},"VCol"),Nde=Lt()({name:"VCol",props:Rde(),setup(t,e){let{slots:n}=e;const r=ue(()=>{const o=[];let i;for(i in v5)v5[i].forEach(a=>{const l=t[a],c=Pde(i,a,l);c&&o.push(c)});const s=o.some(a=>a.startsWith("v-col-"));return o.push({"v-col":!s||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),o});return()=>{var o;return ba(t.tag,{class:[r.value,t.class],style:t.style},(o=n.default)==null?void 0:o.call(n))}}}),j4=["start","end","center"],tU=["space-between","space-around","space-evenly"];function A4(t,e){return kj.reduce((n,r)=>{const o=t+ef(r);return n[o]=e(),n},{})}const Lde=[...j4,"baseline","stretch"],nU=t=>Lde.includes(t),rU=A4("align",()=>({type:String,default:null,validator:nU})),Dde=[...j4,...tU],oU=t=>Dde.includes(t),iU=A4("justify",()=>({type:String,default:null,validator:oU})),Vde=[...j4,...tU,"stretch"],sU=t=>Vde.includes(t),aU=A4("alignContent",()=>({type:String,default:null,validator:sU})),y5={align:Object.keys(rU),justify:Object.keys(iU),alignContent:Object.keys(aU)},Bde={align:"align",justify:"justify",alignContent:"align-content"};function zde(t,e,n){let r=Bde[t];if(n!=null){if(e){const o=e.replace(t,"");r+=`-${o}`}return r+=`-${n}`,r.toLowerCase()}}const Hde=Ze({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:nU},...rU,justify:{type:String,default:null,validator:oU},...iU,alignContent:{type:String,default:null,validator:sU},...aU,...On(),...Zr()},"VRow"),Fde=Lt()({name:"VRow",props:Hde(),setup(t,e){let{slots:n}=e;const r=ue(()=>{const o=[];let i;for(i in y5)y5[i].forEach(s=>{const a=t[s],l=zde(i,s,a);l&&o.push(l)});return o.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),o});return()=>{var o;return ba(t.tag,{class:["v-row",r.value,t.class],style:t.style},(o=n.default)==null?void 0:o.call(n))}}}),gy=xj("v-spacer","div","VSpacer");function qde(){function t(n){var o,i;return[...((o=n.dataTransfer)==null?void 0:o.items)??[]].filter(s=>s.kind==="file").map(s=>s.webkitGetAsEntry()).filter(Boolean).length>0||[...((i=n.dataTransfer)==null?void 0:i.files)??[]].length>0}async function e(n){var i,s;const r=[],o=[...((i=n.dataTransfer)==null?void 0:i.items)??[]].filter(a=>a.kind==="file").map(a=>a.webkitGetAsEntry()).filter(Boolean);if(o.length)for(const a of o){const l=await lU(a,cU(".",a));r.push(...l.map(c=>c.file))}else r.push(...((s=n.dataTransfer)==null?void 0:s.files)??[]);return r}return{handleDrop:e,hasFilesOrFolders:t}}function lU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Promise((n,r)=>{t.isFile?t.file(i=>n([{file:i,path:e}]),r):t.isDirectory&&t.createReader().readEntries(async i=>{const s=[];for(const a of i)s.push(...await lU(a,cU(e,a)));n(s)})})}function cU(t,e){return e.isDirectory?`${t}/${e.name}`:t}const Ude=Ze({filterByType:String},"file-accept");function Wde(t){const e=ue(()=>t.filterByType?Kde(t.filterByType):null);function n(r){if(e.value){const o=r.filter(e.value);return{accepted:o,rejected:r.filter(i=>!o.includes(i))}}return{accepted:r,rejected:[]}}return{filterAccepted:n}}function Kde(t){const e=t.split(",").map(i=>i.trim().toLowerCase()),n=e.filter(i=>i.startsWith(".")),r=e.filter(i=>i.endsWith("/*")),o=e.filter(i=>!n.includes(i)&&!r.includes(i));return i=>{var l,c;const s=((l=i.name.split(".").at(-1))==null?void 0:l.toLowerCase())??"",a=((c=i.type.split("/").at(0))==null?void 0:c.toLowerCase())??"";return o.includes(i.type)||n.includes(`.${s}`)||r.includes(`${a}/*`)}}const Jde=Ze({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:t=>typeof t=="boolean"||[1e3,1024].includes(Number(t))},truncateLength:{type:[Number,String],default:22},...$j({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:t=>t.multiple?[]:null,validator:t=>ll(t).every(e=>e!=null&&typeof e=="object")},...Ude(),...S4({clearable:!0})},"VFileInput"),Gde=Lt()({name:"VFileInput",inheritAttrs:!1,props:Jde(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0,rejected:t=>!0},setup(t,e){let{attrs:n,emit:r,slots:o}=e;const{t:i}=Lm(),{filterAccepted:s}=Wde(t),a=Po(t,"modelValue",t.modelValue,W=>ll(W),W=>!t.multiple&&Array.isArray(W)?W[0]:W),{isFocused:l,focus:c,blur:u}=Oj(t),d=ue(()=>typeof t.showSize!="boolean"?t.showSize:void 0),f=ue(()=>(a.value??[]).reduce((W,B)=>{let{size:H=0}=B;return W+H},0)),h=ue(()=>x6(f.value,d.value)),m=ue(()=>(a.value??[]).map(W=>{const{name:B="",size:H=0}=W,K=z(B);return t.showSize?`${K} (${x6(H,d.value)})`:K})),g=ue(()=>{var B;const W=((B=a.value)==null?void 0:B.length)??0;return t.showSize?i(t.counterSizeString,W,h.value):i(t.counterString,W)}),v=Ye(),y=Ye(),b=Ye(),x=De(()=>l.value||t.active),k=ue(()=>["plain","underlined"].includes(t.variant)),w=Vt(!1),{handleDrop:S,hasFilesOrFolders:C}=qde();function j(){var W;b.value!==document.activeElement&&((W=b.value)==null||W.focus()),l.value||c()}function A(W){var B;(B=b.value)==null||B.click()}function _(W){r("mousedown:control",W)}function R(W){var B;(B=b.value)==null||B.click(),r("click:control",W)}function T(W){W.stopPropagation(),j(),Ni(()=>{a.value=[],e4(t["onClick:clear"],W)})}function z(W){if(W.length<Number(t.truncateLength))return W;const B=Math.floor((Number(t.truncateLength)-1)/2);return`${W.slice(0,B)}${W.slice(W.length-B)}`}function U(W){W.preventDefault(),W.stopImmediatePropagation(),w.value=!0}function G(W){W.preventDefault(),w.value=!1}async function ce(W){if(W.preventDefault(),W.stopImmediatePropagation(),w.value=!1,!b.value||!C(W))return;const B=await S(W);Z(B)}function ie(W){if(!(!W.target||W.repack))if(t.filterByType)Z([...W.target.files]);else{const B=W.target;a.value=[...B.files??[]]}}function Z(W){const B=new DataTransfer,{accepted:H,rejected:K}=s(W);K.length&&r("rejected",K);for(const M of H)B.items.add(M);b.value.files=B.files,a.value=[...B.files];const P=new Event("change",{bubbles:!0});P.repack=!0,b.value.dispatchEvent(P)}return Bt(a,W=>{(!Array.isArray(W)||!W.length)&&b.value&&(b.value.value="")}),hn(()=>{const W=!!(o.counter||t.counter),B=!!(W||o.details),[H,K]=wj(n),{modelValue:P,...M}=lm.filterProps(t),N={...JS.filterProps(t),"onClick:clear":T},ge=n.webkitdirectory!==void 0&&n.webkitdirectory!==!1?void 0:t.filterByType??String(n.accept);return F(lm,Pt({ref:v,modelValue:t.multiple?a.value:a.value[0],class:["v-file-input",{"v-file-input--chips":!!t.chips,"v-file-input--dragging":w.value,"v-file-input--hide":t.hideInput,"v-input--plain-underlined":k.value},t.class],style:t.style,"onClick:prepend":A},H,M,{centerAffix:!k.value,focused:l.value}),{...o,default:te=>{let{id:ee,isDisabled:be,isDirty:ne,isReadonly:D,isValid:L,hasDetails:re}=te;return F(JS,Pt({ref:y,prependIcon:t.prependIcon,onMousedown:_,onClick:R,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},N,{id:ee.value,active:x.value||ne.value,dirty:ne.value||t.dirty,disabled:be.value,focused:l.value,details:re.value,error:L.value===!1,onDragover:U,onDrop:ce}),{...o,default:Y=>{var Ee;let{props:{class:q,...Ae}}=Y;return Oe(Dt,null,[Oe("input",Pt({ref:b,type:"file",accept:ge,readonly:D.value,disabled:be.value,multiple:t.multiple,name:t.name,onClick:pe=>{pe.stopPropagation(),D.value&&pe.preventDefault(),j()},onChange:ie,onDragleave:G,onFocus:j,onBlur:u},Ae,K),null),Oe("div",{class:Tt(q)},[!!((Ee=a.value)!=null&&Ee.length)&&!t.hideInput&&(o.selection?o.selection({fileNames:m.value,totalBytes:f.value,totalBytesReadable:h.value}):t.chips?m.value.map(pe=>F(kq,{key:pe,size:"small",text:pe},null)):m.value.join(", "))])])}})},details:B?te=>{var ee,be;return Oe(Dt,null,[(ee=o.details)==null?void 0:ee.call(o,te),W&&Oe(Dt,null,[Oe("span",null,null),F(Fq,{active:!!((be=a.value)!=null&&be.length),value:g.value,disabled:t.disabled},o.counter)])])}:void 0})}),lf({},v,y,b)}}),Yde=Ze({...On(),...Hce()},"VForm"),uU=Lt()({name:"VForm",props:Yde(),emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:n,emit:r}=e;const o=Fce(t),i=Ye();function s(l){l.preventDefault(),o.reset()}function a(l){const c=l,u=o.validate();c.then=u.then.bind(u),c.catch=u.catch.bind(u),c.finally=u.finally.bind(u),r("submit",c),c.defaultPrevented||u.then(d=>{var h;let{valid:f}=d;f&&((h=i.value)==null||h.submit())}),c.preventDefault()}return hn(()=>{var l;return Oe("form",{ref:i,class:Tt(["v-form",t.class]),style:Qt(t.style),novalidate:!0,onReset:s,onSubmit:a},[(l=n.default)==null?void 0:l.call(n,o)])}),lf(o,i)}}),M4=Symbol.for("vuetify:v-tabs"),dU=Ze({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Yl(lq({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),fU=Lt()({name:"VTab",props:dU(),setup(t,e){let{slots:n,attrs:r}=e;const{textColorClasses:o,textColorStyles:i}=Oc(()=>t.sliderColor),s=Ye(),a=Ye(),l=ue(()=>t.direction==="horizontal"),c=ue(()=>{var d,f;return((f=(d=s.value)==null?void 0:d.group)==null?void 0:f.isSelected.value)??!1});function u(d){var h,m;let{value:f}=d;if(f){const g=(m=(h=s.value)==null?void 0:h.$el.parentElement)==null?void 0:m.querySelector(".v-tab--selected .v-tab__slider"),v=a.value;if(!g||!v)return;const y=getComputedStyle(g).color,b=g.getBoundingClientRect(),x=v.getBoundingClientRect(),k=l.value?"x":"y",w=l.value?"X":"Y",S=l.value?"right":"bottom",C=l.value?"width":"height",j=b[k],A=x[k],_=j>A?b[S]-x[S]:b[k]-x[k],R=Math.sign(_)>0?l.value?"right":"bottom":Math.sign(_)<0?l.value?"left":"top":"center",z=(Math.abs(_)+(Math.sign(_)<0?b[C]:x[C]))/Math.max(b[C],x[C])||0,U=b[C]/x[C]||0,G=1.5;ld(v,{backgroundColor:[y,"currentcolor"],transform:[`translate${w}(${_}px) scale${w}(${U})`,`translate${w}(${_/G}px) scale${w}(${(z-1)/G+1})`,"none"],transformOrigin:Array(3).fill(R)},{duration:225,easing:O0})}}return hn(()=>{const d=fl.filterProps(t);return F(fl,Pt({symbol:M4,ref:s,class:["v-tab",t.class],style:t.style,tabindex:c.value?0:-1,role:"tab","aria-selected":String(c.value),active:!1},d,r,{block:t.fixed,maxWidth:t.fixed?300:void 0,"onGroup:selected":u}),{...n,default:()=>{var f;return Oe(Dt,null,[((f=n.default)==null?void 0:f.call(n))??t.text,!t.hideSlider&&Oe("div",{ref:a,class:Tt(["v-tab__slider",o.value]),style:Qt(i.value)},null)])}})}),lf({},s)}}),Xde=Ze({...Yl(Jq(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Qde=Lt()({name:"VTabsWindow",props:Xde(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=co(M4,null),o=Po(t,"modelValue"),i=ue({get(){var s;return o.value!=null||!r?o.value:(s=r.items.value.find(a=>r.selected.value.includes(a.id)))==null?void 0:s.value},set(s){o.value=s}});return hn(()=>{const s=m$.filterProps(t);return F(m$,Pt({_as:"VTabsWindow"},s,{modelValue:i.value,"onUpdate:modelValue":a=>i.value=a,class:["v-tabs-window",t.class],style:t.style,mandatory:!1,touch:!1}),n)}),{}}}),Zde=Ze({...Gq()},"VTabsWindowItem"),efe=Lt()({name:"VTabsWindowItem",props:Zde(),setup(t,e){let{slots:n}=e;return hn(()=>{const r=g$.filterProps(t);return F(g$,Pt({_as:"VTabsWindowItem"},r,{class:["v-tabs-window-item",t.class],style:t.style}),n)}),{}}});function tfe(t){return t?t.map(e=>RS(e)?e:{text:e,value:e}):[]}const nfe=Ze({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Jb(dU(),["spaced"]),...y4({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Ql(),...Zr()},"VTabs"),rfe=Lt()({name:"VTabs",props:nfe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:r}=e;const o=Po(t,"modelValue"),i=ue(()=>tfe(t.items)),{densityClasses:s}=zc(t),{backgroundColorClasses:a,backgroundColorStyles:l}=gc(()=>t.bgColor),{scopeId:c}=tw();return zh({VTab:{color:De(()=>t.color),direction:De(()=>t.direction),stacked:De(()=>t.stacked),fixed:De(()=>t.fixedTabs),sliderColor:De(()=>t.sliderColor),hideSlider:De(()=>t.hideSlider)}}),hn(()=>{const u=WS.filterProps(t),d=!!(r.window||t.items.length>0);return Oe(Dt,null,[F(WS,Pt(u,{modelValue:o.value,"onUpdate:modelValue":f=>o.value=f,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},s.value,a.value,t.class],style:[{"--v-tabs-height":fn(t.height)},l.value,t.style],role:"tablist",symbol:M4},c,n),{default:()=>{var f;return[((f=r.default)==null?void 0:f.call(r))??i.value.map(h=>{var m;return((m=r.tab)==null?void 0:m.call(r,{item:h}))??F(fU,Pt(h,{key:h.text,value:h.value,spaced:t.spaced}),{default:r[`tab.${h.value}`]?()=>{var g;return(g=r[`tab.${h.value}`])==null?void 0:g.call(r,{item:h})}:void 0})})]}}),d&&F(Qde,Pt({modelValue:o.value,"onUpdate:modelValue":f=>o.value=f,key:"tabs-window"},c),{default:()=>{var f;return[i.value.map(h=>{var m;return((m=r.item)==null?void 0:m.call(r,{item:h}))??F(efe,{value:h.value},{default:()=>{var g;return(g=r[`item.${h.value}`])==null?void 0:g.call(r,{item:h})}})}),(f=r.window)==null?void 0:f.call(r)]}})])}),{}}}),ofe=Ze({withBackground:Boolean,...On(),...fi(),...Zr()},"VThemeProvider"),T4=Lt()({name:"VThemeProvider",props:ofe(),setup(t,e){let{slots:n}=e;const{themeClasses:r}=Yi(t);return()=>{var o;return t.withBackground?F(t.tag,{class:Tt(["v-theme-provider",r.value,t.class]),style:Qt(t.style)},{default:()=>{var i;return[(i=n.default)==null?void 0:i.call(n)]}}):(o=n.default)==null?void 0:o.call(n)}}}),ife=Ze({id:String,interactive:Boolean,text:String,...Yl(_j({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:null}),["absolute","persistent"])},"VTooltip"),sfe=Lt()({name:"VTooltip",props:ife(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=Po(t,"modelValue"),{scopeId:o}=tw(),i=Dc(),s=De(()=>t.id||`v-tooltip-${i}`),a=Ye(),l=ue(()=>t.location.split(" ").length>1?t.location:t.location+" center"),c=ue(()=>t.origin==="auto"||t.origin==="overlap"||t.origin.split(" ").length>1||t.location.split(" ").length>1?t.origin:t.origin+" center"),u=De(()=>t.transition!=null?t.transition:r.value?"scale-transition":"fade-transition"),d=ue(()=>Pt({"aria-describedby":s.value},t.activatorProps));return hn(()=>{const f=Ov.filterProps(t);return F(Ov,Pt({ref:a,class:["v-tooltip",{"v-tooltip--interactive":t.interactive},t.class],style:t.style,id:s.value},f,{modelValue:r.value,"onUpdate:modelValue":h=>r.value=h,transition:u.value,absolute:!0,location:l.value,origin:c.value,persistent:!0,role:"tooltip",activatorProps:d.value,_disableGlobalStack:!0},o),{activator:n.activator,default:function(){var v;for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return((v=n.default)==null?void 0:v.call(n,...m))??t.text}})}),lf({},a)}}),afe="modulepreload",lfe=function(t,e){return new URL(t,e).href},b5={},cfe=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));o=Promise.allSettled(n.map(c=>{if(c=lfe(c,r),c in b5)return;b5[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(!!r)for(let m=s.length-1;m>=0;m--){const g=s[m];if(g.href===c&&(!u||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":afe,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,g)=>{h.addEventListener("load",m),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return o.then(s=>{for(const a of s||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};function Uo(t){return Array.isArray(t)}function ti(t){return t!==null&&typeof t=="object"&&(t.constructor===void 0||t.constructor.name==="Object")}function hU(t){return t&&typeof t=="object"?t.op==="add":!1}function pU(t){return t&&typeof t=="object"?t.op==="remove":!1}function O4(t){return t&&typeof t=="object"?t.op==="replace":!1}function v$(t){return t&&typeof t=="object"?t.op==="copy":!1}function Fp(t){return t&&typeof t=="object"?t.op==="move":!1}function ufe(t,e){return JSON.stringify(t)===JSON.stringify(e)}function dfe(t,e){return t===e}function mU(t){return t.slice(0,t.length-1)}function ffe(t){return t[t.length-1]}function hfe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dfe;if(t.length<e.length)return!1;for(let r=0;r<e.length;r++)if(!n(t[r],e[r]))return!1;return!0}function gU(t){return typeof t=="object"&&t!==null}function $4(t){if(Uo(t)){const e=t.slice();return Object.getOwnPropertySymbols(t).forEach(n=>{e[n]=t[n]}),e}if(ti(t)){const e={...t};return Object.getOwnPropertySymbols(t).forEach(n=>{e[n]=t[n]}),e}return t}function E4(t,e,n){if(t[e]===n)return t;const r=$4(t);return r[e]=n,r}function xt(t,e){let n=t,r=0;for(;r<e.length;)ti(n)?n=n[e[r]]:Uo(n)?n=n[Number.parseInt(e[r])]:n=void 0,r++;return n}function Ta(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.length===0)return n;const o=e[0],i=Ta(t?t[o]:void 0,e.slice(1),n,r);if(ti(t)||Uo(t))return E4(t,o,i);if(r){const s=pfe.test(o)?[]:{};return s[o]=i,s}throw new Error("Path does not exist")}const pfe=/^\d+$/;function _4(t,e,n){if(e.length===0)return n(t);if(!gU(t))throw new Error("Path doesn't exist");const r=e[0],o=_4(t[r],e.slice(1),n);return E4(t,r,o)}function Pj(t,e){if(e.length===0)return t;if(!gU(t))throw new Error("Path does not exist");if(e.length===1){const o=e[0];if(!(o in t))return t;const i=$4(t);return Uo(i)&&i.splice(Number.parseInt(o),1),ti(i)&&delete i[o],i}const n=e[0],r=Pj(t[n],e.slice(1));return E4(t,n,r)}function P4(t,e,n){const r=e.slice(0,e.length-1),o=e[e.length-1];return _4(t,r,i=>{if(!Array.isArray(i))throw new TypeError(`Array expected at path ${JSON.stringify(r)}`);const s=$4(i);return s.splice(Number.parseInt(o),0,n),s})}function Va(t,e){return t===void 0?!1:e.length===0?!0:t===null?!1:Va(t[e[0]],e.slice(1))}function Ba(t){const e=t.split("/");return e.shift(),e.map(n=>n.replace(/~1/g,"/").replace(/~0/g,"~"))}function Wt(t){return t.map(vU).join("")}function vU(t){return`/${String(t).replace(/~/g,"~0").replace(/\//g,"~1")}`}function Qw(t,e){return t+vU(e)}function vc(t,e,n){let r=t;for(let o=0;o<e.length;o++){kfe(e[o]);let i=e[o];if(n!=null&&n.before){const l=n.before(r,i);if(l!==void 0){if(l.document!==void 0&&(r=l.document),l.json!==void 0)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"');l.operation!==void 0&&(i=l.operation)}}const s=r,a=yc(r,i.path);if(i.op==="add")r=vfe(r,a,i.value);else if(i.op==="remove")r=gfe(r,a);else if(i.op==="replace")r=mfe(r,a,i.value);else if(i.op==="copy")r=yfe(r,a,y$(i.from));else if(i.op==="move")r=bfe(r,a,y$(i.from));else if(i.op==="test")wfe(r,a,i.value);else throw new Error(`Unknown JSONPatch operation ${JSON.stringify(i)}`);if(n!=null&&n.after){const l=n.after(r,i,s);l!==void 0&&(r=l)}}return r}function mfe(t,e,n){return Va(t,e)?Ta(t,e,n):t}function gfe(t,e){return Pj(t,e)}function vfe(t,e,n){return ow(t,e)?P4(t,e,n):Ta(t,e,n)}function yfe(t,e,n){const r=xt(t,n);return ow(t,e)?P4(t,e,r):Ta(t,e,r)}function bfe(t,e,n){const r=xt(t,n),o=Pj(t,n);return ow(o,e)?P4(o,e,r):Ta(o,e,r)}function wfe(t,e,n){if(n===void 0)throw new Error(`Test failed: no value provided (path: "${Wt(e)}")`);if(!Va(t,e))throw new Error(`Test failed: path not found (path: "${Wt(e)}")`);const r=xt(t,e);if(!ufe(r,n))throw new Error(`Test failed, value differs (path: "${Wt(e)}")`)}function ow(t,e){if(e.length===0)return!1;const n=xt(t,mU(e));return Array.isArray(n)}function xfe(t,e){if(ffe(e)!=="-")return e;const n=mU(e),r=xt(t,n);return n.concat(r.length)}function kfe(t){if(!["add","remove","replace","copy","move","test"].includes(t.op))throw new Error(`Unknown JSONPatch op ${JSON.stringify(t.op)}`);if(typeof t.path!="string")throw new Error(`Required property "path" missing or not a string in operation ${JSON.stringify(t)}`);if((t.op==="copy"||t.op==="move")&&typeof t.from!="string")throw new Error(`Required property "from" missing or not a string in operation ${JSON.stringify(t)}`)}function yc(t,e){return xfe(t,Ba(e))}function y$(t){return Ba(t)}function yU(t,e,n){let r=[];return vc(t,e,{before:(i,s)=>{let a;const l=yc(i,s.path);if(s.op==="add")a=xU(i,l);else if(s.op==="remove")a=wU(i,l);else if(s.op==="replace")a=bU(i,l);else if(s.op==="copy")a=Sfe(i,l);else if(s.op==="move")a=Cfe(i,l,y$(s.from));else if(s.op==="test")a=[];else throw new Error(`Unknown JSONPatch operation ${JSON.stringify(s)}`);let c;if(n!=null&&n.before){const u=n.before(i,s,a);if(u!=null&&u.revertOperations&&(a=u.revertOperations),u!=null&&u.document&&(c=u.document),u!=null&&u.json)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"')}if(r=a.concat(r),c!==void 0)return{document:c}}}),r}function bU(t,e){return Va(t,e)?[{op:"replace",path:Wt(e),value:xt(t,e)}]:[]}function wU(t,e){return[{op:"add",path:Wt(e),value:xt(t,e)}]}function xU(t,e){return ow(t,e)||!Va(t,e)?[{op:"remove",path:Wt(e)}]:bU(t,e)}function Sfe(t,e){return xU(t,e)}function Cfe(t,e,n){if(e.length<n.length&&hfe(n,e))return[{op:"replace",path:Wt(e),value:t}];const r={op:"move",from:Wt(e),path:Wt(n)};return!ow(t,e)&&Va(t,e)?[r,...wU(t,e)]:[r]}function jfe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ij={},w5={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},Afe=97;Ij.parse=function(t,e,n){var r={},o=0,i=0,s=0,a=n&&n.bigint&&typeof BigInt<"u";return{data:l("",!0),pointers:r};function l(A,_){c();var R;x(A,"value");var T=g();switch(T){case"t":m("rue"),R=!0;break;case"f":m("alse"),R=!1;break;case"n":m("ull"),R=null;break;case'"':R=u();break;case"[":R=f(A);break;case"{":R=h(A);break;default:v(),"-0123456789".indexOf(T)>=0?R=d():S()}return x(A,"valueEnd"),c(),_&&s<t.length&&S(),R}function c(){e:for(;s<t.length;){switch(t[s]){case" ":i++;break;case"	":i+=4;break;case"\r":i=0;break;case`
`:i=0,o++;break;default:break e}s++}}function u(){for(var A="",_;_=g(),_!='"';)_=="\\"?(_=g(),_ in w5?A+=w5[_]:_=="u"?A+=y():C()):A+=_;return A}function d(){var A="",_=!0;t[s]=="-"&&(A+=g()),A+=t[s]=="0"?g():b(),t[s]=="."&&(A+=g()+b(),_=!1),(t[s]=="e"||t[s]=="E")&&(A+=g(),(t[s]=="+"||t[s]=="-")&&(A+=g()),A+=b(),_=!1);var R=+A;return a&&_&&(R>Number.MAX_SAFE_INTEGER||R<Number.MIN_SAFE_INTEGER)?BigInt(A):R}function f(A){c();var _=[],R=0;if(g()=="]")return _;for(v();;){var T=A+"/"+R;_.push(l(T)),c();var z=g();if(z=="]")break;z!=","&&C(),c(),R++}return _}function h(A){c();var _={};if(g()=="}")return _;for(v();;){var R=w();g()!='"'&&C();var T=u(),z=A+"/"+b$(T);k(z,"key",R),x(z,"keyEnd"),c(),g()!=":"&&C(),c(),_[T]=l(z),c();var U=g();if(U=="}")break;U!=","&&C(),c()}return _}function m(A){for(var _=0;_<A.length;_++)g()!==A[_]&&C()}function g(){j();var A=t[s];return s++,i++,A}function v(){s--,i--}function y(){for(var A=4,_=0;A--;){_<<=4;var R=g().toLowerCase();R>="a"&&R<="f"?_+=R.charCodeAt()-Afe+10:R>="0"&&R<="9"?_+=+R:C()}return String.fromCharCode(_)}function b(){for(var A="";t[s]>="0"&&t[s]<="9";)A+=g();if(A.length)return A;j(),S()}function x(A,_){k(A,_,w())}function k(A,_,R){r[A]=r[A]||{},r[A][_]=R}function w(){return{line:o,column:i,pos:s}}function S(){throw new SyntaxError("Unexpected token "+t[s]+" in JSON at position "+s)}function C(){v(),S()}function j(){if(s>=t.length)throw new SyntaxError("Unexpected end of JSON input")}};Ij.stringify=function(t,e,n){if(!Zw(t))return;var r=0,o,i,s=typeof n=="object"?n.space:n;switch(typeof s){case"number":var a=s>10?10:s<0?0:Math.floor(s);s=a&&k(a," "),o=a,i=a;break;case"string":s=s.slice(0,10),o=0,i=0;for(var l=0;l<s.length;l++){var c=s[l];switch(c){case" ":i++;break;case"	":i+=4;break;case"\r":i=0;break;case`
`:i=0,r++;break;default:throw new Error("whitespace characters not allowed in JSON")}o++}break;default:s=void 0}var u="",d={},f=0,h=0,m=0,g=n&&n.es6&&typeof Map=="function";return v(t,0,""),{json:u,pointers:d};function v(w,S,C){switch(x(C,"value"),typeof w){case"number":case"bigint":case"boolean":y(""+w);break;case"string":y(ex(w));break;case"object":w===null?y("null"):typeof w.toJSON=="function"?y(ex(w.toJSON())):Array.isArray(w)?j():g?w.constructor.BYTES_PER_ELEMENT?j():w instanceof Map?_():w instanceof Set?_(!0):A():A()}x(C,"valueEnd");function j(){if(w.length){y("[");for(var R=S+1,T=0;T<w.length;T++){T&&y(","),b(R);var z=Zw(w[T])?w[T]:null,U=C+"/"+T;v(z,R,U)}b(S),y("]")}else y("[]")}function A(){var R=Object.keys(w);if(R.length){y("{");for(var T=S+1,z=0;z<R.length;z++){var U=R[z],G=w[U];if(Zw(G)){z&&y(",");var ce=C+"/"+b$(U);b(T),x(ce,"key"),y(ex(U)),x(ce,"keyEnd"),y(":"),s&&y(" "),v(G,T,ce)}}b(S),y("}")}else y("{}")}function _(R){if(w.size){y("{");for(var T=S+1,z=!0,U=w.entries(),G=U.next();!G.done;){var ce=G.value,ie=ce[0],Z=R?!0:ce[1];if(Zw(Z)){z||y(","),z=!1;var W=C+"/"+b$(ie);b(T),x(W,"key"),y(ex(ie)),x(W,"keyEnd"),y(":"),s&&y(" "),v(Z,T,W)}G=U.next()}b(S),y("}")}else y("{}")}}function y(w){h+=w.length,m+=w.length,u+=w}function b(w){if(s){for(u+=`
`+k(w,s),f++,h=0;w--;)r?(f+=r,h=i):h+=i,m+=o;m+=1}}function x(w,S){d[w]=d[w]||{},d[w][S]={line:f,column:h,pos:m}}function k(w,S){return Array(w+1).join(S)}};var Mfe=["number","bigint","boolean","string","object"];function Zw(t){return Mfe.indexOf(typeof t)>=0}var Tfe=/"|\\/g,Ofe=/[\b]/g,$fe=/\f/g,Efe=/\n/g,_fe=/\r/g,Pfe=/\t/g;function ex(t){return t=t.replace(Tfe,"\\$&").replace($fe,"\\f").replace(Ofe,"\\b").replace(Efe,"\\n").replace(_fe,"\\r").replace(Pfe,"\\t"),'"'+t+'"'}var Ife=/~/g,Rfe=/\//g;function b$(t){return t.replace(Ife,"~0").replace(Rfe,"~1")}class ag extends Error{constructor(e,n){super(`${e} at position ${n}`),this.position=n}}const kU=32,Nfe=10,SU=9,CU=13,Lfe=160,Dfe=8192,Vfe=8202,Bfe=8239,zfe=8287,Hfe=12288;function Ffe(t){return/^[0-9A-Fa-f]$/.test(t)}function up(t){return t>="0"&&t<="9"}function qfe(t){return t>=" "}function tx(t){return`,:[]/{}()
+`.includes(t)}function x5(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="_"||t==="$"}function k5(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="_"||t==="$"||t>="0"&&t<="9"}const S5=/^(http|https|ftp|mailto|file|data|irc):\/\/$/,C5=/^[A-Za-z0-9-._~:/?#@!$&'()*+;=]$/;function j5(t){return`,[]/{}
+`.includes(t)}function A5(t){return Pk(t)||Ufe.test(t)}const Ufe=/^[[{\w-]$/;function Wfe(t){return t===`
`||t==="\r"||t==="	"||t==="\b"||t==="\f"}function Sp(t,e){const n=t.charCodeAt(e);return n===kU||n===Nfe||n===SU||n===CU}function Kfe(t,e){const n=t.charCodeAt(e);return n===kU||n===SU||n===CU}function Jfe(t,e){const n=t.charCodeAt(e);return n===Lfe||n>=Dfe&&n<=Vfe||n===Bfe||n===zfe||n===Hfe}function Pk(t){return jU(t)||w$(t)}function jU(t){return t==='"'||t===""||t===""}function M5(t){return t==='"'}function w$(t){return t==="'"||t===""||t===""||t==="`"||t===""}function T5(t){return t==="'"}function Uy(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const r=t.lastIndexOf(e);return r!==-1?t.substring(0,r)+(n?"":t.substring(r+1)):t}function nc(t,e){let n=t.length;if(!Sp(t,n-1))return t+e;for(;Sp(t,n-1);)n--;return t.substring(0,n)+e+t.substring(n)}function Gfe(t,e,n){return t.substring(0,e)+t.substring(e+n)}function Yfe(t){return/[,\n][ \t\r]*$/.test(t)}const Xfe={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},Qfe={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function Su(t){let e=0,n="";c(["```","[```","{```"]),i()||U(),c(["```","```]","```}"]);const o=d(",");for(o&&s(),A5(t[e])&&Yfe(n)?(o||(n=nc(n,",")),y()):o&&(n=Uy(n,","));t[e]==="}"||t[e]==="]";)e++,s();if(e>=t.length)return n;z();function i(){s();const Z=g()||v()||b()||k()||w()||C(!1)||j();return s(),Z}function s(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const W=e;let B=a(Z);do B=l(),B&&(B=a(Z));while(B);return e>W}function a(Z){const W=Z?Sp:Kfe;let B="";for(;;)if(W(t,e))B+=t[e],e++;else if(Jfe(t,e))B+=" ",e++;else break;return B.length>0?(n+=B,!0):!1}function l(){if(t[e]==="/"&&t[e+1]==="*"){for(;e<t.length&&!Zfe(t,e);)e++;return e+=2,!0}if(t[e]==="/"&&t[e+1]==="/"){for(;e<t.length&&t[e]!==`
`;)e++;return!0}return!1}function c(Z){if(u(Z)){if(x5(t[e]))for(;e<t.length&&k5(t[e]);)e++;return s(),!0}return!1}function u(Z){a(!0);for(const W of Z){const B=e+W.length;if(t.slice(e,B)===W)return e=B,!0}return!1}function d(Z){return t[e]===Z?(n+=t[e],e++,!0):!1}function f(Z){return t[e]===Z?(e++,!0):!1}function h(){return f("\\")}function m(){return s(),t[e]==="."&&t[e+1]==="."&&t[e+2]==="."?(e+=3,s(),f(","),!0):!1}function g(){if(t[e]==="{"){n+="{",e++,s(),f(",")&&s();let Z=!0;for(;e<t.length&&t[e]!=="}";){let W;if(Z?(W=!0,Z=!1):(W=d(","),W||(n=nc(n,",")),s()),m(),!(b()||C(!0))){t[e]==="}"||t[e]==="{"||t[e]==="]"||t[e]==="["||t[e]===void 0?n=Uy(n,","):G();break}s();const H=d(":"),K=e>=t.length;H||(A5(t[e])||K?n=nc(n,":"):ce()),i()||(H||K?n+="null":ce())}return t[e]==="}"?(n+="}",e++):n=nc(n,"}"),!0}return!1}function v(){if(t[e]==="["){n+="[",e++,s(),f(",")&&s();let Z=!0;for(;e<t.length&&t[e]!=="]";)if(Z?Z=!1:d(",")||(n=nc(n,",")),m(),!i()){n=Uy(n,",");break}return t[e]==="]"?(n+="]",e++):n=nc(n,"]"),!0}return!1}function y(){let Z=!0,W=!0;for(;W;)Z?Z=!1:d(",")||(n=nc(n,",")),W=i();W||(n=Uy(n,",")),n=`[
${n}
]`}function b(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,B=t[e]==="\\";if(B&&(e++,B=!0),Pk(t[e])){const H=M5(t[e])?M5:T5(t[e])?T5:w$(t[e])?w$:jU,K=e,P=n.length;let M='"';for(e++;;){if(e>=t.length){const N=A(e-1);return!Z&&tx(t.charAt(N))?(e=K,n=n.substring(0,P),b(!0)):(M=nc(M,'"'),n+=M,!0)}if(e===W)return M=nc(M,'"'),n+=M,!0;if(H(t[e])){const N=e,he=M.length;if(M+='"',e++,n+=M,s(!1),Z||e>=t.length||tx(t[e])||Pk(t[e])||up(t[e]))return x(),!0;const ge=A(N-1),te=t.charAt(ge);if(te===",")return e=K,n=n.substring(0,P),b(!1,ge);if(tx(te))return e=K,n=n.substring(0,P),b(!0);n=n.substring(0,P),e=N+1,M=`${M.substring(0,he)}\\${M.substring(he)}`}else if(Z&&j5(t[e])){if(t[e-1]===":"&&S5.test(t.substring(K+1,e+2)))for(;e<t.length&&C5.test(t[e]);)M+=t[e],e++;return M=nc(M,'"'),n+=M,x(),!0}else if(t[e]==="\\"){const N=t.charAt(e+1);if(Qfe[N]!==void 0)M+=t.slice(e,e+2),e+=2;else if(N==="u"){let ge=2;for(;ge<6&&Ffe(t[e+ge]);)ge++;ge===6?(M+=t.slice(e,e+6),e+=6):e+ge>=t.length?e=t.length:ie()}else M+=N,e+=2}else{const N=t.charAt(e);N==='"'&&t[e-1]!=="\\"?(M+=`\\${N}`,e++):Wfe(N)?(M+=Xfe[N],e++):(qfe(N)||T(N),M+=N,e++)}B&&h()}}return!1}function x(){let Z=!1;for(s();t[e]==="+";){Z=!0,e++,s(),n=Uy(n,'"',!0);const W=n.length;b()?n=Gfe(n,W,1):n=nc(n,'"')}return Z}function k(){const Z=e;if(t[e]==="-"){if(e++,_())return R(Z),!0;if(!up(t[e]))return e=Z,!1}for(;up(t[e]);)e++;if(t[e]==="."){if(e++,_())return R(Z),!0;if(!up(t[e]))return e=Z,!1;for(;up(t[e]);)e++}if(t[e]==="e"||t[e]==="E"){if(e++,(t[e]==="-"||t[e]==="+")&&e++,_())return R(Z),!0;if(!up(t[e]))return e=Z,!1;for(;up(t[e]);)e++}if(!_())return e=Z,!1;if(e>Z){const W=t.slice(Z,e),B=/^0\d/.test(W);return n+=B?`"${W}"`:W,!0}return!1}function w(){return S("true","true")||S("false","false")||S("null","null")||S("True","true")||S("False","false")||S("None","null")}function S(Z,W){return t.slice(e,e+Z.length)===Z?(n+=W,e+=Z.length,!0):!1}function C(Z){const W=e;if(x5(t[e])){for(;e<t.length&&k5(t[e]);)e++;let B=e;for(;Sp(t,B);)B++;if(t[B]==="(")return e=B+1,i(),t[e]===")"&&(e++,t[e]===";"&&e++),!0}for(;e<t.length&&!j5(t[e])&&!Pk(t[e])&&(!Z||t[e]!==":");)e++;if(t[e-1]===":"&&S5.test(t.substring(W,e+2)))for(;e<t.length&&C5.test(t[e]);)e++;if(e>W){for(;Sp(t,e-1)&&e>0;)e--;const B=t.slice(W,e);return n+=B==="undefined"?"null":JSON.stringify(B),t[e]==='"'&&e++,!0}}function j(){if(t[e]==="/"){const Z=e;for(e++;e<t.length&&(t[e]!=="/"||t[e-1]==="\\");)e++;return e++,n+=`"${t.substring(Z,e)}"`,!0}}function A(Z){let W=Z;for(;W>0&&Sp(t,W);)W--;return W}function _(){return e>=t.length||tx(t[e])||Sp(t,e)}function R(Z){n+=`${t.slice(Z,e)}0`}function T(Z){throw new ag(`Invalid character ${JSON.stringify(Z)}`,e)}function z(){throw new ag(`Unexpected character ${JSON.stringify(t[e])}`,e)}function U(){throw new ag("Unexpected end of json string",t.length)}function G(){throw new ag("Object key expected",e)}function ce(){throw new ag("Colon expected",e)}function ie(){const Z=t.slice(e,e+6);throw new ag(`Invalid unicode character "${Z}"`,e)}}function Zfe(t,e){return t[e]==="*"&&t[e+1]==="/"}var AU=typeof global=="object"&&global&&global.Object===Object&&global,ehe=typeof self=="object"&&self&&self.Object===Object&&self,Hc=AU||ehe||Function("return this")(),zl=Hc.Symbol,MU=Object.prototype,the=MU.hasOwnProperty,nhe=MU.toString,Wy=zl?zl.toStringTag:void 0;function rhe(t){var e=the.call(t,Wy),n=t[Wy];try{t[Wy]=void 0;var r=!0}catch{}var o=nhe.call(t);return r&&(e?t[Wy]=n:delete t[Wy]),o}var ohe=Object.prototype,ihe=ohe.toString;function she(t){return ihe.call(t)}var ahe="[object Null]",lhe="[object Undefined]",O5=zl?zl.toStringTag:void 0;function vy(t){return t==null?t===void 0?lhe:ahe:O5&&O5 in Object(t)?rhe(t):she(t)}function Sh(t){return t!=null&&typeof t=="object"}var che="[object Symbol]";function cm(t){return typeof t=="symbol"||Sh(t)&&vy(t)==che}function V1(t,e){for(var n=-1,r=t==null?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}var ta=Array.isArray,$5=zl?zl.prototype:void 0,E5=$5?$5.toString:void 0;function TU(t){if(typeof t=="string")return t;if(ta(t))return V1(t,TU)+"";if(cm(t))return E5?E5.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var uhe=/\s/;function dhe(t){for(var e=t.length;e--&&uhe.test(t.charAt(e)););return e}var fhe=/^\s+/;function hhe(t){return t&&t.slice(0,dhe(t)+1).replace(fhe,"")}function Fd(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var _5=NaN,phe=/^[-+]0x[0-9a-f]+$/i,mhe=/^0b[01]+$/i,ghe=/^0o[0-7]+$/i,vhe=parseInt;function x$(t){if(typeof t=="number")return t;if(cm(t))return _5;if(Fd(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Fd(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=hhe(t);var n=mhe.test(t);return n||ghe.test(t)?vhe(t.slice(2),n?2:8):phe.test(t)?_5:+t}var yhe=1/0,bhe=17976931348623157e292;function Ik(t){if(!t)return t===0?t:0;if(t=x$(t),t===yhe||t===-1/0){var e=t<0?-1:1;return e*bhe}return t===t?t:0}function whe(t){var e=Ik(t),n=e%1;return e===e?n?e-n:e:0}function iw(t){return t}var xhe="[object AsyncFunction]",khe="[object Function]",She="[object GeneratorFunction]",Che="[object Proxy]";function OU(t){if(!Fd(t))return!1;var e=vy(t);return e==khe||e==She||e==xhe||e==Che}var LM=Hc["__core-js_shared__"],P5=function(){var t=/[^.]+$/.exec(LM&&LM.keys&&LM.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function jhe(t){return!!P5&&P5 in t}var Ahe=Function.prototype,Mhe=Ahe.toString;function Dm(t){if(t!=null){try{return Mhe.call(t)}catch{}try{return t+""}catch{}}return""}var The=/[\\^$.*+?()[\]{}|]/g,Ohe=/^\[object .+?Constructor\]$/,$he=Function.prototype,Ehe=Object.prototype,_he=$he.toString,Phe=Ehe.hasOwnProperty,Ihe=RegExp("^"+_he.call(Phe).replace(The,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rhe(t){if(!Fd(t)||jhe(t))return!1;var e=OU(t)?Ihe:Ohe;return e.test(Dm(t))}function Nhe(t,e){return t==null?void 0:t[e]}function Vm(t,e){var n=Nhe(t,e);return Rhe(n)?n:void 0}var k$=Vm(Hc,"WeakMap"),I5=Object.create,Lhe=function(){function t(){}return function(e){if(!Fd(e))return{};if(I5)return I5(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Dhe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function wi(){}var Vhe=800,Bhe=16,zhe=Date.now;function Hhe(t){var e=0,n=0;return function(){var r=zhe(),o=Bhe-(r-n);if(n=r,o>0){if(++e>=Vhe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Fhe(t){return function(){return t}}var GS=function(){try{var t=Vm(Object,"defineProperty");return t({},"",{}),t}catch{}}(),qhe=GS?function(t,e){return GS(t,"toString",{configurable:!0,enumerable:!1,value:Fhe(e),writable:!0})}:iw,Uhe=Hhe(qhe);function Whe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Khe=9007199254740991,Jhe=/^(?:0|[1-9]\d*)$/;function I4(t,e){var n=typeof t;return e=e??Khe,!!e&&(n=="number"||n!="symbol"&&Jhe.test(t))&&t>-1&&t%1==0&&t<e}function R4(t,e,n){e=="__proto__"&&GS?GS(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Rj(t,e){return t===e||t!==t&&e!==e}var Ghe=Object.prototype,Yhe=Ghe.hasOwnProperty;function Xhe(t,e,n){var r=t[e];(!(Yhe.call(t,e)&&Rj(r,n))||n===void 0&&!(e in t))&&R4(t,e,n)}var R5=Math.max;function Qhe(t,e,n){return e=R5(e===void 0?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=R5(r.length-e,0),s=Array(i);++o<i;)s[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=n(s),Dhe(t,this,a)}}function Zhe(t,e){return Uhe(Qhe(t,e,iw),t+"")}var epe=9007199254740991;function N4(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=epe}function sw(t){return t!=null&&N4(t.length)&&!OU(t)}function S$(t,e,n){if(!Fd(n))return!1;var r=typeof e;return(r=="number"?sw(n)&&I4(e,n.length):r=="string"&&e in n)?Rj(n[e],t):!1}var tpe=Object.prototype;function L4(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||tpe;return t===n}function $U(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var npe="[object Arguments]";function N5(t){return Sh(t)&&vy(t)==npe}var EU=Object.prototype,rpe=EU.hasOwnProperty,ope=EU.propertyIsEnumerable,Nj=N5(function(){return arguments}())?N5:function(t){return Sh(t)&&rpe.call(t,"callee")&&!ope.call(t,"callee")};function ipe(){return!1}var _U=typeof exports=="object"&&exports&&!exports.nodeType&&exports,L5=_U&&typeof module=="object"&&module&&!module.nodeType&&module,spe=L5&&L5.exports===_U,D5=spe?Hc.Buffer:void 0,ape=D5?D5.isBuffer:void 0,L0=ape||ipe,lpe="[object Arguments]",cpe="[object Array]",upe="[object Boolean]",dpe="[object Date]",fpe="[object Error]",hpe="[object Function]",ppe="[object Map]",mpe="[object Number]",gpe="[object Object]",vpe="[object RegExp]",ype="[object Set]",bpe="[object String]",wpe="[object WeakMap]",xpe="[object ArrayBuffer]",kpe="[object DataView]",Spe="[object Float32Array]",Cpe="[object Float64Array]",jpe="[object Int8Array]",Ape="[object Int16Array]",Mpe="[object Int32Array]",Tpe="[object Uint8Array]",Ope="[object Uint8ClampedArray]",$pe="[object Uint16Array]",Epe="[object Uint32Array]",Lo={};Lo[Spe]=Lo[Cpe]=Lo[jpe]=Lo[Ape]=Lo[Mpe]=Lo[Tpe]=Lo[Ope]=Lo[$pe]=Lo[Epe]=!0;Lo[lpe]=Lo[cpe]=Lo[xpe]=Lo[upe]=Lo[kpe]=Lo[dpe]=Lo[fpe]=Lo[hpe]=Lo[ppe]=Lo[mpe]=Lo[gpe]=Lo[vpe]=Lo[ype]=Lo[bpe]=Lo[wpe]=!1;function _pe(t){return Sh(t)&&N4(t.length)&&!!Lo[vy(t)]}function Lj(t){return function(e){return t(e)}}var PU=typeof exports=="object"&&exports&&!exports.nodeType&&exports,B1=PU&&typeof module=="object"&&module&&!module.nodeType&&module,Ppe=B1&&B1.exports===PU,DM=Ppe&&AU.process,$v=function(){try{var t=B1&&B1.require&&B1.require("util").types;return t||DM&&DM.binding&&DM.binding("util")}catch{}}(),V5=$v&&$v.isTypedArray,D4=V5?Lj(V5):_pe,Ipe=Object.prototype,Rpe=Ipe.hasOwnProperty;function Npe(t,e){var n=ta(t),r=!n&&Nj(t),o=!n&&!r&&L0(t),i=!n&&!r&&!o&&D4(t),s=n||r||o||i,a=s?$U(t.length,String):[],l=a.length;for(var c in t)Rpe.call(t,c)&&!(s&&(c=="length"||o&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||I4(c,l)))&&a.push(c);return a}function IU(t,e){return function(n){return t(e(n))}}var Lpe=IU(Object.keys,Object),Dpe=Object.prototype,Vpe=Dpe.hasOwnProperty;function RU(t){if(!L4(t))return Lpe(t);var e=[];for(var n in Object(t))Vpe.call(t,n)&&n!="constructor"&&e.push(n);return e}function Dj(t){return sw(t)?Npe(t):RU(t)}var Bpe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zpe=/^\w*$/;function V4(t,e){if(ta(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||cm(t)?!0:zpe.test(t)||!Bpe.test(t)||e!=null&&t in Object(e)}var D0=Vm(Object,"create");function Hpe(){this.__data__=D0?D0(null):{},this.size=0}function Fpe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var qpe="__lodash_hash_undefined__",Upe=Object.prototype,Wpe=Upe.hasOwnProperty;function Kpe(t){var e=this.__data__;if(D0){var n=e[t];return n===qpe?void 0:n}return Wpe.call(e,t)?e[t]:void 0}var Jpe=Object.prototype,Gpe=Jpe.hasOwnProperty;function Ype(t){var e=this.__data__;return D0?e[t]!==void 0:Gpe.call(e,t)}var Xpe="__lodash_hash_undefined__";function Qpe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=D0&&e===void 0?Xpe:e,this}function um(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}um.prototype.clear=Hpe;um.prototype.delete=Fpe;um.prototype.get=Kpe;um.prototype.has=Ype;um.prototype.set=Qpe;function Zpe(){this.__data__=[],this.size=0}function Vj(t,e){for(var n=t.length;n--;)if(Rj(t[n][0],e))return n;return-1}var eme=Array.prototype,tme=eme.splice;function nme(t){var e=this.__data__,n=Vj(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():tme.call(e,n,1),--this.size,!0}function rme(t){var e=this.__data__,n=Vj(e,t);return n<0?void 0:e[n][1]}function ome(t){return Vj(this.__data__,t)>-1}function ime(t,e){var n=this.__data__,r=Vj(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function uf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}uf.prototype.clear=Zpe;uf.prototype.delete=nme;uf.prototype.get=rme;uf.prototype.has=ome;uf.prototype.set=ime;var V0=Vm(Hc,"Map");function sme(){this.size=0,this.__data__={hash:new um,map:new(V0||uf),string:new um}}function ame(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Bj(t,e){var n=t.__data__;return ame(e)?n[typeof e=="string"?"string":"hash"]:n.map}function lme(t){var e=Bj(this,t).delete(t);return this.size-=e?1:0,e}function cme(t){return Bj(this,t).get(t)}function ume(t){return Bj(this,t).has(t)}function dme(t,e){var n=Bj(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function df(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}df.prototype.clear=sme;df.prototype.delete=lme;df.prototype.get=cme;df.prototype.has=ume;df.prototype.set=dme;var fme="Expected a function";function B4(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(fme);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=t.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(B4.Cache||df),n}B4.Cache=df;var hme=500;function pme(t){var e=B4(t,function(r){return n.size===hme&&n.clear(),r}),n=e.cache;return e}var mme=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gme=/\\(\\)?/g,vme=pme(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(mme,function(n,r,o,i){e.push(o?i.replace(gme,"$1"):r||n)}),e});function NU(t){return t==null?"":TU(t)}function LU(t,e){return ta(t)?t:V4(t,e)?[t]:vme(NU(t))}function zj(t){if(typeof t=="string"||cm(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function z4(t,e){e=LU(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[zj(e[n++])];return n&&n==r?t:void 0}function yme(t,e,n){var r=t==null?void 0:z4(t,e);return r===void 0?n:r}function DU(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}var B5=zl?zl.isConcatSpreadable:void 0;function bme(t){return ta(t)||Nj(t)||!!(B5&&t&&t[B5])}function wme(t,e,n,r,o){var i=-1,s=t.length;for(n||(n=bme),o||(o=[]);++i<s;){var a=t[i];n(a)?DU(o,a):o[o.length]=a}return o}var xme=IU(Object.getPrototypeOf,Object);function kme(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}function Sme(){this.__data__=new uf,this.size=0}function Cme(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function jme(t){return this.__data__.get(t)}function Ame(t){return this.__data__.has(t)}var Mme=200;function Tme(t,e){var n=this.__data__;if(n instanceof uf){var r=n.__data__;if(!V0||r.length<Mme-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new df(r)}return n.set(t,e),this.size=n.size,this}function Cu(t){var e=this.__data__=new uf(t);this.size=e.size}Cu.prototype.clear=Sme;Cu.prototype.delete=Cme;Cu.prototype.get=jme;Cu.prototype.has=Ame;Cu.prototype.set=Tme;var VU=typeof exports=="object"&&exports&&!exports.nodeType&&exports,z5=VU&&typeof module=="object"&&module&&!module.nodeType&&module,Ome=z5&&z5.exports===VU,H5=Ome?Hc.Buffer:void 0;H5&&H5.allocUnsafe;function $me(t,e){return t.slice()}function Eme(t,e){for(var n=-1,r=t==null?0:t.length,o=0,i=[];++n<r;){var s=t[n];e(s,n,t)&&(i[o++]=s)}return i}function _me(){return[]}var Pme=Object.prototype,Ime=Pme.propertyIsEnumerable,F5=Object.getOwnPropertySymbols,Rme=F5?function(t){return t==null?[]:(t=Object(t),Eme(F5(t),function(e){return Ime.call(t,e)}))}:_me;function Nme(t,e,n){var r=e(t);return ta(t)?r:DU(r,n(t))}function C$(t){return Nme(t,Dj,Rme)}var j$=Vm(Hc,"DataView"),A$=Vm(Hc,"Promise"),M$=Vm(Hc,"Set"),q5="[object Map]",Lme="[object Object]",U5="[object Promise]",W5="[object Set]",K5="[object WeakMap]",J5="[object DataView]",Dme=Dm(j$),Vme=Dm(V0),Bme=Dm(A$),zme=Dm(M$),Hme=Dm(k$),Ml=vy;(j$&&Ml(new j$(new ArrayBuffer(1)))!=J5||V0&&Ml(new V0)!=q5||A$&&Ml(A$.resolve())!=U5||M$&&Ml(new M$)!=W5||k$&&Ml(new k$)!=K5)&&(Ml=function(t){var e=vy(t),n=e==Lme?t.constructor:void 0,r=n?Dm(n):"";if(r)switch(r){case Dme:return J5;case Vme:return q5;case Bme:return U5;case zme:return W5;case Hme:return K5}return e});var Fme=Object.prototype,qme=Fme.hasOwnProperty;function Ume(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&qme.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var YS=Hc.Uint8Array;function H4(t){var e=new t.constructor(t.byteLength);return new YS(e).set(new YS(t)),e}function Wme(t,e){var n=H4(t.buffer);return new t.constructor(n,t.byteOffset,t.byteLength)}var Kme=/\w*$/;function Jme(t){var e=new t.constructor(t.source,Kme.exec(t));return e.lastIndex=t.lastIndex,e}var G5=zl?zl.prototype:void 0,Y5=G5?G5.valueOf:void 0;function Gme(t){return Y5?Object(Y5.call(t)):{}}function Yme(t,e){var n=H4(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}var Xme="[object Boolean]",Qme="[object Date]",Zme="[object Map]",ege="[object Number]",tge="[object RegExp]",nge="[object Set]",rge="[object String]",oge="[object Symbol]",ige="[object ArrayBuffer]",sge="[object DataView]",age="[object Float32Array]",lge="[object Float64Array]",cge="[object Int8Array]",uge="[object Int16Array]",dge="[object Int32Array]",fge="[object Uint8Array]",hge="[object Uint8ClampedArray]",pge="[object Uint16Array]",mge="[object Uint32Array]";function gge(t,e,n){var r=t.constructor;switch(e){case ige:return H4(t);case Xme:case Qme:return new r(+t);case sge:return Wme(t);case age:case lge:case cge:case uge:case dge:case fge:case hge:case pge:case mge:return Yme(t);case Zme:return new r;case ege:case rge:return new r(t);case tge:return Jme(t);case nge:return new r;case oge:return Gme(t)}}function vge(t){return typeof t.constructor=="function"&&!L4(t)?Lhe(xme(t)):{}}var yge="[object Map]";function bge(t){return Sh(t)&&Ml(t)==yge}var X5=$v&&$v.isMap,wge=X5?Lj(X5):bge,xge="[object Set]";function kge(t){return Sh(t)&&Ml(t)==xge}var Q5=$v&&$v.isSet,Sge=Q5?Lj(Q5):kge,BU="[object Arguments]",Cge="[object Array]",jge="[object Boolean]",Age="[object Date]",Mge="[object Error]",zU="[object Function]",Tge="[object GeneratorFunction]",Oge="[object Map]",$ge="[object Number]",HU="[object Object]",Ege="[object RegExp]",_ge="[object Set]",Pge="[object String]",Ige="[object Symbol]",Rge="[object WeakMap]",Nge="[object ArrayBuffer]",Lge="[object DataView]",Dge="[object Float32Array]",Vge="[object Float64Array]",Bge="[object Int8Array]",zge="[object Int16Array]",Hge="[object Int32Array]",Fge="[object Uint8Array]",qge="[object Uint8ClampedArray]",Uge="[object Uint16Array]",Wge="[object Uint32Array]",Ao={};Ao[BU]=Ao[Cge]=Ao[Nge]=Ao[Lge]=Ao[jge]=Ao[Age]=Ao[Dge]=Ao[Vge]=Ao[Bge]=Ao[zge]=Ao[Hge]=Ao[Oge]=Ao[$ge]=Ao[HU]=Ao[Ege]=Ao[_ge]=Ao[Pge]=Ao[Ige]=Ao[Fge]=Ao[qge]=Ao[Uge]=Ao[Wge]=!0;Ao[Mge]=Ao[zU]=Ao[Rge]=!1;function z1(t,e,n,r,o,i){var s;if(n&&(s=o?n(t,r,o,i):n(t)),s!==void 0)return s;if(!Fd(t))return t;var a=ta(t);if(a)s=Ume(t);else{var l=Ml(t),c=l==zU||l==Tge;if(L0(t))return $me(t);if(l==HU||l==BU||c&&!o)s=c?{}:vge(t);else{if(!Ao[l])return o?t:{};s=gge(t,l)}}i||(i=new Cu);var u=i.get(t);if(u)return u;i.set(t,s),Sge(t)?t.forEach(function(h){s.add(z1(h,e,n,h,t,i))}):wge(t)&&t.forEach(function(h,m){s.set(m,z1(h,e,n,m,t,i))});var d=C$,f=a?void 0:d(t);return Whe(f||t,function(h,m){f&&(m=h,h=t[m]),Xhe(s,m,z1(h,e,n,m,t,i))}),s}var Kge=1,Jge=4;function T$(t){return z1(t,Kge|Jge)}var Gge=1,Yge=4;function Xge(t,e){return e=typeof e=="function"?e:void 0,z1(t,Gge|Yge,e)}var Qge="__lodash_hash_undefined__";function Zge(t){return this.__data__.set(t,Qge),this}function eve(t){return this.__data__.has(t)}function XS(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new df;++e<n;)this.add(t[e])}XS.prototype.add=XS.prototype.push=Zge;XS.prototype.has=eve;function tve(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function nve(t,e){return t.has(e)}var rve=1,ove=2;function FU(t,e,n,r,o,i){var s=n&rve,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=i.get(t),u=i.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,h=n&ove?new XS:void 0;for(i.set(t,e),i.set(e,t);++d<a;){var m=t[d],g=e[d];if(r)var v=s?r(g,m,d,e,t,i):r(m,g,d,t,e,i);if(v!==void 0){if(v)continue;f=!1;break}if(h){if(!tve(e,function(y,b){if(!nve(h,b)&&(m===y||o(m,y,n,r,i)))return h.push(b)})){f=!1;break}}else if(!(m===g||o(m,g,n,r,i))){f=!1;break}}return i.delete(t),i.delete(e),f}function ive(t){var e=-1,n=Array(t.size);return t.forEach(function(r,o){n[++e]=[o,r]}),n}function sve(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var ave=1,lve=2,cve="[object Boolean]",uve="[object Date]",dve="[object Error]",fve="[object Map]",hve="[object Number]",pve="[object RegExp]",mve="[object Set]",gve="[object String]",vve="[object Symbol]",yve="[object ArrayBuffer]",bve="[object DataView]",Z5=zl?zl.prototype:void 0,VM=Z5?Z5.valueOf:void 0;function wve(t,e,n,r,o,i,s){switch(n){case bve:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case yve:return!(t.byteLength!=e.byteLength||!i(new YS(t),new YS(e)));case cve:case uve:case hve:return Rj(+t,+e);case dve:return t.name==e.name&&t.message==e.message;case pve:case gve:return t==e+"";case fve:var a=ive;case mve:var l=r&ave;if(a||(a=sve),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=lve,s.set(t,e);var u=FU(a(t),a(e),r,o,i,s);return s.delete(t),u;case vve:if(VM)return VM.call(t)==VM.call(e)}return!1}var xve=1,kve=Object.prototype,Sve=kve.hasOwnProperty;function Cve(t,e,n,r,o,i){var s=n&xve,a=C$(t),l=a.length,c=C$(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var f=a[d];if(!(s?f in e:Sve.call(e,f)))return!1}var h=i.get(t),m=i.get(e);if(h&&m)return h==e&&m==t;var g=!0;i.set(t,e),i.set(e,t);for(var v=s;++d<l;){f=a[d];var y=t[f],b=e[f];if(r)var x=s?r(b,y,f,e,t,i):r(y,b,f,t,e,i);if(!(x===void 0?y===b||o(y,b,n,r,i):x)){g=!1;break}v||(v=f=="constructor")}if(g&&!v){var k=t.constructor,w=e.constructor;k!=w&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof w=="function"&&w instanceof w)&&(g=!1)}return i.delete(t),i.delete(e),g}var jve=1,eL="[object Arguments]",tL="[object Array]",nx="[object Object]",Ave=Object.prototype,nL=Ave.hasOwnProperty;function Mve(t,e,n,r,o,i){var s=ta(t),a=ta(e),l=s?tL:Ml(t),c=a?tL:Ml(e);l=l==eL?nx:l,c=c==eL?nx:c;var u=l==nx,d=c==nx,f=l==c;if(f&&L0(t)){if(!L0(e))return!1;s=!0,u=!1}if(f&&!u)return i||(i=new Cu),s||D4(t)?FU(t,e,n,r,o,i):wve(t,e,l,n,r,o,i);if(!(n&jve)){var h=u&&nL.call(t,"__wrapped__"),m=d&&nL.call(e,"__wrapped__");if(h||m){var g=h?t.value():t,v=m?e.value():e;return i||(i=new Cu),o(g,v,n,r,i)}}return f?(i||(i=new Cu),Cve(t,e,n,r,o,i)):!1}function Hj(t,e,n,r,o){return t===e?!0:t==null||e==null||!Sh(t)&&!Sh(e)?t!==t&&e!==e:Mve(t,e,n,r,Hj,o)}var Tve=1,Ove=2;function $ve(t,e,n,r){var o=n.length,i=o;if(t==null)return!i;for(t=Object(t);o--;){var s=n[o];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<i;){s=n[o];var a=s[0],l=t[a],c=s[1];if(s[2]){if(l===void 0&&!(a in t))return!1}else{var u=new Cu,d;if(!(d===void 0?Hj(c,l,Tve|Ove,r,u):d))return!1}}return!0}function qU(t){return t===t&&!Fd(t)}function Eve(t){for(var e=Dj(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,qU(o)]}return e}function UU(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function _ve(t){var e=Eve(t);return e.length==1&&e[0][2]?UU(e[0][0],e[0][1]):function(n){return n===t||$ve(n,t,e)}}function Pve(t,e){return t!=null&&e in Object(t)}function Ive(t,e,n){e=LU(e,t);for(var r=-1,o=e.length,i=!1;++r<o;){var s=zj(e[r]);if(!(i=t!=null&&n(t,s)))break;t=t[s]}return i||++r!=o?i:(o=t==null?0:t.length,!!o&&N4(o)&&I4(s,o)&&(ta(t)||Nj(t)))}function Rve(t,e){return t!=null&&Ive(t,e,Pve)}var Nve=1,Lve=2;function Dve(t,e){return V4(t)&&qU(e)?UU(zj(t),e):function(n){var r=yme(n,t);return r===void 0&&r===e?Rve(n,t):Hj(e,r,Nve|Lve)}}function Vve(t){return function(e){return e==null?void 0:e[t]}}function Bve(t){return function(e){return z4(e,t)}}function zve(t){return V4(t)?Vve(zj(t)):Bve(t)}function aw(t){return typeof t=="function"?t:t==null?iw:typeof t=="object"?ta(t)?Dve(t[0],t[1]):_ve(t):zve(t)}function Hve(t,e,n,r){for(var o=-1,i=t==null?0:t.length;++o<i;){var s=t[o];e(r,s,n(s),t)}return r}function WU(t){return function(e,n,r){for(var o=-1,i=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++o];if(n(i[l],l,i)===!1)break}return e}}var Fve=WU();function KU(t,e){return t&&Fve(t,e,Dj)}function JU(t,e){return function(n,r){if(n==null)return n;if(!sw(n))return t(n,r);for(var o=n.length,i=e?o:-1,s=Object(n);(e?i--:++i<o)&&r(s[i],i,s)!==!1;);return n}}var GU=JU(KU);function qve(t,e,n,r){return GU(t,function(o,i,s){e(r,o,n(o),s)}),r}function YU(t,e){return function(n,r){var o=ta(n)?Hve:qve,i=e?e():{};return o(n,t,aw(r),i)}}var BM=function(){return Hc.Date.now()},Uve="Expected a function",Wve=Math.max,Kve=Math.min;function QS(t,e,n){var r,o,i,s,a,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(Uve);e=x$(e)||0,Fd(n)&&(u=!!n.leading,d="maxWait"in n,i=d?Wve(x$(n.maxWait)||0,e):i,f="trailing"in n?!!n.trailing:f);function h(S){var C=r,j=o;return r=o=void 0,c=S,s=t.apply(j,C),s}function m(S){return c=S,a=setTimeout(y,e),u?h(S):s}function g(S){var C=S-l,j=S-c,A=e-C;return d?Kve(A,i-j):A}function v(S){var C=S-l,j=S-c;return l===void 0||C>=e||C<0||d&&j>=i}function y(){var S=BM();if(v(S))return b(S);a=setTimeout(y,g(S))}function b(S){return a=void 0,f&&r?h(S):(r=o=void 0,s)}function x(){a!==void 0&&clearTimeout(a),c=0,r=l=o=a=void 0}function k(){return a===void 0?s:b(BM())}function w(){var S=BM(),C=v(S);if(r=arguments,o=this,l=S,C){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(y,e),h(l)}return a===void 0&&(a=setTimeout(y,e)),s}return w.cancel=x,w.flush=k,w}function Nn(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function XU(t){return typeof t=="function"?t:iw}function Jve(t,e){for(var n=t==null?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}var Gve=WU(!0);function Yve(t,e){return t&&Gve(t,e,Dj)}var Xve=JU(Yve,!0);function Qve(t,e){var n=ta(t)?Jve:Xve;return n(t,XU(e))}function jd(t){return t&&t.length?t[0]:void 0}function QU(t,e){var n=-1,r=sw(t)?Array(t.length):[];return GU(t,function(o,i,s){r[++n]=e(o,i,s)}),r}function Zve(t,e){var n=ta(t)?V1:QU;return n(t,aw(e))}var eye=Object.prototype,tye=eye.hasOwnProperty,nye=YU(function(t,e,n){tye.call(t,n)?t[n].push(e):R4(t,n,[e])});function Jn(t){var e=t==null?0:t.length;return e?kme(t,0,-1):[]}var rye="[object Map]",oye="[object Set]",iye=Object.prototype,sye=iye.hasOwnProperty;function sr(t){if(t==null)return!0;if(sw(t)&&(ta(t)||typeof t=="string"||typeof t.splice=="function"||L0(t)||D4(t)||Nj(t)))return!t.length;var e=Ml(t);if(e==rye||e==oye)return!t.size;if(L4(t))return!RU(t).length;for(var n in t)if(sye.call(t,n))return!1;return!0}function _n(t,e){return Hj(t,e)}function aye(t,e){return t<e}function lye(t,e){var n={};return e=aw(e),KU(t,function(r,o,i){R4(n,o,e(r,o,i))}),n}function cye(t,e,n){for(var r=-1,o=t.length;++r<o;){var i=t[r],s=e(i);if(s!=null&&(a===void 0?s===s&&!cm(s):n(s,a)))var a=s,l=i}return l}function rx(t,e){return t&&t.length?cye(t,aw(e),aye):void 0}function uye(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function dye(t,e){if(t!==e){var n=t!==void 0,r=t===null,o=t===t,i=cm(t),s=e!==void 0,a=e===null,l=e===e,c=cm(e);if(!a&&!c&&!i&&t>e||i&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!o)return 1;if(!r&&!i&&!c&&t<e||c&&n&&o&&!r&&!i||a&&n&&o||!s&&o||!l)return-1}return 0}function fye(t,e,n){for(var r=-1,o=t.criteria,i=e.criteria,s=o.length,a=n.length;++r<s;){var l=dye(o[r],i[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}function hye(t,e,n){e.length?e=V1(e,function(i){return ta(i)?function(s){return z4(s,i.length===1?i[0]:i)}:i}):e=[iw];var r=-1;e=V1(e,Lj(aw));var o=QU(t,function(i,s,a){var l=V1(e,function(c){return c(i)});return{criteria:l,index:++r,value:i}});return uye(o,function(i,s){return fye(i,s,n)})}var pye=YU(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),mye=Math.ceil,gye=Math.max;function vye(t,e,n,r){for(var o=-1,i=gye(mye((e-t)/(n||1)),0),s=Array(i);i--;)s[++o]=t,t+=n;return s}function yye(t){return function(e,n,r){return r&&typeof r!="number"&&S$(e,n,r)&&(n=r=void 0),e=Ik(e),n===void 0?(n=e,e=0):n=Ik(n),r=r===void 0?e<n?1:-1:Ik(r),vye(e,n,r)}}var ZU=yye(),bye=Zhe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&S$(t,e[0],e[1])?e=[]:n>2&&S$(e[0],e[1],e[2])&&(e=[e[0]]),hye(t,wme(e),[])}),wye=9007199254740991,zM=4294967295,xye=Math.min;function kye(t,e){if(t=whe(t),t<1||t>wye)return[];var n=zM,r=xye(t,zM);e=XU(e),t-=zM;for(var o=$U(r,e);++n<t;)e(n);return o}var Sye=0;function Ev(t){var e=++Sye;return NU(t)+e}const uh=t=>Array.isArray(t),Cye=t=>t!==null&&typeof t=="object"&&!uh(t),jye=t=>typeof t=="string",Pp=(t,e)=>t===e?!0:t!==null&&e!==null&&typeof t=="object"&&typeof e=="object"&&Object.keys(t).length===Object.keys(e).length&&Object.entries(t).every(([n,r])=>Pp(r,e[n]));function Ei(t){return(...e)=>{const n=e.map(i=>Zi(i)),r=n[0],o=n[1];return n.length===1?i=>t(r(i)):n.length===2?i=>t(r(i),o(i)):i=>t(...n.map(s=>s(i)))}}const H1={boolean:0,number:1,string:2},rL=3,eW=(t,e)=>typeof t==typeof e&&typeof t in H1?t>e:!1,Aye=(t,e)=>Pp(t,e)||eW(t,e),tW=(t,e)=>typeof t==typeof e&&typeof t in H1?t<e:!1,Mye=(t,e)=>Pp(t,e)||tW(t,e),h1={pipe:(...t)=>{const e=t.map(n=>Zi(n));return n=>e.reduce((r,o)=>o(r),n)},object:t=>{const e=Object.keys(t).map(n=>[n,Zi(t[n])]);return n=>{const r={};for(const[o,i]of e)r[o]=i(n);return r}},array:(...t)=>{const e=t.map(n=>Zi(n));return n=>e.map(r=>r(n))},get:(...t)=>{if(t.length===0)return e=>e??null;if(t.length===1){const e=t[0];return n=>(n==null?void 0:n[e])??null}return e=>{let n=e;for(const r of t)n=n==null?void 0:n[r];return n??null}},map:t=>{const e=Zi(t);return n=>n.map(e)},mapObject:t=>{const e=Zi(t);return n=>{const r={};for(const o of Object.keys(n)){const i=e({key:o,value:n[o]});r[i.key]=i.value}return r}},mapKeys:t=>{const e=Zi(t);return n=>{const r={};for(const o of Object.keys(n)){const i=e(o);r[i]=n[o]}return r}},mapValues:t=>{const e=Zi(t);return n=>{const r={};for(const o of Object.keys(n))r[o]=e(n[o]);return r}},filter:t=>{const e=Zi(t);return n=>n.filter(r=>oL(e(r)))},sort:(t=["get"],e)=>{const n=Zi(t),r=e==="desc"?-1:1;function o(i,s){const a=n(i),l=n(s);if(typeof a!=typeof l){const c=H1[typeof a]??rL,u=H1[typeof l]??rL;return c>u?r:c<u?-r:0}return typeof a in H1?a>l?r:a<l?-r:0:0}return i=>i.slice().sort(o)},reverse:()=>t=>t.toReversed(),pick:(...t)=>{const e=t.map(([r,...o])=>[o[o.length-1],h1.get(...o)]),n=(r,o)=>{const i={};for(const[s,a]of o)i[s]=a(r);return i};return r=>uh(r)?r.map(o=>n(o,e)):n(r,e)},groupBy:t=>{const e=Zi(t);return n=>{const r={};for(const o of n){const i=e(o);r[i]?r[i].push(o):r[i]=[o]}return r}},keyBy:t=>{const e=Zi(t);return n=>{const r={};for(const o of n){const i=e(o);i in r||(r[i]=o)}return r}},flatten:()=>t=>t.flat(),join:(t="")=>e=>e.join(t),split:Ei((t,e)=>e!==void 0?t.split(e):t.trim().split(/\s+/)),substring:Ei((t,e,n)=>t.slice(Math.max(e,0),n)),uniq:()=>t=>{const e=[];for(const n of t)e.findIndex(r=>Pp(r,n))===-1&&e.push(n);return e},uniqBy:t=>e=>Object.values(h1.keyBy(t)(e)),limit:t=>e=>e.slice(0,Math.max(t,0)),size:()=>t=>t.length,keys:()=>Object.keys,values:()=>Object.values,prod:()=>t=>Ky(t,(e,n)=>e*n),sum:()=>t=>uh(t)?t.reduce((e,n)=>e+n,0):O$(),average:()=>t=>uh(t)?t.length>0?t.reduce((e,n)=>e+n)/t.length:null:O$(),min:()=>t=>Ky(t,(e,n)=>Math.min(e,n)),max:()=>t=>Ky(t,(e,n)=>Math.max(e,n)),and:Ei((...t)=>Ky(t,(e,n)=>!!(e&&n))),or:Ei((...t)=>Ky(t,(e,n)=>!!(e||n))),not:Ei(t=>!t),exists:t=>{const e=t.slice(1),n=e.pop(),r=h1.get(...e);return o=>{const i=r(o);return!!i&&Object.hasOwnProperty.call(i,n)}},if:(t,e,n)=>{const r=Zi(t),o=Zi(e),i=Zi(n);return s=>oL(r(s))?o(s):i(s)},in:(t,e)=>{const n=Zi(t),r=Zi(e);return o=>{const i=n(o);return r(o).findIndex(s=>Pp(s,i))!==-1}},"not in":(t,e)=>{const n=h1.in(t,e);return r=>!n(r)},regex:(t,e,n)=>{const r=new RegExp(e,n),o=Zi(t);return i=>r.test(o(i))},eq:Ei(Pp),gt:Ei(eW),gte:Ei(Aye),lt:Ei(tW),lte:Ei(Mye),ne:Ei((t,e)=>!Pp(t,e)),add:Ei((t,e)=>t+e),subtract:Ei((t,e)=>t-e),multiply:Ei((t,e)=>t*e),divide:Ei((t,e)=>t/e),mod:Ei((t,e)=>t%e),pow:Ei((t,e)=>t**e),abs:Ei(Math.abs),round:Ei((t,e=0)=>+`${Math.round(+`${t}e${e}`)}e${-e}`),number:Ei(t=>{const e=Number(t);return Number.isNaN(Number(t))?null:e}),string:Ei(String)},oL=t=>t!==null&&t!==0&&t!==!1,Ky=(t,e)=>(uh(t)||O$(),t.length===0?null:t.reduce(e)),O$=()=>{F4("Array expected")},F4=t=>{throw new TypeError(t)},ox=[];function Zi(t,e){ox.unshift({...h1,...ox[0]});try{const n=uh(t)?Tye(t,ox[0]):Cye(t)?F4(`Function notation ["object", {...}] expected but got ${JSON.stringify(t)}`):()=>t;return r=>{try{return n(r)}catch(o){throw o.jsonquery=[{data:r,query:t},...o.jsonquery??[]],o}}}finally{ox.shift()}}function Tye(t,e){const[n,...r]=t,o=e[n];return o||F4(`Unknown function '${n}'`),o(...r)}const nW=[{pow:"^"},{multiply:"*",divide:"/",mod:"%"},{add:"+",subtract:"-"},{gt:">",gte:">=",lt:"<",lte:"<=",in:"in","not in":"not in"},{eq:"==",ne:"!="},{and:"and"},{or:"or"},{pipe:"|"}],Oye=["|","and","or"],rW=["|","and","or","*","/","%","+","-"];function oW(t,e){if(!uh(e))throw new Error("Invalid custom operators");return e.reduce($ye,t)}function $ye(t,{name:e,op:n,at:r,after:o,before:i}){if(r)return t.map(l=>Object.values(l).includes(r)?{...l,[e]:n}:l);const s=o??i,a=t.findIndex(l=>Object.values(l).includes(s));if(a!==-1)return t.toSpliced(a+(o?1:0),0,{[e]:n});throw new Error("Invalid custom operator")}const Eye=/^[a-zA-Z_$][a-zA-Z\d_$]*$/,_ye=/^[a-zA-Z_$][a-zA-Z\d_$]*/,Pye=/^"(?:[^"\\]|\\.)*"/,Iye=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/,Rye=/^(0|[1-9][0-9]*)/,Nye=/^(true|false|null)/,Lye=/^[ \n\t\r]+/;function iW(t,e){const n=[],r=oW(nW,n),o=Object.assign({},...r),i=Oye.concat(n.filter(_=>_.vararg).map(_=>_.op)),s=rW.concat(n.filter(_=>_.leftAssociative).map(_=>_.op)),a=(_=r.length-1)=>{const R=r[_];if(!R)return c();const T=t[j]==="(";let z=a(_-1);for(;;){w();const U=j,G=l(R);if(!G)break;const ce=a(_-1),ie=z[0],Z=G===ie&&!T;if(Z&&!s.includes(o[G])){j=U;break}z=Z&&i.includes(o[G])?[...z,ce]:[G,z,ce]}return z},l=_=>{const R=Object.keys(_).sort((T,z)=>z.length-T.length);for(const T of R){const z=_[T];if(t.substring(j,j+z.length)===z)return j+=z.length,w(),T}},c=()=>{if(w(),t[j]==="("){j++;const _=a();return S(")"),_}return u()},u=()=>{if(t[j]==="."){const _=[];for(;t[j]===".";)j++,_.push(m()??g()??y()??C("Property expected"));return["get",..._]}return d()},d=()=>{const _=j,R=g();if(w(),!R||t[j]!=="(")return j=_,f();j++,w();const T=t[j]!==")"?[a()]:[];for(;j<t.length&&t[j]!==")";)w(),S(","),T.push(a());return S(")"),[R,...T]},f=()=>{if(t[j]==="{"){j++,w();const _={};let R=!0;for(;j<t.length&&t[j]!=="}";){R?R=!1:(S(","),w());const T=m()??g()??y()??C("Key expected");w(),S(":"),_[T]=a()}return S("}"),["object",_]}return h()},h=()=>{if(t[j]==="["){j++,w();const _=[];let R=!0;for(;j<t.length&&t[j]!=="]";)R?R=!1:(S(","),w()),_.push(a());return S("]"),["array",..._]}return m()??v()??b()},m=()=>k(Pye,JSON.parse),g=()=>k(_ye,_=>_),v=()=>k(Iye,JSON.parse),y=()=>k(Rye,JSON.parse),b=()=>{const _=k(Nye,JSON.parse);if(_!==void 0)return _;C("Value expected")},x=()=>{w(),j<t.length&&C(`Unexpected part '${t.substring(j)}'`)},k=(_,R)=>{const T=t.substring(j).match(_);if(T)return j+=T[0].length,R(T[0])},w=()=>k(Lye,_=>_),S=_=>{t[j]!==_&&C(`Character '${_}' expected`),j++},C=(_,R=j)=>{throw new SyntaxError(`${_} (pos: ${R})`)};let j=0;const A=a();return x(),A}const Dye=40,Vye="  ",Bye=(t,e)=>{const n=Vye,r=[],o=oW(nW,r),i=Object.assign({},...o),s=rW.concat(r.filter(h=>h.leftAssociative).map(h=>h.op)),a=(h,m,g=!1)=>uh(h)?l(h,m,g):JSON.stringify(h),l=(h,m,g)=>{const[v,...y]=h;if(v==="get"&&y.length>0)return u(y);if(v==="object")return c(y[0],m);if(v==="array"){const w=y.map(S=>a(S,m));return f(w,["[",", ","]"],[`[
${m+n}`,`,
${m+n}`,`
${m}]`])}const b=i[v];if(b){const w=g?"(":"",S=g?")":"",C=y.map((j,A)=>{const _=j==null?void 0:j[0],R=o.findIndex(U=>v in U),T=o.findIndex(U=>_ in U),z=R<T||R===T&&A>0||v===_&&!s.includes(b);return a(j,m+n,z)});return f(C,[w,` ${b} `,S],[w,`
${m+n}${b} `,S])}const x=y.length===1?m:m+n,k=y.map(w=>a(w,x));return f(k,[`${v}(`,", ",")"],y.length===1?[`${v}(`,`,
${m}`,")"]:[`${v}(
${x}`,`,
${x}`,`
${m})`])},c=(h,m)=>{const g=m+n,v=Object.entries(h).map(([y,b])=>`${d(y)}: ${a(b,g)}`);return f(v,["{ ",", "," }"],[`{
${g}`,`,
${g}`,`
${m}}`])},u=h=>h.map(m=>`.${d(m)}`).join(""),d=h=>Eye.test(h)?h:JSON.stringify(h),f=(h,[m,g,v],[y,b,x])=>m.length+h.reduce((k,w)=>k+w.length+g.length,0)-g.length+v.length<=Dye?m+h.join(g)+v:y+h.join(b)+x;return a(t,"")};function zye(t,e,n){return Zi(jye(e)?iW(e):e)(t)}/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var Hye={prefix:"far",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M464 256a208 208 0 1 1 -416 0 208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0 256 256 0 1 0 -512 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},Fye={prefix:"far",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M384 32c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96C0 60.7 28.7 32 64 32l320 0zM64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zm230.7 89.9c7.8-10.7 22.8-13.1 33.5-5.3 10.7 7.8 13.1 22.8 5.3 33.5L211.4 366.1c-4.1 5.7-10.5 9.3-17.5 9.8-7 .5-13.9-2-18.8-6.9l-55.9-55.9c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l36 36 105.6-145.2z"]},sW=Fye,qye={prefix:"far",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M296.5 291.1C321 265.2 336 230.4 336 192 336 112.5 271.5 48 192 48S48 112.5 48 192c0 38.4 15 73.2 39.5 99.1 21.3 22.4 44.9 54 53.3 92.9l102.4 0c8.4-39 32-70.5 53.3-92.9zm34.8 33C307.7 349 288 379.4 288 413.7l0 18.3c0 44.2-35.8 80-80 80l-32 0c-44.2 0-80-35.8-80-80l0-18.3C96 379.4 76.3 349 52.7 324.1 20 289.7 0 243.2 0 192 0 86 86 0 192 0S384 86 384 192c0 51.2-20 97.7-52.7 132.1zM144 184c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-48.6 39.4-88 88-88 13.3 0 24 10.7 24 24s-10.7 24-24 24c-22.1 0-40 17.9-40 40z"]},aW={prefix:"far",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M384 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l320 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const $$={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"]},Uye={prefix:"fas",iconName:"down-left-and-up-right-to-center",icon:[512,512,["compress-alt"],"f422","M439 7c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8l-144 0c-13.3 0-24-10.7-24-24l0-144c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39L439 7zM72 272l144 0c13.3 0 24 10.7 24 24l0 144c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39L73 505c-9.4 9.4-24.6 9.4-33.9 0L7 473c-9.4-9.4-9.4-24.6 0-33.9l87-87L55 313c-6.9-6.9-8.9-17.2-5.2-26.2s12.5-14.8 22.2-14.8z"]},B0={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"]},lW={prefix:"fas",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M160 0c-23.7 0-44.4 12.9-55.4 32L48 32C21.5 32 0 53.5 0 80L0 400c0 26.5 21.5 48 48 48l144 0 0-272c0-44.2 35.8-80 80-80l48 0 0-16c0-26.5-21.5-48-48-48l-56.6 0C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48l0 272 0 16c0 26.5 21.5 48 48 48l192 0c26.5 0 48-21.5 48-48l0-220.1c0-12.7-5.1-24.9-14.1-33.9l-67.9-67.9c-9-9-21.2-14.1-33.9-14.1L320 128l-48 0zM160 40a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},Wye={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"]},Kye={prefix:"fas",iconName:"scissors",icon:[512,512,[9984,9986,9988,"cut"],"f0c4","M256 192l-39.5-39.5c4.9-12.6 7.5-26.2 7.5-40.5C224 50.1 173.9 0 112 0S0 50.1 0 112s50.1 112 112 112c14.3 0 27.9-2.7 40.5-7.5L192 256l-39.5 39.5c-12.6-4.9-26.2-7.5-40.5-7.5C50.1 288 0 338.1 0 400s50.1 112 112 112s112-50.1 112-112c0-14.3-2.7-27.9-7.5-40.5L499.2 76.8c7.1-7.1 7.1-18.5 0-25.6c-28.3-28.3-74.1-28.3-102.4 0L256 192zm22.6 150.6L396.8 460.8c28.3 28.3 74.1 28.3 102.4 0c7.1-7.1 7.1-18.5 0-25.6L342.6 278.6l-64 64zM64 112a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm48 240a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},Zg=Kye,Jye={prefix:"fas",iconName:"square-caret-down",icon:[448,512,["caret-square-down"],"f150","M384 480c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0zM224 352c-6.7 0-13-2.8-17.6-7.7l-104-112c-6.5-7-8.2-17.2-4.4-25.9s12.5-14.4 22-14.4l208 0c9.5 0 18.2 5.7 22 14.4s2.1 18.9-4.4 25.9l-104 112c-4.5 4.9-10.9 7.7-17.6 7.7z"]},Gye=Jye,Yye={prefix:"fas",iconName:"caret-left",icon:[256,512,[],"f0d9","M9.4 278.6c-12.5-12.5-12.5-32.8 0-45.3l128-128c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6l0 256c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-128-128z"]},Xye={prefix:"fas",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},cW=Xye,Qye={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},Zye=Qye,e1e={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},uW={prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},t1e={prefix:"fas",iconName:"square-caret-up",icon:[448,512,["caret-square-up"],"f151","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM224 160c6.7 0 13 2.8 17.6 7.7l104 112c6.5 7 8.2 17.2 4.4 25.9s-12.5 14.4-22 14.4l-208 0c-9.5 0-18.2-5.7-22-14.4s-2.1-18.9 4.4-25.9l104-112c4.5-4.9 10.9-7.7 17.6-7.7z"]},n1e=t1e,iL={prefix:"fas",iconName:"caret-up",icon:[320,512,[],"f0d8","M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8l256 0c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"]},dW={prefix:"fas",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96z"]},ZS={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},e2={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},Ch={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M352 320c88.4 0 160-71.6 160-160c0-15.3-2.2-30.1-6.2-44.2c-3.1-10.8-16.4-13.2-24.3-5.3l-76.8 76.8c-3 3-7.1 4.7-11.3 4.7L336 192c-8.8 0-16-7.2-16-16l0-57.4c0-4.2 1.7-8.3 4.7-11.3l76.8-76.8c7.9-7.9 5.4-21.2-5.3-24.3C382.1 2.2 367.3 0 352 0C263.6 0 192 71.6 192 160c0 19.1 3.4 37.5 9.5 54.5L19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L297.5 310.5c17 6.2 35.4 9.5 54.5 9.5zM80 408a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},r1e={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},ev={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},o1e={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M386.3 160L336 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"]},q4=o1e,i1e={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M125.7 160l50.3 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L48 224c-17.7 0-32-14.3-32-32L16 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]},U4=i1e,s1e={prefix:"fas",iconName:"crop-simple",icon:[512,512,["crop-alt"],"f565","M128 32c0-17.7-14.3-32-32-32S64 14.3 64 32l0 32L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l32 0 0 256c0 35.3 28.7 64 64 64l224 0 0-64-224 0 0-352zM384 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0 0-256c0-35.3-28.7-64-64-64L160 64l0 64 224 0 0 352z"]},a1e=s1e,l1e={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},c1e=l1e,qd={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"]},u1e={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"]},fW=u1e,ix={prefix:"fas",iconName:"arrow-right-arrow-left",icon:[448,512,[8644,"exchange"],"f0ec","M438.6 150.6c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.7 96 32 96C14.3 96 0 110.3 0 128s14.3 32 32 32l306.7 0-41.4 41.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96zm-333.3 352c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 416 416 416c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0 41.4-41.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96z"]},d1e={prefix:"fas",iconName:"arrow-down-short-wide",icon:[576,512,["sort-amount-desc","sort-amount-down-alt"],"f884","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7 96 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 301.7 32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 32l32 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-96 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-160 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},t2=d1e,f1e={prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},sL={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},h1e={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},Fj=h1e,p1e={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},Gf={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"]},Ng={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},hW={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},m1e=hW,qj=hW,g1e={prefix:"fas",iconName:"rotate",icon:[512,512,[128260,"sync-alt"],"f2f1","M142.9 142.9c-17.5 17.5-30.1 38-37.8 59.8c-5.9 16.7-24.2 25.4-40.8 19.5s-25.4-24.2-19.5-40.8C55.6 150.7 73.2 122 97.6 97.6c87.2-87.2 228.3-87.5 315.8-1L455 55c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2l0 128c0 13.3-10.7 24-24 24l-8.4 0c0 0 0 0 0 0L344 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3 1zM16 312c0-13.3 10.7-24 24-24l7.6 0 .7 0L168 288c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-41.1 41.1c62.6 61.5 163.1 61.2 225.3-1c17.5-17.5 30.1-38 37.8-59.8c5.9-16.7 24.2-25.4 40.8-19.5s25.4 24.2 19.5 40.8c-10.8 30.6-28.4 59.3-52.9 83.8c-87.2 87.2-228.3 87.5-315.8 1L57 457c-6.9 6.9-17.2 8.9-26.2 5.2S16 449.7 16 440l0-119.6 0-.7 0-7.6z"]},v1e={prefix:"fas",iconName:"up-right-and-down-left-from-center",icon:[512,512,["expand-alt"],"f424","M344 0L488 0c13.3 0 24 10.7 24 24l0 144c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39-87 87c-9.4 9.4-24.6 9.4-33.9 0l-32-32c-9.4-9.4-9.4-24.6 0-33.9l87-87L327 41c-6.9-6.9-8.9-17.2-5.2-26.2S334.3 0 344 0zM168 512L24 512c-13.3 0-24-10.7-24-24L0 344c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39 87-87c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8z"]},pW={prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M288 448L64 448l0-224 64 0 0-64-64 0c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l224 0c35.3 0 64-28.7 64-64l0-64-64 0 0 64zm-64-96l224 0c35.3 0 64-28.7 64-64l0-224c0-35.3-28.7-64-64-64L224 0c-35.3 0-64 28.7-64 64l0 224c0 35.3 28.7 64 64 64z"]},W4={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},y1e={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},dm=y1e;var mW={exports:{}};/*
 * @version    1.4.0
 * @date       2015-10-26
 * @stability  3 - Stable
 * @author     Lauri Rooden (https://github.com/litejs/natural-compare-lite)
 * @license    MIT License
 */var aL=function(t,e){var n,r,o=1,i=0,s=0,a=String.alphabet;function l(c,u,d){if(d){for(n=u;d=l(c,n),d<76&&d>65;)++n;return+c.slice(u-1,n)}return d=a&&a.indexOf(c.charAt(u)),d>-1?d+76:(d=c.charCodeAt(u)||0,d<45||d>127?d:d<46?65:d<48?d-1:d<58?d+18:d<65?d-11:d<91?d+11:d<97?d-37:d<123?d+5:d-63)}if((t+="")!=(e+="")){for(;o;)if(r=l(t,i++),o=l(e,s++),r<76&&o<76&&r>66&&o>66&&(r=l(t,i,i),o=l(e,s,i=n),s=n),r!=o)return r<o?-1:1}return 0};try{mW.exports=aL}catch{String.naturalCompare=aL}var b1e=mW.exports;const w1e=jfe(b1e);var lL=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function x1e(t,e){return!!(t===e||lL(t)&&lL(e))}function k1e(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!x1e(t[n],e[n]))return!1;return!0}function z0(t,e){e===void 0&&(e=k1e);var n=null;function r(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(n&&n.lastThis===this&&e(o,n.lastArgs))return n.lastResult;var s=t.apply(this,o);return n={lastResult:s,lastArgs:o,lastThis:this},s}return r.clear=function(){n=null},r}var cL={exports:{}},gW={},bc={},_v={},lw={},lr={},H0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends e{constructor(b){if(super(),!t.IDENTIFIER.test(b))throw new Error("CodeGen: name must be a valid identifier");this.str=b}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class r extends e{constructor(b){super(),this._items=typeof b=="string"?[b]:b}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const b=this._items[0];return b===""||b==='""'}get str(){var b;return(b=this._str)!==null&&b!==void 0?b:this._str=this._items.reduce((x,k)=>`${x}${k}`,"")}get names(){var b;return(b=this._names)!==null&&b!==void 0?b:this._names=this._items.reduce((x,k)=>(k instanceof n&&(x[k.str]=(x[k.str]||0)+1),x),{})}}t._Code=r,t.nil=new r("");function o(y,...b){const x=[y[0]];let k=0;for(;k<b.length;)a(x,b[k]),x.push(y[++k]);return new r(x)}t._=o;const i=new r("+");function s(y,...b){const x=[h(y[0])];let k=0;for(;k<b.length;)x.push(i),a(x,b[k]),x.push(i,h(y[++k]));return l(x),new r(x)}t.str=s;function a(y,b){b instanceof r?y.push(...b._items):b instanceof n?y.push(b):y.push(d(b))}t.addCodeArg=a;function l(y){let b=1;for(;b<y.length-1;){if(y[b]===i){const x=c(y[b-1],y[b+1]);if(x!==void 0){y.splice(b-1,3,x);continue}y[b++]="+"}b++}}function c(y,b){if(b==='""')return y;if(y==='""')return b;if(typeof y=="string")return b instanceof n||y[y.length-1]!=='"'?void 0:typeof b!="string"?`${y.slice(0,-1)}${b}"`:b[0]==='"'?y.slice(0,-1)+b.slice(1):void 0;if(typeof b=="string"&&b[0]==='"'&&!(y instanceof n))return`"${y}${b.slice(1)}`}function u(y,b){return b.emptyStr()?y:y.emptyStr()?b:s`${y}${b}`}t.strConcat=u;function d(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:h(Array.isArray(y)?y.join(","):y)}function f(y){return new r(h(y))}t.stringify=f;function h(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=h;function m(y){return typeof y=="string"&&t.IDENTIFIER.test(y)?new r(`.${y}`):o`[${y}]`}t.getProperty=m;function g(y){if(typeof y=="string"&&t.IDENTIFIER.test(y))return new r(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}t.getEsmExportName=g;function v(y){return new r(y.toString())}t.regexpCode=v})(H0);var E$={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=H0;class n extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(t.UsedValueState=r={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class o{constructor({prefixes:c,parent:u}={}){this._names={},this._prefixes=c,this._parent=u}toName(c){return c instanceof e.Name?c:this.name(c)}name(c){return new e.Name(this._newName(c))}_newName(c){const u=this._names[c]||this._nameGroup(c);return`${c}${u.index++}`}_nameGroup(c){var u,d;if(!((d=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||d===void 0)&&d.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}t.Scope=o;class i extends e.Name{constructor(c,u){super(u),this.prefix=c}setValue(c,{property:u,itemIndex:d}){this.value=c,this.scopePath=(0,e._)`.${new e.Name(u)}[${d}]`}}t.ValueScopeName=i;const s=(0,e._)`\n`;class a extends o{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?s:e.nil}}get(){return this._scope}name(c){return new i(c,this._newName(c))}value(c,u){var d;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const f=this.toName(c),{prefix:h}=f,m=(d=u.key)!==null&&d!==void 0?d:u.ref;let g=this._values[h];if(g){const b=g.get(m);if(b)return b}else g=this._values[h]=new Map;g.set(m,f);const v=this._scope[h]||(this._scope[h]=[]),y=v.length;return v[y]=u.ref,f.setValue(u,{property:h,itemIndex:y}),f}getValue(c,u){const d=this._values[c];if(d)return d.get(u)}scopeRefs(c,u=this._values){return this._reduceValues(u,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,e._)`${c}${d.scopePath}`})}scopeCode(c=this._values,u,d){return this._reduceValues(c,f=>{if(f.value===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return f.value.code},u,d)}_reduceValues(c,u,d={},f){let h=e.nil;for(const m in c){const g=c[m];if(!g)continue;const v=d[m]=d[m]||new Map;g.forEach(y=>{if(v.has(y))return;v.set(y,r.Started);let b=u(y);if(b){const x=this.opts.es5?t.varKinds.var:t.varKinds.const;h=(0,e._)`${h}${x} ${y} = ${b};${this.opts._n}`}else if(b=f==null?void 0:f(y))h=(0,e._)`${h}${b}${this.opts._n}`;else throw new n(y);v.set(y,r.Completed)})}return h}}t.ValueScope=a})(E$);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=H0,n=E$;var r=H0;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}});var o=E$;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return o.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return o.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return o.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class i{optimizeNodes(){return this}optimizeNames(M,N){return this}}class s extends i{constructor(M,N,he){super(),this.varKind=M,this.name=N,this.rhs=he}render({es5:M,_n:N}){const he=M?n.varKinds.var:this.varKind,ge=this.rhs===void 0?"":` = ${this.rhs}`;return`${he} ${this.name}${ge};`+N}optimizeNames(M,N){if(M[this.name.str])return this.rhs&&(this.rhs=U(this.rhs,M,N)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class a extends i{constructor(M,N,he){super(),this.lhs=M,this.rhs=N,this.sideEffects=he}render({_n:M}){return`${this.lhs} = ${this.rhs};`+M}optimizeNames(M,N){if(!(this.lhs instanceof e.Name&&!M[this.lhs.str]&&!this.sideEffects))return this.rhs=U(this.rhs,M,N),this}get names(){const M=this.lhs instanceof e.Name?{}:{...this.lhs.names};return z(M,this.rhs)}}class l extends a{constructor(M,N,he,ge){super(M,he,ge),this.op=N}render({_n:M}){return`${this.lhs} ${this.op}= ${this.rhs};`+M}}class c extends i{constructor(M){super(),this.label=M,this.names={}}render({_n:M}){return`${this.label}:`+M}}class u extends i{constructor(M){super(),this.label=M,this.names={}}render({_n:M}){return`break${this.label?` ${this.label}`:""};`+M}}class d extends i{constructor(M){super(),this.error=M}render({_n:M}){return`throw ${this.error};`+M}get names(){return this.error.names}}class f extends i{constructor(M){super(),this.code=M}render({_n:M}){return`${this.code};`+M}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(M,N){return this.code=U(this.code,M,N),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class h extends i{constructor(M=[]){super(),this.nodes=M}render(M){return this.nodes.reduce((N,he)=>N+he.render(M),"")}optimizeNodes(){const{nodes:M}=this;let N=M.length;for(;N--;){const he=M[N].optimizeNodes();Array.isArray(he)?M.splice(N,1,...he):he?M[N]=he:M.splice(N,1)}return M.length>0?this:void 0}optimizeNames(M,N){const{nodes:he}=this;let ge=he.length;for(;ge--;){const te=he[ge];te.optimizeNames(M,N)||(G(M,te.names),he.splice(ge,1))}return he.length>0?this:void 0}get names(){return this.nodes.reduce((M,N)=>T(M,N.names),{})}}class m extends h{render(M){return"{"+M._n+super.render(M)+"}"+M._n}}class g extends h{}class v extends m{}v.kind="else";class y extends m{constructor(M,N){super(N),this.condition=M}render(M){let N=`if(${this.condition})`+super.render(M);return this.else&&(N+="else "+this.else.render(M)),N}optimizeNodes(){super.optimizeNodes();const M=this.condition;if(M===!0)return this.nodes;let N=this.else;if(N){const he=N.optimizeNodes();N=this.else=Array.isArray(he)?new v(he):he}if(N)return M===!1?N instanceof y?N:N.nodes:this.nodes.length?this:new y(ce(M),N instanceof y?[N]:N.nodes);if(!(M===!1||!this.nodes.length))return this}optimizeNames(M,N){var he;if(this.else=(he=this.else)===null||he===void 0?void 0:he.optimizeNames(M,N),!!(super.optimizeNames(M,N)||this.else))return this.condition=U(this.condition,M,N),this}get names(){const M=super.names;return z(M,this.condition),this.else&&T(M,this.else.names),M}}y.kind="if";class b extends m{}b.kind="for";class x extends b{constructor(M){super(),this.iteration=M}render(M){return`for(${this.iteration})`+super.render(M)}optimizeNames(M,N){if(super.optimizeNames(M,N))return this.iteration=U(this.iteration,M,N),this}get names(){return T(super.names,this.iteration.names)}}class k extends b{constructor(M,N,he,ge){super(),this.varKind=M,this.name=N,this.from=he,this.to=ge}render(M){const N=M.es5?n.varKinds.var:this.varKind,{name:he,from:ge,to:te}=this;return`for(${N} ${he}=${ge}; ${he}<${te}; ${he}++)`+super.render(M)}get names(){const M=z(super.names,this.from);return z(M,this.to)}}class w extends b{constructor(M,N,he,ge){super(),this.loop=M,this.varKind=N,this.name=he,this.iterable=ge}render(M){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(M)}optimizeNames(M,N){if(super.optimizeNames(M,N))return this.iterable=U(this.iterable,M,N),this}get names(){return T(super.names,this.iterable.names)}}class S extends m{constructor(M,N,he){super(),this.name=M,this.args=N,this.async=he}render(M){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(M)}}S.kind="func";class C extends h{render(M){return"return "+super.render(M)}}C.kind="return";class j extends m{render(M){let N="try"+super.render(M);return this.catch&&(N+=this.catch.render(M)),this.finally&&(N+=this.finally.render(M)),N}optimizeNodes(){var M,N;return super.optimizeNodes(),(M=this.catch)===null||M===void 0||M.optimizeNodes(),(N=this.finally)===null||N===void 0||N.optimizeNodes(),this}optimizeNames(M,N){var he,ge;return super.optimizeNames(M,N),(he=this.catch)===null||he===void 0||he.optimizeNames(M,N),(ge=this.finally)===null||ge===void 0||ge.optimizeNames(M,N),this}get names(){const M=super.names;return this.catch&&T(M,this.catch.names),this.finally&&T(M,this.finally.names),M}}class A extends m{constructor(M){super(),this.error=M}render(M){return`catch(${this.error})`+super.render(M)}}A.kind="catch";class _ extends m{render(M){return"finally"+super.render(M)}}_.kind="finally";class R{constructor(M,N={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...N,_n:N.lines?`
`:""},this._extScope=M,this._scope=new n.Scope({parent:M}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(M){return this._scope.name(M)}scopeName(M){return this._extScope.name(M)}scopeValue(M,N){const he=this._extScope.value(M,N);return(this._values[he.prefix]||(this._values[he.prefix]=new Set)).add(he),he}getScopeValue(M,N){return this._extScope.getValue(M,N)}scopeRefs(M){return this._extScope.scopeRefs(M,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(M,N,he,ge){const te=this._scope.toName(N);return he!==void 0&&ge&&(this._constants[te.str]=he),this._leafNode(new s(M,te,he)),te}const(M,N,he){return this._def(n.varKinds.const,M,N,he)}let(M,N,he){return this._def(n.varKinds.let,M,N,he)}var(M,N,he){return this._def(n.varKinds.var,M,N,he)}assign(M,N,he){return this._leafNode(new a(M,N,he))}add(M,N){return this._leafNode(new l(M,t.operators.ADD,N))}code(M){return typeof M=="function"?M():M!==e.nil&&this._leafNode(new f(M)),this}object(...M){const N=["{"];for(const[he,ge]of M)N.length>1&&N.push(","),N.push(he),(he!==ge||this.opts.es5)&&(N.push(":"),(0,e.addCodeArg)(N,ge));return N.push("}"),new e._Code(N)}if(M,N,he){if(this._blockNode(new y(M)),N&&he)this.code(N).else().code(he).endIf();else if(N)this.code(N).endIf();else if(he)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(M){return this._elseNode(new y(M))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(y,v)}_for(M,N){return this._blockNode(M),N&&this.code(N).endFor(),this}for(M,N){return this._for(new x(M),N)}forRange(M,N,he,ge,te=this.opts.es5?n.varKinds.var:n.varKinds.let){const ee=this._scope.toName(M);return this._for(new k(te,ee,N,he),()=>ge(ee))}forOf(M,N,he,ge=n.varKinds.const){const te=this._scope.toName(M);if(this.opts.es5){const ee=N instanceof e.Name?N:this.var("_arr",N);return this.forRange("_i",0,(0,e._)`${ee}.length`,be=>{this.var(te,(0,e._)`${ee}[${be}]`),he(te)})}return this._for(new w("of",ge,te,N),()=>he(te))}forIn(M,N,he,ge=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(M,(0,e._)`Object.keys(${N})`,he);const te=this._scope.toName(M);return this._for(new w("in",ge,te,N),()=>he(te))}endFor(){return this._endBlockNode(b)}label(M){return this._leafNode(new c(M))}break(M){return this._leafNode(new u(M))}return(M){const N=new C;if(this._blockNode(N),this.code(M),N.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(C)}try(M,N,he){if(!N&&!he)throw new Error('CodeGen: "try" without "catch" and "finally"');const ge=new j;if(this._blockNode(ge),this.code(M),N){const te=this.name("e");this._currNode=ge.catch=new A(te),N(te)}return he&&(this._currNode=ge.finally=new _,this.code(he)),this._endBlockNode(A,_)}throw(M){return this._leafNode(new d(M))}block(M,N){return this._blockStarts.push(this._nodes.length),M&&this.code(M).endBlock(N),this}endBlock(M){const N=this._blockStarts.pop();if(N===void 0)throw new Error("CodeGen: not in self-balancing block");const he=this._nodes.length-N;if(he<0||M!==void 0&&he!==M)throw new Error(`CodeGen: wrong number of nodes: ${he} vs ${M} expected`);return this._nodes.length=N,this}func(M,N=e.nil,he,ge){return this._blockNode(new S(M,N,he)),ge&&this.code(ge).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(M=1){for(;M-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(M){return this._currNode.nodes.push(M),this}_blockNode(M){this._currNode.nodes.push(M),this._nodes.push(M)}_endBlockNode(M,N){const he=this._currNode;if(he instanceof M||N&&he instanceof N)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${N?`${M.kind}/${N.kind}`:M.kind}"`)}_elseNode(M){const N=this._currNode;if(!(N instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=N.else=M,this}get _root(){return this._nodes[0]}get _currNode(){const M=this._nodes;return M[M.length-1]}set _currNode(M){const N=this._nodes;N[N.length-1]=M}}t.CodeGen=R;function T(P,M){for(const N in M)P[N]=(P[N]||0)+(M[N]||0);return P}function z(P,M){return M instanceof e._CodeOrName?T(P,M.names):P}function U(P,M,N){if(P instanceof e.Name)return he(P);if(!ge(P))return P;return new e._Code(P._items.reduce((te,ee)=>(ee instanceof e.Name&&(ee=he(ee)),ee instanceof e._Code?te.push(...ee._items):te.push(ee),te),[]));function he(te){const ee=N[te.str];return ee===void 0||M[te.str]!==1?te:(delete M[te.str],ee)}function ge(te){return te instanceof e._Code&&te._items.some(ee=>ee instanceof e.Name&&M[ee.str]===1&&N[ee.str]!==void 0)}}function G(P,M){for(const N in M)P[N]=(P[N]||0)-(M[N]||0)}function ce(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,e._)`!${K(P)}`}t.not=ce;const ie=H(t.operators.AND);function Z(...P){return P.reduce(ie)}t.and=Z;const W=H(t.operators.OR);function B(...P){return P.reduce(W)}t.or=B;function H(P){return(M,N)=>M===e.nil?N:N===e.nil?M:(0,e._)`${K(M)} ${P} ${K(N)}`}function K(P){return P instanceof e.Name?P:(0,e._)`(${P})`}})(lr);var _t={};Object.defineProperty(_t,"__esModule",{value:!0});_t.checkStrictMode=_t.getErrorPath=_t.Type=_t.useFunc=_t.setEvaluated=_t.evaluatedPropsToName=_t.mergeEvaluated=_t.eachItem=_t.unescapeJsonPointer=_t.escapeJsonPointer=_t.escapeFragment=_t.unescapeFragment=_t.schemaRefOrVal=_t.schemaHasRulesButRef=_t.schemaHasRules=_t.checkUnknownRules=_t.alwaysValidSchema=_t.toHash=void 0;const vo=lr,S1e=H0;function C1e(t){const e={};for(const n of t)e[n]=!0;return e}_t.toHash=C1e;function j1e(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(vW(t,e),!yW(e,t.self.RULES.all))}_t.alwaysValidSchema=j1e;function vW(t,e=t.schema){const{opts:n,self:r}=t;if(!n.strictSchema||typeof e=="boolean")return;const o=r.RULES.keywords;for(const i in e)o[i]||xW(t,`unknown keyword: "${i}"`)}_t.checkUnknownRules=vW;function yW(t,e){if(typeof t=="boolean")return!t;for(const n in t)if(e[n])return!0;return!1}_t.schemaHasRules=yW;function A1e(t,e){if(typeof t=="boolean")return!t;for(const n in t)if(n!=="$ref"&&e.all[n])return!0;return!1}_t.schemaHasRulesButRef=A1e;function M1e({topSchemaRef:t,schemaPath:e},n,r,o){if(!o){if(typeof n=="number"||typeof n=="boolean")return n;if(typeof n=="string")return(0,vo._)`${n}`}return(0,vo._)`${t}${e}${(0,vo.getProperty)(r)}`}_t.schemaRefOrVal=M1e;function T1e(t){return bW(decodeURIComponent(t))}_t.unescapeFragment=T1e;function O1e(t){return encodeURIComponent(K4(t))}_t.escapeFragment=O1e;function K4(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}_t.escapeJsonPointer=K4;function bW(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}_t.unescapeJsonPointer=bW;function $1e(t,e){if(Array.isArray(t))for(const n of t)e(n);else e(t)}_t.eachItem=$1e;function uL({mergeNames:t,mergeToName:e,mergeValues:n,resultToName:r}){return(o,i,s,a)=>{const l=s===void 0?i:s instanceof vo.Name?(i instanceof vo.Name?t(o,i,s):e(o,i,s),s):i instanceof vo.Name?(e(o,s,i),i):n(i,s);return a===vo.Name&&!(l instanceof vo.Name)?r(o,l):l}}_t.mergeEvaluated={props:uL({mergeNames:(t,e,n)=>t.if((0,vo._)`${n} !== true && ${e} !== undefined`,()=>{t.if((0,vo._)`${e} === true`,()=>t.assign(n,!0),()=>t.assign(n,(0,vo._)`${n} || {}`).code((0,vo._)`Object.assign(${n}, ${e})`))}),mergeToName:(t,e,n)=>t.if((0,vo._)`${n} !== true`,()=>{e===!0?t.assign(n,!0):(t.assign(n,(0,vo._)`${n} || {}`),J4(t,n,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:wW}),items:uL({mergeNames:(t,e,n)=>t.if((0,vo._)`${n} !== true && ${e} !== undefined`,()=>t.assign(n,(0,vo._)`${e} === true ? true : ${n} > ${e} ? ${n} : ${e}`)),mergeToName:(t,e,n)=>t.if((0,vo._)`${n} !== true`,()=>t.assign(n,e===!0?!0:(0,vo._)`${n} > ${e} ? ${n} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function wW(t,e){if(e===!0)return t.var("props",!0);const n=t.var("props",(0,vo._)`{}`);return e!==void 0&&J4(t,n,e),n}_t.evaluatedPropsToName=wW;function J4(t,e,n){Object.keys(n).forEach(r=>t.assign((0,vo._)`${e}${(0,vo.getProperty)(r)}`,!0))}_t.setEvaluated=J4;const dL={};function E1e(t,e){return t.scopeValue("func",{ref:e,code:dL[e.code]||(dL[e.code]=new S1e._Code(e.code))})}_t.useFunc=E1e;var _$;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(_$||(_t.Type=_$={}));function _1e(t,e,n){if(t instanceof vo.Name){const r=e===_$.Num;return n?r?(0,vo._)`"[" + ${t} + "]"`:(0,vo._)`"['" + ${t} + "']"`:r?(0,vo._)`"/" + ${t}`:(0,vo._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,vo.getProperty)(t).toString():"/"+K4(t)}_t.getErrorPath=_1e;function xW(t,e,n=t.opts.strictSchema){if(n){if(e=`strict mode: ${e}`,n===!0)throw new Error(e);t.self.logger.warn(e)}}_t.checkStrictMode=xW;var qu={};Object.defineProperty(qu,"__esModule",{value:!0});const Ds=lr,P1e={data:new Ds.Name("data"),valCxt:new Ds.Name("valCxt"),instancePath:new Ds.Name("instancePath"),parentData:new Ds.Name("parentData"),parentDataProperty:new Ds.Name("parentDataProperty"),rootData:new Ds.Name("rootData"),dynamicAnchors:new Ds.Name("dynamicAnchors"),vErrors:new Ds.Name("vErrors"),errors:new Ds.Name("errors"),this:new Ds.Name("this"),self:new Ds.Name("self"),scope:new Ds.Name("scope"),json:new Ds.Name("json"),jsonPos:new Ds.Name("jsonPos"),jsonLen:new Ds.Name("jsonLen"),jsonPart:new Ds.Name("jsonPart")};qu.default=P1e;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=lr,n=_t,r=qu;t.keywordError={message:({keyword:v})=>(0,e.str)`must pass "${v}" keyword validation`},t.keyword$DataError={message:({keyword:v,schemaType:y})=>y?(0,e.str)`"${v}" keyword must be ${y} ($data)`:(0,e.str)`"${v}" keyword is invalid ($data)`};function o(v,y=t.keywordError,b,x){const{it:k}=v,{gen:w,compositeRule:S,allErrors:C}=k,j=d(v,y,b);x??(S||C)?l(w,j):c(k,(0,e._)`[${j}]`)}t.reportError=o;function i(v,y=t.keywordError,b){const{it:x}=v,{gen:k,compositeRule:w,allErrors:S}=x,C=d(v,y,b);l(k,C),w||S||c(x,r.default.vErrors)}t.reportExtraError=i;function s(v,y){v.assign(r.default.errors,y),v.if((0,e._)`${r.default.vErrors} !== null`,()=>v.if(y,()=>v.assign((0,e._)`${r.default.vErrors}.length`,y),()=>v.assign(r.default.vErrors,null)))}t.resetErrorsCount=s;function a({gen:v,keyword:y,schemaValue:b,data:x,errsCount:k,it:w}){if(k===void 0)throw new Error("ajv implementation error");const S=v.name("err");v.forRange("i",k,r.default.errors,C=>{v.const(S,(0,e._)`${r.default.vErrors}[${C}]`),v.if((0,e._)`${S}.instancePath === undefined`,()=>v.assign((0,e._)`${S}.instancePath`,(0,e.strConcat)(r.default.instancePath,w.errorPath))),v.assign((0,e._)`${S}.schemaPath`,(0,e.str)`${w.errSchemaPath}/${y}`),w.opts.verbose&&(v.assign((0,e._)`${S}.schema`,b),v.assign((0,e._)`${S}.data`,x))})}t.extendErrors=a;function l(v,y){const b=v.const("err",y);v.if((0,e._)`${r.default.vErrors} === null`,()=>v.assign(r.default.vErrors,(0,e._)`[${b}]`),(0,e._)`${r.default.vErrors}.push(${b})`),v.code((0,e._)`${r.default.errors}++`)}function c(v,y){const{gen:b,validateName:x,schemaEnv:k}=v;k.$async?b.throw((0,e._)`new ${v.ValidationError}(${y})`):(b.assign((0,e._)`${x}.errors`,y),b.return(!1))}const u={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function d(v,y,b){const{createErrors:x}=v.it;return x===!1?(0,e._)`{}`:f(v,y,b)}function f(v,y,b={}){const{gen:x,it:k}=v,w=[h(k,b),m(v,b)];return g(v,y,w),x.object(...w)}function h({errorPath:v},{instancePath:y}){const b=y?(0,e.str)`${v}${(0,n.getErrorPath)(y,n.Type.Str)}`:v;return[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,b)]}function m({keyword:v,it:{errSchemaPath:y}},{schemaPath:b,parentSchema:x}){let k=x?y:(0,e.str)`${y}/${v}`;return b&&(k=(0,e.str)`${k}${(0,n.getErrorPath)(b,n.Type.Str)}`),[u.schemaPath,k]}function g(v,{params:y,message:b},x){const{keyword:k,data:w,schemaValue:S,it:C}=v,{opts:j,propertyName:A,topSchemaRef:_,schemaPath:R}=C;x.push([u.keyword,k],[u.params,typeof y=="function"?y(v):y||(0,e._)`{}`]),j.messages&&x.push([u.message,typeof b=="function"?b(v):b]),j.verbose&&x.push([u.schema,S],[u.parentSchema,(0,e._)`${_}${R}`],[r.default.data,w]),A&&x.push([u.propertyName,A])}})(lw);Object.defineProperty(_v,"__esModule",{value:!0});_v.boolOrEmptySchema=_v.topBoolOrEmptySchema=void 0;const I1e=lw,R1e=lr,N1e=qu,L1e={message:"boolean schema is false"};function D1e(t){const{gen:e,schema:n,validateName:r}=t;n===!1?kW(t,!1):typeof n=="object"&&n.$async===!0?e.return(N1e.default.data):(e.assign((0,R1e._)`${r}.errors`,null),e.return(!0))}_v.topBoolOrEmptySchema=D1e;function V1e(t,e){const{gen:n,schema:r}=t;r===!1?(n.var(e,!1),kW(t)):n.var(e,!0)}_v.boolOrEmptySchema=V1e;function kW(t,e){const{gen:n,data:r}=t,o={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,I1e.reportError)(o,L1e,void 0,e)}var ts={},fm={};Object.defineProperty(fm,"__esModule",{value:!0});fm.getRules=fm.isJSONType=void 0;const B1e=["string","number","integer","boolean","null","object","array"],z1e=new Set(B1e);function H1e(t){return typeof t=="string"&&z1e.has(t)}fm.isJSONType=H1e;function F1e(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}fm.getRules=F1e;var Ad={};Object.defineProperty(Ad,"__esModule",{value:!0});Ad.shouldUseRule=Ad.shouldUseGroup=Ad.schemaHasRulesForType=void 0;function q1e({schema:t,self:e},n){const r=e.RULES.types[n];return r&&r!==!0&&SW(t,r)}Ad.schemaHasRulesForType=q1e;function SW(t,e){return e.rules.some(n=>CW(t,n))}Ad.shouldUseGroup=SW;function CW(t,e){var n;return t[e.keyword]!==void 0||((n=e.definition.implements)===null||n===void 0?void 0:n.some(r=>t[r]!==void 0))}Ad.shouldUseRule=CW;Object.defineProperty(ts,"__esModule",{value:!0});ts.reportTypeError=ts.checkDataTypes=ts.checkDataType=ts.coerceAndCheckDataType=ts.getJSONTypes=ts.getSchemaTypes=ts.DataType=void 0;const U1e=fm,W1e=Ad,K1e=lw,Hn=lr,jW=_t;var tv;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(tv||(ts.DataType=tv={}));function J1e(t){const e=AW(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}ts.getSchemaTypes=J1e;function AW(t){const e=Array.isArray(t)?t:t?[t]:[];if(e.every(U1e.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}ts.getJSONTypes=AW;function G1e(t,e){const{gen:n,data:r,opts:o}=t,i=Y1e(e,o.coerceTypes),s=e.length>0&&!(i.length===0&&e.length===1&&(0,W1e.schemaHasRulesForType)(t,e[0]));if(s){const a=G4(e,r,o.strictNumbers,tv.Wrong);n.if(a,()=>{i.length?X1e(t,e,i):Y4(t)})}return s}ts.coerceAndCheckDataType=G1e;const MW=new Set(["string","number","integer","boolean","null"]);function Y1e(t,e){return e?t.filter(n=>MW.has(n)||e==="array"&&n==="array"):[]}function X1e(t,e,n){const{gen:r,data:o,opts:i}=t,s=r.let("dataType",(0,Hn._)`typeof ${o}`),a=r.let("coerced",(0,Hn._)`undefined`);i.coerceTypes==="array"&&r.if((0,Hn._)`${s} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,()=>r.assign(o,(0,Hn._)`${o}[0]`).assign(s,(0,Hn._)`typeof ${o}`).if(G4(e,o,i.strictNumbers),()=>r.assign(a,o))),r.if((0,Hn._)`${a} !== undefined`);for(const c of n)(MW.has(c)||c==="array"&&i.coerceTypes==="array")&&l(c);r.else(),Y4(t),r.endIf(),r.if((0,Hn._)`${a} !== undefined`,()=>{r.assign(o,a),Q1e(t,a)});function l(c){switch(c){case"string":r.elseIf((0,Hn._)`${s} == "number" || ${s} == "boolean"`).assign(a,(0,Hn._)`"" + ${o}`).elseIf((0,Hn._)`${o} === null`).assign(a,(0,Hn._)`""`);return;case"number":r.elseIf((0,Hn._)`${s} == "boolean" || ${o} === null
              || (${s} == "string" && ${o} && ${o} == +${o})`).assign(a,(0,Hn._)`+${o}`);return;case"integer":r.elseIf((0,Hn._)`${s} === "boolean" || ${o} === null
              || (${s} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(a,(0,Hn._)`+${o}`);return;case"boolean":r.elseIf((0,Hn._)`${o} === "false" || ${o} === 0 || ${o} === null`).assign(a,!1).elseIf((0,Hn._)`${o} === "true" || ${o} === 1`).assign(a,!0);return;case"null":r.elseIf((0,Hn._)`${o} === "" || ${o} === 0 || ${o} === false`),r.assign(a,null);return;case"array":r.elseIf((0,Hn._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${o} === null`).assign(a,(0,Hn._)`[${o}]`)}}}function Q1e({gen:t,parentData:e,parentDataProperty:n},r){t.if((0,Hn._)`${e} !== undefined`,()=>t.assign((0,Hn._)`${e}[${n}]`,r))}function P$(t,e,n,r=tv.Correct){const o=r===tv.Correct?Hn.operators.EQ:Hn.operators.NEQ;let i;switch(t){case"null":return(0,Hn._)`${e} ${o} null`;case"array":i=(0,Hn._)`Array.isArray(${e})`;break;case"object":i=(0,Hn._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":i=s((0,Hn._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":i=s();break;default:return(0,Hn._)`typeof ${e} ${o} ${t}`}return r===tv.Correct?i:(0,Hn.not)(i);function s(a=Hn.nil){return(0,Hn.and)((0,Hn._)`typeof ${e} == "number"`,a,n?(0,Hn._)`isFinite(${e})`:Hn.nil)}}ts.checkDataType=P$;function G4(t,e,n,r){if(t.length===1)return P$(t[0],e,n,r);let o;const i=(0,jW.toHash)(t);if(i.array&&i.object){const s=(0,Hn._)`typeof ${e} != "object"`;o=i.null?s:(0,Hn._)`!${e} || ${s}`,delete i.null,delete i.array,delete i.object}else o=Hn.nil;i.number&&delete i.integer;for(const s in i)o=(0,Hn.and)(o,P$(s,e,n,r));return o}ts.checkDataTypes=G4;const Z1e={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,Hn._)`{type: ${t}}`:(0,Hn._)`{type: ${e}}`};function Y4(t){const e=e0e(t);(0,K1e.reportError)(e,Z1e)}ts.reportTypeError=Y4;function e0e(t){const{gen:e,data:n,schema:r}=t,o=(0,jW.schemaRefOrVal)(t,r,"type");return{gen:e,keyword:"type",data:n,schema:r.type,schemaCode:o,schemaValue:o,parentSchema:r,params:{},it:t}}var Uj={};Object.defineProperty(Uj,"__esModule",{value:!0});Uj.assignDefaults=void 0;const lg=lr,t0e=_t;function n0e(t,e){const{properties:n,items:r}=t.schema;if(e==="object"&&n)for(const o in n)fL(t,o,n[o].default);else e==="array"&&Array.isArray(r)&&r.forEach((o,i)=>fL(t,i,o.default))}Uj.assignDefaults=n0e;function fL(t,e,n){const{gen:r,compositeRule:o,data:i,opts:s}=t;if(n===void 0)return;const a=(0,lg._)`${i}${(0,lg.getProperty)(e)}`;if(o){(0,t0e.checkStrictMode)(t,`default is ignored for: ${a}`);return}let l=(0,lg._)`${a} === undefined`;s.useDefaults==="empty"&&(l=(0,lg._)`${l} || ${a} === null || ${a} === ""`),r.if(l,(0,lg._)`${a} = ${(0,lg.stringify)(n)}`)}var mu={},ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.validateUnion=ir.validateArray=ir.usePattern=ir.callValidateCode=ir.schemaProperties=ir.allSchemaProperties=ir.noPropertyInData=ir.propertyInData=ir.isOwnProperty=ir.hasPropFunc=ir.reportMissingProp=ir.checkMissingProp=ir.checkReportMissingProp=void 0;const Fo=lr,X4=_t,xf=qu,r0e=_t;function o0e(t,e){const{gen:n,data:r,it:o}=t;n.if(Z4(n,r,e,o.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Fo._)`${e}`},!0),t.error()})}ir.checkReportMissingProp=o0e;function i0e({gen:t,data:e,it:{opts:n}},r,o){return(0,Fo.or)(...r.map(i=>(0,Fo.and)(Z4(t,e,i,n.ownProperties),(0,Fo._)`${o} = ${i}`)))}ir.checkMissingProp=i0e;function s0e(t,e){t.setParams({missingProperty:e},!0),t.error()}ir.reportMissingProp=s0e;function TW(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Fo._)`Object.prototype.hasOwnProperty`})}ir.hasPropFunc=TW;function Q4(t,e,n){return(0,Fo._)`${TW(t)}.call(${e}, ${n})`}ir.isOwnProperty=Q4;function a0e(t,e,n,r){const o=(0,Fo._)`${e}${(0,Fo.getProperty)(n)} !== undefined`;return r?(0,Fo._)`${o} && ${Q4(t,e,n)}`:o}ir.propertyInData=a0e;function Z4(t,e,n,r){const o=(0,Fo._)`${e}${(0,Fo.getProperty)(n)} === undefined`;return r?(0,Fo.or)(o,(0,Fo.not)(Q4(t,e,n))):o}ir.noPropertyInData=Z4;function OW(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}ir.allSchemaProperties=OW;function l0e(t,e){return OW(e).filter(n=>!(0,X4.alwaysValidSchema)(t,e[n]))}ir.schemaProperties=l0e;function c0e({schemaCode:t,data:e,it:{gen:n,topSchemaRef:r,schemaPath:o,errorPath:i},it:s},a,l,c){const u=c?(0,Fo._)`${t}, ${e}, ${r}${o}`:e,d=[[xf.default.instancePath,(0,Fo.strConcat)(xf.default.instancePath,i)],[xf.default.parentData,s.parentData],[xf.default.parentDataProperty,s.parentDataProperty],[xf.default.rootData,xf.default.rootData]];s.opts.dynamicRef&&d.push([xf.default.dynamicAnchors,xf.default.dynamicAnchors]);const f=(0,Fo._)`${u}, ${n.object(...d)}`;return l!==Fo.nil?(0,Fo._)`${a}.call(${l}, ${f})`:(0,Fo._)`${a}(${f})`}ir.callValidateCode=c0e;const u0e=(0,Fo._)`new RegExp`;function d0e({gen:t,it:{opts:e}},n){const r=e.unicodeRegExp?"u":"",{regExp:o}=e.code,i=o(n,r);return t.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,Fo._)`${o.code==="new RegExp"?u0e:(0,r0e.useFunc)(t,o)}(${n}, ${r})`})}ir.usePattern=d0e;function f0e(t){const{gen:e,data:n,keyword:r,it:o}=t,i=e.name("valid");if(o.allErrors){const a=e.let("valid",!0);return s(()=>e.assign(a,!1)),a}return e.var(i,!0),s(()=>e.break()),i;function s(a){const l=e.const("len",(0,Fo._)`${n}.length`);e.forRange("i",0,l,c=>{t.subschema({keyword:r,dataProp:c,dataPropType:X4.Type.Num},i),e.if((0,Fo.not)(i),a)})}}ir.validateArray=f0e;function h0e(t){const{gen:e,schema:n,keyword:r,it:o}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(l=>(0,X4.alwaysValidSchema)(o,l))&&!o.opts.unevaluated)return;const s=e.let("valid",!1),a=e.name("_valid");e.block(()=>n.forEach((l,c)=>{const u=t.subschema({keyword:r,schemaProp:c,compositeRule:!0},a);e.assign(s,(0,Fo._)`${s} || ${a}`),t.mergeValidEvaluated(u,a)||e.if((0,Fo.not)(s))})),t.result(s,()=>t.reset(),()=>t.error(!0))}ir.validateUnion=h0e;Object.defineProperty(mu,"__esModule",{value:!0});mu.validateKeywordUsage=mu.validSchemaType=mu.funcKeywordCode=mu.macroKeywordCode=void 0;const ua=lr,Cp=qu,p0e=ir,m0e=lw;function g0e(t,e){const{gen:n,keyword:r,schema:o,parentSchema:i,it:s}=t,a=e.macro.call(s.self,o,i,s),l=$W(n,r,a);s.opts.validateSchema!==!1&&s.self.validateSchema(a,!0);const c=n.name("valid");t.subschema({schema:a,schemaPath:ua.nil,errSchemaPath:`${s.errSchemaPath}/${r}`,topSchemaRef:l,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}mu.macroKeywordCode=g0e;function v0e(t,e){var n;const{gen:r,keyword:o,schema:i,parentSchema:s,$data:a,it:l}=t;b0e(l,e);const c=!a&&e.compile?e.compile.call(l.self,i,s,l):e.validate,u=$W(r,o,c),d=r.let("valid");t.block$data(d,f),t.ok((n=e.valid)!==null&&n!==void 0?n:d);function f(){if(e.errors===!1)g(),e.modifying&&hL(t),v(()=>t.error());else{const y=e.async?h():m();e.modifying&&hL(t),v(()=>y0e(t,y))}}function h(){const y=r.let("ruleErrs",null);return r.try(()=>g((0,ua._)`await `),b=>r.assign(d,!1).if((0,ua._)`${b} instanceof ${l.ValidationError}`,()=>r.assign(y,(0,ua._)`${b}.errors`),()=>r.throw(b))),y}function m(){const y=(0,ua._)`${u}.errors`;return r.assign(y,null),g(ua.nil),y}function g(y=e.async?(0,ua._)`await `:ua.nil){const b=l.opts.passContext?Cp.default.this:Cp.default.self,x=!("compile"in e&&!a||e.schema===!1);r.assign(d,(0,ua._)`${y}${(0,p0e.callValidateCode)(t,u,b,x)}`,e.modifying)}function v(y){var b;r.if((0,ua.not)((b=e.valid)!==null&&b!==void 0?b:d),y)}}mu.funcKeywordCode=v0e;function hL(t){const{gen:e,data:n,it:r}=t;e.if(r.parentData,()=>e.assign(n,(0,ua._)`${r.parentData}[${r.parentDataProperty}]`))}function y0e(t,e){const{gen:n}=t;n.if((0,ua._)`Array.isArray(${e})`,()=>{n.assign(Cp.default.vErrors,(0,ua._)`${Cp.default.vErrors} === null ? ${e} : ${Cp.default.vErrors}.concat(${e})`).assign(Cp.default.errors,(0,ua._)`${Cp.default.vErrors}.length`),(0,m0e.extendErrors)(t)},()=>t.error())}function b0e({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function $W(t,e,n){if(n===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,ua.stringify)(n)})}function w0e(t,e,n=!1){return!e.length||e.some(r=>r==="array"?Array.isArray(t):r==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==r||n&&typeof t>"u")}mu.validSchemaType=w0e;function x0e({schema:t,opts:e,self:n,errSchemaPath:r},o,i){if(Array.isArray(o.keyword)?!o.keyword.includes(i):o.keyword!==i)throw new Error("ajv implementation error");const s=o.dependencies;if(s!=null&&s.some(a=>!Object.prototype.hasOwnProperty.call(t,a)))throw new Error(`parent schema must have dependencies of ${i}: ${s.join(",")}`);if(o.validateSchema&&!o.validateSchema(t[i])){const l=`keyword "${i}" value is invalid at path "${r}": `+n.errorsText(o.validateSchema.errors);if(e.validateSchema==="log")n.logger.error(l);else throw new Error(l)}}mu.validateKeywordUsage=x0e;var dh={};Object.defineProperty(dh,"__esModule",{value:!0});dh.extendSubschemaMode=dh.extendSubschemaData=dh.getSubschema=void 0;const uu=lr,EW=_t;function k0e(t,{keyword:e,schemaProp:n,schema:r,schemaPath:o,errSchemaPath:i,topSchemaRef:s}){if(e!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const a=t.schema[e];return n===void 0?{schema:a,schemaPath:(0,uu._)`${t.schemaPath}${(0,uu.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:a[n],schemaPath:(0,uu._)`${t.schemaPath}${(0,uu.getProperty)(e)}${(0,uu.getProperty)(n)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,EW.escapeFragment)(n)}`}}if(r!==void 0){if(o===void 0||i===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:o,topSchemaRef:s,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}dh.getSubschema=k0e;function S0e(t,e,{dataProp:n,dataPropType:r,data:o,dataTypes:i,propertyName:s}){if(o!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=e;if(n!==void 0){const{errorPath:c,dataPathArr:u,opts:d}=e,f=a.let("data",(0,uu._)`${e.data}${(0,uu.getProperty)(n)}`,!0);l(f),t.errorPath=(0,uu.str)`${c}${(0,EW.getErrorPath)(n,r,d.jsPropertySyntax)}`,t.parentDataProperty=(0,uu._)`${n}`,t.dataPathArr=[...u,t.parentDataProperty]}if(o!==void 0){const c=o instanceof uu.Name?o:a.let("data",o,!0);l(c),s!==void 0&&(t.propertyName=s)}i&&(t.dataTypes=i);function l(c){t.data=c,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,c]}}dh.extendSubschemaData=S0e;function C0e(t,{jtdDiscriminator:e,jtdMetadata:n,compositeRule:r,createErrors:o,allErrors:i}){r!==void 0&&(t.compositeRule=r),o!==void 0&&(t.createErrors=o),i!==void 0&&(t.allErrors=i),t.jtdDiscriminator=e,t.jtdMetadata=n}dh.extendSubschemaMode=C0e;var $s={},_W=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;o--!==0;){var s=i[o];if(!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n},PW={exports:{}},Yf=PW.exports=function(t,e,n){typeof e=="function"&&(n=e,e={}),n=e.cb||n;var r=typeof n=="function"?n:n.pre||function(){},o=n.post||function(){};Rk(e,r,o,t,"",t)};Yf.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Yf.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Yf.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Yf.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Rk(t,e,n,r,o,i,s,a,l,c){if(r&&typeof r=="object"&&!Array.isArray(r)){e(r,o,i,s,a,l,c);for(var u in r){var d=r[u];if(Array.isArray(d)){if(u in Yf.arrayKeywords)for(var f=0;f<d.length;f++)Rk(t,e,n,d[f],o+"/"+u+"/"+f,i,o,u,r,f)}else if(u in Yf.propsKeywords){if(d&&typeof d=="object")for(var h in d)Rk(t,e,n,d[h],o+"/"+u+"/"+j0e(h),i,o,u,r,h)}else(u in Yf.keywords||t.allKeys&&!(u in Yf.skipKeywords))&&Rk(t,e,n,d,o+"/"+u,i,o,u,r)}n(r,o,i,s,a,l,c)}}function j0e(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var A0e=PW.exports;Object.defineProperty($s,"__esModule",{value:!0});$s.getSchemaRefs=$s.resolveUrl=$s.normalizeId=$s._getFullPath=$s.getFullPath=$s.inlineRef=void 0;const M0e=_t,T0e=_W,O0e=A0e,$0e=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function E0e(t,e=!0){return typeof t=="boolean"?!0:e===!0?!I$(t):e?IW(t)<=e:!1}$s.inlineRef=E0e;const _0e=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function I$(t){for(const e in t){if(_0e.has(e))return!0;const n=t[e];if(Array.isArray(n)&&n.some(I$)||typeof n=="object"&&I$(n))return!0}return!1}function IW(t){let e=0;for(const n in t){if(n==="$ref")return 1/0;if(e++,!$0e.has(n)&&(typeof t[n]=="object"&&(0,M0e.eachItem)(t[n],r=>e+=IW(r)),e===1/0))return 1/0}return e}function RW(t,e="",n){n!==!1&&(e=nv(e));const r=t.parse(e);return NW(t,r)}$s.getFullPath=RW;function NW(t,e){return t.serialize(e).split("#")[0]+"#"}$s._getFullPath=NW;const P0e=/#\/?$/;function nv(t){return t?t.replace(P0e,""):""}$s.normalizeId=nv;function I0e(t,e,n){return n=nv(n),t.resolve(e,n)}$s.resolveUrl=I0e;const R0e=/^[a-z_][-a-z0-9._]*$/i;function N0e(t,e){if(typeof t=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,o=nv(t[n]||e),i={"":o},s=RW(r,o,!1),a={},l=new Set;return O0e(t,{allKeys:!0},(d,f,h,m)=>{if(m===void 0)return;const g=s+f;let v=i[m];typeof d[n]=="string"&&(v=y.call(this,d[n])),b.call(this,d.$anchor),b.call(this,d.$dynamicAnchor),i[f]=v;function y(x){const k=this.opts.uriResolver.resolve;if(x=nv(v?k(v,x):x),l.has(x))throw u(x);l.add(x);let w=this.refs[x];return typeof w=="string"&&(w=this.refs[w]),typeof w=="object"?c(d,w.schema,x):x!==nv(g)&&(x[0]==="#"?(c(d,a[x],x),a[x]=d):this.refs[x]=g),x}function b(x){if(typeof x=="string"){if(!R0e.test(x))throw new Error(`invalid anchor "${x}"`);y.call(this,`#${x}`)}}}),a;function c(d,f,h){if(f!==void 0&&!T0e(d,f))throw u(h)}function u(d){return new Error(`reference "${d}" resolves to more than one schema`)}}$s.getSchemaRefs=N0e;Object.defineProperty(bc,"__esModule",{value:!0});bc.getData=bc.KeywordCxt=bc.validateFunctionCode=void 0;const LW=_v,pL=ts,eP=Ad,n2=ts,L0e=Uj,F1=mu,HM=dh,Jt=lr,Mn=qu,D0e=$s,Md=_t,Jy=lw;function V0e(t){if(BW(t)&&(zW(t),VW(t))){H0e(t);return}DW(t,()=>(0,LW.topBoolOrEmptySchema)(t))}bc.validateFunctionCode=V0e;function DW({gen:t,validateName:e,schema:n,schemaEnv:r,opts:o},i){o.code.es5?t.func(e,(0,Jt._)`${Mn.default.data}, ${Mn.default.valCxt}`,r.$async,()=>{t.code((0,Jt._)`"use strict"; ${mL(n,o)}`),z0e(t,o),t.code(i)}):t.func(e,(0,Jt._)`${Mn.default.data}, ${B0e(o)}`,r.$async,()=>t.code(mL(n,o)).code(i))}function B0e(t){return(0,Jt._)`{${Mn.default.instancePath}="", ${Mn.default.parentData}, ${Mn.default.parentDataProperty}, ${Mn.default.rootData}=${Mn.default.data}${t.dynamicRef?(0,Jt._)`, ${Mn.default.dynamicAnchors}={}`:Jt.nil}}={}`}function z0e(t,e){t.if(Mn.default.valCxt,()=>{t.var(Mn.default.instancePath,(0,Jt._)`${Mn.default.valCxt}.${Mn.default.instancePath}`),t.var(Mn.default.parentData,(0,Jt._)`${Mn.default.valCxt}.${Mn.default.parentData}`),t.var(Mn.default.parentDataProperty,(0,Jt._)`${Mn.default.valCxt}.${Mn.default.parentDataProperty}`),t.var(Mn.default.rootData,(0,Jt._)`${Mn.default.valCxt}.${Mn.default.rootData}`),e.dynamicRef&&t.var(Mn.default.dynamicAnchors,(0,Jt._)`${Mn.default.valCxt}.${Mn.default.dynamicAnchors}`)},()=>{t.var(Mn.default.instancePath,(0,Jt._)`""`),t.var(Mn.default.parentData,(0,Jt._)`undefined`),t.var(Mn.default.parentDataProperty,(0,Jt._)`undefined`),t.var(Mn.default.rootData,Mn.default.data),e.dynamicRef&&t.var(Mn.default.dynamicAnchors,(0,Jt._)`{}`)})}function H0e(t){const{schema:e,opts:n,gen:r}=t;DW(t,()=>{n.$comment&&e.$comment&&FW(t),K0e(t),r.let(Mn.default.vErrors,null),r.let(Mn.default.errors,0),n.unevaluated&&F0e(t),HW(t),Y0e(t)})}function F0e(t){const{gen:e,validateName:n}=t;t.evaluated=e.const("evaluated",(0,Jt._)`${n}.evaluated`),e.if((0,Jt._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,Jt._)`${t.evaluated}.props`,(0,Jt._)`undefined`)),e.if((0,Jt._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,Jt._)`${t.evaluated}.items`,(0,Jt._)`undefined`))}function mL(t,e){const n=typeof t=="object"&&t[e.schemaId];return n&&(e.code.source||e.code.process)?(0,Jt._)`/*# sourceURL=${n} */`:Jt.nil}function q0e(t,e){if(BW(t)&&(zW(t),VW(t))){U0e(t,e);return}(0,LW.boolOrEmptySchema)(t,e)}function VW({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const n in t)if(e.RULES.all[n])return!0;return!1}function BW(t){return typeof t.schema!="boolean"}function U0e(t,e){const{schema:n,gen:r,opts:o}=t;o.$comment&&n.$comment&&FW(t),J0e(t),G0e(t);const i=r.const("_errs",Mn.default.errors);HW(t,i),r.var(e,(0,Jt._)`${i} === ${Mn.default.errors}`)}function zW(t){(0,Md.checkUnknownRules)(t),W0e(t)}function HW(t,e){if(t.opts.jtd)return gL(t,[],!1,e);const n=(0,pL.getSchemaTypes)(t.schema),r=(0,pL.coerceAndCheckDataType)(t,n);gL(t,n,!r,e)}function W0e(t){const{schema:e,errSchemaPath:n,opts:r,self:o}=t;e.$ref&&r.ignoreKeywordsWithRef&&(0,Md.schemaHasRulesButRef)(e,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function K0e(t){const{schema:e,opts:n}=t;e.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,Md.checkStrictMode)(t,"default is ignored in the schema root")}function J0e(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,D0e.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function G0e(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function FW({gen:t,schemaEnv:e,schema:n,errSchemaPath:r,opts:o}){const i=n.$comment;if(o.$comment===!0)t.code((0,Jt._)`${Mn.default.self}.logger.log(${i})`);else if(typeof o.$comment=="function"){const s=(0,Jt.str)`${r}/$comment`,a=t.scopeValue("root",{ref:e.root});t.code((0,Jt._)`${Mn.default.self}.opts.$comment(${i}, ${s}, ${a}.schema)`)}}function Y0e(t){const{gen:e,schemaEnv:n,validateName:r,ValidationError:o,opts:i}=t;n.$async?e.if((0,Jt._)`${Mn.default.errors} === 0`,()=>e.return(Mn.default.data),()=>e.throw((0,Jt._)`new ${o}(${Mn.default.vErrors})`)):(e.assign((0,Jt._)`${r}.errors`,Mn.default.vErrors),i.unevaluated&&X0e(t),e.return((0,Jt._)`${Mn.default.errors} === 0`))}function X0e({gen:t,evaluated:e,props:n,items:r}){n instanceof Jt.Name&&t.assign((0,Jt._)`${e}.props`,n),r instanceof Jt.Name&&t.assign((0,Jt._)`${e}.items`,r)}function gL(t,e,n,r){const{gen:o,schema:i,data:s,allErrors:a,opts:l,self:c}=t,{RULES:u}=c;if(i.$ref&&(l.ignoreKeywordsWithRef||!(0,Md.schemaHasRulesButRef)(i,u))){o.block(()=>WW(t,"$ref",u.all.$ref.definition));return}l.jtd||Q0e(t,e),o.block(()=>{for(const f of u.rules)d(f);d(u.post)});function d(f){(0,eP.shouldUseGroup)(i,f)&&(f.type?(o.if((0,n2.checkDataType)(f.type,s,l.strictNumbers)),vL(t,f),e.length===1&&e[0]===f.type&&n&&(o.else(),(0,n2.reportTypeError)(t)),o.endIf()):vL(t,f),a||o.if((0,Jt._)`${Mn.default.errors} === ${r||0}`))}}function vL(t,e){const{gen:n,schema:r,opts:{useDefaults:o}}=t;o&&(0,L0e.assignDefaults)(t,e.type),n.block(()=>{for(const i of e.rules)(0,eP.shouldUseRule)(r,i)&&WW(t,i.keyword,i.definition,e.type)})}function Q0e(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(Z0e(t,e),t.opts.allowUnionTypes||ebe(t,e),tbe(t,t.dataTypes))}function Z0e(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(n=>{qW(t.dataTypes,n)||tP(t,`type "${n}" not allowed by context "${t.dataTypes.join(",")}"`)}),rbe(t,e)}}function ebe(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&tP(t,"use allowUnionTypes to allow union type keyword")}function tbe(t,e){const n=t.self.RULES.all;for(const r in n){const o=n[r];if(typeof o=="object"&&(0,eP.shouldUseRule)(t.schema,o)){const{type:i}=o.definition;i.length&&!i.some(s=>nbe(e,s))&&tP(t,`missing type "${i.join(",")}" for keyword "${r}"`)}}}function nbe(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function qW(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function rbe(t,e){const n=[];for(const r of t.dataTypes)qW(e,r)?n.push(r):e.includes("integer")&&r==="number"&&n.push("integer");t.dataTypes=n}function tP(t,e){const n=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${n}" (strictTypes)`,(0,Md.checkStrictMode)(t,e,t.opts.strictTypes)}class UW{constructor(e,n,r){if((0,F1.validateKeywordUsage)(e,n,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=n.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Md.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=n,this.$data)this.schemaCode=e.gen.const("vSchema",KW(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,F1.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=e.gen.const("_errs",Mn.default.errors))}result(e,n,r){this.failResult((0,Jt.not)(e),n,r)}failResult(e,n,r){this.gen.if(e),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,n){this.failResult((0,Jt.not)(e),void 0,n)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:n}=this;this.fail((0,Jt._)`${n} !== undefined && (${(0,Jt.or)(this.invalid$data(),e)})`)}error(e,n,r){if(n){this.setParams(n),this._error(e,r),this.setParams({});return}this._error(e,r)}_error(e,n){(e?Jy.reportExtraError:Jy.reportError)(this,this.def.error,n)}$dataError(){(0,Jy.reportError)(this,this.def.$dataError||Jy.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Jy.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,n){n?Object.assign(this.params,e):this.params=e}block$data(e,n,r=Jt.nil){this.gen.block(()=>{this.check$data(e,r),n()})}check$data(e=Jt.nil,n=Jt.nil){if(!this.$data)return;const{gen:r,schemaCode:o,schemaType:i,def:s}=this;r.if((0,Jt.or)((0,Jt._)`${o} === undefined`,n)),e!==Jt.nil&&r.assign(e,!0),(i.length||s.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==Jt.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:n,schemaType:r,def:o,it:i}=this;return(0,Jt.or)(s(),a());function s(){if(r.length){if(!(n instanceof Jt.Name))throw new Error("ajv implementation error");const l=Array.isArray(r)?r:[r];return(0,Jt._)`${(0,n2.checkDataTypes)(l,n,i.opts.strictNumbers,n2.DataType.Wrong)}`}return Jt.nil}function a(){if(o.validateSchema){const l=e.scopeValue("validate$data",{ref:o.validateSchema});return(0,Jt._)`!${l}(${n})`}return Jt.nil}}subschema(e,n){const r=(0,HM.getSubschema)(this.it,e);(0,HM.extendSubschemaData)(r,this.it,e),(0,HM.extendSubschemaMode)(r,e);const o={...this.it,...r,items:void 0,props:void 0};return q0e(o,n),o}mergeEvaluated(e,n){const{it:r,gen:o}=this;r.opts.unevaluated&&(r.props!==!0&&e.props!==void 0&&(r.props=Md.mergeEvaluated.props(o,e.props,r.props,n)),r.items!==!0&&e.items!==void 0&&(r.items=Md.mergeEvaluated.items(o,e.items,r.items,n)))}mergeValidEvaluated(e,n){const{it:r,gen:o}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return o.if(n,()=>this.mergeEvaluated(e,Jt.Name)),!0}}bc.KeywordCxt=UW;function WW(t,e,n,r){const o=new UW(t,n,e);"code"in n?n.code(o,r):o.$data&&n.validate?(0,F1.funcKeywordCode)(o,n):"macro"in n?(0,F1.macroKeywordCode)(o,n):(n.compile||n.validate)&&(0,F1.funcKeywordCode)(o,n)}const obe=/^\/(?:[^~]|~0|~1)*$/,ibe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function KW(t,{dataLevel:e,dataNames:n,dataPathArr:r}){let o,i;if(t==="")return Mn.default.rootData;if(t[0]==="/"){if(!obe.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);o=t,i=Mn.default.rootData}else{const c=ibe.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);const u=+c[1];if(o=c[2],o==="#"){if(u>=e)throw new Error(l("property/index",u));return r[e-u]}if(u>e)throw new Error(l("data",u));if(i=n[e-u],!o)return i}let s=i;const a=o.split("/");for(const c of a)c&&(i=(0,Jt._)`${i}${(0,Jt.getProperty)((0,Md.unescapeJsonPointer)(c))}`,s=(0,Jt._)`${s} && ${i}`);return s;function l(c,u){return`Cannot access ${c} ${u} levels up, current level is ${e}`}}bc.getData=KW;var cw={};Object.defineProperty(cw,"__esModule",{value:!0});class sbe extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}cw.default=sbe;var yy={};Object.defineProperty(yy,"__esModule",{value:!0});const FM=$s;class abe extends Error{constructor(e,n,r,o){super(o||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,FM.resolveUrl)(e,n,r),this.missingSchema=(0,FM.normalizeId)((0,FM.getFullPath)(e,this.missingRef))}}yy.default=abe;var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});Ra.resolveSchema=Ra.getCompilingSchema=Ra.resolveRef=Ra.compileSchema=Ra.SchemaEnv=void 0;const rc=lr,lbe=cw,dp=qu,cc=$s,yL=_t,cbe=bc;class Wj{constructor(e){var n;this.refs={},this.dynamicAnchors={};let r;typeof e.schema=="object"&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(n=e.baseId)!==null&&n!==void 0?n:(0,cc.normalizeId)(r==null?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}Ra.SchemaEnv=Wj;function nP(t){const e=JW.call(this,t);if(e)return e;const n=(0,cc.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:r,lines:o}=this.opts.code,{ownProperties:i}=this.opts,s=new rc.CodeGen(this.scope,{es5:r,lines:o,ownProperties:i});let a;t.$async&&(a=s.scopeValue("Error",{ref:lbe.default,code:(0,rc._)`require("ajv/dist/runtime/validation_error").default`}));const l=s.scopeName("validate");t.validateName=l;const c={gen:s,allErrors:this.opts.allErrors,data:dp.default.data,parentData:dp.default.parentData,parentDataProperty:dp.default.parentDataProperty,dataNames:[dp.default.data],dataPathArr:[rc.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,rc.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:a,schema:t.schema,schemaEnv:t,rootId:n,baseId:t.baseId||n,schemaPath:rc.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,rc._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(t),(0,cbe.validateFunctionCode)(c),s.optimize(this.opts.code.optimize);const d=s.toString();u=`${s.scopeRefs(dp.default.scope)}return ${d}`,this.opts.code.process&&(u=this.opts.code.process(u,t));const h=new Function(`${dp.default.self}`,`${dp.default.scope}`,u)(this,this.scope.get());if(this.scope.value(l,{ref:h}),h.errors=null,h.schema=t.schema,h.schemaEnv=t,t.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:l,validateCode:d,scopeValues:s._values}),this.opts.unevaluated){const{props:m,items:g}=c;h.evaluated={props:m instanceof rc.Name?void 0:m,items:g instanceof rc.Name?void 0:g,dynamicProps:m instanceof rc.Name,dynamicItems:g instanceof rc.Name},h.source&&(h.source.evaluated=(0,rc.stringify)(h.evaluated))}return t.validate=h,t}catch(d){throw delete t.validate,delete t.validateName,u&&this.logger.error("Error compiling schema, function code:",u),d}finally{this._compilations.delete(t)}}Ra.compileSchema=nP;function ube(t,e,n){var r;n=(0,cc.resolveUrl)(this.opts.uriResolver,e,n);const o=t.refs[n];if(o)return o;let i=hbe.call(this,t,n);if(i===void 0){const s=(r=t.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;s&&(i=new Wj({schema:s,schemaId:a,root:t,baseId:e}))}if(i!==void 0)return t.refs[n]=dbe.call(this,i)}Ra.resolveRef=ube;function dbe(t){return(0,cc.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:nP.call(this,t)}function JW(t){for(const e of this._compilations)if(fbe(e,t))return e}Ra.getCompilingSchema=JW;function fbe(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function hbe(t,e){let n;for(;typeof(n=this.refs[e])=="string";)e=n;return n||this.schemas[e]||Kj.call(this,t,e)}function Kj(t,e){const n=this.opts.uriResolver.parse(e),r=(0,cc._getFullPath)(this.opts.uriResolver,n);let o=(0,cc.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&r===o)return qM.call(this,n,t);const i=(0,cc.normalizeId)(r),s=this.refs[i]||this.schemas[i];if(typeof s=="string"){const a=Kj.call(this,t,s);return typeof(a==null?void 0:a.schema)!="object"?void 0:qM.call(this,n,a)}if(typeof(s==null?void 0:s.schema)=="object"){if(s.validate||nP.call(this,s),i===(0,cc.normalizeId)(e)){const{schema:a}=s,{schemaId:l}=this.opts,c=a[l];return c&&(o=(0,cc.resolveUrl)(this.opts.uriResolver,o,c)),new Wj({schema:a,schemaId:l,root:t,baseId:o})}return qM.call(this,n,s)}}Ra.resolveSchema=Kj;const pbe=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function qM(t,{baseId:e,schema:n,root:r}){var o;if(((o=t.fragment)===null||o===void 0?void 0:o[0])!=="/")return;for(const a of t.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const l=n[(0,yL.unescapeFragment)(a)];if(l===void 0)return;n=l;const c=typeof n=="object"&&n[this.opts.schemaId];!pbe.has(a)&&c&&(e=(0,cc.resolveUrl)(this.opts.uriResolver,e,c))}let i;if(typeof n!="boolean"&&n.$ref&&!(0,yL.schemaHasRulesButRef)(n,this.RULES)){const a=(0,cc.resolveUrl)(this.opts.uriResolver,e,n.$ref);i=Kj.call(this,r,a)}const{schemaId:s}=this.opts;if(i=i||new Wj({schema:n,schemaId:s,root:r,baseId:e}),i.schema!==i.root.schema)return i}const mbe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",gbe="Meta-schema for $data reference (JSON AnySchema extension proposal)",vbe="object",ybe=["$data"],bbe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},wbe=!1,xbe={$id:mbe,description:gbe,type:vbe,required:ybe,properties:bbe,additionalProperties:wbe};var rP={},Jj={exports:{}};const kbe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};var Sbe={HEX:kbe};const{HEX:Cbe}=Sbe,jbe=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function GW(t){if(XW(t,".")<3)return{host:t,isIPV4:!1};const e=t.match(jbe)||[],[n]=e;return n?{host:Mbe(n,"."),isIPV4:!0}:{host:t,isIPV4:!1}}function bL(t,e=!1){let n="",r=!0;for(const o of t){if(Cbe[o]===void 0)return;o!=="0"&&r===!0&&(r=!1),r||(n+=o)}return e&&n.length===0&&(n="0"),n}function Abe(t){let e=0;const n={error:!1,address:"",zone:""},r=[],o=[];let i=!1,s=!1,a=!1;function l(){if(o.length){if(i===!1){const c=bL(o);if(c!==void 0)r.push(c);else return n.error=!0,!1}o.length=0}return!0}for(let c=0;c<t.length;c++){const u=t[c];if(!(u==="["||u==="]"))if(u===":"){if(s===!0&&(a=!0),!l())break;if(e++,r.push(":"),e>7){n.error=!0;break}c-1>=0&&t[c-1]===":"&&(s=!0);continue}else if(u==="%"){if(!l())break;i=!0}else{o.push(u);continue}}return o.length&&(i?n.zone=o.join(""):a?r.push(o.join("")):r.push(bL(o))),n.address=r.join(""),n}function YW(t){if(XW(t,":")<2)return{host:t,isIPV6:!1};const e=Abe(t);if(e.error)return{host:t,isIPV6:!1};{let n=e.address,r=e.address;return e.zone&&(n+="%"+e.zone,r+="%25"+e.zone),{host:n,escapedHost:r,isIPV6:!0}}}function Mbe(t,e){let n="",r=!0;const o=t.length;for(let i=0;i<o;i++){const s=t[i];s==="0"&&r?(i+1<=o&&t[i+1]===e||i+1===o)&&(n+=s,r=!1):(s===e?r=!0:r=!1,n+=s)}return n}function XW(t,e){let n=0;for(let r=0;r<t.length;r++)t[r]===e&&n++;return n}const wL=/^\.\.?\//u,xL=/^\/\.(?:\/|$)/u,kL=/^\/\.\.(?:\/|$)/u,Tbe=/^\/?(?:.|\n)*?(?=\/|$)/u;function Obe(t){const e=[];for(;t.length;)if(t.match(wL))t=t.replace(wL,"");else if(t.match(xL))t=t.replace(xL,"/");else if(t.match(kL))t=t.replace(kL,"/"),e.pop();else if(t==="."||t==="..")t="";else{const n=t.match(Tbe);if(n){const r=n[0];t=t.slice(r.length),e.push(r)}else throw new Error("Unexpected dot segment condition")}return e.join("")}function $be(t,e){const n=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=n(t.scheme)),t.userinfo!==void 0&&(t.userinfo=n(t.userinfo)),t.host!==void 0&&(t.host=n(t.host)),t.path!==void 0&&(t.path=n(t.path)),t.query!==void 0&&(t.query=n(t.query)),t.fragment!==void 0&&(t.fragment=n(t.fragment)),t}function Ebe(t){const e=[];if(t.userinfo!==void 0&&(e.push(t.userinfo),e.push("@")),t.host!==void 0){let n=unescape(t.host);const r=GW(n);if(r.isIPV4)n=r.host;else{const o=YW(r.host);o.isIPV6===!0?n=`[${o.escapedHost}]`:n=t.host}e.push(n)}return(typeof t.port=="number"||typeof t.port=="string")&&(e.push(":"),e.push(String(t.port))),e.length?e.join(""):void 0}var _be={recomposeAuthority:Ebe,normalizeComponentEncoding:$be,removeDotSegments:Obe,normalizeIPv4:GW,normalizeIPv6:YW};const Pbe=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,Ibe=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function QW(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function ZW(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function eK(t){const e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function Rbe(t){return t.secure=QW(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function Nbe(t){if((t.port===(QW(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){const[e,n]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=n,t.resourceName=void 0}return t.fragment=void 0,t}function Lbe(t,e){if(!t.path)return t.error="URN can not be parsed",t;const n=t.path.match(Ibe);if(n){const r=e.scheme||t.scheme||"urn";t.nid=n[1].toLowerCase(),t.nss=n[2];const o=`${r}:${e.nid||t.nid}`,i=oP[o];t.path=void 0,i&&(t=i.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function Dbe(t,e){const n=e.scheme||t.scheme||"urn",r=t.nid.toLowerCase(),o=`${n}:${e.nid||r}`,i=oP[o];i&&(t=i.serialize(t,e));const s=t,a=t.nss;return s.path=`${r||e.nid}:${a}`,e.skipEscape=!0,s}function Vbe(t,e){const n=t;return n.uuid=n.nss,n.nss=void 0,!e.tolerant&&(!n.uuid||!Pbe.test(n.uuid))&&(n.error=n.error||"UUID is not valid."),n}function Bbe(t){const e=t;return e.nss=(t.uuid||"").toLowerCase(),e}const tK={scheme:"http",domainHost:!0,parse:ZW,serialize:eK},zbe={scheme:"https",domainHost:tK.domainHost,parse:ZW,serialize:eK},Nk={scheme:"ws",domainHost:!0,parse:Rbe,serialize:Nbe},Hbe={scheme:"wss",domainHost:Nk.domainHost,parse:Nk.parse,serialize:Nk.serialize},Fbe={scheme:"urn",parse:Lbe,serialize:Dbe,skipNormalize:!0},qbe={scheme:"urn:uuid",parse:Vbe,serialize:Bbe,skipNormalize:!0},oP={http:tK,https:zbe,ws:Nk,wss:Hbe,urn:Fbe,"urn:uuid":qbe};var Ube=oP;const{normalizeIPv6:Wbe,normalizeIPv4:Kbe,removeDotSegments:p1,recomposeAuthority:Jbe,normalizeComponentEncoding:sx}=_be,iP=Ube;function Gbe(t,e){return typeof t=="string"?t=gu(Ud(t,e),e):typeof t=="object"&&(t=Ud(gu(t,e),e)),t}function Ybe(t,e,n){const r=Object.assign({scheme:"null"},n),o=nK(Ud(t,r),Ud(e,r),r,!0);return gu(o,{...r,skipEscape:!0})}function nK(t,e,n,r){const o={};return r||(t=Ud(gu(t,n),n),e=Ud(gu(e,n),n)),n=n||{},!n.tolerant&&e.scheme?(o.scheme=e.scheme,o.userinfo=e.userinfo,o.host=e.host,o.port=e.port,o.path=p1(e.path||""),o.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(o.userinfo=e.userinfo,o.host=e.host,o.port=e.port,o.path=p1(e.path||""),o.query=e.query):(e.path?(e.path.charAt(0)==="/"?o.path=p1(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?o.path="/"+e.path:t.path?o.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:o.path=e.path,o.path=p1(o.path)),o.query=e.query):(o.path=t.path,e.query!==void 0?o.query=e.query:o.query=t.query),o.userinfo=t.userinfo,o.host=t.host,o.port=t.port),o.scheme=t.scheme),o.fragment=e.fragment,o}function Xbe(t,e,n){return typeof t=="string"?(t=unescape(t),t=gu(sx(Ud(t,n),!0),{...n,skipEscape:!0})):typeof t=="object"&&(t=gu(sx(t,!0),{...n,skipEscape:!0})),typeof e=="string"?(e=unescape(e),e=gu(sx(Ud(e,n),!0),{...n,skipEscape:!0})):typeof e=="object"&&(e=gu(sx(e,!0),{...n,skipEscape:!0})),t.toLowerCase()===e.toLowerCase()}function gu(t,e){const n={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},r=Object.assign({},e),o=[],i=iP[(r.scheme||n.scheme||"").toLowerCase()];i&&i.serialize&&i.serialize(n,r),n.path!==void 0&&(r.skipEscape?n.path=unescape(n.path):(n.path=escape(n.path),n.scheme!==void 0&&(n.path=n.path.split("%3A").join(":")))),r.reference!=="suffix"&&n.scheme&&o.push(n.scheme,":");const s=Jbe(n);if(s!==void 0&&(r.reference!=="suffix"&&o.push("//"),o.push(s),n.path&&n.path.charAt(0)!=="/"&&o.push("/")),n.path!==void 0){let a=n.path;!r.absolutePath&&(!i||!i.absolutePath)&&(a=p1(a)),s===void 0&&(a=a.replace(/^\/\//u,"/%2F")),o.push(a)}return n.query!==void 0&&o.push("?",n.query),n.fragment!==void 0&&o.push("#",n.fragment),o.join("")}const Qbe=Array.from({length:127},(t,e)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(e)));function Zbe(t){let e=0;for(let n=0,r=t.length;n<r;++n)if(e=t.charCodeAt(n),e>126||Qbe[e])return!0;return!1}const ewe=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Ud(t,e){const n=Object.assign({},e),r={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},o=t.indexOf("%")!==-1;let i=!1;n.reference==="suffix"&&(t=(n.scheme?n.scheme+":":"")+"//"+t);const s=t.match(ewe);if(s){if(r.scheme=s[1],r.userinfo=s[3],r.host=s[4],r.port=parseInt(s[5],10),r.path=s[6]||"",r.query=s[7],r.fragment=s[8],isNaN(r.port)&&(r.port=s[5]),r.host){const l=Kbe(r.host);if(l.isIPV4===!1){const c=Wbe(l.host);r.host=c.host.toLowerCase(),i=c.isIPV6}else r.host=l.host,i=!0}r.scheme===void 0&&r.userinfo===void 0&&r.host===void 0&&r.port===void 0&&r.query===void 0&&!r.path?r.reference="same-document":r.scheme===void 0?r.reference="relative":r.fragment===void 0?r.reference="absolute":r.reference="uri",n.reference&&n.reference!=="suffix"&&n.reference!==r.reference&&(r.error=r.error||"URI is not a "+n.reference+" reference.");const a=iP[(n.scheme||r.scheme||"").toLowerCase()];if(!n.unicodeSupport&&(!a||!a.unicodeSupport)&&r.host&&(n.domainHost||a&&a.domainHost)&&i===!1&&Zbe(r.host))try{r.host=URL.domainToASCII(r.host.toLowerCase())}catch(l){r.error=r.error||"Host's domain name can not be converted to ASCII: "+l}(!a||a&&!a.skipNormalize)&&(o&&r.scheme!==void 0&&(r.scheme=unescape(r.scheme)),o&&r.host!==void 0&&(r.host=unescape(r.host)),r.path&&(r.path=escape(unescape(r.path))),r.fragment&&(r.fragment=encodeURI(decodeURIComponent(r.fragment)))),a&&a.parse&&a.parse(r,n)}else r.error=r.error||"URI can not be parsed.";return r}const sP={SCHEMES:iP,normalize:Gbe,resolve:Ybe,resolveComponents:nK,equal:Xbe,serialize:gu,parse:Ud};Jj.exports=sP;Jj.exports.default=sP;Jj.exports.fastUri=sP;var twe=Jj.exports;Object.defineProperty(rP,"__esModule",{value:!0});const rK=twe;rK.code='require("ajv/dist/runtime/uri").default';rP.default=rK;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=bc;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var n=lr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=cw,o=yy,i=fm,s=Ra,a=lr,l=$s,c=ts,u=_t,d=xbe,f=rP,h=(B,H)=>new RegExp(B,H);h.code="new RegExp";const m=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},b=200;function x(B){var H,K,P,M,N,he,ge,te,ee,be,ne,D,L,re,Y,q,Ae,Ee,pe,Pe,we,Re,Ne,_e,Qe;const I=B.strict,V=(H=B.code)===null||H===void 0?void 0:H.optimize,J=V===!0||V===void 0?1:V||0,se=(P=(K=B.code)===null||K===void 0?void 0:K.regExp)!==null&&P!==void 0?P:h,xe=(M=B.uriResolver)!==null&&M!==void 0?M:f.default;return{strictSchema:(he=(N=B.strictSchema)!==null&&N!==void 0?N:I)!==null&&he!==void 0?he:!0,strictNumbers:(te=(ge=B.strictNumbers)!==null&&ge!==void 0?ge:I)!==null&&te!==void 0?te:!0,strictTypes:(be=(ee=B.strictTypes)!==null&&ee!==void 0?ee:I)!==null&&be!==void 0?be:"log",strictTuples:(D=(ne=B.strictTuples)!==null&&ne!==void 0?ne:I)!==null&&D!==void 0?D:"log",strictRequired:(re=(L=B.strictRequired)!==null&&L!==void 0?L:I)!==null&&re!==void 0?re:!1,code:B.code?{...B.code,optimize:J,regExp:se}:{optimize:J,regExp:se},loopRequired:(Y=B.loopRequired)!==null&&Y!==void 0?Y:b,loopEnum:(q=B.loopEnum)!==null&&q!==void 0?q:b,meta:(Ae=B.meta)!==null&&Ae!==void 0?Ae:!0,messages:(Ee=B.messages)!==null&&Ee!==void 0?Ee:!0,inlineRefs:(pe=B.inlineRefs)!==null&&pe!==void 0?pe:!0,schemaId:(Pe=B.schemaId)!==null&&Pe!==void 0?Pe:"$id",addUsedSchema:(we=B.addUsedSchema)!==null&&we!==void 0?we:!0,validateSchema:(Re=B.validateSchema)!==null&&Re!==void 0?Re:!0,validateFormats:(Ne=B.validateFormats)!==null&&Ne!==void 0?Ne:!0,unicodeRegExp:(_e=B.unicodeRegExp)!==null&&_e!==void 0?_e:!0,int32range:(Qe=B.int32range)!==null&&Qe!==void 0?Qe:!0,uriResolver:xe}}class k{constructor(H={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,H=this.opts={...H,...x(H)};const{es5:K,lines:P}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:g,es5:K,lines:P}),this.logger=T(H.logger);const M=H.validateFormats;H.validateFormats=!1,this.RULES=(0,i.getRules)(),w.call(this,v,H,"NOT SUPPORTED"),w.call(this,y,H,"DEPRECATED","warn"),this._metaOpts=_.call(this),H.formats&&j.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),H.keywords&&A.call(this,H.keywords),typeof H.meta=="object"&&this.addMetaSchema(H.meta),C.call(this),H.validateFormats=M}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:H,meta:K,schemaId:P}=this.opts;let M=d;P==="id"&&(M={...d},M.id=M.$id,delete M.$id),K&&H&&this.addMetaSchema(M,M[P],!1)}defaultMeta(){const{meta:H,schemaId:K}=this.opts;return this.opts.defaultMeta=typeof H=="object"?H[K]||H:void 0}validate(H,K){let P;if(typeof H=="string"){if(P=this.getSchema(H),!P)throw new Error(`no schema with key or ref "${H}"`)}else P=this.compile(H);const M=P(K);return"$async"in P||(this.errors=P.errors),M}compile(H,K){const P=this._addSchema(H,K);return P.validate||this._compileSchemaEnv(P)}compileAsync(H,K){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:P}=this.opts;return M.call(this,H,K);async function M(be,ne){await N.call(this,be.$schema);const D=this._addSchema(be,ne);return D.validate||he.call(this,D)}async function N(be){be&&!this.getSchema(be)&&await M.call(this,{$ref:be},!0)}async function he(be){try{return this._compileSchemaEnv(be)}catch(ne){if(!(ne instanceof o.default))throw ne;return ge.call(this,ne),await te.call(this,ne.missingSchema),he.call(this,be)}}function ge({missingSchema:be,missingRef:ne}){if(this.refs[be])throw new Error(`AnySchema ${be} is loaded but ${ne} cannot be resolved`)}async function te(be){const ne=await ee.call(this,be);this.refs[be]||await N.call(this,ne.$schema),this.refs[be]||this.addSchema(ne,be,K)}async function ee(be){const ne=this._loading[be];if(ne)return ne;try{return await(this._loading[be]=P(be))}finally{delete this._loading[be]}}}addSchema(H,K,P,M=this.opts.validateSchema){if(Array.isArray(H)){for(const he of H)this.addSchema(he,void 0,P,M);return this}let N;if(typeof H=="object"){const{schemaId:he}=this.opts;if(N=H[he],N!==void 0&&typeof N!="string")throw new Error(`schema ${he} must be string`)}return K=(0,l.normalizeId)(K||N),this._checkUnique(K),this.schemas[K]=this._addSchema(H,P,K,M,!0),this}addMetaSchema(H,K,P=this.opts.validateSchema){return this.addSchema(H,K,!0,P),this}validateSchema(H,K){if(typeof H=="boolean")return!0;let P;if(P=H.$schema,P!==void 0&&typeof P!="string")throw new Error("$schema must be a string");if(P=P||this.opts.defaultMeta||this.defaultMeta(),!P)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const M=this.validate(P,H);if(!M&&K){const N="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(N);else throw new Error(N)}return M}getSchema(H){let K;for(;typeof(K=S.call(this,H))=="string";)H=K;if(K===void 0){const{schemaId:P}=this.opts,M=new s.SchemaEnv({schema:{},schemaId:P});if(K=s.resolveSchema.call(this,M,H),!K)return;this.refs[H]=K}return K.validate||this._compileSchemaEnv(K)}removeSchema(H){if(H instanceof RegExp)return this._removeAllSchemas(this.schemas,H),this._removeAllSchemas(this.refs,H),this;switch(typeof H){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const K=S.call(this,H);return typeof K=="object"&&this._cache.delete(K.schema),delete this.schemas[H],delete this.refs[H],this}case"object":{const K=H;this._cache.delete(K);let P=H[this.opts.schemaId];return P&&(P=(0,l.normalizeId)(P),delete this.schemas[P],delete this.refs[P]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(H){for(const K of H)this.addKeyword(K);return this}addKeyword(H,K){let P;if(typeof H=="string")P=H,typeof K=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),K.keyword=P);else if(typeof H=="object"&&K===void 0){if(K=H,P=K.keyword,Array.isArray(P)&&!P.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(U.call(this,P,K),!K)return(0,u.eachItem)(P,N=>G.call(this,N)),this;ie.call(this,K);const M={...K,type:(0,c.getJSONTypes)(K.type),schemaType:(0,c.getJSONTypes)(K.schemaType)};return(0,u.eachItem)(P,M.type.length===0?N=>G.call(this,N,M):N=>M.type.forEach(he=>G.call(this,N,M,he))),this}getKeyword(H){const K=this.RULES.all[H];return typeof K=="object"?K.definition:!!K}removeKeyword(H){const{RULES:K}=this;delete K.keywords[H],delete K.all[H];for(const P of K.rules){const M=P.rules.findIndex(N=>N.keyword===H);M>=0&&P.rules.splice(M,1)}return this}addFormat(H,K){return typeof K=="string"&&(K=new RegExp(K)),this.formats[H]=K,this}errorsText(H=this.errors,{separator:K=", ",dataVar:P="data"}={}){return!H||H.length===0?"No errors":H.map(M=>`${P}${M.instancePath} ${M.message}`).reduce((M,N)=>M+K+N)}$dataMetaSchema(H,K){const P=this.RULES.all;H=JSON.parse(JSON.stringify(H));for(const M of K){const N=M.split("/").slice(1);let he=H;for(const ge of N)he=he[ge];for(const ge in P){const te=P[ge];if(typeof te!="object")continue;const{$data:ee}=te.definition,be=he[ge];ee&&be&&(he[ge]=W(be))}}return H}_removeAllSchemas(H,K){for(const P in H){const M=H[P];(!K||K.test(P))&&(typeof M=="string"?delete H[P]:M&&!M.meta&&(this._cache.delete(M.schema),delete H[P]))}}_addSchema(H,K,P,M=this.opts.validateSchema,N=this.opts.addUsedSchema){let he;const{schemaId:ge}=this.opts;if(typeof H=="object")he=H[ge];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof H!="boolean")throw new Error("schema must be object or boolean")}let te=this._cache.get(H);if(te!==void 0)return te;P=(0,l.normalizeId)(he||P);const ee=l.getSchemaRefs.call(this,H,P);return te=new s.SchemaEnv({schema:H,schemaId:ge,meta:K,baseId:P,localRefs:ee}),this._cache.set(te.schema,te),N&&!P.startsWith("#")&&(P&&this._checkUnique(P),this.refs[P]=te),M&&this.validateSchema(H,!0),te}_checkUnique(H){if(this.schemas[H]||this.refs[H])throw new Error(`schema with key or id "${H}" already exists`)}_compileSchemaEnv(H){if(H.meta?this._compileMetaSchema(H):s.compileSchema.call(this,H),!H.validate)throw new Error("ajv implementation error");return H.validate}_compileMetaSchema(H){const K=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,H)}finally{this.opts=K}}}k.ValidationError=r.default,k.MissingRefError=o.default,t.default=k;function w(B,H,K,P="error"){for(const M in B){const N=M;N in H&&this.logger[P](`${K}: option ${M}. ${B[N]}`)}}function S(B){return B=(0,l.normalizeId)(B),this.schemas[B]||this.refs[B]}function C(){const B=this.opts.schemas;if(B)if(Array.isArray(B))this.addSchema(B);else for(const H in B)this.addSchema(B[H],H)}function j(){for(const B in this.opts.formats){const H=this.opts.formats[B];H&&this.addFormat(B,H)}}function A(B){if(Array.isArray(B)){this.addVocabulary(B);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const H in B){const K=B[H];K.keyword||(K.keyword=H),this.addKeyword(K)}}function _(){const B={...this.opts};for(const H of m)delete B[H];return B}const R={log(){},warn(){},error(){}};function T(B){if(B===!1)return R;if(B===void 0)return console;if(B.log&&B.warn&&B.error)return B;throw new Error("logger must implement log, warn and error methods")}const z=/^[a-z_$][a-z0-9_$:-]*$/i;function U(B,H){const{RULES:K}=this;if((0,u.eachItem)(B,P=>{if(K.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!z.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!H&&H.$data&&!("code"in H||"validate"in H))throw new Error('$data keyword must have "code" or "validate" function')}function G(B,H,K){var P;const M=H==null?void 0:H.post;if(K&&M)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:N}=this;let he=M?N.post:N.rules.find(({type:te})=>te===K);if(he||(he={type:K,rules:[]},N.rules.push(he)),N.keywords[B]=!0,!H)return;const ge={keyword:B,definition:{...H,type:(0,c.getJSONTypes)(H.type),schemaType:(0,c.getJSONTypes)(H.schemaType)}};H.before?ce.call(this,he,ge,H.before):he.rules.push(ge),N.all[B]=ge,(P=H.implements)===null||P===void 0||P.forEach(te=>this.addKeyword(te))}function ce(B,H,K){const P=B.rules.findIndex(M=>M.keyword===K);P>=0?B.rules.splice(P,0,H):(B.rules.push(H),this.logger.warn(`rule ${K} is not defined`))}function ie(B){let{metaSchema:H}=B;H!==void 0&&(B.$data&&this.opts.$data&&(H=W(H)),B.validateSchema=this.compile(H,!0))}const Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function W(B){return{anyOf:[B,Z]}}})(gW);var aP={},lP={},cP={};Object.defineProperty(cP,"__esModule",{value:!0});const nwe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};cP.default=nwe;var hm={};Object.defineProperty(hm,"__esModule",{value:!0});hm.callRef=hm.getValidate=void 0;const rwe=yy,SL=ir,Aa=lr,cg=qu,CL=Ra,ax=_t,owe={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:n,it:r}=t,{baseId:o,schemaEnv:i,validateName:s,opts:a,self:l}=r,{root:c}=i;if((n==="#"||n==="#/")&&o===c.baseId)return d();const u=CL.resolveRef.call(l,c,o,n);if(u===void 0)throw new rwe.default(r.opts.uriResolver,o,n);if(u instanceof CL.SchemaEnv)return f(u);return h(u);function d(){if(i===c)return Lk(t,s,i,i.$async);const m=e.scopeValue("root",{ref:c});return Lk(t,(0,Aa._)`${m}.validate`,c,c.$async)}function f(m){const g=oK(t,m);Lk(t,g,m,m.$async)}function h(m){const g=e.scopeValue("schema",a.code.source===!0?{ref:m,code:(0,Aa.stringify)(m)}:{ref:m}),v=e.name("valid"),y=t.subschema({schema:m,dataTypes:[],schemaPath:Aa.nil,topSchemaRef:g,errSchemaPath:n},v);t.mergeEvaluated(y),t.ok(v)}}};function oK(t,e){const{gen:n}=t;return e.validate?n.scopeValue("validate",{ref:e.validate}):(0,Aa._)`${n.scopeValue("wrapper",{ref:e})}.validate`}hm.getValidate=oK;function Lk(t,e,n,r){const{gen:o,it:i}=t,{allErrors:s,schemaEnv:a,opts:l}=i,c=l.passContext?cg.default.this:Aa.nil;r?u():d();function u(){if(!a.$async)throw new Error("async schema referenced by sync schema");const m=o.let("valid");o.try(()=>{o.code((0,Aa._)`await ${(0,SL.callValidateCode)(t,e,c)}`),h(e),s||o.assign(m,!0)},g=>{o.if((0,Aa._)`!(${g} instanceof ${i.ValidationError})`,()=>o.throw(g)),f(g),s||o.assign(m,!1)}),t.ok(m)}function d(){t.result((0,SL.callValidateCode)(t,e,c),()=>h(e),()=>f(e))}function f(m){const g=(0,Aa._)`${m}.errors`;o.assign(cg.default.vErrors,(0,Aa._)`${cg.default.vErrors} === null ? ${g} : ${cg.default.vErrors}.concat(${g})`),o.assign(cg.default.errors,(0,Aa._)`${cg.default.vErrors}.length`)}function h(m){var g;if(!i.opts.unevaluated)return;const v=(g=n==null?void 0:n.validate)===null||g===void 0?void 0:g.evaluated;if(i.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(i.props=ax.mergeEvaluated.props(o,v.props,i.props));else{const y=o.var("props",(0,Aa._)`${m}.evaluated.props`);i.props=ax.mergeEvaluated.props(o,y,i.props,Aa.Name)}if(i.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(i.items=ax.mergeEvaluated.items(o,v.items,i.items));else{const y=o.var("items",(0,Aa._)`${m}.evaluated.items`);i.items=ax.mergeEvaluated.items(o,y,i.items,Aa.Name)}}}hm.callRef=Lk;hm.default=owe;Object.defineProperty(lP,"__esModule",{value:!0});const iwe=cP,swe=hm,awe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",iwe.default,swe.default];lP.default=awe;var uP={},dP={};Object.defineProperty(dP,"__esModule",{value:!0});const r2=lr,kf=r2.operators,o2={maximum:{okStr:"<=",ok:kf.LTE,fail:kf.GT},minimum:{okStr:">=",ok:kf.GTE,fail:kf.LT},exclusiveMaximum:{okStr:"<",ok:kf.LT,fail:kf.GTE},exclusiveMinimum:{okStr:">",ok:kf.GT,fail:kf.LTE}},lwe={message:({keyword:t,schemaCode:e})=>(0,r2.str)`must be ${o2[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,r2._)`{comparison: ${o2[t].okStr}, limit: ${e}}`},cwe={keyword:Object.keys(o2),type:"number",schemaType:"number",$data:!0,error:lwe,code(t){const{keyword:e,data:n,schemaCode:r}=t;t.fail$data((0,r2._)`${n} ${o2[e].fail} ${r} || isNaN(${n})`)}};dP.default=cwe;var fP={};Object.defineProperty(fP,"__esModule",{value:!0});const q1=lr,uwe={message:({schemaCode:t})=>(0,q1.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,q1._)`{multipleOf: ${t}}`},dwe={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:uwe,code(t){const{gen:e,data:n,schemaCode:r,it:o}=t,i=o.opts.multipleOfPrecision,s=e.let("res"),a=i?(0,q1._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${i}`:(0,q1._)`${s} !== parseInt(${s})`;t.fail$data((0,q1._)`(${r} === 0 || (${s} = ${n}/${r}, ${a}))`)}};fP.default=dwe;var hP={},pP={};Object.defineProperty(pP,"__esModule",{value:!0});function iK(t){const e=t.length;let n=0,r=0,o;for(;r<e;)n++,o=t.charCodeAt(r++),o>=55296&&o<=56319&&r<e&&(o=t.charCodeAt(r),(o&64512)===56320&&r++);return n}pP.default=iK;iK.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(hP,"__esModule",{value:!0});const jp=lr,fwe=_t,hwe=pP,pwe={message({keyword:t,schemaCode:e}){const n=t==="maxLength"?"more":"fewer";return(0,jp.str)`must NOT have ${n} than ${e} characters`},params:({schemaCode:t})=>(0,jp._)`{limit: ${t}}`},mwe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:pwe,code(t){const{keyword:e,data:n,schemaCode:r,it:o}=t,i=e==="maxLength"?jp.operators.GT:jp.operators.LT,s=o.opts.unicode===!1?(0,jp._)`${n}.length`:(0,jp._)`${(0,fwe.useFunc)(t.gen,hwe.default)}(${n})`;t.fail$data((0,jp._)`${s} ${i} ${r}`)}};hP.default=mwe;var mP={};Object.defineProperty(mP,"__esModule",{value:!0});const gwe=ir,i2=lr,vwe={message:({schemaCode:t})=>(0,i2.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,i2._)`{pattern: ${t}}`},ywe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:vwe,code(t){const{data:e,$data:n,schema:r,schemaCode:o,it:i}=t,s=i.opts.unicodeRegExp?"u":"",a=n?(0,i2._)`(new RegExp(${o}, ${s}))`:(0,gwe.usePattern)(t,r);t.fail$data((0,i2._)`!${a}.test(${e})`)}};mP.default=ywe;var gP={};Object.defineProperty(gP,"__esModule",{value:!0});const U1=lr,bwe={message({keyword:t,schemaCode:e}){const n=t==="maxProperties"?"more":"fewer";return(0,U1.str)`must NOT have ${n} than ${e} properties`},params:({schemaCode:t})=>(0,U1._)`{limit: ${t}}`},wwe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:bwe,code(t){const{keyword:e,data:n,schemaCode:r}=t,o=e==="maxProperties"?U1.operators.GT:U1.operators.LT;t.fail$data((0,U1._)`Object.keys(${n}).length ${o} ${r}`)}};gP.default=wwe;var vP={};Object.defineProperty(vP,"__esModule",{value:!0});const Gy=ir,W1=lr,xwe=_t,kwe={message:({params:{missingProperty:t}})=>(0,W1.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,W1._)`{missingProperty: ${t}}`},Swe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:kwe,code(t){const{gen:e,schema:n,schemaCode:r,data:o,$data:i,it:s}=t,{opts:a}=s;if(!i&&n.length===0)return;const l=n.length>=a.loopRequired;if(s.allErrors?c():u(),a.strictRequired){const h=t.parentSchema.properties,{definedProperties:m}=t.it;for(const g of n)if((h==null?void 0:h[g])===void 0&&!m.has(g)){const v=s.schemaEnv.baseId+s.errSchemaPath,y=`required property "${g}" is not defined at "${v}" (strictRequired)`;(0,xwe.checkStrictMode)(s,y,s.opts.strictRequired)}}function c(){if(l||i)t.block$data(W1.nil,d);else for(const h of n)(0,Gy.checkReportMissingProp)(t,h)}function u(){const h=e.let("missing");if(l||i){const m=e.let("valid",!0);t.block$data(m,()=>f(h,m)),t.ok(m)}else e.if((0,Gy.checkMissingProp)(t,n,h)),(0,Gy.reportMissingProp)(t,h),e.else()}function d(){e.forOf("prop",r,h=>{t.setParams({missingProperty:h}),e.if((0,Gy.noPropertyInData)(e,o,h,a.ownProperties),()=>t.error())})}function f(h,m){t.setParams({missingProperty:h}),e.forOf(h,r,()=>{e.assign(m,(0,Gy.propertyInData)(e,o,h,a.ownProperties)),e.if((0,W1.not)(m),()=>{t.error(),e.break()})},W1.nil)}}};vP.default=Swe;var yP={};Object.defineProperty(yP,"__esModule",{value:!0});const K1=lr,Cwe={message({keyword:t,schemaCode:e}){const n=t==="maxItems"?"more":"fewer";return(0,K1.str)`must NOT have ${n} than ${e} items`},params:({schemaCode:t})=>(0,K1._)`{limit: ${t}}`},jwe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Cwe,code(t){const{keyword:e,data:n,schemaCode:r}=t,o=e==="maxItems"?K1.operators.GT:K1.operators.LT;t.fail$data((0,K1._)`${n}.length ${o} ${r}`)}};yP.default=jwe;var bP={},uw={};Object.defineProperty(uw,"__esModule",{value:!0});const sK=_W;sK.code='require("ajv/dist/runtime/equal").default';uw.default=sK;Object.defineProperty(bP,"__esModule",{value:!0});const UM=ts,Cs=lr,Awe=_t,Mwe=uw,Twe={message:({params:{i:t,j:e}})=>(0,Cs.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Cs._)`{i: ${t}, j: ${e}}`},Owe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Twe,code(t){const{gen:e,data:n,$data:r,schema:o,parentSchema:i,schemaCode:s,it:a}=t;if(!r&&!o)return;const l=e.let("valid"),c=i.items?(0,UM.getSchemaTypes)(i.items):[];t.block$data(l,u,(0,Cs._)`${s} === false`),t.ok(l);function u(){const m=e.let("i",(0,Cs._)`${n}.length`),g=e.let("j");t.setParams({i:m,j:g}),e.assign(l,!0),e.if((0,Cs._)`${m} > 1`,()=>(d()?f:h)(m,g))}function d(){return c.length>0&&!c.some(m=>m==="object"||m==="array")}function f(m,g){const v=e.name("item"),y=(0,UM.checkDataTypes)(c,v,a.opts.strictNumbers,UM.DataType.Wrong),b=e.const("indices",(0,Cs._)`{}`);e.for((0,Cs._)`;${m}--;`,()=>{e.let(v,(0,Cs._)`${n}[${m}]`),e.if(y,(0,Cs._)`continue`),c.length>1&&e.if((0,Cs._)`typeof ${v} == "string"`,(0,Cs._)`${v} += "_"`),e.if((0,Cs._)`typeof ${b}[${v}] == "number"`,()=>{e.assign(g,(0,Cs._)`${b}[${v}]`),t.error(),e.assign(l,!1).break()}).code((0,Cs._)`${b}[${v}] = ${m}`)})}function h(m,g){const v=(0,Awe.useFunc)(e,Mwe.default),y=e.name("outer");e.label(y).for((0,Cs._)`;${m}--;`,()=>e.for((0,Cs._)`${g} = ${m}; ${g}--;`,()=>e.if((0,Cs._)`${v}(${n}[${m}], ${n}[${g}])`,()=>{t.error(),e.assign(l,!1).break(y)})))}}};bP.default=Owe;var wP={};Object.defineProperty(wP,"__esModule",{value:!0});const R$=lr,$we=_t,Ewe=uw,_we={message:"must be equal to constant",params:({schemaCode:t})=>(0,R$._)`{allowedValue: ${t}}`},Pwe={keyword:"const",$data:!0,error:_we,code(t){const{gen:e,data:n,$data:r,schemaCode:o,schema:i}=t;r||i&&typeof i=="object"?t.fail$data((0,R$._)`!${(0,$we.useFunc)(e,Ewe.default)}(${n}, ${o})`):t.fail((0,R$._)`${i} !== ${n}`)}};wP.default=Pwe;var xP={};Object.defineProperty(xP,"__esModule",{value:!0});const m1=lr,Iwe=_t,Rwe=uw,Nwe={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,m1._)`{allowedValues: ${t}}`},Lwe={keyword:"enum",schemaType:"array",$data:!0,error:Nwe,code(t){const{gen:e,data:n,$data:r,schema:o,schemaCode:i,it:s}=t;if(!r&&o.length===0)throw new Error("enum must have non-empty array");const a=o.length>=s.opts.loopEnum;let l;const c=()=>l??(l=(0,Iwe.useFunc)(e,Rwe.default));let u;if(a||r)u=e.let("valid"),t.block$data(u,d);else{if(!Array.isArray(o))throw new Error("ajv implementation error");const h=e.const("vSchema",i);u=(0,m1.or)(...o.map((m,g)=>f(h,g)))}t.pass(u);function d(){e.assign(u,!1),e.forOf("v",i,h=>e.if((0,m1._)`${c()}(${n}, ${h})`,()=>e.assign(u,!0).break()))}function f(h,m){const g=o[m];return typeof g=="object"&&g!==null?(0,m1._)`${c()}(${n}, ${h}[${m}])`:(0,m1._)`${n} === ${g}`}}};xP.default=Lwe;Object.defineProperty(uP,"__esModule",{value:!0});const Dwe=dP,Vwe=fP,Bwe=hP,zwe=mP,Hwe=gP,Fwe=vP,qwe=yP,Uwe=bP,Wwe=wP,Kwe=xP,Jwe=[Dwe.default,Vwe.default,Bwe.default,zwe.default,Hwe.default,Fwe.default,qwe.default,Uwe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Wwe.default,Kwe.default];uP.default=Jwe;var kP={},by={};Object.defineProperty(by,"__esModule",{value:!0});by.validateAdditionalItems=void 0;const Ap=lr,N$=_t,Gwe={message:({params:{len:t}})=>(0,Ap.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Ap._)`{limit: ${t}}`},Ywe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Gwe,code(t){const{parentSchema:e,it:n}=t,{items:r}=e;if(!Array.isArray(r)){(0,N$.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}aK(t,r)}};function aK(t,e){const{gen:n,schema:r,data:o,keyword:i,it:s}=t;s.items=!0;const a=n.const("len",(0,Ap._)`${o}.length`);if(r===!1)t.setParams({len:e.length}),t.pass((0,Ap._)`${a} <= ${e.length}`);else if(typeof r=="object"&&!(0,N$.alwaysValidSchema)(s,r)){const c=n.var("valid",(0,Ap._)`${a} <= ${e.length}`);n.if((0,Ap.not)(c),()=>l(c)),t.ok(c)}function l(c){n.forRange("i",e.length,a,u=>{t.subschema({keyword:i,dataProp:u,dataPropType:N$.Type.Num},c),s.allErrors||n.if((0,Ap.not)(c),()=>n.break())})}}by.validateAdditionalItems=aK;by.default=Ywe;var SP={},wy={};Object.defineProperty(wy,"__esModule",{value:!0});wy.validateTuple=void 0;const jL=lr,Dk=_t,Xwe=ir,Qwe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:n}=t;if(Array.isArray(e))return lK(t,"additionalItems",e);n.items=!0,!(0,Dk.alwaysValidSchema)(n,e)&&t.ok((0,Xwe.validateArray)(t))}};function lK(t,e,n=t.schema){const{gen:r,parentSchema:o,data:i,keyword:s,it:a}=t;u(o),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=Dk.mergeEvaluated.items(r,n.length,a.items));const l=r.name("valid"),c=r.const("len",(0,jL._)`${i}.length`);n.forEach((d,f)=>{(0,Dk.alwaysValidSchema)(a,d)||(r.if((0,jL._)`${c} > ${f}`,()=>t.subschema({keyword:s,schemaProp:f,dataProp:f},l)),t.ok(l))});function u(d){const{opts:f,errSchemaPath:h}=a,m=n.length,g=m===d.minItems&&(m===d.maxItems||d[e]===!1);if(f.strictTuples&&!g){const v=`"${s}" is ${m}-tuple, but minItems or maxItems/${e} are not specified or different at path "${h}"`;(0,Dk.checkStrictMode)(a,v,f.strictTuples)}}}wy.validateTuple=lK;wy.default=Qwe;Object.defineProperty(SP,"__esModule",{value:!0});const Zwe=wy,exe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,Zwe.validateTuple)(t,"items")};SP.default=exe;var CP={};Object.defineProperty(CP,"__esModule",{value:!0});const AL=lr,txe=_t,nxe=ir,rxe=by,oxe={message:({params:{len:t}})=>(0,AL.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,AL._)`{limit: ${t}}`},ixe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:oxe,code(t){const{schema:e,parentSchema:n,it:r}=t,{prefixItems:o}=n;r.items=!0,!(0,txe.alwaysValidSchema)(r,e)&&(o?(0,rxe.validateAdditionalItems)(t,o):t.ok((0,nxe.validateArray)(t)))}};CP.default=ixe;var jP={};Object.defineProperty(jP,"__esModule",{value:!0});const Cl=lr,lx=_t,sxe={message:({params:{min:t,max:e}})=>e===void 0?(0,Cl.str)`must contain at least ${t} valid item(s)`:(0,Cl.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Cl._)`{minContains: ${t}}`:(0,Cl._)`{minContains: ${t}, maxContains: ${e}}`},axe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:sxe,code(t){const{gen:e,schema:n,parentSchema:r,data:o,it:i}=t;let s,a;const{minContains:l,maxContains:c}=r;i.opts.next?(s=l===void 0?1:l,a=c):s=1;const u=e.const("len",(0,Cl._)`${o}.length`);if(t.setParams({min:s,max:a}),a===void 0&&s===0){(0,lx.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&s>a){(0,lx.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,lx.alwaysValidSchema)(i,n)){let g=(0,Cl._)`${u} >= ${s}`;a!==void 0&&(g=(0,Cl._)`${g} && ${u} <= ${a}`),t.pass(g);return}i.items=!0;const d=e.name("valid");a===void 0&&s===1?h(d,()=>e.if(d,()=>e.break())):s===0?(e.let(d,!0),a!==void 0&&e.if((0,Cl._)`${o}.length > 0`,f)):(e.let(d,!1),f()),t.result(d,()=>t.reset());function f(){const g=e.name("_valid"),v=e.let("count",0);h(g,()=>e.if(g,()=>m(v)))}function h(g,v){e.forRange("i",0,u,y=>{t.subschema({keyword:"contains",dataProp:y,dataPropType:lx.Type.Num,compositeRule:!0},g),v()})}function m(g){e.code((0,Cl._)`${g}++`),a===void 0?e.if((0,Cl._)`${g} >= ${s}`,()=>e.assign(d,!0).break()):(e.if((0,Cl._)`${g} > ${a}`,()=>e.assign(d,!1).break()),s===1?e.assign(d,!0):e.if((0,Cl._)`${g} >= ${s}`,()=>e.assign(d,!0)))}}};jP.default=axe;var cK={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=lr,n=_t,r=ir;t.error={message:({params:{property:l,depsCount:c,deps:u}})=>{const d=c===1?"property":"properties";return(0,e.str)`must have ${d} ${u} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:u,missingProperty:d}})=>(0,e._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${c},
    deps: ${u}}`};const o={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[c,u]=i(l);s(l,c),a(l,u)}};function i({schema:l}){const c={},u={};for(const d in l){if(d==="__proto__")continue;const f=Array.isArray(l[d])?c:u;f[d]=l[d]}return[c,u]}function s(l,c=l.schema){const{gen:u,data:d,it:f}=l;if(Object.keys(c).length===0)return;const h=u.let("missing");for(const m in c){const g=c[m];if(g.length===0)continue;const v=(0,r.propertyInData)(u,d,m,f.opts.ownProperties);l.setParams({property:m,depsCount:g.length,deps:g.join(", ")}),f.allErrors?u.if(v,()=>{for(const y of g)(0,r.checkReportMissingProp)(l,y)}):(u.if((0,e._)`${v} && (${(0,r.checkMissingProp)(l,g,h)})`),(0,r.reportMissingProp)(l,h),u.else())}}t.validatePropertyDeps=s;function a(l,c=l.schema){const{gen:u,data:d,keyword:f,it:h}=l,m=u.name("valid");for(const g in c)(0,n.alwaysValidSchema)(h,c[g])||(u.if((0,r.propertyInData)(u,d,g,h.opts.ownProperties),()=>{const v=l.subschema({keyword:f,schemaProp:g},m);l.mergeValidEvaluated(v,m)},()=>u.var(m,!0)),l.ok(m))}t.validateSchemaDeps=a,t.default=o})(cK);var AP={};Object.defineProperty(AP,"__esModule",{value:!0});const uK=lr,lxe=_t,cxe={message:"property name must be valid",params:({params:t})=>(0,uK._)`{propertyName: ${t.propertyName}}`},uxe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:cxe,code(t){const{gen:e,schema:n,data:r,it:o}=t;if((0,lxe.alwaysValidSchema)(o,n))return;const i=e.name("valid");e.forIn("key",r,s=>{t.setParams({propertyName:s}),t.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},i),e.if((0,uK.not)(i),()=>{t.error(!0),o.allErrors||e.break()})}),t.ok(i)}};AP.default=uxe;var Gj={};Object.defineProperty(Gj,"__esModule",{value:!0});const cx=ir,oc=lr,dxe=qu,ux=_t,fxe={message:"must NOT have additional properties",params:({params:t})=>(0,oc._)`{additionalProperty: ${t.additionalProperty}}`},hxe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:fxe,code(t){const{gen:e,schema:n,parentSchema:r,data:o,errsCount:i,it:s}=t;if(!i)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=s;if(s.props=!0,l.removeAdditional!=="all"&&(0,ux.alwaysValidSchema)(s,n))return;const c=(0,cx.allSchemaProperties)(r.properties),u=(0,cx.allSchemaProperties)(r.patternProperties);d(),t.ok((0,oc._)`${i} === ${dxe.default.errors}`);function d(){e.forIn("key",o,v=>{!c.length&&!u.length?m(v):e.if(f(v),()=>m(v))})}function f(v){let y;if(c.length>8){const b=(0,ux.schemaRefOrVal)(s,r.properties,"properties");y=(0,cx.isOwnProperty)(e,b,v)}else c.length?y=(0,oc.or)(...c.map(b=>(0,oc._)`${v} === ${b}`)):y=oc.nil;return u.length&&(y=(0,oc.or)(y,...u.map(b=>(0,oc._)`${(0,cx.usePattern)(t,b)}.test(${v})`))),(0,oc.not)(y)}function h(v){e.code((0,oc._)`delete ${o}[${v}]`)}function m(v){if(l.removeAdditional==="all"||l.removeAdditional&&n===!1){h(v);return}if(n===!1){t.setParams({additionalProperty:v}),t.error(),a||e.break();return}if(typeof n=="object"&&!(0,ux.alwaysValidSchema)(s,n)){const y=e.name("valid");l.removeAdditional==="failing"?(g(v,y,!1),e.if((0,oc.not)(y),()=>{t.reset(),h(v)})):(g(v,y),a||e.if((0,oc.not)(y),()=>e.break()))}}function g(v,y,b){const x={keyword:"additionalProperties",dataProp:v,dataPropType:ux.Type.Str};b===!1&&Object.assign(x,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(x,y)}}};Gj.default=hxe;var MP={};Object.defineProperty(MP,"__esModule",{value:!0});const pxe=bc,ML=ir,WM=_t,TL=Gj,mxe={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:n,parentSchema:r,data:o,it:i}=t;i.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&TL.default.code(new pxe.KeywordCxt(i,TL.default,"additionalProperties"));const s=(0,ML.allSchemaProperties)(n);for(const d of s)i.definedProperties.add(d);i.opts.unevaluated&&s.length&&i.props!==!0&&(i.props=WM.mergeEvaluated.props(e,(0,WM.toHash)(s),i.props));const a=s.filter(d=>!(0,WM.alwaysValidSchema)(i,n[d]));if(a.length===0)return;const l=e.name("valid");for(const d of a)c(d)?u(d):(e.if((0,ML.propertyInData)(e,o,d,i.opts.ownProperties)),u(d),i.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(d),t.ok(l);function c(d){return i.opts.useDefaults&&!i.compositeRule&&n[d].default!==void 0}function u(d){t.subschema({keyword:"properties",schemaProp:d,dataProp:d},l)}}};MP.default=mxe;var TP={};Object.defineProperty(TP,"__esModule",{value:!0});const OL=ir,dx=lr,$L=_t,EL=_t,gxe={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:n,data:r,parentSchema:o,it:i}=t,{opts:s}=i,a=(0,OL.allSchemaProperties)(n),l=a.filter(g=>(0,$L.alwaysValidSchema)(i,n[g]));if(a.length===0||l.length===a.length&&(!i.opts.unevaluated||i.props===!0))return;const c=s.strictSchema&&!s.allowMatchingProperties&&o.properties,u=e.name("valid");i.props!==!0&&!(i.props instanceof dx.Name)&&(i.props=(0,EL.evaluatedPropsToName)(e,i.props));const{props:d}=i;f();function f(){for(const g of a)c&&h(g),i.allErrors?m(g):(e.var(u,!0),m(g),e.if(u))}function h(g){for(const v in c)new RegExp(g).test(v)&&(0,$L.checkStrictMode)(i,`property ${v} matches pattern ${g} (use allowMatchingProperties)`)}function m(g){e.forIn("key",r,v=>{e.if((0,dx._)`${(0,OL.usePattern)(t,g)}.test(${v})`,()=>{const y=l.includes(g);y||t.subschema({keyword:"patternProperties",schemaProp:g,dataProp:v,dataPropType:EL.Type.Str},u),i.opts.unevaluated&&d!==!0?e.assign((0,dx._)`${d}[${v}]`,!0):!y&&!i.allErrors&&e.if((0,dx.not)(u),()=>e.break())})})}}};TP.default=gxe;var OP={};Object.defineProperty(OP,"__esModule",{value:!0});const vxe=_t,yxe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:n,it:r}=t;if((0,vxe.alwaysValidSchema)(r,n)){t.fail();return}const o=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),t.failResult(o,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};OP.default=yxe;var $P={};Object.defineProperty($P,"__esModule",{value:!0});const bxe=ir,wxe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:bxe.validateUnion,error:{message:"must match a schema in anyOf"}};$P.default=wxe;var EP={};Object.defineProperty(EP,"__esModule",{value:!0});const Vk=lr,xxe=_t,kxe={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,Vk._)`{passingSchemas: ${t.passing}}`},Sxe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:kxe,code(t){const{gen:e,schema:n,parentSchema:r,it:o}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");if(o.opts.discriminator&&r.discriminator)return;const i=n,s=e.let("valid",!1),a=e.let("passing",null),l=e.name("_valid");t.setParams({passing:a}),e.block(c),t.result(s,()=>t.reset(),()=>t.error(!0));function c(){i.forEach((u,d)=>{let f;(0,xxe.alwaysValidSchema)(o,u)?e.var(l,!0):f=t.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},l),d>0&&e.if((0,Vk._)`${l} && ${s}`).assign(s,!1).assign(a,(0,Vk._)`[${a}, ${d}]`).else(),e.if(l,()=>{e.assign(s,!0),e.assign(a,d),f&&t.mergeEvaluated(f,Vk.Name)})})}}};EP.default=Sxe;var _P={};Object.defineProperty(_P,"__esModule",{value:!0});const Cxe=_t,jxe={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:n,it:r}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");const o=e.name("valid");n.forEach((i,s)=>{if((0,Cxe.alwaysValidSchema)(r,i))return;const a=t.subschema({keyword:"allOf",schemaProp:s},o);t.ok(o),t.mergeEvaluated(a)})}};_P.default=jxe;var PP={};Object.defineProperty(PP,"__esModule",{value:!0});const s2=lr,dK=_t,Axe={message:({params:t})=>(0,s2.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,s2._)`{failingKeyword: ${t.ifClause}}`},Mxe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Axe,code(t){const{gen:e,parentSchema:n,it:r}=t;n.then===void 0&&n.else===void 0&&(0,dK.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const o=_L(r,"then"),i=_L(r,"else");if(!o&&!i)return;const s=e.let("valid",!0),a=e.name("_valid");if(l(),t.reset(),o&&i){const u=e.let("ifClause");t.setParams({ifClause:u}),e.if(a,c("then",u),c("else",u))}else o?e.if(a,c("then")):e.if((0,s2.not)(a),c("else"));t.pass(s,()=>t.error(!0));function l(){const u=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);t.mergeEvaluated(u)}function c(u,d){return()=>{const f=t.subschema({keyword:u},a);e.assign(s,a),t.mergeValidEvaluated(f,s),d?e.assign(d,(0,s2._)`${u}`):t.setParams({ifClause:u})}}}};function _L(t,e){const n=t.schema[e];return n!==void 0&&!(0,dK.alwaysValidSchema)(t,n)}PP.default=Mxe;var IP={};Object.defineProperty(IP,"__esModule",{value:!0});const Txe=_t,Oxe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:n}){e.if===void 0&&(0,Txe.checkStrictMode)(n,`"${t}" without "if" is ignored`)}};IP.default=Oxe;Object.defineProperty(kP,"__esModule",{value:!0});const $xe=by,Exe=SP,_xe=wy,Pxe=CP,Ixe=jP,Rxe=cK,Nxe=AP,Lxe=Gj,Dxe=MP,Vxe=TP,Bxe=OP,zxe=$P,Hxe=EP,Fxe=_P,qxe=PP,Uxe=IP;function Wxe(t=!1){const e=[Bxe.default,zxe.default,Hxe.default,Fxe.default,qxe.default,Uxe.default,Nxe.default,Lxe.default,Rxe.default,Dxe.default,Vxe.default];return t?e.push(Exe.default,Pxe.default):e.push($xe.default,_xe.default),e.push(Ixe.default),e}kP.default=Wxe;var RP={},NP={};Object.defineProperty(NP,"__esModule",{value:!0});const _i=lr,Kxe={message:({schemaCode:t})=>(0,_i.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,_i._)`{format: ${t}}`},Jxe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Kxe,code(t,e){const{gen:n,data:r,$data:o,schema:i,schemaCode:s,it:a}=t,{opts:l,errSchemaPath:c,schemaEnv:u,self:d}=a;if(!l.validateFormats)return;o?f():h();function f(){const m=n.scopeValue("formats",{ref:d.formats,code:l.code.formats}),g=n.const("fDef",(0,_i._)`${m}[${s}]`),v=n.let("fType"),y=n.let("format");n.if((0,_i._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>n.assign(v,(0,_i._)`${g}.type || "string"`).assign(y,(0,_i._)`${g}.validate`),()=>n.assign(v,(0,_i._)`"string"`).assign(y,g)),t.fail$data((0,_i.or)(b(),x()));function b(){return l.strictSchema===!1?_i.nil:(0,_i._)`${s} && !${y}`}function x(){const k=u.$async?(0,_i._)`(${g}.async ? await ${y}(${r}) : ${y}(${r}))`:(0,_i._)`${y}(${r})`,w=(0,_i._)`(typeof ${y} == "function" ? ${k} : ${y}.test(${r}))`;return(0,_i._)`${y} && ${y} !== true && ${v} === ${e} && !${w}`}}function h(){const m=d.formats[i];if(!m){b();return}if(m===!0)return;const[g,v,y]=x(m);g===e&&t.pass(k());function b(){if(l.strictSchema===!1){d.logger.warn(w());return}throw new Error(w());function w(){return`unknown format "${i}" ignored in schema at path "${c}"`}}function x(w){const S=w instanceof RegExp?(0,_i.regexpCode)(w):l.code.formats?(0,_i._)`${l.code.formats}${(0,_i.getProperty)(i)}`:void 0,C=n.scopeValue("formats",{key:i,ref:w,code:S});return typeof w=="object"&&!(w instanceof RegExp)?[w.type||"string",w.validate,(0,_i._)`${C}.validate`]:["string",w,C]}function k(){if(typeof m=="object"&&!(m instanceof RegExp)&&m.async){if(!u.$async)throw new Error("async format in sync schema");return(0,_i._)`await ${y}(${r})`}return typeof v=="function"?(0,_i._)`${y}(${r})`:(0,_i._)`${y}.test(${r})`}}}};NP.default=Jxe;Object.defineProperty(RP,"__esModule",{value:!0});const Gxe=NP,Yxe=[Gxe.default];RP.default=Yxe;var Pv={};Object.defineProperty(Pv,"__esModule",{value:!0});Pv.contentVocabulary=Pv.metadataVocabulary=void 0;Pv.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Pv.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(aP,"__esModule",{value:!0});const Xxe=lP,Qxe=uP,Zxe=kP,eke=RP,PL=Pv,tke=[Xxe.default,Qxe.default,(0,Zxe.default)(),eke.default,PL.metadataVocabulary,PL.contentVocabulary];aP.default=tke;var LP={},Yj={};Object.defineProperty(Yj,"__esModule",{value:!0});Yj.DiscrError=void 0;var IL;(function(t){t.Tag="tag",t.Mapping="mapping"})(IL||(Yj.DiscrError=IL={}));Object.defineProperty(LP,"__esModule",{value:!0});const kg=lr,L$=Yj,RL=Ra,nke=yy,rke=_t,oke={message:({params:{discrError:t,tagName:e}})=>t===L$.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:n}})=>(0,kg._)`{error: ${t}, tag: ${n}, tagValue: ${e}}`},ike={keyword:"discriminator",type:"object",schemaType:"object",error:oke,code(t){const{gen:e,data:n,schema:r,parentSchema:o,it:i}=t,{oneOf:s}=o;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),c=e.const("tag",(0,kg._)`${n}${(0,kg.getProperty)(a)}`);e.if((0,kg._)`typeof ${c} == "string"`,()=>u(),()=>t.error(!1,{discrError:L$.DiscrError.Tag,tag:c,tagName:a})),t.ok(l);function u(){const h=f();e.if(!1);for(const m in h)e.elseIf((0,kg._)`${c} === ${m}`),e.assign(l,d(h[m]));e.else(),t.error(!1,{discrError:L$.DiscrError.Mapping,tag:c,tagName:a}),e.endIf()}function d(h){const m=e.name("valid"),g=t.subschema({keyword:"oneOf",schemaProp:h},m);return t.mergeEvaluated(g,kg.Name),m}function f(){var h;const m={},g=y(o);let v=!0;for(let k=0;k<s.length;k++){let w=s[k];if(w!=null&&w.$ref&&!(0,rke.schemaHasRulesButRef)(w,i.self.RULES)){const C=w.$ref;if(w=RL.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,C),w instanceof RL.SchemaEnv&&(w=w.schema),w===void 0)throw new nke.default(i.opts.uriResolver,i.baseId,C)}const S=(h=w==null?void 0:w.properties)===null||h===void 0?void 0:h[a];if(typeof S!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(g||y(w)),b(S,k)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return m;function y({required:k}){return Array.isArray(k)&&k.includes(a)}function b(k,w){if(k.const)x(k.const,w);else if(k.enum)for(const S of k.enum)x(S,w);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function x(k,w){if(typeof k!="string"||k in m)throw new Error(`discriminator: "${a}" values must be unique strings`);m[k]=w}}}};LP.default=ike;const ske="http://json-schema.org/draft-07/schema#",ake="http://json-schema.org/draft-07/schema#",lke="Core schema meta-schema",cke={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},uke=["object","boolean"],dke={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},fke={$schema:ske,$id:ake,title:lke,definitions:cke,type:uke,properties:dke,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const n=gW,r=aP,o=LP,i=fke,s=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(o.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(i,s):i;this.addMetaSchema(m,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.Ajv=l,t.exports=e=l,t.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=bc;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var u=lr;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var d=cw;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return d.default}});var f=yy;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return f.default}})})(cL,cL.exports);var hke={};(function(t){(function(e){function n(I){return I!==null?Object.prototype.toString.call(I)==="[object Array]":!1}function r(I){return I!==null?Object.prototype.toString.call(I)==="[object Object]":!1}function o(I,V){if(I===V)return!0;var J=Object.prototype.toString.call(I);if(J!==Object.prototype.toString.call(V))return!1;if(n(I)===!0){if(I.length!==V.length)return!1;for(var se=0;se<I.length;se++)if(o(I[se],V[se])===!1)return!1;return!0}if(r(I)===!0){var xe={};for(var Fe in I)if(hasOwnProperty.call(I,Fe)){if(o(I[Fe],V[Fe])===!1)return!1;xe[Fe]=!0}for(var Je in V)if(hasOwnProperty.call(V,Je)&&xe[Je]!==!0)return!1;return!0}return!1}function i(I){if(I===""||I===!1||I===null)return!0;if(n(I)&&I.length===0)return!0;if(r(I)){for(var V in I)if(I.hasOwnProperty(V))return!1;return!0}else return!1}function s(I){for(var V=Object.keys(I),J=[],se=0;se<V.length;se++)J.push(I[V[se]]);return J}var a;typeof String.prototype.trimLeft=="function"?a=function(I){return I.trimLeft()}:a=function(I){return I.match(/^\s*(.*)/)[1]};var l=0,c=1,u=2,d=3,f=4,h=5,m=6,g=7,v=8,y=9,b={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},x="EOF",k="UnquotedIdentifier",w="QuotedIdentifier",S="Rbracket",C="Rparen",j="Comma",A="Colon",_="Rbrace",R="Number",T="Current",z="Expref",U="Pipe",G="Or",ce="And",ie="EQ",Z="GT",W="LT",B="GTE",H="LTE",K="NE",P="Flatten",M="Star",N="Filter",he="Dot",ge="Not",te="Lbrace",ee="Lbracket",be="Lparen",ne="Literal",D={".":he,"*":M,",":j,":":A,"{":te,"}":_,"]":S,"(":be,")":C,"@":T},L={"<":!0,">":!0,"=":!0,"!":!0},re={" ":!0,"	":!0,"\n":!0};function Y(I){return I>="a"&&I<="z"||I>="A"&&I<="Z"||I==="_"}function q(I){return I>="0"&&I<="9"||I==="-"}function Ae(I){return I>="a"&&I<="z"||I>="A"&&I<="Z"||I>="0"&&I<="9"||I==="_"}function Ee(){}Ee.prototype={tokenize:function(I){var V=[];this._current=0;for(var J,se,xe;this._current<I.length;)if(Y(I[this._current]))J=this._current,se=this._consumeUnquotedIdentifier(I),V.push({type:k,value:se,start:J});else if(D[I[this._current]]!==void 0)V.push({type:D[I[this._current]],value:I[this._current],start:this._current}),this._current++;else if(q(I[this._current]))xe=this._consumeNumber(I),V.push(xe);else if(I[this._current]==="[")xe=this._consumeLBracket(I),V.push(xe);else if(I[this._current]==='"')J=this._current,se=this._consumeQuotedIdentifier(I),V.push({type:w,value:se,start:J});else if(I[this._current]==="'")J=this._current,se=this._consumeRawStringLiteral(I),V.push({type:ne,value:se,start:J});else if(I[this._current]==="`"){J=this._current;var Fe=this._consumeLiteral(I);V.push({type:ne,value:Fe,start:J})}else if(L[I[this._current]]!==void 0)V.push(this._consumeOperator(I));else if(re[I[this._current]]!==void 0)this._current++;else if(I[this._current]==="&")J=this._current,this._current++,I[this._current]==="&"?(this._current++,V.push({type:ce,value:"&&",start:J})):V.push({type:z,value:"&",start:J});else if(I[this._current]==="|")J=this._current,this._current++,I[this._current]==="|"?(this._current++,V.push({type:G,value:"||",start:J})):V.push({type:U,value:"|",start:J});else{var Je=new Error("Unknown character:"+I[this._current]);throw Je.name="LexerError",Je}return V},_consumeUnquotedIdentifier:function(I){var V=this._current;for(this._current++;this._current<I.length&&Ae(I[this._current]);)this._current++;return I.slice(V,this._current)},_consumeQuotedIdentifier:function(I){var V=this._current;this._current++;for(var J=I.length;I[this._current]!=='"'&&this._current<J;){var se=this._current;I[se]==="\\"&&(I[se+1]==="\\"||I[se+1]==='"')?se+=2:se++,this._current=se}return this._current++,JSON.parse(I.slice(V,this._current))},_consumeRawStringLiteral:function(I){var V=this._current;this._current++;for(var J=I.length;I[this._current]!=="'"&&this._current<J;){var se=this._current;I[se]==="\\"&&(I[se+1]==="\\"||I[se+1]==="'")?se+=2:se++,this._current=se}this._current++;var xe=I.slice(V+1,this._current-1);return xe.replace("\\'","'")},_consumeNumber:function(I){var V=this._current;this._current++;for(var J=I.length;q(I[this._current])&&this._current<J;)this._current++;var se=parseInt(I.slice(V,this._current));return{type:R,value:se,start:V}},_consumeLBracket:function(I){var V=this._current;return this._current++,I[this._current]==="?"?(this._current++,{type:N,value:"[?",start:V}):I[this._current]==="]"?(this._current++,{type:P,value:"[]",start:V}):{type:ee,value:"[",start:V}},_consumeOperator:function(I){var V=this._current,J=I[V];if(this._current++,J==="!")return I[this._current]==="="?(this._current++,{type:K,value:"!=",start:V}):{type:ge,value:"!",start:V};if(J==="<")return I[this._current]==="="?(this._current++,{type:H,value:"<=",start:V}):{type:W,value:"<",start:V};if(J===">")return I[this._current]==="="?(this._current++,{type:B,value:">=",start:V}):{type:Z,value:">",start:V};if(J==="="&&I[this._current]==="=")return this._current++,{type:ie,value:"==",start:V}},_consumeLiteral:function(I){this._current++;for(var V=this._current,J=I.length,se;I[this._current]!=="`"&&this._current<J;){var xe=this._current;I[xe]==="\\"&&(I[xe+1]==="\\"||I[xe+1]==="`")?xe+=2:xe++,this._current=xe}var Fe=a(I.slice(V,this._current));return Fe=Fe.replace("\\`","`"),this._looksLikeJSON(Fe)?se=JSON.parse(Fe):se=JSON.parse('"'+Fe+'"'),this._current++,se},_looksLikeJSON:function(I){var V='[{"',J=["true","false","null"],se="-0123456789";if(I==="")return!1;if(V.indexOf(I[0])>=0)return!0;if(J.indexOf(I)>=0)return!0;if(se.indexOf(I[0])>=0)try{return JSON.parse(I),!0}catch{return!1}else return!1}};var pe={};pe[x]=0,pe[k]=0,pe[w]=0,pe[S]=0,pe[C]=0,pe[j]=0,pe[_]=0,pe[R]=0,pe[T]=0,pe[z]=0,pe[U]=1,pe[G]=2,pe[ce]=3,pe[ie]=5,pe[Z]=5,pe[W]=5,pe[B]=5,pe[H]=5,pe[K]=5,pe[P]=9,pe[M]=20,pe[N]=21,pe[he]=40,pe[ge]=45,pe[te]=50,pe[ee]=55,pe[be]=60;function Pe(){}Pe.prototype={parse:function(I){this._loadTokens(I),this.index=0;var V=this.expression(0);if(this._lookahead(0)!==x){var J=this._lookaheadToken(0),se=new Error("Unexpected token type: "+J.type+", value: "+J.value);throw se.name="ParserError",se}return V},_loadTokens:function(I){var V=new Ee,J=V.tokenize(I);J.push({type:x,value:"",start:I.length}),this.tokens=J},expression:function(I){var V=this._lookaheadToken(0);this._advance();for(var J=this.nud(V),se=this._lookahead(0);I<pe[se];)this._advance(),J=this.led(se,J),se=this._lookahead(0);return J},_lookahead:function(I){return this.tokens[this.index+I].type},_lookaheadToken:function(I){return this.tokens[this.index+I]},_advance:function(){this.index++},nud:function(I){var V,J,se;switch(I.type){case ne:return{type:"Literal",value:I.value};case k:return{type:"Field",name:I.value};case w:var xe={type:"Field",name:I.value};if(this._lookahead(0)===be)throw new Error("Quoted identifier not allowed for function names.");return xe;case ge:return J=this.expression(pe.Not),{type:"NotExpression",children:[J]};case M:return V={type:"Identity"},J=null,this._lookahead(0)===S?J={type:"Identity"}:J=this._parseProjectionRHS(pe.Star),{type:"ValueProjection",children:[V,J]};case N:return this.led(I.type,{type:"Identity"});case te:return this._parseMultiselectHash();case P:return V={type:P,children:[{type:"Identity"}]},J=this._parseProjectionRHS(pe.Flatten),{type:"Projection",children:[V,J]};case ee:return this._lookahead(0)===R||this._lookahead(0)===A?(J=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},J)):this._lookahead(0)===M&&this._lookahead(1)===S?(this._advance(),this._advance(),J=this._parseProjectionRHS(pe.Star),{type:"Projection",children:[{type:"Identity"},J]}):this._parseMultiselectList();case T:return{type:T};case z:return se=this.expression(pe.Expref),{type:"ExpressionReference",children:[se]};case be:for(var Fe=[];this._lookahead(0)!==C;)this._lookahead(0)===T?(se={type:T},this._advance()):se=this.expression(0),Fe.push(se);return this._match(C),Fe[0];default:this._errorToken(I)}},led:function(I,V){var J;switch(I){case he:var se=pe.Dot;return this._lookahead(0)!==M?(J=this._parseDotRHS(se),{type:"Subexpression",children:[V,J]}):(this._advance(),J=this._parseProjectionRHS(se),{type:"ValueProjection",children:[V,J]});case U:return J=this.expression(pe.Pipe),{type:U,children:[V,J]};case G:return J=this.expression(pe.Or),{type:"OrExpression",children:[V,J]};case ce:return J=this.expression(pe.And),{type:"AndExpression",children:[V,J]};case be:for(var xe=V.name,Fe=[],Je,Ce;this._lookahead(0)!==C;)this._lookahead(0)===T?(Je={type:T},this._advance()):Je=this.expression(0),this._lookahead(0)===j&&this._match(j),Fe.push(Je);return this._match(C),Ce={type:"Function",name:xe,children:Fe},Ce;case N:var Me=this.expression(0);return this._match(S),this._lookahead(0)===P?J={type:"Identity"}:J=this._parseProjectionRHS(pe.Filter),{type:"FilterProjection",children:[V,J,Me]};case P:var kt={type:P,children:[V]},ht=this._parseProjectionRHS(pe.Flatten);return{type:"Projection",children:[kt,ht]};case ie:case K:case Z:case B:case W:case H:return this._parseComparator(V,I);case ee:var dt=this._lookaheadToken(0);return dt.type===R||dt.type===A?(J=this._parseIndexExpression(),this._projectIfSlice(V,J)):(this._match(M),this._match(S),J=this._parseProjectionRHS(pe.Star),{type:"Projection",children:[V,J]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(I){if(this._lookahead(0)===I)this._advance();else{var V=this._lookaheadToken(0),J=new Error("Expected "+I+", got: "+V.type);throw J.name="ParserError",J}},_errorToken:function(I){var V=new Error("Invalid token ("+I.type+'): "'+I.value+'"');throw V.name="ParserError",V},_parseIndexExpression:function(){if(this._lookahead(0)===A||this._lookahead(1)===A)return this._parseSliceExpression();var I={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(S),I},_projectIfSlice:function(I,V){var J={type:"IndexExpression",children:[I,V]};return V.type==="Slice"?{type:"Projection",children:[J,this._parseProjectionRHS(pe.Star)]}:J},_parseSliceExpression:function(){for(var I=[null,null,null],V=0,J=this._lookahead(0);J!==S&&V<3;){if(J===A)V++,this._advance();else if(J===R)I[V]=this._lookaheadToken(0).value,this._advance();else{var se=this._lookahead(0),xe=new Error("Syntax error, unexpected token: "+se.value+"("+se.type+")");throw xe.name="Parsererror",xe}J=this._lookahead(0)}return this._match(S),{type:"Slice",children:I}},_parseComparator:function(I,V){var J=this.expression(pe[V]);return{type:"Comparator",name:V,children:[I,J]}},_parseDotRHS:function(I){var V=this._lookahead(0),J=[k,w,M];if(J.indexOf(V)>=0)return this.expression(I);if(V===ee)return this._match(ee),this._parseMultiselectList();if(V===te)return this._match(te),this._parseMultiselectHash()},_parseProjectionRHS:function(I){var V;if(pe[this._lookahead(0)]<10)V={type:"Identity"};else if(this._lookahead(0)===ee)V=this.expression(I);else if(this._lookahead(0)===N)V=this.expression(I);else if(this._lookahead(0)===he)this._match(he),V=this._parseDotRHS(I);else{var J=this._lookaheadToken(0),se=new Error("Sytanx error, unexpected token: "+J.value+"("+J.type+")");throw se.name="ParserError",se}return V},_parseMultiselectList:function(){for(var I=[];this._lookahead(0)!==S;){var V=this.expression(0);if(I.push(V),this._lookahead(0)===j&&(this._match(j),this._lookahead(0)===S))throw new Error("Unexpected token Rbracket")}return this._match(S),{type:"MultiSelectList",children:I}},_parseMultiselectHash:function(){for(var I=[],V=[k,w],J,se,xe,Fe;;){if(J=this._lookaheadToken(0),V.indexOf(J.type)<0)throw new Error("Expecting an identifier token, got: "+J.type);if(se=J.value,this._advance(),this._match(A),xe=this.expression(0),Fe={type:"KeyValuePair",name:se,value:xe},I.push(Fe),this._lookahead(0)===j)this._match(j);else if(this._lookahead(0)===_){this._match(_);break}}return{type:"MultiSelectHash",children:I}}};function we(I){this.runtime=I}we.prototype={search:function(I,V){return this.visit(I,V)},visit:function(I,V){var J,se,xe,Fe,Je,Ce,Me,kt,ht,dt;switch(I.type){case"Field":return V!==null&&r(V)?(Ce=V[I.name],Ce===void 0?null:Ce):null;case"Subexpression":for(xe=this.visit(I.children[0],V),dt=1;dt<I.children.length;dt++)if(xe=this.visit(I.children[1],xe),xe===null)return null;return xe;case"IndexExpression":return Me=this.visit(I.children[0],V),kt=this.visit(I.children[1],Me),kt;case"Index":if(!n(V))return null;var mt=I.value;return mt<0&&(mt=V.length+mt),xe=V[mt],xe===void 0&&(xe=null),xe;case"Slice":if(!n(V))return null;var Sn=I.children.slice(0),Sr=this.computeSliceParams(V.length,Sn),Mr=Sr[0],An=Sr[1],cr=Sr[2];if(xe=[],cr>0)for(dt=Mr;dt<An;dt+=cr)xe.push(V[dt]);else for(dt=Mr;dt>An;dt+=cr)xe.push(V[dt]);return xe;case"Projection":var Pn=this.visit(I.children[0],V);if(!n(Pn))return null;for(ht=[],dt=0;dt<Pn.length;dt++)se=this.visit(I.children[1],Pn[dt]),se!==null&&ht.push(se);return ht;case"ValueProjection":if(Pn=this.visit(I.children[0],V),!r(Pn))return null;ht=[];var Bn=s(Pn);for(dt=0;dt<Bn.length;dt++)se=this.visit(I.children[1],Bn[dt]),se!==null&&ht.push(se);return ht;case"FilterProjection":if(Pn=this.visit(I.children[0],V),!n(Pn))return null;var or=[],Kt=[];for(dt=0;dt<Pn.length;dt++)J=this.visit(I.children[2],Pn[dt]),i(J)||or.push(Pn[dt]);for(var Qn=0;Qn<or.length;Qn++)se=this.visit(I.children[1],or[Qn]),se!==null&&Kt.push(se);return Kt;case"Comparator":switch(Fe=this.visit(I.children[0],V),Je=this.visit(I.children[1],V),I.name){case ie:xe=o(Fe,Je);break;case K:xe=!o(Fe,Je);break;case Z:xe=Fe>Je;break;case B:xe=Fe>=Je;break;case W:xe=Fe<Je;break;case H:xe=Fe<=Je;break;default:throw new Error("Unknown comparator: "+I.name)}return xe;case P:var un=this.visit(I.children[0],V);if(!n(un))return null;var St=[];for(dt=0;dt<un.length;dt++)se=un[dt],n(se)?St.push.apply(St,se):St.push(se);return St;case"Identity":return V;case"MultiSelectList":if(V===null)return null;for(ht=[],dt=0;dt<I.children.length;dt++)ht.push(this.visit(I.children[dt],V));return ht;case"MultiSelectHash":if(V===null)return null;ht={};var In;for(dt=0;dt<I.children.length;dt++)In=I.children[dt],ht[In.name]=this.visit(In.value,V);return ht;case"OrExpression":return J=this.visit(I.children[0],V),i(J)&&(J=this.visit(I.children[1],V)),J;case"AndExpression":return Fe=this.visit(I.children[0],V),i(Fe)===!0?Fe:this.visit(I.children[1],V);case"NotExpression":return Fe=this.visit(I.children[0],V),i(Fe);case"Literal":return I.value;case U:return Me=this.visit(I.children[0],V),this.visit(I.children[1],Me);case T:return V;case"Function":var kn=[];for(dt=0;dt<I.children.length;dt++)kn.push(this.visit(I.children[dt],V));return this.runtime.callFunction(I.name,kn);case"ExpressionReference":var Tr=I.children[0];return Tr.jmespathType=z,Tr;default:throw new Error("Unknown node type: "+I.type)}},computeSliceParams:function(I,V){var J=V[0],se=V[1],xe=V[2],Fe=[null,null,null];if(xe===null)xe=1;else if(xe===0){var Je=new Error("Invalid slice, step cannot be 0");throw Je.name="RuntimeError",Je}var Ce=xe<0;return J===null?J=Ce?I-1:0:J=this.capSliceRange(I,J,xe),se===null?se=Ce?-1:I:se=this.capSliceRange(I,se,xe),Fe[0]=J,Fe[1]=se,Fe[2]=xe,Fe},capSliceRange:function(I,V,J){return V<0?(V+=I,V<0&&(V=J<0?-1:0)):V>=I&&(V=J<0?I-1:I),V}};function Re(I){this._interpreter=I,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[l]}]},avg:{_func:this._functionAvg,_signature:[{types:[v]}]},ceil:{_func:this._functionCeil,_signature:[{types:[l]}]},contains:{_func:this._functionContains,_signature:[{types:[u,d]},{types:[c]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[u]},{types:[u]}]},floor:{_func:this._functionFloor,_signature:[{types:[l]}]},length:{_func:this._functionLength,_signature:[{types:[u,d,f]}]},map:{_func:this._functionMap,_signature:[{types:[m]},{types:[d]}]},max:{_func:this._functionMax,_signature:[{types:[v,y]}]},merge:{_func:this._functionMerge,_signature:[{types:[f],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[d]},{types:[m]}]},sum:{_func:this._functionSum,_signature:[{types:[v]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[u]},{types:[u]}]},min:{_func:this._functionMin,_signature:[{types:[v,y]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[d]},{types:[m]}]},type:{_func:this._functionType,_signature:[{types:[c]}]},keys:{_func:this._functionKeys,_signature:[{types:[f]}]},values:{_func:this._functionValues,_signature:[{types:[f]}]},sort:{_func:this._functionSort,_signature:[{types:[y,v]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[d]},{types:[m]}]},join:{_func:this._functionJoin,_signature:[{types:[u]},{types:[y]}]},reverse:{_func:this._functionReverse,_signature:[{types:[u,d]}]},to_array:{_func:this._functionToArray,_signature:[{types:[c]}]},to_string:{_func:this._functionToString,_signature:[{types:[c]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[c]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[c],variadic:!0}]}}}Re.prototype={callFunction:function(I,V){var J=this.functionTable[I];if(J===void 0)throw new Error("Unknown function: "+I+"()");return this._validateArgs(I,V,J._signature),J._func.call(this,V)},_validateArgs:function(I,V,J){var se;if(J[J.length-1].variadic){if(V.length<J.length)throw se=J.length===1?" argument":" arguments",new Error("ArgumentError: "+I+"() takes at least"+J.length+se+" but received "+V.length)}else if(V.length!==J.length)throw se=J.length===1?" argument":" arguments",new Error("ArgumentError: "+I+"() takes "+J.length+se+" but received "+V.length);for(var xe,Fe,Je,Ce=0;Ce<J.length;Ce++){Je=!1,xe=J[Ce].types,Fe=this._getTypeName(V[Ce]);for(var Me=0;Me<xe.length;Me++)if(this._typeMatches(Fe,xe[Me],V[Ce])){Je=!0;break}if(!Je){var kt=xe.map(function(ht){return b[ht]}).join(",");throw new Error("TypeError: "+I+"() expected argument "+(Ce+1)+" to be type "+kt+" but received type "+b[Fe]+" instead.")}}},_typeMatches:function(I,V,J){if(V===c)return!0;if(V===y||V===v||V===d){if(V===d)return I===d;if(I===d){var se;V===v?se=l:V===y&&(se=u);for(var xe=0;xe<J.length;xe++)if(!this._typeMatches(this._getTypeName(J[xe]),se,J[xe]))return!1;return!0}}else return I===V},_getTypeName:function(I){switch(Object.prototype.toString.call(I)){case"[object String]":return u;case"[object Number]":return l;case"[object Array]":return d;case"[object Boolean]":return h;case"[object Null]":return g;case"[object Object]":return I.jmespathType===z?m:f}},_functionStartsWith:function(I){return I[0].lastIndexOf(I[1])===0},_functionEndsWith:function(I){var V=I[0],J=I[1];return V.indexOf(J,V.length-J.length)!==-1},_functionReverse:function(I){var V=this._getTypeName(I[0]);if(V===u){for(var J=I[0],se="",xe=J.length-1;xe>=0;xe--)se+=J[xe];return se}else{var Fe=I[0].slice(0);return Fe.reverse(),Fe}},_functionAbs:function(I){return Math.abs(I[0])},_functionCeil:function(I){return Math.ceil(I[0])},_functionAvg:function(I){for(var V=0,J=I[0],se=0;se<J.length;se++)V+=J[se];return V/J.length},_functionContains:function(I){return I[0].indexOf(I[1])>=0},_functionFloor:function(I){return Math.floor(I[0])},_functionLength:function(I){return r(I[0])?Object.keys(I[0]).length:I[0].length},_functionMap:function(I){for(var V=[],J=this._interpreter,se=I[0],xe=I[1],Fe=0;Fe<xe.length;Fe++)V.push(J.visit(se,xe[Fe]));return V},_functionMerge:function(I){for(var V={},J=0;J<I.length;J++){var se=I[J];for(var xe in se)V[xe]=se[xe]}return V},_functionMax:function(I){if(I[0].length>0){var V=this._getTypeName(I[0][0]);if(V===l)return Math.max.apply(Math,I[0]);for(var J=I[0],se=J[0],xe=1;xe<J.length;xe++)se.localeCompare(J[xe])<0&&(se=J[xe]);return se}else return null},_functionMin:function(I){if(I[0].length>0){var V=this._getTypeName(I[0][0]);if(V===l)return Math.min.apply(Math,I[0]);for(var J=I[0],se=J[0],xe=1;xe<J.length;xe++)J[xe].localeCompare(se)<0&&(se=J[xe]);return se}else return null},_functionSum:function(I){for(var V=0,J=I[0],se=0;se<J.length;se++)V+=J[se];return V},_functionType:function(I){switch(this._getTypeName(I[0])){case l:return"number";case u:return"string";case d:return"array";case f:return"object";case h:return"boolean";case m:return"expref";case g:return"null"}},_functionKeys:function(I){return Object.keys(I[0])},_functionValues:function(I){for(var V=I[0],J=Object.keys(V),se=[],xe=0;xe<J.length;xe++)se.push(V[J[xe]]);return se},_functionJoin:function(I){var V=I[0],J=I[1];return J.join(V)},_functionToArray:function(I){return this._getTypeName(I[0])===d?I[0]:[I[0]]},_functionToString:function(I){return this._getTypeName(I[0])===u?I[0]:JSON.stringify(I[0])},_functionToNumber:function(I){var V=this._getTypeName(I[0]),J;return V===l?I[0]:V===u&&(J=+I[0],!isNaN(J))?J:null},_functionNotNull:function(I){for(var V=0;V<I.length;V++)if(this._getTypeName(I[V])!==g)return I[V];return null},_functionSort:function(I){var V=I[0].slice(0);return V.sort(),V},_functionSortBy:function(I){var V=I[0].slice(0);if(V.length===0)return V;var J=this._interpreter,se=I[1],xe=this._getTypeName(J.visit(se,V[0]));if([l,u].indexOf(xe)<0)throw new Error("TypeError");for(var Fe=this,Je=[],Ce=0;Ce<V.length;Ce++)Je.push([Ce,V[Ce]]);Je.sort(function(kt,ht){var dt=J.visit(se,kt[1]),mt=J.visit(se,ht[1]);if(Fe._getTypeName(dt)!==xe)throw new Error("TypeError: expected "+xe+", received "+Fe._getTypeName(dt));if(Fe._getTypeName(mt)!==xe)throw new Error("TypeError: expected "+xe+", received "+Fe._getTypeName(mt));return dt>mt?1:dt<mt?-1:kt[0]-ht[0]});for(var Me=0;Me<Je.length;Me++)V[Me]=Je[Me][1];return V},_functionMaxBy:function(I){for(var V=I[1],J=I[0],se=this.createKeyFunction(V,[l,u]),xe=-1/0,Fe,Je,Ce=0;Ce<J.length;Ce++)Je=se(J[Ce]),Je>xe&&(xe=Je,Fe=J[Ce]);return Fe},_functionMinBy:function(I){for(var V=I[1],J=I[0],se=this.createKeyFunction(V,[l,u]),xe=1/0,Fe,Je,Ce=0;Ce<J.length;Ce++)Je=se(J[Ce]),Je<xe&&(xe=Je,Fe=J[Ce]);return Fe},createKeyFunction:function(I,V){var J=this,se=this._interpreter,xe=function(Fe){var Je=se.visit(I,Fe);if(V.indexOf(J._getTypeName(Je))<0){var Ce="TypeError: expected one of "+V+", received "+J._getTypeName(Je);throw new Error(Ce)}return Je};return xe}};function Ne(I){var V=new Pe,J=V.parse(I);return J}function _e(I){var V=new Ee;return V.tokenize(I)}function Qe(I,V){var J=new Pe,se=new Re,xe=new we(se);se._interpreter=xe;var Fe=J.parse(V);return xe.search(Fe,I)}e.tokenize=_e,e.compile=Ne,e.search=Qe,e.strictDeepEqual=o})(t)})(hke);class pke{add(e,n,r){if(typeof arguments[0]!="string")for(let o in arguments[0])this.add(o,arguments[0][o],arguments[1]);else(Array.isArray(e)?e:[e]).forEach(function(o){this[o]=this[o]||[],n&&this[o][r?"unshift":"push"](n)},this)}run(e,n){this[e]=this[e]||[],this[e].forEach(function(r){r.call(n&&n.context?n.context:n,n)})}}class mke{constructor(e){this.jsep=e,this.registered={}}register(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(o=>{if(typeof o!="object"||!o.name||!o.init)throw new Error("Invalid JSEP plugin format");this.registered[o.name]||(o.init(this.jsep),this.registered[o.name]=o)})}}class Le{static get version(){return"1.4.0"}static toString(){return"JavaScript Expression Parser (JSEP) v"+Le.version}static addUnaryOp(e){return Le.max_unop_len=Math.max(e.length,Le.max_unop_len),Le.unary_ops[e]=1,Le}static addBinaryOp(e,n,r){return Le.max_binop_len=Math.max(e.length,Le.max_binop_len),Le.binary_ops[e]=n,r?Le.right_associative.add(e):Le.right_associative.delete(e),Le}static addIdentifierChar(e){return Le.additional_identifier_chars.add(e),Le}static addLiteral(e,n){return Le.literals[e]=n,Le}static removeUnaryOp(e){return delete Le.unary_ops[e],e.length===Le.max_unop_len&&(Le.max_unop_len=Le.getMaxKeyLen(Le.unary_ops)),Le}static removeAllUnaryOps(){return Le.unary_ops={},Le.max_unop_len=0,Le}static removeIdentifierChar(e){return Le.additional_identifier_chars.delete(e),Le}static removeBinaryOp(e){return delete Le.binary_ops[e],e.length===Le.max_binop_len&&(Le.max_binop_len=Le.getMaxKeyLen(Le.binary_ops)),Le.right_associative.delete(e),Le}static removeAllBinaryOps(){return Le.binary_ops={},Le.max_binop_len=0,Le}static removeLiteral(e){return delete Le.literals[e],Le}static removeAllLiterals(){return Le.literals={},Le}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(e){this.expr=e,this.index=0}static parse(e){return new Le(e).parse()}static getMaxKeyLen(e){return Math.max(0,...Object.keys(e).map(n=>n.length))}static isDecimalDigit(e){return e>=48&&e<=57}static binaryPrecedence(e){return Le.binary_ops[e]||0}static isIdentifierStart(e){return e>=65&&e<=90||e>=97&&e<=122||e>=128&&!Le.binary_ops[String.fromCharCode(e)]||Le.additional_identifier_chars.has(String.fromCharCode(e))}static isIdentifierPart(e){return Le.isIdentifierStart(e)||Le.isDecimalDigit(e)}throwError(e){const n=new Error(e+" at character "+this.index);throw n.index=this.index,n.description=e,n}runHook(e,n){if(Le.hooks[e]){const r={context:this,node:n};return Le.hooks.run(e,r),r.node}return n}searchHook(e){if(Le.hooks[e]){const n={context:this};return Le.hooks[e].find(function(r){return r.call(n.context,n),n.node}),n.node}}gobbleSpaces(){let e=this.code;for(;e===Le.SPACE_CODE||e===Le.TAB_CODE||e===Le.LF_CODE||e===Le.CR_CODE;)e=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");const e=this.gobbleExpressions(),n=e.length===1?e[0]:{type:Le.COMPOUND,body:e};return this.runHook("after-all",n)}gobbleExpressions(e){let n=[],r,o;for(;this.index<this.expr.length;)if(r=this.code,r===Le.SEMCOL_CODE||r===Le.COMMA_CODE)this.index++;else if(o=this.gobbleExpression())n.push(o);else if(this.index<this.expr.length){if(r===e)break;this.throwError('Unexpected "'+this.char+'"')}return n}gobbleExpression(){const e=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",e)}gobbleBinaryOp(){this.gobbleSpaces();let e=this.expr.substr(this.index,Le.max_binop_len),n=e.length;for(;n>0;){if(Le.binary_ops.hasOwnProperty(e)&&(!Le.isIdentifierStart(this.code)||this.index+e.length<this.expr.length&&!Le.isIdentifierPart(this.expr.charCodeAt(this.index+e.length))))return this.index+=n,e;e=e.substr(0,--n)}return!1}gobbleBinaryExpression(){let e,n,r,o,i,s,a,l,c;if(s=this.gobbleToken(),!s||(n=this.gobbleBinaryOp(),!n))return s;for(i={value:n,prec:Le.binaryPrecedence(n),right_a:Le.right_associative.has(n)},a=this.gobbleToken(),a||this.throwError("Expected expression after "+n),o=[s,i,a];n=this.gobbleBinaryOp();){if(r=Le.binaryPrecedence(n),r===0){this.index-=n.length;break}i={value:n,prec:r,right_a:Le.right_associative.has(n)},c=n;const u=d=>i.right_a&&d.right_a?r>d.prec:r<=d.prec;for(;o.length>2&&u(o[o.length-2]);)a=o.pop(),n=o.pop().value,s=o.pop(),e={type:Le.BINARY_EXP,operator:n,left:s,right:a},o.push(e);e=this.gobbleToken(),e||this.throwError("Expected expression after "+c),o.push(i,e)}for(l=o.length-1,e=o[l];l>1;)e={type:Le.BINARY_EXP,operator:o[l-1].value,left:o[l-2],right:e},l-=2;return e}gobbleToken(){let e,n,r,o;if(this.gobbleSpaces(),o=this.searchHook("gobble-token"),o)return this.runHook("after-token",o);if(e=this.code,Le.isDecimalDigit(e)||e===Le.PERIOD_CODE)return this.gobbleNumericLiteral();if(e===Le.SQUOTE_CODE||e===Le.DQUOTE_CODE)o=this.gobbleStringLiteral();else if(e===Le.OBRACK_CODE)o=this.gobbleArray();else{for(n=this.expr.substr(this.index,Le.max_unop_len),r=n.length;r>0;){if(Le.unary_ops.hasOwnProperty(n)&&(!Le.isIdentifierStart(this.code)||this.index+n.length<this.expr.length&&!Le.isIdentifierPart(this.expr.charCodeAt(this.index+n.length)))){this.index+=r;const i=this.gobbleToken();return i||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:Le.UNARY_EXP,operator:n,argument:i,prefix:!0})}n=n.substr(0,--r)}Le.isIdentifierStart(e)?(o=this.gobbleIdentifier(),Le.literals.hasOwnProperty(o.name)?o={type:Le.LITERAL,value:Le.literals[o.name],raw:o.name}:o.name===Le.this_str&&(o={type:Le.THIS_EXP})):e===Le.OPAREN_CODE&&(o=this.gobbleGroup())}return o?(o=this.gobbleTokenProperty(o),this.runHook("after-token",o)):this.runHook("after-token",!1)}gobbleTokenProperty(e){this.gobbleSpaces();let n=this.code;for(;n===Le.PERIOD_CODE||n===Le.OBRACK_CODE||n===Le.OPAREN_CODE||n===Le.QUMARK_CODE;){let r;if(n===Le.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==Le.PERIOD_CODE)break;r=!0,this.index+=2,this.gobbleSpaces(),n=this.code}this.index++,n===Le.OBRACK_CODE?(e={type:Le.MEMBER_EXP,computed:!0,object:e,property:this.gobbleExpression()},e.property||this.throwError('Unexpected "'+this.char+'"'),this.gobbleSpaces(),n=this.code,n!==Le.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):n===Le.OPAREN_CODE?e={type:Le.CALL_EXP,arguments:this.gobbleArguments(Le.CPAREN_CODE),callee:e}:(n===Le.PERIOD_CODE||r)&&(r&&this.index--,this.gobbleSpaces(),e={type:Le.MEMBER_EXP,computed:!1,object:e,property:this.gobbleIdentifier()}),r&&(e.optional=!0),this.gobbleSpaces(),n=this.code}return e}gobbleNumericLiteral(){let e="",n,r;for(;Le.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(this.code===Le.PERIOD_CODE)for(e+=this.expr.charAt(this.index++);Le.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(n=this.char,n==="e"||n==="E"){for(e+=this.expr.charAt(this.index++),n=this.char,(n==="+"||n==="-")&&(e+=this.expr.charAt(this.index++));Le.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);Le.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+e+this.char+")")}return r=this.code,Le.isIdentifierStart(r)?this.throwError("Variable names cannot start with a number ("+e+this.char+")"):(r===Le.PERIOD_CODE||e.length===1&&e.charCodeAt(0)===Le.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:Le.LITERAL,value:parseFloat(e),raw:e}}gobbleStringLiteral(){let e="";const n=this.index,r=this.expr.charAt(this.index++);let o=!1;for(;this.index<this.expr.length;){let i=this.expr.charAt(this.index++);if(i===r){o=!0;break}else if(i==="\\")switch(i=this.expr.charAt(this.index++),i){case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+=i}else e+=i}return o||this.throwError('Unclosed quote after "'+e+'"'),{type:Le.LITERAL,value:e,raw:this.expr.substring(n,this.index)}}gobbleIdentifier(){let e=this.code,n=this.index;for(Le.isIdentifierStart(e)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(e=this.code,Le.isIdentifierPart(e));)this.index++;return{type:Le.IDENTIFIER,name:this.expr.slice(n,this.index)}}gobbleArguments(e){const n=[];let r=!1,o=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let i=this.code;if(i===e){r=!0,this.index++,e===Le.CPAREN_CODE&&o&&o>=n.length&&this.throwError("Unexpected token "+String.fromCharCode(e));break}else if(i===Le.COMMA_CODE){if(this.index++,o++,o!==n.length){if(e===Le.CPAREN_CODE)this.throwError("Unexpected token ,");else if(e===Le.CBRACK_CODE)for(let s=n.length;s<o;s++)n.push(null)}}else if(n.length!==o&&o!==0)this.throwError("Expected comma");else{const s=this.gobbleExpression();(!s||s.type===Le.COMPOUND)&&this.throwError("Expected comma"),n.push(s)}}return r||this.throwError("Expected "+String.fromCharCode(e)),n}gobbleGroup(){this.index++;let e=this.gobbleExpressions(Le.CPAREN_CODE);if(this.code===Le.CPAREN_CODE)return this.index++,e.length===1?e[0]:e.length?{type:Le.SEQUENCE_EXP,expressions:e}:!1;this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:Le.ARRAY_EXP,elements:this.gobbleArguments(Le.CBRACK_CODE)}}}const gke=new pke;Object.assign(Le,{hooks:gke,plugins:new mke(Le),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"??":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10,"**":11},right_associative:new Set(["**"]),additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"});Le.max_unop_len=Le.getMaxKeyLen(Le.unary_ops);Le.max_binop_len=Le.getMaxKeyLen(Le.binary_ops);const jh=t=>new Le(t).parse(),vke=Object.getOwnPropertyNames(class{});Object.getOwnPropertyNames(Le).filter(t=>!vke.includes(t)&&jh[t]===void 0).forEach(t=>{jh[t]=Le[t]});jh.Jsep=Le;const yke="ConditionalExpression";var bke={name:"ternary",init(t){t.hooks.add("after-expression",function(n){if(n.node&&this.code===t.QUMARK_CODE){this.index++;const r=n.node,o=this.gobbleExpression();if(o||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===t.COLON_CODE){this.index++;const i=this.gobbleExpression();if(i||this.throwError("Expected expression"),n.node={type:yke,test:r,consequent:o,alternate:i},r.operator&&t.binary_ops[r.operator]<=.9){let s=r;for(;s.right.operator&&t.binary_ops[s.right.operator]<=.9;)s=s.right;n.node.test=s.right,s.right=n.node,n.node=r}}else this.throwError("Expected :")}})}};jh.plugins.register(bke);const NL=47,wke=92;var xke={name:"regex",init(t){t.hooks.add("gobble-token",function(n){if(this.code===NL){const r=++this.index;let o=!1;for(;this.index<this.expr.length;){if(this.code===NL&&!o){const i=this.expr.slice(r,this.index);let s="";for(;++this.index<this.expr.length;){const l=this.code;if(l>=97&&l<=122||l>=65&&l<=90||l>=48&&l<=57)s+=this.char;else break}let a;try{a=new RegExp(i,s)}catch(l){this.throwError(l.message)}return n.node={type:t.LITERAL,value:a,raw:this.expr.slice(r-1,this.index)},n.node=this.gobbleTokenProperty(n.node),n.node}this.code===t.OBRACK_CODE?o=!0:o&&this.code===t.CBRACK_CODE&&(o=!1),this.index+=this.code===wke?2:1}this.throwError("Unclosed Regex")}})}};const KM=43,kke=45,Sg={name:"assignment",assignmentOperators:new Set(["=","*=","**=","/=","%=","+=","-=","<<=",">>=",">>>=","&=","^=","|=","||=","&&=","??="]),updateOperators:[KM,kke],assignmentPrecedence:.9,init(t){const e=[t.IDENTIFIER,t.MEMBER_EXP];Sg.assignmentOperators.forEach(r=>t.addBinaryOp(r,Sg.assignmentPrecedence,!0)),t.hooks.add("gobble-token",function(o){const i=this.code;Sg.updateOperators.some(s=>s===i&&s===this.expr.charCodeAt(this.index+1))&&(this.index+=2,o.node={type:"UpdateExpression",operator:i===KM?"++":"--",argument:this.gobbleTokenProperty(this.gobbleIdentifier()),prefix:!0},(!o.node.argument||!e.includes(o.node.argument.type))&&this.throwError(`Unexpected ${o.node.operator}`))}),t.hooks.add("after-token",function(o){if(o.node){const i=this.code;Sg.updateOperators.some(s=>s===i&&s===this.expr.charCodeAt(this.index+1))&&(e.includes(o.node.type)||this.throwError(`Unexpected ${o.node.operator}`),this.index+=2,o.node={type:"UpdateExpression",operator:i===KM?"++":"--",argument:o.node,prefix:!1})}}),t.hooks.add("after-expression",function(o){o.node&&n(o.node)});function n(r){Sg.assignmentOperators.has(r.operator)?(r.type="AssignmentExpression",n(r.left),n(r.right)):r.operator||Object.values(r).forEach(o=>{o&&typeof o=="object"&&n(o)})}}};jh.plugins.register(xke,Sg);jh.addUnaryOp("typeof");jh.addLiteral("null",null);jh.addLiteral("undefined",void 0);let D$=[],fK=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?fK:D$).push(n=n+t[e])})();function Ske(t){if(t<768)return!1;for(let e=0,n=D$.length;;){let r=e+n>>1;if(t<D$[r])n=r;else if(t>=fK[r])e=r+1;else return!0;if(e==n)return!1}}function LL(t){return t>=127462&&t<=127487}const DL=8205;function Cke(t,e,n=!0,r=!0){return(n?hK:jke)(t,e,r)}function hK(t,e,n){if(e==t.length)return e;e&&pK(t.charCodeAt(e))&&mK(t.charCodeAt(e-1))&&e--;let r=JM(t,e);for(e+=VL(r);e<t.length;){let o=JM(t,e);if(r==DL||o==DL||n&&Ske(o))e+=VL(o),r=o;else if(LL(o)){let i=0,s=e-2;for(;s>=0&&LL(JM(t,s));)i++,s-=2;if(i%2==0)break;e+=2}else break}return e}function jke(t,e,n){for(;e>0;){let r=hK(t,e-2,n);if(r<e)return r;e--}return 0}function JM(t,e){let n=t.charCodeAt(e);if(!mK(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return pK(r)?(n-55296<<10)+(r-56320)+65536:n}function pK(t){return t>=56320&&t<57344}function mK(t){return t>=55296&&t<56320}function VL(t){return t<65536?1:2}let Br=class gK{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=Iv(this,e,n);let o=[];return this.decompose(0,e,o,2),r.length&&r.decompose(0,r.length,o,3),this.decompose(n,this.length,o,1),Bk.from(o,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=Iv(this,e,n);let r=[];return this.decompose(e,n,r,0),Bk.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),o=new J1(this),i=new J1(e);for(let s=n,a=n;;){if(o.next(s),i.next(s),s=0,o.lineBreak!=i.lineBreak||o.done!=i.done||o.value!=i.value)return!1;if(a+=o.value.length,o.done||a>=r)return!0}}iter(e=1){return new J1(this,e)}iterRange(e,n=this.length){return new vK(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let o=this.line(e).from;r=this.iterRange(o,Math.max(o,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new yK(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?gK.empty:e.length<=32?new Ii(e):Bk.from(Ii.split(e,[]))}};class Ii extends Br{constructor(e,n=Ake(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,o){for(let i=0;;i++){let s=this.text[i],a=o+s.length;if((n?r:a)>=e)return new Mke(o,a,r,s);o=a+1,r++}}decompose(e,n,r,o){let i=e<=0&&n>=this.length?this:new Ii(BL(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(o&1){let s=r.pop(),a=zk(i.text,s.text.slice(),0,i.length);if(a.length<=32)r.push(new Ii(a,s.length+i.length));else{let l=a.length>>1;r.push(new Ii(a.slice(0,l)),new Ii(a.slice(l)))}}else r.push(i)}replace(e,n,r){if(!(r instanceof Ii))return super.replace(e,n,r);[e,n]=Iv(this,e,n);let o=zk(this.text,zk(r.text,BL(this.text,0,e)),n),i=this.length+r.length-(n-e);return o.length<=32?new Ii(o,i):Bk.from(Ii.split(o,[]),i)}sliceString(e,n=this.length,r=`
`){[e,n]=Iv(this,e,n);let o="";for(let i=0,s=0;i<=n&&s<this.text.length;s++){let a=this.text[s],l=i+a.length;i>e&&s&&(o+=r),e<l&&n>i&&(o+=a.slice(Math.max(0,e-i),n-i)),i=l+1}return o}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],o=-1;for(let i of e)r.push(i),o+=i.length+1,r.length==32&&(n.push(new Ii(r,o)),r=[],o=-1);return o>-1&&n.push(new Ii(r,o)),n}}let Bk=class Cg extends Br{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,o){for(let i=0;;i++){let s=this.children[i],a=o+s.length,l=r+s.lines-1;if((n?l:a)>=e)return s.lineInner(e,n,r,o);o=a+1,r=l+1}}decompose(e,n,r,o){for(let i=0,s=0;s<=n&&i<this.children.length;i++){let a=this.children[i],l=s+a.length;if(e<=l&&n>=s){let c=o&((s<=e?1:0)|(l>=n?2:0));s>=e&&l<=n&&!c?r.push(a):a.decompose(e-s,n-s,r,c)}s=l+1}}replace(e,n,r){if([e,n]=Iv(this,e,n),r.lines<this.lines)for(let o=0,i=0;o<this.children.length;o++){let s=this.children[o],a=i+s.length;if(e>=i&&n<=a){let l=s.replace(e-i,n-i,r),c=this.lines-s.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[o]=l,new Cg(u,this.length-(n-e)+r.length)}return super.replace(i,a,l)}i=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=Iv(this,e,n);let o="";for(let i=0,s=0;i<this.children.length&&s<=n;i++){let a=this.children[i],l=s+a.length;s>e&&i&&(o+=r),e<l&&n>s&&(o+=a.sliceString(e-s,n-s,r)),s=l+1}return o}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Cg))return 0;let r=0,[o,i,s,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;o+=n,i+=n){if(o==s||i==a)return r;let l=this.children[o],c=e.children[i];if(l!=c)return r+l.scanIdentical(c,n);r+=l.length+1}}static from(e,n=e.reduce((r,o)=>r+o.length+1,-1)){let r=0;for(let h of e)r+=h.lines;if(r<32){let h=[];for(let m of e)m.flatten(h);return new Ii(h,n)}let o=Math.max(32,r>>5),i=o<<1,s=o>>1,a=[],l=0,c=-1,u=[];function d(h){let m;if(h.lines>i&&h instanceof Cg)for(let g of h.children)d(g);else h.lines>s&&(l>s||!l)?(f(),a.push(h)):h instanceof Ii&&l&&(m=u[u.length-1])instanceof Ii&&h.lines+m.lines<=32?(l+=h.lines,c+=h.length+1,u[u.length-1]=new Ii(m.text.concat(h.text),m.length+1+h.length)):(l+h.lines>o&&f(),l+=h.lines,c+=h.length+1,u.push(h))}function f(){l!=0&&(a.push(u.length==1?u[0]:Cg.from(u,c)),c=-1,l=u.length=0)}for(let h of e)d(h);return f(),a.length==1?a[0]:new Cg(a,n)}};Br.empty=new Ii([""],0);function Ake(t){let e=-1;for(let n of t)e+=n.length+1;return e}function zk(t,e,n=0,r=1e9){for(let o=0,i=0,s=!0;i<t.length&&o<=r;i++){let a=t[i],l=o+a.length;l>=n&&(l>r&&(a=a.slice(0,r-o)),o<n&&(a=a.slice(n-o)),s?(e[e.length-1]+=a,s=!1):e.push(a)),o=l+1}return e}function BL(t,e,n){return zk(t,[""],e,n)}class J1{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Ii?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,o=this.nodes[r],i=this.offsets[r],s=i>>1,a=o instanceof Ii?o.text.length:o.children.length;if(s==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((i&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(o instanceof Ii){let l=o.text[s+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=o.children[s+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof Ii?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class vK{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new J1(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:o}=this.cursor.next(e);return this.pos+=(o.length+e)*n,this.value=o.length<=r?o:n<0?o.slice(o.length-r):o.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class yK{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:o}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=o,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Br.prototype[Symbol.iterator]=function(){return this.iter()},J1.prototype[Symbol.iterator]=vK.prototype[Symbol.iterator]=yK.prototype[Symbol.iterator]=function(){return this});class Mke{constructor(e,n,r,o){this.from=e,this.to=n,this.number=r,this.text=o}get length(){return this.to-this.from}}function Iv(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function Rs(t,e,n=!0,r=!0){return Cke(t,e,n,r)}function Tke(t){return t>=56320&&t<57344}function Oke(t){return t>=55296&&t<56320}function Oa(t,e){let n=t.charCodeAt(e);if(!Oke(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return Tke(r)?(n-55296<<10)+(r-56320)+65536:n}function DP(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function du(t){return t<65536?1:2}const V$=/\r\n?|\n/;var ma=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(ma||(ma={}));class Td{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,o=0;n<this.sections.length;){let i=this.sections[n++],s=this.sections[n++];s<0?(e(r,o,i),o+=i):o+=s,r+=i}}iterChangedRanges(e,n=!1){B$(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],o=this.sections[n++];o<0?e.push(r,o):e.push(o,r)}return new Td(e)}composeDesc(e){return this.empty?e:e.empty?this:bK(this,e)}mapDesc(e,n=!1){return e.empty?this:z$(this,e,n)}mapPos(e,n=-1,r=ma.Simple){let o=0,i=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],l=this.sections[s++],c=o+a;if(l<0){if(c>e)return i+(e-o);i+=a}else{if(r!=ma.Simple&&c>=e&&(r==ma.TrackDel&&o<e&&c>e||r==ma.TrackBefore&&o<e||r==ma.TrackAfter&&c>e))return null;if(c>e||c==e&&n<0&&!a)return e==o||n<0?i:i+l;i+=l}o=c}if(e>o)throw new RangeError(`Position ${e} is out of range for changeset of length ${o}`);return i}touchesRange(e,n=e){for(let r=0,o=0;r<this.sections.length&&o<=n;){let i=this.sections[r++],s=this.sections[r++],a=o+i;if(s>=0&&o<=n&&a>=e)return o<e&&a>n?"cover":!0;o=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],o=this.sections[n++];e+=(e?" ":"")+r+(o>=0?":"+o:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Td(e)}static create(e){return new Td(e)}}class Vi extends Td{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return B$(this,(n,r,o,i,s)=>e=e.replace(o,o+(r-n),s),!1),e}mapDesc(e,n=!1){return z$(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let o=0,i=0;o<n.length;o+=2){let s=n[o],a=n[o+1];if(a>=0){n[o]=a,n[o+1]=s;let l=o>>1;for(;r.length<l;)r.push(Br.empty);r.push(s?e.slice(i,i+s):Br.empty)}i+=s}return new Vi(n,r)}compose(e){return this.empty?e:e.empty?this:bK(this,e,!0)}map(e,n=!1){return e.empty?this:z$(this,e,n,!0)}iterChanges(e,n=!1){B$(this,e,n)}get desc(){return Td.create(this.sections)}filter(e){let n=[],r=[],o=[],i=new F0(this);e:for(let s=0,a=0;;){let l=s==e.length?1e9:e[s++];for(;a<l||a==l&&i.len==0;){if(i.done)break e;let u=Math.min(i.len,l-a);zs(o,u,-1);let d=i.ins==-1?-1:i.off==0?i.ins:0;zs(n,u,d),d>0&&Xf(r,n,i.text),i.forward(u),a+=u}let c=e[s++];for(;a<c;){if(i.done)break e;let u=Math.min(i.len,c-a);zs(n,u,-1),zs(o,u,i.ins==-1?-1:i.off==0?i.ins:0),i.forward(u),a+=u}}return{changes:new Vi(n,r),filtered:Td.create(o)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],o=this.sections[n+1];o<0?e.push(r):o==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let o=[],i=[],s=0,a=null;function l(u=!1){if(!u&&!o.length)return;s<n&&zs(o,n-s,-1);let d=new Vi(o,i);a=a?a.compose(d.map(a)):d,o=[],i=[],s=0}function c(u){if(Array.isArray(u))for(let d of u)c(d);else if(u instanceof Vi){if(u.length!=n)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${n})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:d,to:f=d,insert:h}=u;if(d>f||d<0||f>n)throw new RangeError(`Invalid change range ${d} to ${f} (in doc of length ${n})`);let m=h?typeof h=="string"?Br.of(h.split(r||V$)):h:Br.empty,g=m.length;if(d==f&&g==0)return;d<s&&l(),d>s&&zs(o,d-s,-1),zs(o,f-d,g),Xf(i,o,m),s=f}}return c(e),l(!a),a}static empty(e){return new Vi(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let o=0;o<e.length;o++){let i=e[o];if(typeof i=="number")n.push(i,-1);else{if(!Array.isArray(i)||typeof i[0]!="number"||i.some((s,a)=>a&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(i.length==1)n.push(i[0],0);else{for(;r.length<o;)r.push(Br.empty);r[o]=Br.of(i.slice(1)),n.push(i[0],r[o].length)}}}return new Vi(n,r)}static createSet(e,n){return new Vi(e,n)}}function zs(t,e,n,r=!1){if(e==0&&n<=0)return;let o=t.length-2;o>=0&&n<=0&&n==t[o+1]?t[o]+=e:o>=0&&e==0&&t[o]==0?t[o+1]+=n:r?(t[o]+=e,t[o+1]+=n):t.push(e,n)}function Xf(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Br.empty);t.push(n)}}function B$(t,e,n){let r=t.inserted;for(let o=0,i=0,s=0;s<t.sections.length;){let a=t.sections[s++],l=t.sections[s++];if(l<0)o+=a,i+=a;else{let c=o,u=i,d=Br.empty;for(;c+=a,u+=l,l&&r&&(d=d.append(r[s-2>>1])),!(n||s==t.sections.length||t.sections[s+1]<0);)a=t.sections[s++],l=t.sections[s++];e(o,c,i,u,d),o=c,i=u}}}function z$(t,e,n,r=!1){let o=[],i=r?[]:null,s=new F0(t),a=new F0(e);for(let l=-1;;){if(s.done&&a.len||a.done&&s.len)throw new Error("Mismatched change set lengths");if(s.ins==-1&&a.ins==-1){let c=Math.min(s.len,a.len);zs(o,c,-1),s.forward(c),a.forward(c)}else if(a.ins>=0&&(s.ins<0||l==s.i||s.off==0&&(a.len<s.len||a.len==s.len&&!n))){let c=a.len;for(zs(o,a.ins,-1);c;){let u=Math.min(s.len,c);s.ins>=0&&l<s.i&&s.len<=u&&(zs(o,0,s.ins),i&&Xf(i,o,s.text),l=s.i),s.forward(u),c-=u}a.next()}else if(s.ins>=0){let c=0,u=s.len;for(;u;)if(a.ins==-1){let d=Math.min(u,a.len);c+=d,u-=d,a.forward(d)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;zs(o,c,l<s.i?s.ins:0),i&&l<s.i&&Xf(i,o,s.text),l=s.i,s.forward(s.len-u)}else{if(s.done&&a.done)return i?Vi.createSet(o,i):Td.create(o);throw new Error("Mismatched change set lengths")}}}function bK(t,e,n=!1){let r=[],o=n?[]:null,i=new F0(t),s=new F0(e);for(let a=!1;;){if(i.done&&s.done)return o?Vi.createSet(r,o):Td.create(r);if(i.ins==0)zs(r,i.len,0,a),i.next();else if(s.len==0&&!s.done)zs(r,0,s.ins,a),o&&Xf(o,r,s.text),s.next();else{if(i.done||s.done)throw new Error("Mismatched change set lengths");{let l=Math.min(i.len2,s.len),c=r.length;if(i.ins==-1){let u=s.ins==-1?-1:s.off?0:s.ins;zs(r,l,u,a),o&&u&&Xf(o,r,s.text)}else s.ins==-1?(zs(r,i.off?0:i.len,l,a),o&&Xf(o,r,i.textBit(l))):(zs(r,i.off?0:i.len,s.off?0:s.ins,a),o&&!s.off&&Xf(o,r,s.text));a=(i.ins>l||s.ins>=0&&s.len>l)&&(a||r.length>c),i.forward2(l),s.forward(l)}}}}class F0{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Br.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Br.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}let fx=class H${constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,o;return this.empty?r=o=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),o=e.mapPos(this.to,-1)),r==this.from&&o==this.to?this:new H$(r,o,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return We.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return We.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return We.range(e.anchor,e.head)}static create(e,n,r){return new H$(e,n,r)}};class We{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:We.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new We([this.main],0)}addRange(e,n=!0){return We.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,We.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new We(e.ranges.map(n=>fx.fromJSON(n)),e.main)}static single(e,n=e){return new We([We.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,o=0;o<e.length;o++){let i=e[o];if(i.empty?i.from<=r:i.from<r)return We.normalized(e.slice(),n);r=i.to}return new We(e,n)}static cursor(e,n=0,r,o){return fx.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(o??16777215)<<6)}static range(e,n,r,o){let i=(r??16777215)<<6|(o==null?7:Math.min(6,o));return n<e?fx.create(n,e,48|i):fx.create(e,n,(n>e?8:0)|i)}static normalized(e,n=0){let r=e[n];e.sort((o,i)=>o.from-i.from),n=e.indexOf(r);for(let o=1;o<e.length;o++){let i=e[o],s=e[o-1];if(i.empty?i.from<=s.to:i.from<s.to){let a=s.from,l=Math.max(i.to,s.to);o<=n&&n--,e.splice(--o,2,i.anchor>i.head?We.range(l,a):We.range(a,l))}}return new We(e,n)}}function wK(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let VP=0;class It{constructor(e,n,r,o,i){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=o,this.id=VP++,this.default=e([]),this.extensions=typeof i=="function"?i(this):i}get reader(){return this}static define(e={}){return new It(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:BP),!!e.static,e.enables)}of(e){return new Hk([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Hk(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Hk(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function BP(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class Hk{constructor(e,n,r,o){this.dependencies=e,this.facet=n,this.type=r,this.value=o,this.id=VP++}dynamicSlot(e){var n;let r=this.value,o=this.facet.compareInput,i=this.id,s=e[i]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let d of this.dependencies)d=="doc"?l=!0:d=="selection"?c=!0:((n=e[d.id])!==null&&n!==void 0?n:1)&1||u.push(e[d.id]);return{create(d){return d.values[s]=r(d),1},update(d,f){if(l&&f.docChanged||c&&(f.docChanged||f.selection)||F$(d,u)){let h=r(d);if(a?!zL(h,d.values[s],o):!o(h,d.values[s]))return d.values[s]=h,1}return 0},reconfigure:(d,f)=>{let h,m=f.config.address[i];if(m!=null){let g=l2(f,m);if(this.dependencies.every(v=>v instanceof It?f.facet(v)===d.facet(v):v instanceof ks?f.field(v,!1)==d.field(v,!1):!0)||(a?zL(h=r(d),g,o):o(h=r(d),g)))return d.values[s]=g,0}else h=r(d);return d.values[s]=h,1}}}}function zL(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function F$(t,e){let n=!1;for(let r of e)G1(t,r)&1&&(n=!0);return n}function $ke(t,e,n){let r=n.map(l=>t[l.id]),o=n.map(l=>l.type),i=r.filter(l=>!(l&1)),s=t[e.id]>>1;function a(l){let c=[];for(let u=0;u<r.length;u++){let d=l2(l,r[u]);if(o[u]==2)for(let f of d)c.push(f);else c.push(d)}return e.combine(c)}return{create(l){for(let c of r)G1(l,c);return l.values[s]=a(l),1},update(l,c){if(!F$(l,i))return 0;let u=a(l);return e.compare(u,l.values[s])?0:(l.values[s]=u,1)},reconfigure(l,c){let u=F$(l,r),d=c.config.facets[e.id],f=c.facet(e);if(d&&!u&&BP(n,d))return l.values[s]=f,0;let h=a(l);return e.compare(h,f)?(l.values[s]=f,0):(l.values[s]=h,1)}}}const hx=It.define({static:!0});class ks{constructor(e,n,r,o,i){this.id=e,this.createF=n,this.updateF=r,this.compareF=o,this.spec=i,this.provides=void 0}static define(e){let n=new ks(VP++,e.create,e.update,e.compare||((r,o)=>r===o),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(hx).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,o)=>{let i=r.values[n],s=this.updateF(i,o);return this.compareF(i,s)?0:(r.values[n]=s,1)},reconfigure:(r,o)=>{let i=r.facet(hx),s=o.facet(hx),a;return(a=i.find(l=>l.field==this))&&a!=s.find(l=>l.field==this)?(r.values[n]=a.create(r),1):o.config.address[this.id]!=null?(r.values[n]=o.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,hx.of({field:this,create:e})]}get extension(){return this}}const Mp={lowest:4,low:3,default:2,high:1,highest:0};function Yy(t){return e=>new xK(e,t)}const Bm={highest:Yy(Mp.highest),high:Yy(Mp.high),default:Yy(Mp.default),low:Yy(Mp.low),lowest:Yy(Mp.lowest)};class xK{constructor(e,n){this.inner=e,this.prec=n}}class pd{of(e){return new q$(this,e)}reconfigure(e){return pd.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class q${constructor(e,n){this.compartment=e,this.inner=n}}class a2{constructor(e,n,r,o,i,s){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=o,this.staticValues=i,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let o=[],i=Object.create(null),s=new Map;for(let f of Eke(e,n,s))f instanceof ks?o.push(f):(i[f.facet.id]||(i[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],c=[];for(let f of o)a[f.id]=c.length<<1,c.push(h=>f.slot(h));let u=r==null?void 0:r.config.facets;for(let f in i){let h=i[f],m=h[0].facet,g=u&&u[f]||[];if(h.every(v=>v.type==0))if(a[m.id]=l.length<<1|1,BP(g,h))l.push(r.facet(m));else{let v=m.combine(h.map(y=>y.value));l.push(r&&m.compare(v,r.facet(m))?r.facet(m):v)}else{for(let v of h)v.type==0?(a[v.id]=l.length<<1|1,l.push(v.value)):(a[v.id]=c.length<<1,c.push(y=>v.dynamicSlot(y)));a[m.id]=c.length<<1,c.push(v=>$ke(v,m,h))}}let d=c.map(f=>f(a));return new a2(e,s,d,a,l,i)}}function Eke(t,e,n){let r=[[],[],[],[],[]],o=new Map;function i(s,a){let l=o.get(s);if(l!=null){if(l<=a)return;let c=r[l].indexOf(s);c>-1&&r[l].splice(c,1),s instanceof q$&&n.delete(s.compartment)}if(o.set(s,a),Array.isArray(s))for(let c of s)i(c,a);else if(s instanceof q$){if(n.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(s.compartment)||s.inner;n.set(s.compartment,c),i(c,a)}else if(s instanceof xK)i(s.inner,s.prec);else if(s instanceof ks)r[a].push(s),s.provides&&i(s.provides,a);else if(s instanceof Hk)r[a].push(s),s.facet.extensions&&i(s.facet.extensions,Mp.default);else{let c=s.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);i(c,a)}}return i(t,Mp.default),r.reduce((s,a)=>s.concat(a))}function G1(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let o=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|o}function l2(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const kK=It.define(),U$=It.define({combine:t=>t.some(e=>e),static:!0}),SK=It.define({combine:t=>t.length?t[0]:void 0,static:!0}),CK=It.define(),jK=It.define(),AK=It.define(),MK=It.define({combine:t=>t.length?t[0]:!1});class qh{constructor(e,n){this.type=e,this.value=n}static define(){return new _ke}}class _ke{of(e){return new qh(this,e)}}class Pke{constructor(e){this.map=e}of(e){return new Xn(this,e)}}class Xn{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Xn(this.type,n)}is(e){return this.type==e}static define(e={}){return new Pke(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let o of e){let i=o.map(n);i&&r.push(i)}return r}}Xn.reconfigure=Xn.define();Xn.appendConfig=Xn.define();class Js{constructor(e,n,r,o,i,s){this.startState=e,this.changes=n,this.selection=r,this.effects=o,this.annotations=i,this.scrollIntoView=s,this._doc=null,this._state=null,r&&wK(r,n.newLength),i.some(a=>a.type==Js.time)||(this.annotations=i.concat(Js.time.of(Date.now())))}static create(e,n,r,o,i,s){return new Js(e,n,r,o,i,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Js.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Js.time=qh.define();Js.userEvent=qh.define();Js.addToHistory=qh.define();Js.remote=qh.define();function Ike(t,e){let n=[];for(let r=0,o=0;;){let i,s;if(r<t.length&&(o==e.length||e[o]>=t[r]))i=t[r++],s=t[r++];else if(o<e.length)i=e[o++],s=e[o++];else return n;!n.length||n[n.length-1]<i?n.push(i,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function TK(t,e,n){var r;let o,i,s;return n?(o=e.changes,i=Vi.empty(e.changes.length),s=t.changes.compose(e.changes)):(o=e.changes.map(t.changes),i=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(o)),{changes:s,selection:e.selection?e.selection.map(i):(r=t.selection)===null||r===void 0?void 0:r.map(o),effects:Xn.mapEffects(t.effects,o).concat(Xn.mapEffects(e.effects,i)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function W$(t,e,n){let r=e.selection,o=rv(e.annotations);return e.userEvent&&(o=o.concat(Js.userEvent.of(e.userEvent))),{changes:e.changes instanceof Vi?e.changes:Vi.of(e.changes||[],n,t.facet(SK)),selection:r&&(r instanceof We?r:We.single(r.anchor,r.head)),effects:rv(e.effects),annotations:o,scrollIntoView:!!e.scrollIntoView}}function OK(t,e,n){let r=W$(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let i=1;i<e.length;i++){e[i].filter===!1&&(n=!1);let s=!!e[i].sequential;r=TK(r,W$(t,e[i],s?r.changes.newLength:t.doc.length),s)}let o=Js.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return Nke(n?Rke(o):o)}function Rke(t){let e=t.startState,n=!0;for(let o of e.facet(CK)){let i=o(t);if(i===!1){n=!1;break}Array.isArray(i)&&(n=n===!0?i:Ike(n,i))}if(n!==!0){let o,i;if(n===!1)i=t.changes.invertedDesc,o=Vi.empty(e.doc.length);else{let s=t.changes.filter(n);o=s.changes,i=s.filtered.mapDesc(s.changes).invertedDesc}t=Js.create(e,o,t.selection&&t.selection.map(i),Xn.mapEffects(t.effects,i),t.annotations,t.scrollIntoView)}let r=e.facet(jK);for(let o=r.length-1;o>=0;o--){let i=r[o](t);i instanceof Js?t=i:Array.isArray(i)&&i.length==1&&i[0]instanceof Js?t=i[0]:t=OK(e,rv(i),!1)}return t}function Nke(t){let e=t.startState,n=e.facet(AK),r=t;for(let o=n.length-1;o>=0;o--){let i=n[o](t);i&&Object.keys(i).length&&(r=TK(r,W$(e,i,t.changes.newLength),!0))}return r==t?t:Js.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const Lke=[];function rv(t){return t==null?Lke:Array.isArray(t)?t:[t]}var Zo=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Zo||(Zo={}));const Dke=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let K$;try{K$=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Vke(t){if(K$)return K$.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||Dke.test(n)))return!0}return!1}function Bke(t){return e=>{if(!/\S/.test(e))return Zo.Space;if(Vke(e))return Zo.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Zo.Word;return Zo.Other}}class fr{constructor(e,n,r,o,i,s){this.config=e,this.doc=n,this.selection=r,this.values=o,this.status=e.statusTemplate.slice(),this.computeSlot=i,s&&(s._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)G1(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return G1(this,r),l2(this,r)}update(...e){return OK(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:o}=n;for(let a of e.effects)a.is(pd.reconfigure)?(n&&(o=new Map,n.compartments.forEach((l,c)=>o.set(c,l)),n=null),o.set(a.value.compartment,a.value.extension)):a.is(Xn.reconfigure)?(n=null,r=a.value):a.is(Xn.appendConfig)&&(n=null,r=rv(r).concat(a.value));let i;n?i=e.startState.values.slice():(n=a2.resolve(r,o,this),i=new fr(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let s=e.startState.facet(U$)?e.newSelection:e.newSelection.asSingle();new fr(n,e.newDoc,s,i,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:We.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),o=this.changes(r.changes),i=[r.range],s=rv(r.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),c=this.changes(l.changes),u=c.map(o);for(let f=0;f<a;f++)i[f]=i[f].map(u);let d=o.mapDesc(c,!0);i.push(l.range.map(d)),o=o.compose(u),s=Xn.mapEffects(s,u).concat(Xn.mapEffects(rv(l.effects),d))}return{changes:o,selection:We.create(i,n.mainIndex),effects:s}}changes(e=[]){return e instanceof Vi?e:Vi.of(e,this.doc.length,this.facet(fr.lineSeparator))}toText(e){return Br.of(e.split(this.facet(fr.lineSeparator)||V$))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(G1(this,n),l2(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let o=e[r];o instanceof ks&&this.config.address[o.id]!=null&&(n[r]=o.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let o=[];if(r){for(let i in r)if(Object.prototype.hasOwnProperty.call(e,i)){let s=r[i],a=e[i];o.push(s.init(l=>s.spec.fromJSON(a,l)))}}return fr.create({doc:e.doc,selection:We.fromJSON(e.selection),extensions:n.extensions?o.concat([n.extensions]):o})}static create(e={}){let n=a2.resolve(e.extensions||[],new Map),r=e.doc instanceof Br?e.doc:Br.of((e.doc||"").split(n.staticFacet(fr.lineSeparator)||V$)),o=e.selection?e.selection instanceof We?e.selection:We.single(e.selection.anchor,e.selection.head):We.single(0);return wK(o,r.length),n.staticFacet(U$)||(o=o.asSingle()),new fr(n,r,o,n.dynamicSlots.map(()=>null),(i,s)=>s.create(i),null)}get tabSize(){return this.facet(fr.tabSize)}get lineBreak(){return this.facet(fr.lineSeparator)||`
`}get readOnly(){return this.facet(MK)}phrase(e,...n){for(let r of this.facet(fr.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,o)=>{if(o=="$")return"$";let i=+(o||1);return!i||i>n.length?r:n[i-1]})),e}languageDataAt(e,n,r=-1){let o=[];for(let i of this.facet(kK))for(let s of i(this,n,r))Object.prototype.hasOwnProperty.call(s,e)&&o.push(s[e]);return o}charCategorizer(e){return Bke(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:o}=this.doc.lineAt(e),i=this.charCategorizer(e),s=e-r,a=e-r;for(;s>0;){let l=Rs(n,s,!1);if(i(n.slice(l,s))!=Zo.Word)break;s=l}for(;a<o;){let l=Rs(n,a);if(i(n.slice(a,l))!=Zo.Word)break;a=l}return s==a?null:We.range(s+r,a+r)}}fr.allowMultipleSelections=U$;fr.tabSize=It.define({combine:t=>t.length?t[0]:4});fr.lineSeparator=SK;fr.readOnly=MK;fr.phrases=It.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(o=>t[o]==e[o])}});fr.languageData=kK;fr.changeFilter=CK;fr.transactionFilter=jK;fr.transactionExtender=AK;pd.reconfigure=Xn.define();function Fc(t,e,n={}){let r={};for(let o of t)for(let i of Object.keys(o)){let s=o[i],a=r[i];if(a===void 0)r[i]=s;else if(!(a===s||s===void 0))if(Object.hasOwnProperty.call(n,i))r[i]=n[i](a,s);else throw new Error("Config merge conflict for field "+i)}for(let o in e)r[o]===void 0&&(r[o]=e[o]);return r}class pm{eq(e){return this==e}range(e,n=e){return J$.create(e,n,this)}}pm.prototype.startSide=pm.prototype.endSide=0;pm.prototype.point=!1;pm.prototype.mapMode=ma.TrackDel;let J$=class $K{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new $K(e,n,r)}};function G$(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class zP{constructor(e,n,r,o){this.from=e,this.to=n,this.value=r,this.maxPoint=o}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,o=0){let i=r?this.to:this.from;for(let s=o,a=i.length;;){if(s==a)return s;let l=s+a>>1,c=i[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==s)return c>=0?s:a;c>=0?a=l:s=l+1}}between(e,n,r,o){for(let i=this.findIndex(n,-1e9,!0),s=this.findIndex(r,1e9,!1,i);i<s;i++)if(o(this.from[i]+e,this.to[i]+e,this.value[i])===!1)return!1}map(e,n){let r=[],o=[],i=[],s=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,d=this.to[l]+e,f,h;if(u==d){let m=n.mapPos(u,c.startSide,c.mapMode);if(m==null||(f=h=m,c.startSide!=c.endSide&&(h=n.mapPos(u,c.endSide),h<f)))continue}else if(f=n.mapPos(u,c.startSide),h=n.mapPos(d,c.endSide),f>h||f==h&&c.startSide>0&&c.endSide<=0)continue;(h-f||c.endSide-c.startSide)<0||(s<0&&(s=f),c.point&&(a=Math.max(a,h-f)),r.push(c),o.push(f-s),i.push(h-s))}return{mapped:r.length?new zP(o,i,r,a):null,pos:s}}}class br{constructor(e,n,r,o){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=o}static create(e,n,r,o){return new br(e,n,r,o)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:o=0,filterTo:i=this.length}=e,s=e.filter;if(n.length==0&&!s)return this;if(r&&(n=n.slice().sort(G$)),this.isEmpty)return n.length?br.of(n):this;let a=new EK(this,null,-1).goto(0),l=0,c=[],u=new Ec;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let d=n[l++];u.addInner(d.from,d.to,d.value)||c.push(d)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!s||o>this.chunkEnd(a.chunkIndex)||i<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!s||o>a.to||i<a.from||s(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(J$.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?br.empty:this.nextLayer.update({add:c,filter:s,filterFrom:o,filterTo:i}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],o=-1;for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],l=this.chunk[s],c=e.touchesRange(a,a+l.length);if(c===!1)o=Math.max(o,l.maxPoint),n.push(l),r.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:d}=l.map(a,e);u&&(o=Math.max(o,u.maxPoint),n.push(u),r.push(d))}}let i=this.nextLayer.map(e);return n.length==0?i:new br(r,n,i||br.empty,o)}between(e,n,r){if(!this.isEmpty){for(let o=0;o<this.chunk.length;o++){let i=this.chunkPos[o],s=this.chunk[o];if(n>=i&&e<=i+s.length&&s.between(i,e-i,n-i,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return q0.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return q0.from(e).goto(n)}static compare(e,n,r,o,i=-1){let s=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=i),a=n.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=i),l=HL(s,a,r),c=new Xy(s,l,i),u=new Xy(a,l,i);r.iterGaps((d,f,h)=>FL(c,d,u,f,h,o)),r.empty&&r.length==0&&FL(c,0,u,0,0,o)}static eq(e,n,r=0,o){o==null&&(o=999999999);let i=e.filter(u=>!u.isEmpty&&n.indexOf(u)<0),s=n.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(i.length!=s.length)return!1;if(!i.length)return!0;let a=HL(i,s),l=new Xy(i,a,0).goto(r),c=new Xy(s,a,0).goto(r);for(;;){if(l.to!=c.to||!Y$(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>o)return!0;l.next(),c.next()}}static spans(e,n,r,o,i=-1){let s=new Xy(e,null,i).goto(n),a=n,l=s.openStart;for(;;){let c=Math.min(s.to,r);if(s.point){let u=s.activeForPoint(s.to),d=s.pointFrom<n?u.length+1:s.point.startSide<0?u.length:Math.min(u.length,l);o.point(a,c,s.point,u,d,s.pointRank),l=Math.min(s.openEnd(c),u.length)}else c>a&&(o.span(a,c,s.active,l),l=s.openEnd(c));if(s.to>r)return l+(s.point&&s.to>r?1:0);a=s.to,s.next()}}static of(e,n=!1){let r=new Ec;for(let o of e instanceof J$?[e]:n?zke(e):e)r.add(o.from,o.to,o.value);return r.finish()}static join(e){if(!e.length)return br.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let o=e[r];o!=br.empty;o=o.nextLayer)n=new br(o.chunkPos,o.chunk,n,Math.max(o.maxPoint,n.maxPoint));return n}}br.empty=new br([],[],null,-1);function zke(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(G$(e,r)>0)return t.slice().sort(G$);e=r}return t}br.empty.nextLayer=br.empty;class Ec{finishChunk(e){this.chunks.push(new zP(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new Ec)).add(e,n,r)}addInner(e,n,r){let o=e-this.lastTo||r.startSide-this.last.endSide;if(o<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return o<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(br.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=br.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function HL(t,e,n){let r=new Map;for(let i of t)for(let s=0;s<i.chunk.length;s++)i.chunk[s].maxPoint<=0&&r.set(i.chunk[s],i.chunkPos[s]);let o=new Set;for(let i of e)for(let s=0;s<i.chunk.length;s++){let a=r.get(i.chunk[s]);a!=null&&(n?n.mapPos(a):a)==i.chunkPos[s]&&!(n!=null&&n.touchesRange(a,a+i.chunk[s].length))&&o.add(i.chunk[s])}return o}class EK{constructor(e,n,r,o=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=o}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let o=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(o)||this.layer.chunkEnd(this.chunkIndex)<e||o.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let o=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<o)&&this.setRangeIndex(o)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class q0{constructor(e){this.heap=e}static from(e,n=null,r=-1){let o=[];for(let i=0;i<e.length;i++)for(let s=e[i];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&o.push(new EK(s,n,r,i));return o.length==1?o[0]:new q0(o)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)GM(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)GM(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),GM(this.heap,0)}}}function GM(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let o=t[r];if(r+1<t.length&&o.compare(t[r+1])>=0&&(o=t[r+1],r++),n.compare(o)<0)break;t[r]=n,t[e]=o,e=r}}class Xy{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=q0.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){px(this.active,e),px(this.activeTo,e),px(this.activeRank,e),this.minActive=qL(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:o,rank:i}=this.cursor;for(;n<this.activeRank.length&&(i-this.activeRank[n]||o-this.activeTo[n])>0;)n++;mx(this.active,n,r),mx(this.activeTo,n,o),mx(this.activeRank,n,i),e&&mx(e,n,this.cursor.from),this.minActive=qL(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let o=this.minActive;if(o>-1&&(this.activeTo[o]-this.cursor.from||this.active[o].endSide-this.cursor.startSide)<0){if(this.activeTo[o]>e){this.to=this.activeTo[o],this.endSide=this.active[o].endSide;break}this.removeActive(o),r&&px(r,o)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let i=this.cursor.value;if(!i.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=i,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=i.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let o=r.length-1;o>=0&&r[o]<e;o--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function FL(t,e,n,r,o,i){t.goto(e),n.goto(r);let s=r+o,a=r,l=r-e;for(;;){let c=t.to+l-n.to,u=c||t.endSide-n.endSide,d=u<0?t.to+l:n.to,f=Math.min(d,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Y$(t.activeForPoint(t.to),n.activeForPoint(n.to))||i.comparePoint(a,f,t.point,n.point):f>a&&!Y$(t.active,n.active)&&i.compareRange(a,f,t.active,n.active),d>s)break;(c||t.openEnd!=n.openEnd)&&i.boundChange&&i.boundChange(d),a=d,u<=0&&t.next(),u>=0&&n.next()}}function Y$(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function px(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function mx(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function qL(t,e){let n=-1,r=1e9;for(let o=0;o<e.length;o++)(e[o]-r||t[o].endSide-t[n].endSide)<0&&(n=o,r=e[o]);return n}function xy(t,e,n=t.length){let r=0;for(let o=0;o<n&&o<t.length;)t.charCodeAt(o)==9?(r+=e-r%e,o++):(r++,o=Rs(t,o));return r}function X$(t,e,n,r){for(let o=0,i=0;;){if(i>=e)return o;if(o==t.length)break;i+=t.charCodeAt(o)==9?n-i%n:1,o=Rs(t,o)}return r===!0?-1:t.length}const Q$="",UL=typeof Symbol>"u"?"__"+Q$:Symbol.for(Q$),Z$=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),WL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Ah{constructor(e,n){this.rules=[];let{finish:r}=n||{};function o(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function i(s,a,l,c){let u=[],d=/^@(\w+)\b/.exec(s[0]),f=d&&d[1]=="keyframes";if(d&&a==null)return l.push(s[0]+";");for(let h in a){let m=a[h];if(/&/.test(h))i(h.split(/,\s*/).map(g=>s.map(v=>g.replace(/&/,v))).reduce((g,v)=>g.concat(v)),m,l);else if(m&&typeof m=="object"){if(!d)throw new RangeError("The value of a property ("+h+") should be a primitive value.");i(o(h),m,u,f)}else m!=null&&u.push(h.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+m+";")}(u.length||f)&&l.push((r&&!d&&!c?s.map(r):s).join(", ")+" {"+u.join(" ")+"}")}for(let s in e)i(o(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=WL[UL]||1;return WL[UL]=e+1,Q$+e.toString(36)}static mount(e,n,r){let o=e[Z$],i=r&&r.nonce;o?i&&o.setNonce(i):o=new Hke(e,i),o.mount(Array.isArray(n)?n:[n],e)}}let KL=new Map;class Hke{constructor(e,n){let r=e.ownerDocument||e,o=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&o.CSSStyleSheet){let i=KL.get(r);if(i)return e[Z$]=i;this.sheet=new o.CSSStyleSheet,KL.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[Z$]=this}mount(e,n){let r=this.sheet,o=0,i=0;for(let s=0;s<e.length;s++){let a=e[s],l=this.modules.indexOf(a);if(l<i&&l>-1&&(this.modules.splice(l,1),i--,l=-1),l==-1){if(this.modules.splice(i++,0,a),r)for(let c=0;c<a.rules.length;c++)r.insertRule(a.rules[c],o++)}else{for(;i<l;)o+=this.modules[i++].rules.length;o+=a.rules.length,i++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let s="";for(let l=0;l<this.modules.length;l++)s+=this.modules[l].getRules()+`
`;this.styleTag.textContent=s;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Mh={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},U0={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Fke=typeof navigator<"u"&&/Mac/.test(navigator.platform),qke=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Es=0;Es<10;Es++)Mh[48+Es]=Mh[96+Es]=String(Es);for(var Es=1;Es<=24;Es++)Mh[Es+111]="F"+Es;for(var Es=65;Es<=90;Es++)Mh[Es]=String.fromCharCode(Es+32),U0[Es]=String.fromCharCode(Es);for(var YM in Mh)U0.hasOwnProperty(YM)||(U0[YM]=Mh[YM]);function Uke(t){var e=Fke&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||qke&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?U0:Mh)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function go(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r];typeof o=="string"?t.setAttribute(r,o):o!=null&&(t[r]=o)}e++}for(;e<arguments.length;e++)_K(t,arguments[e]);return t}function _K(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)_K(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}let fa=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},eE=typeof document<"u"?document:{documentElement:{style:{}}};const tE=/Edge\/(\d+)/.exec(fa.userAgent),PK=/MSIE \d/.test(fa.userAgent),nE=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fa.userAgent),Xj=!!(PK||nE||tE),JL=!Xj&&/gecko\/(\d+)/i.test(fa.userAgent),XM=!Xj&&/Chrome\/(\d+)/.exec(fa.userAgent),Wke="webkitFontSmoothing"in eE.documentElement.style,rE=!Xj&&/Apple Computer/.test(fa.vendor),GL=rE&&(/Mobile\/\w+/.test(fa.userAgent)||fa.maxTouchPoints>2);var At={mac:GL||/Mac/.test(fa.platform),windows:/Win/.test(fa.platform),linux:/Linux|X11/.test(fa.platform),ie:Xj,ie_version:PK?eE.documentMode||6:nE?+nE[1]:tE?+tE[1]:0,gecko:JL,gecko_version:JL?+(/Firefox\/(\d+)/.exec(fa.userAgent)||[0,0])[1]:0,chrome:!!XM,chrome_version:XM?+XM[1]:0,ios:GL,android:/Android\b/.test(fa.userAgent),webkit_version:Wke?+(/\bAppleWebKit\/(\d+)/.exec(fa.userAgent)||[0,0])[1]:0,safari:rE,safari_version:rE?+(/\bVersion\/(\d+(\.\d+)?)/.exec(fa.userAgent)||[0,0])[1]:0,tabSize:eE.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function W0(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function oE(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Fk(t,e){if(!e.anchorNode)return!1;try{return oE(t,e.anchorNode)}catch{return!1}}function K0(t){return t.nodeType==3?gm(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Y1(t,e,n,r){return n?YL(t,e,n,r,-1)||YL(t,e,n,r,1):!1}function mm(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function c2(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function YL(t,e,n,r,o){for(;;){if(t==n&&e==r)return!0;if(e==(o<0?0:_u(t))){if(t.nodeName=="DIV")return!1;let i=t.parentNode;if(!i||i.nodeType!=1)return!1;e=mm(t)+(o<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(o<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=o<0?_u(t):0}else return!1}}function _u(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Qj(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function Kke(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function IK(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function Jke(t,e,n,r,o,i,s,a){let l=t.ownerDocument,c=l.defaultView||window;for(let u=t,d=!1;u&&!d;)if(u.nodeType==1){let f,h=u==l.body,m=1,g=1;if(h)f=Kke(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(d=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let b=u.getBoundingClientRect();({scaleX:m,scaleY:g}=IK(u,b)),f={left:b.left,right:b.left+u.clientWidth*m,top:b.top,bottom:b.top+u.clientHeight*g}}let v=0,y=0;if(o=="nearest")e.top<f.top?(y=e.top-(f.top+s),n>0&&e.bottom>f.bottom+y&&(y=e.bottom-f.bottom+s)):e.bottom>f.bottom&&(y=e.bottom-f.bottom+s,n<0&&e.top-y<f.top&&(y=e.top-(f.top+s)));else{let b=e.bottom-e.top,x=f.bottom-f.top;y=(o=="center"&&b<=x?e.top+b/2-x/2:o=="start"||o=="center"&&n<0?e.top-s:e.bottom-x+s)-f.top}if(r=="nearest"?e.left<f.left?(v=e.left-(f.left+i),n>0&&e.right>f.right+v&&(v=e.right-f.right+i)):e.right>f.right&&(v=e.right-f.right+i,n<0&&e.left<f.left+v&&(v=e.left-(f.left+i))):v=(r=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:r=="start"==a?e.left-i:e.right-(f.right-f.left)+i)-f.left,v||y)if(h)c.scrollBy(v,y);else{let b=0,x=0;if(y){let k=u.scrollTop;u.scrollTop+=y/g,x=(u.scrollTop-k)*g}if(v){let k=u.scrollLeft;u.scrollLeft+=v/m,b=(u.scrollLeft-k)*m}e={left:e.left-b,top:e.top-x,right:e.right-b,bottom:e.bottom-x},b&&Math.abs(b-v)<1&&(r="nearest"),x&&Math.abs(x-y)<1&&(o="nearest")}if(h)break;(e.top<f.top||e.bottom>f.bottom||e.left<f.left||e.right>f.right)&&(e={left:Math.max(e.left,f.left),right:Math.min(e.right,f.right),top:Math.max(e.top,f.top),bottom:Math.min(e.bottom,f.bottom)}),u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function Gke(t){let e=t.ownerDocument,n,r;for(let o=t.parentNode;o&&!(o==e.body||n&&r);)if(o.nodeType==1)!r&&o.scrollHeight>o.clientHeight&&(r=o),!n&&o.scrollWidth>o.clientWidth&&(n=o),o=o.assignedSlot||o.parentNode;else if(o.nodeType==11)o=o.host;else break;return{x:n,y:r}}class Yke{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?_u(n):0),r,Math.min(e.focusOffset,r?_u(r):0))}set(e,n,r,o){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=o}}let yp=null;At.safari&&At.safari_version>=26&&(yp=!1);function RK(t){if(t.setActive)return t.setActive();if(yp)return t.focus(yp);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(yp==null?{get preventScroll(){return yp={preventScroll:!0},!0}}:void 0),!yp){yp=!1;for(let n=0;n<e.length;){let r=e[n++],o=e[n++],i=e[n++];r.scrollTop!=o&&(r.scrollTop=o),r.scrollLeft!=i&&(r.scrollLeft=i)}}}let XL;function gm(t,e,n=e){let r=XL||(XL=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function ov(t,e,n,r){let o={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:o.altKey,ctrlKey:o.ctrlKey,shiftKey:o.shiftKey,metaKey:o.metaKey}=r);let i=new KeyboardEvent("keydown",o);i.synthetic=!0,t.dispatchEvent(i);let s=new KeyboardEvent("keyup",o);return s.synthetic=!0,t.dispatchEvent(s),i.defaultPrevented||s.defaultPrevented}function Xke(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function NK(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function Qke(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,_u(n));;)if(r){if(n.nodeType!=1)return!1;let o=n.childNodes[r-1];o.contentEditable=="false"?r--:(n=o,r=_u(n))}else{if(n==t)return!0;r=mm(n),n=n.parentNode}}function LK(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function DK(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=_u(n)}else if(n.parentNode&&!c2(n))r=mm(n),n=n.parentNode;else return null}}function VK(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!c2(n))r=mm(n)+1,n=n.parentNode;else return null}}class Us{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Us(e.parentNode,mm(e),n)}static after(e,n){return new Us(e.parentNode,mm(e)+1,n)}}const HP=[];class ao{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,o=null,i;for(let s of this.children){if(s.flags&7){if(!s.dom&&(i=o?o.nextSibling:r.firstChild)){let a=ao.get(i);(!a||!a.parent&&a.canReuseDOM(s))&&s.reuseDOM(i)}s.sync(e,n),s.flags&=-8}if(i=o?o.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&i!=s.dom&&(n.written=!0),s.dom.parentNode==r)for(;i&&i!=s.dom;)i=QL(i);else r.insertBefore(s.dom,i);o=s.dom}for(i=o?o.nextSibling:r.firstChild,i&&n&&n.node==r&&(n.written=!0);i;)i=QL(i)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let o=_u(e)==0?0:n==0?-1:1;for(;;){let i=e.parentNode;if(i==this.dom)break;o==0&&i.firstChild!=i.lastChild&&(e==i.firstChild?o=-1:o=1),e=i}o<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!ao.get(r);)r=r.nextSibling;if(!r)return this.length;for(let o=0,i=0;;o++){let s=this.children[o];if(s.dom==r)return i;i+=s.length+s.breakAfter}}domBoundsAround(e,n,r=0){let o=-1,i=-1,s=-1,a=-1;for(let l=0,c=r,u=r;l<this.children.length;l++){let d=this.children[l],f=c+d.length;if(c<e&&f>n)return d.domBoundsAround(e,n,c);if(f>=e&&o==-1&&(o=l,i=c),c>n&&d.dom.parentNode==this.dom){s=l,a=u;break}u=f,c=f+d.breakAfter}return{from:i,to:a<0?r+this.length:a,startDOM:(o?this.children[o-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=HP){this.markDirty();for(let o=e;o<n;o++){let i=this.children[o];i.parent==this&&r.indexOf(i)<0&&i.destroy()}r.length<250?this.children.splice(e,n-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(n));for(let o=0;o<r.length;o++)r[o].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new BK(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,o,i,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}ao.prototype.breakAfter=0;function QL(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class BK{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function zK(t,e,n,r,o,i,s,a,l){let{children:c}=t,u=c.length?c[e]:null,d=i.length?i[i.length-1]:null,f=d?d.breakAfter:s;if(!(e==r&&u&&!s&&!f&&i.length<2&&u.merge(n,o,i.length?d:null,n==0,a,l))){if(r<c.length){let h=c[r];h&&(o<h.length||h.breakAfter&&(d!=null&&d.breakAfter))?(e==r&&(h=h.split(o),o=0),!f&&d&&h.merge(0,o,d,!0,0,l)?i[i.length-1]=h:((o||h.children.length&&!h.children[0].length)&&h.merge(0,o,null,!1,0,l),i.push(h))):h!=null&&h.breakAfter&&(d?d.breakAfter=1:s=1),r++}for(u&&(u.breakAfter=s,n>0&&(!s&&i.length&&u.merge(n,u.length,i[0],!1,a,0)?u.breakAfter=i.shift().breakAfter:(n<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(n,u.length,null,!1,a,0),e++));e<r&&i.length;)if(c[r-1].become(i[i.length-1]))r--,i.pop(),l=i.length?0:a;else if(c[e].become(i[0]))e++,i.shift(),a=i.length?0:l;else break;!i.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,a,l)&&e--,(e<r||i.length)&&t.replaceChildren(e,r,i)}}function HK(t,e,n,r,o,i){let s=t.childCursor(),{i:a,off:l}=s.findPos(n,1),{i:c,off:u}=s.findPos(e,-1),d=e-n;for(let f of r)d+=f.length;t.length+=d,zK(t,c,u,a,l,r,0,o,i)}const Zke=256;class _c extends ao{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof _c)||this.length-(n-e)+r.length>Zke||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new _c(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Us(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return eSe(this.dom,e,n)}}class Wd extends ao{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let o of n)o.setParent(this)}setAttrs(e){if(NK(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,o,i,s){return r&&(!(r instanceof Wd&&r.mark.eq(this.mark))||e&&i<=0||n<this.length&&s<=0)?!1:(HK(this,e,n,r?r.children.slice():[],i-1,s-1),this.markDirty(),!0)}split(e){let n=[],r=0,o=-1,i=0;for(let a of this.children){let l=r+a.length;l>e&&n.push(r<e?a.split(e-r):a),o<0&&r>=e&&(o=i),r=l,i++}let s=this.length-e;return this.length=e,o>-1&&(this.children.length=o,this.markDirty()),new Wd(this.mark,n,s)}domAtPos(e){return FK(this,e)}coordsAt(e,n){return UK(this,e,n)}}function eSe(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let o=e,i=e,s=0;e==0&&n<0||e==r&&n>=0?At.chrome||At.gecko||(e?(o--,s=1):i<r&&(i++,s=-1)):n<0?o--:i<r&&i++;let a=gm(t,o,i).getClientRects();if(!a.length)return null;let l=a[(s?s<0:n>=0)?0:a.length-1];return At.safari&&!s&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),s?Qj(l,s<0):l||null}class vd extends ao{static create(e,n,r){return new vd(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=vd.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,o,i,s){return r&&(!(r instanceof vd)||!this.widget.compare(r.widget)||e>0&&i<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof vd&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Br.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,o=this.posAtStart;return r?r.slice(o,o+this.length):Br.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Us.before(this.dom):Us.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let o=this.dom.getClientRects(),i=null;if(!o.length)return null;let s=this.side?this.side<0:e>0;for(let a=s?o.length-1:0;i=o[a],!(e>0?a==0:a==o.length-1||i.top<i.bottom);a+=s?-1:1);return Qj(i,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Rv extends ao{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Rv&&e.side==this.side}split(){return new Rv(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Us.before(this.dom):Us.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Br.empty}get isHidden(){return!0}}_c.prototype.children=vd.prototype.children=Rv.prototype.children=HP;function FK(t,e){let n=t.dom,{children:r}=t,o=0;for(let i=0;o<r.length;o++){let s=r[o],a=i+s.length;if(!(a==i&&s.getSide()<=0)){if(e>i&&e<a&&s.dom.parentNode==n)return s.domAtPos(e-i);if(e<=i)break;i=a}}for(let i=o;i>0;i--){let s=r[i-1];if(s.dom.parentNode==n)return s.domAtPos(s.length)}for(let i=o;i<r.length;i++){let s=r[i];if(s.dom.parentNode==n)return s.domAtPos(0)}return new Us(n,0)}function qK(t,e,n){let r,{children:o}=t;n>0&&e instanceof Wd&&o.length&&(r=o[o.length-1])instanceof Wd&&r.mark.eq(e.mark)?qK(r,e.children[0],n-1):(o.push(e),e.setParent(t)),t.length+=e.length}function UK(t,e,n){let r=null,o=-1,i=null,s=-1;function a(c,u){for(let d=0,f=0;d<c.children.length&&f<=u;d++){let h=c.children[d],m=f+h.length;m>=u&&(h.children.length?a(h,u-f):(!i||i.isHidden&&(n>0||nSe(i,h)))&&(m>u||f==m&&h.getSide()>0)?(i=h,s=u-f):(f<u||f==m&&h.getSide()<0&&!h.isHidden)&&(r=h,o=u-f)),f=m}}a(t,e);let l=(n<0?r:i)||r||i;return l?l.coordsAt(Math.max(0,l==r?o:s),n):tSe(t)}function tSe(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=K0(e);return n[n.length-1]||null}function nSe(t,e){let n=t.coordsAt(0,1),r=e.coordsAt(0,1);return n&&r&&r.top<n.bottom}function iE(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const ZL=Object.create(null);function u2(t,e,n){if(t==e)return!0;t||(t=ZL),e||(e=ZL);let r=Object.keys(t),o=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=o.length-(n&&o.indexOf(n)>-1?1:0))return!1;for(let i of r)if(i!=n&&(o.indexOf(i)==-1||t[i]!==e[i]))return!1;return!0}function sE(t,e,n){let r=!1;if(e)for(let o in e)n&&o in n||(r=!0,o=="style"?t.style.cssText="":t.removeAttribute(o));if(n)for(let o in n)e&&e[o]==n[o]||(r=!0,o=="style"?t.style.cssText=n[o]:t.setAttribute(o,n[o]));return r}function rSe(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class Uh{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var va=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(va||(va={}));class bn extends pm{constructor(e,n,r,o){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=o}get heightRelevant(){return!1}static mark(e){return new dw(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Th(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,o;if(e.isBlockGap)r=-5e8,o=4e8;else{let{start:i,end:s}=WK(e,n);r=(i?n?-3e8:-1:5e8)-1,o=(s?n?2e8:1:-6e8)+1}return new Th(e,r,o,n,e.widget||null,!0)}static line(e){return new fw(e)}static set(e,n=!1){return br.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}bn.none=br.empty;class dw extends bn{constructor(e){let{start:n,end:r}=WK(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof dw&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&u2(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}dw.prototype.point=!1;class fw extends bn{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof fw&&this.spec.class==e.spec.class&&u2(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}fw.prototype.mapMode=ma.TrackBefore;fw.prototype.point=!0;class Th extends bn{constructor(e,n,r,o,i,s){super(n,r,i,e),this.block=o,this.isReplace=s,this.mapMode=o?n<=0?ma.TrackBefore:ma.TrackAfter:ma.TrackDel}get type(){return this.startSide!=this.endSide?va.WidgetRange:this.startSide<=0?va.WidgetBefore:va.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Th&&oSe(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Th.prototype.point=!0;function WK(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function oSe(t,e){return t==e||!!(t&&e&&t.compare(e))}function qk(t,e,n,r=0){let o=n.length-1;o>=0&&n[o]+r>=t?n[o]=Math.max(n[o],e):n.push(t,e)}class Li extends ao{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,o,i,s){if(r){if(!(r instanceof Li))return!1;this.dom||r.transferDOM(this)}return o&&this.setDeco(r?r.attrs:null),HK(this,e,n,r?r.children.slice():[],i,s),!0}split(e){let n=new Li;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:o}=this.childPos(e);o&&(n.append(this.children[r].split(o),0),this.children[r].merge(o,this.children[r].length,null,!1,0,0),r++);for(let i=r;i<this.children.length;i++)n.append(this.children[i],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){u2(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){qK(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=iE(n,this.attrs||{})),r&&(this.attrs=iE({class:r},this.attrs||{}))}domAtPos(e){return FK(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(NK(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(sE(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let o=this.dom.lastChild;for(;o&&ao.get(o)instanceof Wd;)o=o.lastChild;if(!o||!this.length||o.nodeName!="BR"&&((r=ao.get(o))===null||r===void 0?void 0:r.isEditable)==!1&&(!At.ios||!this.children.some(i=>i instanceof _c))){let i=document.createElement("BR");i.cmIgnore=!0,this.dom.appendChild(i)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof _c)||/[^ -~]/.test(r.text))return null;let o=K0(r.dom);if(o.length!=1)return null;e+=o[0].width,n=o[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=UK(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:o}=this.parent.view.viewState,i=r.bottom-r.top;if(Math.abs(i-o.lineHeight)<2&&o.textHeight<i){let s=(i-o.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(e){return e instanceof Li&&this.children.length==0&&e.children.length==0&&u2(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,o=0;r<e.children.length;r++){let i=e.children[r],s=o+i.length;if(s>=n){if(i instanceof Li)return i;if(s>n)break}o=s+i.breakAfter}return null}}class Od extends ao{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,o,i,s){return r&&(!(r instanceof Od)||!this.widget.compare(r.widget)||e>0&&i<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Us.before(this.dom):Us.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new Od(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return HP}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Br.empty}domBoundsAround(){return null}become(e){return e instanceof Od&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof aE?null:Qj(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class aE extends Uh{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class X1{constructor(e,n,r,o){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=o,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Od&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Li),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(gx(new Rv(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Od)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:a,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let o=Math.min(this.text.length-this.textOff,e),i=Math.min(o,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(gx(new _c(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=o<=i?0:n.length}}span(e,n,r,o){this.buildText(n-e,r,o),this.pos=n,this.openStart<0&&(this.openStart=o)}point(e,n,r,o,i,s){if(this.disallowBlockEffectsFor[s]&&r instanceof Th){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(r instanceof Th)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Od(r.widget||Nv.block,a,r));else{let l=vd.create(r.widget||Nv.inline,a,a?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&i<=o.length&&(e<n||r.startSide>0),u=!l.isEditable&&(e<n||i>o.length||r.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(o),c&&(d.append(gx(new Rv(1),o),i),i=o.length+Math.max(0,i-o.length)),d.append(gx(l,o),i),this.atCursorPos=u,this.pendingBuffer=u?e<n||i>o.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=o.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=i)}static build(e,n,r,o,i){let s=new X1(e,n,r,i);return s.openEnd=br.spans(o,n,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function gx(t,e){for(let n of e)t=new Wd(n,[t],t.length);return t}class Nv extends Uh{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Nv.inline=new Nv("span");Nv.block=new Nv("div");var qo=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(qo||(qo={}));const vm=qo.LTR,FP=qo.RTL;function KK(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const iSe=KK("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),sSe=KK("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),lE=Object.create(null),Qc=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);lE[e]=n,lE[n]=-e}function JK(t){return t<=247?iSe[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?sSe[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const aSe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Qf{get dir(){return this.level%2?FP:vm}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,o){let i=-1;for(let s=0;s<e.length;s++){let a=e[s];if(a.from<=n&&a.to>=n){if(a.level==r)return s;(i<0||(o!=0?o<0?a.from<n:a.to>n:e[i].level>a.level))&&(i=s)}}if(i<0)throw new RangeError("Index out of range");return i}}function GK(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],o=e[n];if(r.from!=o.from||r.to!=o.to||r.direction!=o.direction||!GK(r.inner,o.inner))return!1}return!0}const yo=[];function lSe(t,e,n,r,o){for(let i=0;i<=r.length;i++){let s=i?r[i-1].to:e,a=i<r.length?r[i].from:n,l=i?256:o;for(let c=s,u=l,d=l;c<a;c++){let f=JK(t.charCodeAt(c));f==512?f=u:f==8&&d==4&&(f=16),yo[c]=f==4?2:f,f&7&&(d=f),u=f}for(let c=s,u=l,d=l;c<a;c++){let f=yo[c];if(f==128)c<a-1&&u==yo[c+1]&&u&24?f=yo[c]=u:yo[c]=256;else if(f==64){let h=c+1;for(;h<a&&yo[h]==64;)h++;let m=c&&u==8||h<n&&yo[h]==8?d==1?1:8:256;for(let g=c;g<h;g++)yo[g]=m;c=h-1}else f==8&&d==1&&(yo[c]=1);u=f,f&7&&(d=f)}}}function cSe(t,e,n,r,o){let i=o==1?2:1;for(let s=0,a=0,l=0;s<=r.length;s++){let c=s?r[s-1].to:e,u=s<r.length?r[s].from:n;for(let d=c,f,h,m;d<u;d++)if(h=lE[f=t.charCodeAt(d)])if(h<0){for(let g=a-3;g>=0;g-=3)if(Qc[g+1]==-h){let v=Qc[g+2],y=v&2?o:v&4?v&1?i:o:0;y&&(yo[d]=yo[Qc[g]]=y),a=g;break}}else{if(Qc.length==189)break;Qc[a++]=d,Qc[a++]=f,Qc[a++]=l}else if((m=yo[d])==2||m==1){let g=m==o;l=g?0:1;for(let v=a-3;v>=0;v-=3){let y=Qc[v+2];if(y&2)break;if(g)Qc[v+2]|=2;else{if(y&4)break;Qc[v+2]|=4}}}}}function uSe(t,e,n,r){for(let o=0,i=r;o<=n.length;o++){let s=o?n[o-1].to:t,a=o<n.length?n[o].from:e;for(let l=s;l<a;){let c=yo[l];if(c==256){let u=l+1;for(;;)if(u==a){if(o==n.length)break;u=n[o++].to,a=o<n.length?n[o].from:e}else if(yo[u]==256)u++;else break;let d=i==1,f=(u<e?yo[u]:r)==1,h=d==f?d?1:2:r;for(let m=u,g=o,v=g?n[g-1].to:t;m>l;)m==v&&(m=n[--g].from,v=g?n[g-1].to:t),yo[--m]=h;l=u}else i=c,l++}}}function cE(t,e,n,r,o,i,s){let a=r%2?2:1;if(r%2==o%2)for(let l=e,c=0;l<n;){let u=!0,d=!1;if(c==i.length||l<i[c].from){let g=yo[l];g!=a&&(u=!1,d=g==16)}let f=!u&&a==1?[]:null,h=u?r:r+1,m=l;e:for(;;)if(c<i.length&&m==i[c].from){if(d)break e;let g=i[c];if(!u)for(let v=g.to,y=c+1;;){if(v==n)break e;if(y<i.length&&i[y].from==v)v=i[y++].to;else{if(yo[v]==a)break e;break}}if(c++,f)f.push(g);else{g.from>l&&s.push(new Qf(l,g.from,h));let v=g.direction==vm!=!(h%2);uE(t,v?r+1:r,o,g.inner,g.from,g.to,s),l=g.to}m=g.to}else{if(m==n||(u?yo[m]!=a:yo[m]==a))break;m++}f?cE(t,l,m,r+1,o,f,s):l<m&&s.push(new Qf(l,m,h)),l=m}else for(let l=n,c=i.length;l>e;){let u=!0,d=!1;if(!c||l>i[c-1].to){let g=yo[l-1];g!=a&&(u=!1,d=g==16)}let f=!u&&a==1?[]:null,h=u?r:r+1,m=l;e:for(;;)if(c&&m==i[c-1].to){if(d)break e;let g=i[--c];if(!u)for(let v=g.from,y=c;;){if(v==e)break e;if(y&&i[y-1].to==v)v=i[--y].from;else{if(yo[v-1]==a)break e;break}}if(f)f.push(g);else{g.to<l&&s.push(new Qf(g.to,l,h));let v=g.direction==vm!=!(h%2);uE(t,v?r+1:r,o,g.inner,g.from,g.to,s),l=g.from}m=g.from}else{if(m==e||(u?yo[m-1]!=a:yo[m-1]==a))break;m--}f?cE(t,m,l,r+1,o,f,s):m<l&&s.push(new Qf(m,l,h)),l=m}}function uE(t,e,n,r,o,i,s){let a=e%2?2:1;lSe(t,o,i,r,a),cSe(t,o,i,r,a),uSe(o,i,r,a),cE(t,o,i,e,n,r,s)}function dSe(t,e,n){if(!t)return[new Qf(0,0,e==FP?1:0)];if(e==vm&&!n.length&&!aSe.test(t))return YK(t.length);if(n.length)for(;t.length>yo.length;)yo[yo.length]=256;let r=[],o=e==vm?0:1;return uE(t,o,o,n,0,t.length,r),r}function YK(t){return[new Qf(0,t,0)]}let XK="";function fSe(t,e,n,r,o){var i;let s=r.head-t.from,a=Qf.find(e,s,(i=r.bidiLevel)!==null&&i!==void 0?i:-1,r.assoc),l=e[a],c=l.side(o,n);if(s==c){let f=a+=o?1:-1;if(f<0||f>=e.length)return null;l=e[a=f],s=l.side(!o,n),c=l.side(o,n)}let u=Rs(t.text,s,l.forward(o,n));(u<l.from||u>l.to)&&(u=c),XK=t.text.slice(Math.min(s,u),Math.max(s,u));let d=a==(o?e.length-1:0)?null:e[a+(o?1:-1)];return d&&u==c&&d.level+(o?0:1)<l.level?We.cursor(d.side(!o,n)+t.from,d.forward(o,n)?1:-1,d.level):We.cursor(u+t.from,l.forward(o,n)?-1:1,l.level)}function hSe(t,e,n){for(let r=e;r<n;r++){let o=JK(t.charCodeAt(r));if(o==1)return vm;if(o==2||o==4)return FP}return vm}const QK=It.define(),ZK=It.define(),eJ=It.define(),tJ=It.define(),dE=It.define(),nJ=It.define(),rJ=It.define(),qP=It.define(),UP=It.define(),oJ=It.define({combine:t=>t.some(e=>e)}),iJ=It.define({combine:t=>t.some(e=>e)}),sJ=It.define();class iv{constructor(e,n="nearest",r="nearest",o=5,i=5,s=!1){this.range=e,this.y=n,this.x=r,this.yMargin=o,this.xMargin=i,this.isSnapshot=s}map(e){return e.empty?this:new iv(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new iv(We.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const vx=Xn.define({map:(t,e)=>t.map(e)}),aJ=Xn.define();function ga(t,e,n){let r=t.facet(tJ);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const md=It.define({combine:t=>t.length?t[0]:!0});let pSe=0;const Lg=It.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class di{constructor(e,n,r,o,i){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=o,this.baseExtensions=i(this),this.extension=this.baseExtensions.concat(Lg.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Lg.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:o,provide:i,decorations:s}=n||{};return new di(pSe++,e,r,o,a=>{let l=[];return s&&l.push(J0.of(c=>{let u=c.plugin(a);return u?s(u):bn.none})),i&&l.push(i(a)),l})}static fromClass(e,n){return di.define((r,o)=>new e(r,o),n)}}class QM{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(ga(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){ga(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){ga(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const lJ=It.define(),WP=It.define(),J0=It.define(),cJ=It.define(),hw=It.define(),uJ=It.define();function eD(t,e){let n=t.state.facet(uJ);if(!n.length)return n;let r=n.map(i=>i instanceof Function?i(t):i),o=[];return br.spans(r,e.from,e.to,{point(){},span(i,s,a,l){let c=i-e.from,u=s-e.from,d=o;for(let f=a.length-1;f>=0;f--,l--){let h=a[f].spec.bidiIsolate,m;if(h==null&&(h=hSe(e.text,c,u)),l>0&&d.length&&(m=d[d.length-1]).to==c&&m.direction==h)m.to=u,d=m.inner;else{let g={from:c,to:u,direction:h,inner:[]};d.push(g),d=g.inner}}}}),o}const dJ=It.define();function KP(t){let e=0,n=0,r=0,o=0;for(let i of t.state.facet(dJ)){let s=i(t);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(n=Math.max(n,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(o=Math.max(o,s.bottom)))}return{left:e,right:n,top:r,bottom:o}}const g1=It.define();class Rl{constructor(e,n,r,o){this.fromA=e,this.toA=n,this.fromB=r,this.toB=o}join(e){return new Rl(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let o=e[n-1];if(!(o.fromA>r.toA)){if(o.toA<r.fromA)break;r=r.join(o),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let o=0,i=0,s=0,a=0;;o++){let l=o==e.length?null:e[o],c=s-a,u=l?l.fromB:1e9;for(;i<n.length&&n[i]<u;){let d=n[i],f=n[i+1],h=Math.max(a,d),m=Math.min(u,f);if(h<=m&&new Rl(h+c,m+c,h,m).addToSet(r),f>u)break;i+=2}if(!l)return r;new Rl(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),s=l.toA,a=l.toB}}}class d2{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Vi.empty(this.startState.doc.length);for(let i of r)this.changes=this.changes.compose(i.changes);let o=[];this.changes.iterChangedRanges((i,s,a,l)=>o.push(new Rl(i,s,a,l))),this.changedRanges=o}static create(e,n,r){return new d2(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class tD extends ao{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=bn.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Li],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Rl(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let o=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?o=this.domChanged.newSel.head:!xSe(e.changes,this.hasComposition)&&!e.selectionSet&&(o=e.state.selection.main.head));let i=o>-1?gSe(this.view,e.changes,o):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;r=new Rl(c,u,e.changes.mapPos(c,-1),e.changes.mapPos(u,1)).addToSet(r.slice())}this.hasComposition=i?{from:i.range.fromB,to:i.range.toB}:null,(At.ie||At.chrome)&&!i&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,a=this.updateDeco(),l=bSe(s,a,e.changes);return r=Rl.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,i),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:o}=this.view;o.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=At.chrome||At.ios?{node:o.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||o.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof Od&&s.widget instanceof aE&&i.push(s.dom);o.updateGaps(i)}updateChildren(e,n,r){let o=r?r.range.addToSet(e.slice()):e,i=this.childCursor(n);for(let s=o.length-1;;s--){let a=s>=0?o[s]:null;if(!a)break;let{fromA:l,toA:c,fromB:u,toB:d}=a,f,h,m,g;if(r&&r.range.fromB<d&&r.range.toB>u){let k=X1.build(this.view.state.doc,u,r.range.fromB,this.decorations,this.dynamicDecorationMap),w=X1.build(this.view.state.doc,r.range.toB,d,this.decorations,this.dynamicDecorationMap);h=k.breakAtStart,m=k.openStart,g=w.openEnd;let S=this.compositionView(r);w.breakAtStart?S.breakAfter=1:w.content.length&&S.merge(S.length,S.length,w.content[0],!1,w.openStart,0)&&(S.breakAfter=w.content[0].breakAfter,w.content.shift()),k.content.length&&S.merge(0,0,k.content[k.content.length-1],!0,0,k.openEnd)&&k.content.pop(),f=k.content.concat(S).concat(w.content)}else({content:f,breakAtStart:h,openStart:m,openEnd:g}=X1.build(this.view.state.doc,u,d,this.decorations,this.dynamicDecorationMap));let{i:v,off:y}=i.findPos(c,1),{i:b,off:x}=i.findPos(l,-1);zK(this,b,x,v,y,f,h,m,g)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(aJ)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new _c(e.text.nodeValue);n.flags|=8;for(let{deco:o}of e.marks)n=new Wd(o,[n],n.length);let r=new Li;return r.append(n,0),r}fixCompositionDOM(e){let n=(i,s)=>{s.flags|=8|(s.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(s);let a=ao.get(i);a&&a!=s&&(a.dom=null),s.setDOM(i)},r=this.childPos(e.range.fromB,1),o=this.children[r.i];n(e.line,o);for(let i=e.marks.length-1;i>=-1;i--)r=o.childPos(r.off,1),o=o.children[r.i],n(i>=0?e.marks[i].node:e.text,o)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,o=r==this.dom,i=!o&&!(this.view.state.facet(md)||this.dom.tabIndex>-1)&&Fk(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(o||n||i))return;let s=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(At.gecko&&a.empty&&!this.hasComposition&&mSe(l)){let d=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(d,l.node.childNodes[l.offset]||null)),l=c=new Us(d,0),s=!0}let u=this.view.observer.selectionRange;(s||!u.focusNode||(!Y1(l.node,l.offset,u.anchorNode,u.anchorOffset)||!Y1(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,a))&&(this.view.observer.ignore(()=>{At.android&&At.chrome&&this.dom.contains(u.focusNode)&&wSe(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=W0(this.view.root);if(d)if(a.empty){if(At.gecko){let f=vSe(l.node,l.offset);if(f&&f!=3){let h=(f==1?DK:VK)(l.node,l.offset);h&&(l=new Us(h.node,h.offset))}}d.collapse(l.node,l.offset),a.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=a.bidiLevel)}else if(d.extend){d.collapse(l.node,l.offset);try{d.extend(c.node,c.offset)}catch{}}else{let f=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),f.setEnd(c.node,c.offset),f.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(f)}i&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new Us(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new Us(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&Y1(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=W0(e.root),{anchorNode:o,anchorOffset:i}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let s=Li.find(this,n.head);if(!s)return;let a=s.posAtStart;if(n.head==a||n.head==a+s.length)return;let l=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(n.head+n.assoc);r.collapse(u.node,u.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=n.from&&r.collapse(o,i)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let o=e.offset;!r&&o<n.childNodes.length;o++){let i=ao.get(n.childNodes[o]);i instanceof Li&&(r=i.domAtPos(0))}for(let o=e.offset-1;!r&&o>=0;o--){let i=ao.get(n.childNodes[o]);i instanceof Li&&(r=i.domAtPos(i.length))}return r?new Us(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=ao.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let o=this.children[n];if(r<o.length||o instanceof Li)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,o=0;for(let i=this.length,s=this.children.length-1;s>=0;s--){let a=this.children[s],l=i-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof Li&&!(r instanceof Li&&n>=0)))r=a,o=c;else if(r&&c==e&&l==e&&a instanceof Od&&Math.abs(n)<2){if(a.deco.startSide<0)break;s&&(r=null)}i=c}return r?r.coordsAt(e-o,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),o=this.children[n];if(!(o instanceof Li))return null;for(;o.children.length;){let{i:a,off:l}=o.childPos(r,1);for(;;a++){if(a==o.children.length)return null;if((o=o.children[a]).length)break}r=l}if(!(o instanceof _c))return null;let i=Rs(o.text,r);if(i==r)return null;let s=gm(o.dom,r,i).getClientRects();for(let a=0;a<s.length;a++){let l=s[a];if(a==s.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:o}=e,i=this.view.contentDOM.clientWidth,s=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==qo.LTR;for(let c=0,u=0;u<this.children.length;u++){let d=this.children[u],f=c+d.length;if(f>o)break;if(c>=r){let h=d.dom.getBoundingClientRect();if(n.push(h.height),s){let m=d.dom.lastChild,g=m?K0(m):[];if(g.length){let v=g[g.length-1],y=l?v.right-h.left:h.right-v.left;y>a&&(a=y,this.minWidth=i,this.minWidthFrom=c,this.minWidthTo=f)}}}c=f+d.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?qo.RTL:qo.LTR}measureTextSize(){for(let i of this.children)if(i instanceof Li){let s=i.measureTextSize();if(s)return s}let e=document.createElement("div"),n,r,o;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let i=K0(e.firstChild)[0];n=e.getBoundingClientRect().height,r=i?i.width/27:7,o=i?i.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:o}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new BK(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,o=0;;o++){let i=o==n.viewports.length?null:n.viewports[o],s=i?i.from-1:this.length;if(s>r){let a=(n.lineBlockAt(s).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(bn.replace({widget:new aE(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!i)break;r=i.to+1}return bn.set(e)}updateDeco(){let e=1,n=this.view.state.facet(J0).map(i=>(this.dynamicDecorationMap[e++]=typeof i=="function")?i(this.view):i),r=!1,o=this.view.state.facet(cJ).map((i,s)=>{let a=typeof i=="function";return a&&(r=!0),a?i(this.view):i});for(o.length&&(this.dynamicDecorationMap[e++]=r,n.push(br.join(o))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(sJ))try{if(c(this.view,e.range,e))return!0}catch(u){ga(this.view.state,u,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),o;if(!r)return;!n.empty&&(o=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,o.left),top:Math.min(r.top,o.top),right:Math.max(r.right,o.right),bottom:Math.max(r.bottom,o.bottom)});let i=KP(this.view),s={left:r.left-i.left,top:r.top-i.top,right:r.right+i.right,bottom:r.bottom+i.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;Jke(this.view.scrollDOM,s,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==qo.LTR)}lineHasWidget(e){let{i:n}=this.childCursor().findPos(e);if(n==this.children.length)return!1;let r=o=>o instanceof vd||o.children.some(r);return r(this.children[n])}}function mSe(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function fJ(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=DK(n.focusNode,n.focusOffset),o=VK(n.focusNode,n.focusOffset),i=r||o;if(o&&r&&o.node!=r.node){let a=ao.get(o.node);if(!a||a instanceof _c&&a.text!=o.node.nodeValue)i=o;else if(t.docView.lastCompositionAfterCursor){let l=ao.get(r.node);!l||l instanceof _c&&l.text!=r.node.nodeValue||(i=o)}}if(t.docView.lastCompositionAfterCursor=i!=r,!i)return null;let s=e-i.offset;return{from:s,to:s+i.node.nodeValue.length,node:i.node}}function gSe(t,e,n){let r=fJ(t,n);if(!r)return null;let{node:o,from:i,to:s}=r,a=o.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,c=new Rl(l.mapPos(i),l.mapPos(s),i,s),u=[];for(let d=o.parentNode;;d=d.parentNode){let f=ao.get(d);if(f instanceof Wd)u.push({node:d,deco:f.mark});else{if(f instanceof Li||d.nodeName=="DIV"&&d.parentNode==t.contentDOM)return{range:c,text:o,marks:u,line:d};if(d!=t.contentDOM)u.push({node:d,deco:new dw({inclusive:!0,attributes:rSe(d),tagName:d.tagName.toLowerCase()})});else return null}}}function vSe(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let ySe=class{constructor(){this.changes=[]}compareRange(e,n){qk(e,n,this.changes)}comparePoint(e,n){qk(e,n,this.changes)}boundChange(e){qk(e,e,this.changes)}};function bSe(t,e,n){let r=new ySe;return br.compare(t,e,n,r),r.changes}function wSe(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function xSe(t,e){let n=!1;return e&&t.iterChangedRanges((r,o)=>{r<e.to&&o>e.from&&(n=!0)}),n}function kSe(t,e,n=1){let r=t.charCategorizer(e),o=t.doc.lineAt(e),i=e-o.from;if(o.length==0)return We.cursor(e);i==0?n=1:i==o.length&&(n=-1);let s=i,a=i;n<0?s=Rs(o.text,i,!1):a=Rs(o.text,i);let l=r(o.text.slice(s,a));for(;s>0;){let c=Rs(o.text,s,!1);if(r(o.text.slice(c,s))!=l)break;s=c}for(;a<o.length;){let c=Rs(o.text,a);if(r(o.text.slice(a,c))!=l)break;a=c}return We.range(s+o.from,a+o.from)}function SSe(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function CSe(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function ZM(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function nD(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function rD(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function fE(t,e,n){let r,o,i,s,a=!1,l,c,u,d;for(let m=t.firstChild;m;m=m.nextSibling){let g=K0(m);for(let v=0;v<g.length;v++){let y=g[v];o&&ZM(o,y)&&(y=nD(rD(y,o.bottom),o.top));let b=SSe(e,y),x=CSe(n,y);if(b==0&&x==0)return m.nodeType==3?oD(m,e,n):fE(m,e,n);(!r||s>x||s==x&&i>b)&&(r=m,o=y,i=b,s=x,a=b?e<y.left?v>0:v<g.length-1:!0),b==0?n>y.bottom&&(!u||u.bottom<y.bottom)?(l=m,u=y):n<y.top&&(!d||d.top>y.top)&&(c=m,d=y):u&&ZM(u,y)?u=rD(u,y.bottom):d&&ZM(d,y)&&(d=nD(d,y.top))}}if(u&&u.bottom>=n?(r=l,o=u):d&&d.top<=n&&(r=c,o=d),!r)return{node:t,offset:0};let f=Math.max(o.left,Math.min(o.right,e));if(r.nodeType==3)return oD(r,f,n);if(a&&r.contentEditable!="false")return fE(r,f,n);let h=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(o.left+o.right)/2?1:0);return{node:t,offset:h}}function oD(t,e,n){let r=t.nodeValue.length,o=-1,i=1e9,s=0;for(let a=0;a<r;a++){let l=gm(t,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;s||(s=e-u.left);let d=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&d<i){let f=e>=(u.left+u.right)/2,h=f;if(At.chrome||At.gecko){let m=gm(t,a).getBoundingClientRect();Math.abs(m.left-u.right)<.1&&(h=!f)}if(d<=0)return{node:t,offset:a+(h?1:0)};o=a+(h?1:0),i=d}}}return{node:t,offset:o>-1?o:s>0?t.nodeValue.length:0}}function hJ(t,e,n,r=-1){var o,i;let s=t.contentDOM.getBoundingClientRect(),a=s.top+t.viewState.paddingTop,l,{docHeight:c}=t.viewState,{x:u,y:d}=e,f=d-a;if(f<0)return 0;if(f>c)return t.state.doc.length;for(let k=t.viewState.heightOracle.textHeight/2,w=!1;l=t.elementAtHeight(f),l.type!=va.Text;)for(;f=r>0?l.bottom+k:l.top-k,!(f>=0&&f<=c);){if(w)return n?null:0;w=!0,r=-r}d=a+f;let h=l.from;if(h<t.viewport.from)return t.viewport.from==0?0:n?null:iD(t,s,l,u,d);if(h>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:iD(t,s,l,u,d);let m=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:m,v=g.elementFromPoint(u,d);v&&!t.contentDOM.contains(v)&&(v=null),v||(u=Math.max(s.left+1,Math.min(s.right-1,u)),v=g.elementFromPoint(u,d),v&&!t.contentDOM.contains(v)&&(v=null));let y,b=-1;if(v&&((o=t.docView.nearest(v))===null||o===void 0?void 0:o.isEditable)!=!1){if(m.caretPositionFromPoint){let k=m.caretPositionFromPoint(u,d);k&&({offsetNode:y,offset:b}=k)}else if(m.caretRangeFromPoint){let k=m.caretRangeFromPoint(u,d);k&&({startContainer:y,startOffset:b}=k)}y&&(!t.contentDOM.contains(y)||At.safari&&jSe(y,b,u)||At.chrome&&ASe(y,b,u))&&(y=void 0),y&&(b=Math.min(_u(y),b))}if(!y||!t.docView.dom.contains(y)){let k=Li.find(t.docView,h);if(!k)return f>l.top+l.height/2?l.to:l.from;({node:y,offset:b}=fE(k.dom,u,d))}let x=t.docView.nearest(y);if(!x)return null;if(x.isWidget&&((i=x.dom)===null||i===void 0?void 0:i.nodeType)==1){let k=x.dom.getBoundingClientRect();return e.y<k.top||e.y<=k.bottom&&e.x<=(k.left+k.right)/2?x.posAtStart:x.posAtEnd}else return x.localPosFromDOM(y,b)+x.posAtStart}function iD(t,e,n,r,o){let i=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((o-n.top-(t.defaultLineHeight-a)*.5)/a);i+=l*t.viewState.heightOracle.lineLength}let s=t.state.sliceDoc(n.from,n.to);return n.from+X$(s,i,t.state.tabSize)}function pJ(t,e,n){let r,o=t;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(;;){let i=o.nextSibling;if(i){if(i.nodeName=="BR")break;return!1}else{let s=o.parentNode;if(!s||s.nodeName=="DIV")break;o=s}}return gm(t,r-1,r).getBoundingClientRect().right>n}function jSe(t,e,n){return pJ(t,e,n)}function ASe(t,e,n){if(e!=0)return pJ(t,e,n);for(let o=t;;){let i=o.parentNode;if(!i||i.nodeType!=1||i.firstChild!=o)return!1;if(i.classList.contains("cm-line"))break;o=i}let r=t.nodeType==1?t.getBoundingClientRect():gm(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function hE(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let o;for(let i of r.type){if(i.from>e)break;if(!(i.to<e)){if(i.from<e&&i.to>e)return i;(!o||i.type==va.Text&&(o.type!=i.type||(n<0?i.from<e:i.to>e)))&&(o=i)}}return o||r}return r}function MSe(t,e,n,r){let o=hE(t,e.head,e.assoc||-1),i=!r||o.type!=va.Text||!(t.lineWrapping||o.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>o.from?e.head-1:e.head);if(i){let s=t.dom.getBoundingClientRect(),a=t.textDirectionAt(o.from),l=t.posAtCoords({x:n==(a==qo.LTR)?s.right-1:s.left+1,y:(i.top+i.bottom)/2});if(l!=null)return We.cursor(l,n?-1:1)}return We.cursor(n?o.to:o.from,n?-1:1)}function sD(t,e,n,r){let o=t.state.doc.lineAt(e.head),i=t.bidiSpans(o),s=t.textDirectionAt(o.from);for(let a=e,l=null;;){let c=fSe(o,i,s,a,n),u=XK;if(!c){if(o.number==(n?t.state.doc.lines:1))return a;u=`
`,o=t.state.doc.line(o.number+(n?1:-1)),i=t.bidiSpans(o),c=t.visualLineSide(o,!n)}if(l){if(!l(u))return a}else{if(!r)return c;l=r(u)}a=c}}function TSe(t,e,n){let r=t.state.charCategorizer(e),o=r(n);return i=>{let s=r(i);return o==Zo.Space&&(o=s),o==s}}function OSe(t,e,n,r){let o=e.head,i=n?1:-1;if(o==(n?t.state.doc.length:0))return We.cursor(o,e.assoc);let s=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(o,e.assoc||-1),u=t.documentTop;if(c)s==null&&(s=c.left-l.left),a=i<0?c.top:c.bottom;else{let h=t.viewState.lineBlockAt(o);s==null&&(s=Math.min(l.right-l.left,t.defaultCharacterWidth*(o-h.from))),a=(i<0?h.top:h.bottom)+u}let d=l.left+s,f=r??t.viewState.heightOracle.textHeight>>1;for(let h=0;;h+=10){let m=a+(f+h)*i,g=hJ(t,{x:d,y:m},!1,i);if(m<l.top||m>l.bottom||(i<0?g<o:g>o)){let v=t.docView.coordsForChar(g),y=!v||m<v.top?-1:1;return We.cursor(g,y,void 0,s)}}}function Q1(t,e,n){for(;;){let r=0;for(let o of t)o.between(e-1,e+1,(i,s,a)=>{if(e>i&&e<s){let l=r||n||(e-i<s-e?-1:1);e=l<0?i:s,r=l}});if(!r)return e}}function mJ(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let o=e.ranges[r],i=null;if(o.empty){let s=Q1(t,o.from,0);s!=o.from&&(i=We.cursor(s,-1))}else{let s=Q1(t,o.from,-1),a=Q1(t,o.to,1);(s!=o.from||a!=o.to)&&(i=We.range(o.from==o.anchor?s:a,o.from==o.head?s:a))}i&&(n||(n=e.ranges.slice()),n[r]=i)}return n?We.create(n,e.mainIndex):e}function eT(t,e,n){let r=Q1(t.state.facet(hw).map(o=>o(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:We.cursor(r,r<n.from?1:-1)}const v1="";class $Se{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(fr.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=v1}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let o=e;;){this.findPointBefore(r,o);let i=this.text.length;this.readNode(o);let s=o.nextSibling;if(s==n)break;let a=ao.get(o),l=ao.get(s);(a&&l?a.breakAfter:(a?a.breakAfter:c2(o))||c2(s)&&(o.nodeName!="BR"||o.cmIgnore)&&this.text.length>i)&&!_Se(s,n)&&this.lineBreak(),o=s}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,o=this.lineSeparator?null:/\r\n?|\n/g;;){let i=-1,s=1,a;if(this.lineSeparator?(i=n.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(a=o.exec(n))&&(i=a.index,s=a[0].length),this.append(n.slice(r,i<0?n.length:i)),i<0)break;if(this.lineBreak(),s>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=s-1);r=i+s}}readNode(e){if(e.cmIgnore)return;let n=ao.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let o=r.iter();!o.next().done;)o.lineBreak?this.lineBreak():this.append(o.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(ESe(e,r.node,r.offset)?n:0))}}function ESe(t,e,n){for(;;){if(!e||n<_u(e))return!1;if(e==t)return!0;n=mm(e)+1,e=e.parentNode}}function _Se(t,e){let n;for(;!(t==e||!t);t=t.nextSibling){let r=ao.get(t);if(!(r!=null&&r.isWidget||t.cmIgnore))return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let o=r.overrideDOMText;if(o!=null&&o.length)return!1}return!0}class aD{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class PSe{constructor(e,n,r,o){this.typeOver=o,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:i,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let a=i||s?[]:RSe(e),l=new $Se(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=NSe(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=i&&i.node==a.focusNode&&i.offset==a.focusOffset||!oE(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=s&&s.node==a.anchorNode&&s.offset==a.anchorOffset||!oE(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),u=e.viewport;if((At.ios||At.chrome)&&e.state.selection.main.empty&&l!=c&&(u.from>0||u.to<e.state.doc.length)){let d=Math.min(l,c),f=Math.max(l,c),h=u.from-d,m=u.to-f;(h==0||h==1||d==0)&&(m==0||m==-1||f==e.state.doc.length)&&(l=0,c=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(We.range(c,l)):this.newSel=We.single(c,l)}}}function gJ(t,e){let n,{newSel:r}=e,o=t.state.selection.main,i=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:a}=e.bounds,l=o.from,c=null;(i===8||At.android&&e.text.length<a-s)&&(l=o.to,c="end");let u=vJ(t.state.doc.sliceString(s,a,v1),e.text,l-s,c);u&&(At.chrome&&i==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==v1+v1&&u.toB--,n={from:s+u.from,to:s+u.toA,insert:Br.of(e.text.slice(u.from,u.toB).split(v1))})}else r&&(!t.hasFocus&&t.state.facet(md)||r.main.eq(o))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!o.empty&&r&&r.main.empty?n={from:o.from,to:o.to,insert:t.state.doc.slice(o.from,o.to)}:(At.mac||At.android)&&n&&n.from==n.to&&n.from==o.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=We.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:Br.of([n.insert.toString().replace("."," ")])}):n&&n.from>=o.from&&n.to<=o.to&&(n.from!=o.from||n.to!=o.to)&&o.to-o.from-(n.to-n.from)<=4?n={from:o.from,to:o.to,insert:t.state.doc.slice(o.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,o.to))}:t.state.doc.lineAt(o.from).to<o.to&&t.docView.lineHasWidget(o.to)&&t.inputState.insertingTextAt>Date.now()-50?n={from:o.from,to:o.to,insert:t.state.toText(t.inputState.insertingText)}:At.chrome&&n&&n.from==n.to&&n.from==o.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=We.single(r.main.anchor-1,r.main.head-1)),n={from:o.from,to:o.to,insert:Br.of([" "])}),n)return JP(t,n,r,i);if(r&&!r.main.eq(o)){let s=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(s=!0),a=t.inputState.lastSelectionOrigin,a=="select.pointer"&&(r=mJ(t.state.facet(hw).map(l=>l(t)),r))),t.dispatch({selection:r,scrollIntoView:s,userEvent:a}),!0}else return!1}function JP(t,e,n,r=-1){if(At.ios&&t.inputState.flushIOSKey(e))return!0;let o=t.state.selection.main;if(At.android&&(e.to==o.to&&(e.from==o.from||e.from==o.from-1&&t.state.sliceDoc(e.from,o.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&ov(t.contentDOM,"Enter",13)||(e.from==o.from-1&&e.to==o.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>o.head)&&ov(t.contentDOM,"Backspace",8)||e.from==o.from&&e.to==o.to+1&&e.insert.length==0&&ov(t.contentDOM,"Delete",46)))return!0;let i=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let s,a=()=>s||(s=ISe(t,e,n));return t.state.facet(nJ).some(l=>l(t,e.from,e.to,i,a))||t.dispatch(a()),!0}function ISe(t,e,n){let r,o=t.state,i=o.selection.main,s=-1;if(e.from==e.to&&e.from<i.from||e.from>i.to){let l=e.from<i.from?-1:1,c=l<0?i.from:i.to,u=Q1(o.facet(hw).map(d=>d(t)),c,l);e.from==u&&(s=u)}if(s>-1)r={changes:e,selection:We.cursor(e.from+e.insert.length,-1)};else if(e.from>=i.from&&e.to<=i.to&&e.to-e.from>=(i.to-i.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let l=i.from<e.from?o.sliceDoc(i.from,e.from):"",c=i.to>e.to?o.sliceDoc(e.to,i.to):"";r=o.replaceSelection(t.state.toText(l+e.insert.sliceString(0,void 0,t.state.lineBreak)+c))}else{let l=o.changes(e),c=n&&n.main.to<=l.newLength?n.main:void 0;if(o.selection.ranges.length>1&&(t.inputState.composing>=0||t.inputState.compositionPendingChange)&&e.to<=i.to+10&&e.to>=i.to-10){let u=t.state.sliceDoc(e.from,e.to),d,f=n&&fJ(t,n.main.head);if(f){let m=e.insert.length-(e.to-e.from);d={from:f.from,to:f.to-m}}else d=t.state.doc.lineAt(i.head);let h=i.to-e.to;r=o.changeByRange(m=>{if(m.from==i.from&&m.to==i.to)return{changes:l,range:c||m.map(l)};let g=m.to-h,v=g-u.length;if(t.state.sliceDoc(v,g)!=u||g>=d.from&&v<=d.to)return{range:m};let y=o.changes({from:v,to:g,insert:e.insert}),b=m.to-i.to;return{changes:y,range:c?We.range(Math.max(0,c.anchor+b),Math.max(0,c.head+b)):m.map(y)}})}else r={changes:l,selection:c&&o.selection.replaceRange(c)}}let a="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,a+=".compose",t.inputState.compositionFirstChange&&(a+=".start",t.inputState.compositionFirstChange=!1)),o.update(r,{userEvent:a,scrollIntoView:!0})}function vJ(t,e,n,r){let o=Math.min(t.length,e.length),i=0;for(;i<o&&t.charCodeAt(i)==e.charCodeAt(i);)i++;if(i==o&&t.length==e.length)return null;let s=t.length,a=e.length;for(;s>0&&a>0&&t.charCodeAt(s-1)==e.charCodeAt(a-1);)s--,a--;if(r=="end"){let l=Math.max(0,i-Math.min(s,a));n-=s+l-i}if(s<i&&t.length<e.length){let l=n<=i&&n>=s?i-n:0;i-=l,a=i+(a-s),s=i}else if(a<i){let l=n<=i&&n>=a?i-n:0;i-=l,s=i+(s-a),a=i}return{from:i,toA:s,toB:a}}function RSe(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}=t.observer.selectionRange;return n&&(e.push(new aD(n,r)),(o!=n||i!=r)&&e.push(new aD(o,i))),e}function NSe(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?We.single(n+e,r+e):null}class LSe{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,At.safari&&e.contentDOM.addEventListener("input",()=>null),At.gecko&&ZSe(e.contentDOM.ownerDocument)}handleEvent(e){!USe(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let o of r.observers)o(this.view,n);for(let o of r.handlers){if(n.defaultPrevented)break;if(o(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=DSe(e),r=this.handlers,o=this.view.contentDOM;for(let i in n)if(i!="scroll"){let s=!n[i].handlers.length,a=r[i];a&&s!=!a.handlers.length&&(o.removeEventListener(i,this.handleEvent),a=null),a||o.addEventListener(i,this.handleEvent,{passive:s})}for(let i in r)i!="scroll"&&!n[i]&&o.removeEventListener(i,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&bJ.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),At.android&&At.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return At.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=yJ.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||VSe.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,ov(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:At.safari&&!At.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function lD(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(o){ga(n.state,o)}}}function DSe(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let o=r.spec,i=o&&o.plugin.domEventHandlers,s=o&&o.plugin.domEventObservers;if(i)for(let a in i){let l=i[a];l&&n(a).handlers.push(lD(r.value,l))}if(s)for(let a in s){let l=s[a];l&&n(a).observers.push(lD(r.value,l))}}for(let r in Pc)n(r).handlers.push(Pc[r]);for(let r in Hl)n(r).observers.push(Hl[r]);return e}const yJ=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],VSe="dthko",bJ=[16,17,18,20,91,92,224,225],yx=6;function bx(t){return Math.max(0,t)*.7+8}function BSe(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class zSe{constructor(e,n,r,o){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=o,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=Gke(e.contentDOM),this.atoms=e.state.facet(hw).map(s=>s(e));let i=e.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(fr.allowMultipleSelections)&&HSe(e,n),this.dragging=qSe(e,n)&&kJ(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&BSe(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,o=0,i=0,s=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:o,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:i,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=KP(this.view);e.clientX-l.left<=o+yx?n=-bx(o-e.clientX):e.clientX+l.right>=s-yx&&(n=bx(e.clientX-s)),e.clientY-l.top<=i+yx?r=-bx(i-e.clientY):e.clientY+l.bottom>=a-yx&&(r=bx(e.clientY-a)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=mJ(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function HSe(t,e){let n=t.state.facet(QK);return n.length?n[0](e):At.mac?e.metaKey:e.ctrlKey}function FSe(t,e){let n=t.state.facet(ZK);return n.length?n[0](e):At.mac?!e.altKey:!e.ctrlKey}function qSe(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=W0(t.root);if(!r||r.rangeCount==0)return!0;let o=r.getRangeAt(0).getClientRects();for(let i=0;i<o.length;i++){let s=o[i];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function USe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=ao.get(n))&&r.ignoreEvent(e))return!1;return!0}const Pc=Object.create(null),Hl=Object.create(null),wJ=At.ie&&At.ie_version<15||At.ios&&At.webkit_version<604;function WSe(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),xJ(t,n.value)},50)}function Zj(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function xJ(t,e){e=Zj(t.state,qP,e);let{state:n}=t,r,o=1,i=n.toText(e),s=i.lines==n.selection.ranges.length;if(pE!=null&&n.selection.ranges.every(l=>l.empty)&&pE==i.toString()){let l=-1;r=n.changeByRange(c=>{let u=n.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let d=n.toText((s?i.line(o++).text:e)+n.lineBreak);return{changes:{from:u.from,insert:d},range:We.cursor(c.from+d.length)}})}else s?r=n.changeByRange(l=>{let c=i.line(o++);return{changes:{from:l.from,to:l.to,insert:c.text},range:We.cursor(l.from+c.length)}}):r=n.replaceSelection(i);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Hl.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Pc.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Hl.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Hl.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Pc.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(eJ))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=GSe(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new zSe(t,e,n,r)),r&&t.observer.ignore(()=>{RK(t.contentDOM);let i=t.root.activeElement;i&&!i.contains(t.contentDOM)&&i.blur()});let o=t.inputState.mouseSelection;if(o)return o.start(e),o.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function cD(t,e,n,r){if(r==1)return We.cursor(e,n);if(r==2)return kSe(t.state,e,n);{let o=Li.find(t.docView,e),i=t.state.doc.lineAt(o?o.posAtEnd:e),s=o?o.posAtStart:i.from,a=o?o.posAtEnd:i.to;return a<t.state.doc.length&&a==i.to&&a++,We.range(s,a)}}let uD=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function KSe(t,e,n,r){let o=Li.find(t.docView,e);if(!o)return 1;let i=e-o.posAtStart;if(i==0)return 1;if(i==o.length)return-1;let s=o.coordsAt(i,-1);if(s&&uD(n,r,s))return-1;let a=o.coordsAt(i,1);return a&&uD(n,r,a)?1:s&&s.bottom>=r?-1:1}function dD(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:KSe(t,n,e.clientX,e.clientY)}}const JSe=At.ie&&At.ie_version<=11;let fD=null,hD=0,pD=0;function kJ(t){if(!JSe)return t.detail;let e=fD,n=pD;return fD=t,pD=Date.now(),hD=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(hD+1)%3:1}function GSe(t,e){let n=dD(t,e),r=kJ(e),o=t.state.selection;return{update(i){i.docChanged&&(n.pos=i.changes.mapPos(n.pos),o=o.map(i.changes))},get(i,s,a){let l=dD(t,i),c,u=cD(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!s){let d=cD(t,n.pos,n.bias,r),f=Math.min(d.from,u.from),h=Math.max(d.to,u.to);u=f<u.from?We.range(f,h):We.range(h,f)}return s?o.replaceRange(o.main.extend(u.from,u.to)):a&&r==1&&o.ranges.length>1&&(c=YSe(o,l.pos))?c:a?o.addRange(u):We.create([u])}}}function YSe(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:o}=t.ranges[n];if(r<=e&&o>=e)return We.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}Pc.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let o=t.docView.nearest(e.target);if(o&&o.isWidget){let i=o.posAtStart,s=i+o.length;(i>=n.to||s<=n.from)&&(n=We.range(i,s))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",Zj(t.state,UP,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Pc.dragend=t=>(t.inputState.draggedContent=null,!1);function mD(t,e,n,r){if(n=Zj(t.state,qP,n),!n)return;let o=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:i}=t.inputState,s=r&&i&&FSe(t,e)?{from:i.from,to:i.to}:null,a={from:o,insert:n},l=t.state.changes(s?[s,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(o,-1),head:l.mapPos(o,1)},userEvent:s?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Pc.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),o=0,i=()=>{++o==n.length&&mD(t,e,r.filter(s=>s!=null).join(t.state.lineBreak),!1)};for(let s=0;s<n.length;s++){let a=new FileReader;a.onerror=i,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[s]=a.result),i()},a.readAsText(n[s])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return mD(t,e,r,!0),!0}return!1};Pc.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=wJ?null:e.clipboardData;return n?(xJ(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(WSe(t),!1)};function XSe(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function QSe(t){let e=[],n=[],r=!1;for(let o of t.selection.ranges)o.empty||(e.push(t.sliceDoc(o.from,o.to)),n.push(o));if(!e.length){let o=-1;for(let{from:i}of t.selection.ranges){let s=t.doc.lineAt(i);s.number>o&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),o=s.number}r=!0}return{text:Zj(t,UP,e.join(t.lineBreak)),ranges:n,linewise:r}}let pE=null;Pc.copy=Pc.cut=(t,e)=>{let{text:n,ranges:r,linewise:o}=QSe(t.state);if(!n&&!o)return!1;pE=o?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let i=wJ?null:e.clipboardData;return i?(i.clearData(),i.setData("text/plain",n),!0):(XSe(t,n),!1)};const SJ=qh.define();function CJ(t,e){let n=[];for(let r of t.facet(rJ)){let o=r(t,e);o&&n.push(o)}return n.length?t.update({effects:n,annotations:SJ.of(!0)}):null}function jJ(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=CJ(t.state,e);n?t.dispatch(n):t.update([])}},10)}Hl.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),jJ(t)};Hl.blur=t=>{t.observer.clearSelectionRange(),jJ(t)};Hl.compositionstart=Hl.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Hl.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,At.chrome&&At.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Hl.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Pc.beforeinput=(t,e)=>{var n,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(t.inputState.insertingText=e.data,t.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&t.observer.editContext){let i=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),s=e.getTargetRanges();if(i&&s.length){let a=s[0],l=t.posAtDOM(a.startContainer,a.startOffset),c=t.posAtDOM(a.endContainer,a.endOffset);return JP(t,{from:l,to:c,insert:t.state.toText(i)},null),!0}}let o;if(At.chrome&&At.android&&(o=yJ.find(i=>i.inputType==e.inputType))&&(t.observer.delayAndroidKey(o.key,o.keyCode),o.key=="Backspace"||o.key=="Delete")){let i=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return At.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),At.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Hl.compositionend(t,e),20),!1};const gD=new Set;function ZSe(t){gD.has(t)||(gD.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const vD=["pre-wrap","normal","pre-line","break-spaces"];let Lv=!1;function yD(){Lv=!1}class e2e{constructor(e){this.lineWrapping=e,this.doc=Br.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return vD.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let o=e[r];o<0?r++:this.heightSamples[Math.floor(o*10)]||(n=!0,this.heightSamples[Math.floor(o*10)]=!0)}return n}refresh(e,n,r,o,i,s){let a=vD.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=o,this.lineLength=i,l){this.heightSamples={};for(let c=0;c<s.length;c++){let u=s[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class t2e{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class fu{constructor(e,n,r,o,i){this.from=e,this.length=n,this.top=r,this.height=o,this._content=i}get type(){return typeof this._content=="number"?va.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Th?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new fu(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Ho=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Ho||(Ho={}));const Uk=.001;class ya{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Uk&&(Lv=!0),this.height=e)}replace(e,n,r){return ya.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,o){let i=this,s=r.doc;for(let a=o.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:d}=o[a],f=i.lineAt(l,Ho.ByPosNoHeight,r.setDoc(n),0,0),h=f.to>=c?f:i.lineAt(c,Ho.ByPosNoHeight,r,0,0);for(d+=h.to-c,c=h.to;a>0&&f.from<=o[a-1].toA;)l=o[a-1].fromA,u=o[a-1].fromB,a--,l<f.from&&(f=i.lineAt(l,Ho.ByPosNoHeight,r,0,0));u+=f.from-l,l=f.from;let m=GP.build(r.setDoc(s),e,u,d);i=f2(i,i.replace(l,c,m))}return i.updateHeight(r,0)}static empty(){return new Ya(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,o=0,i=0;for(;;)if(n==r)if(o>i*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,o-=a.size}else if(i>o*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,i-=a.size}else break;else if(o<i){let a=e[n++];a&&(o+=a.size)}else{let a=e[--r];a&&(i+=a.size)}let s=0;return e[n-1]==null?(s=1,n--):e[n]==null&&(s=1,r++),new n2e(ya.of(e.slice(0,n)),s,ya.of(e.slice(r)))}}function f2(t,e){return t==e?t:(t.constructor!=e.constructor&&(Lv=!0),e)}ya.prototype.size=1;class AJ extends ya{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,o){return new fu(o,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,o,i){return this.blockAt(0,r,o,i)}forEachLine(e,n,r,o,i,s){e<=i+this.length&&n>=i&&s(this.blockAt(0,r,o,i))}updateHeight(e,n=0,r=!1,o){return o&&o.from<=n&&o.more&&this.setHeight(o.heights[o.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Ya extends AJ{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,o){return new fu(o,this.length,r,this.height,this.breaks)}replace(e,n,r){let o=r[0];return r.length==1&&(o instanceof Ya||o instanceof Ts&&o.flags&4)&&Math.abs(this.length-o.length)<10?(o instanceof Ts?o=new Ya(o.length,this.height):o.height=this.height,this.outdated||(o.outdated=!1),o):ya.of(r)}updateHeight(e,n=0,r=!1,o){return o&&o.from<=n&&o.more?this.setHeight(o.heights[o.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Ts extends ya{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,o=e.doc.lineAt(n+this.length).number,i=o-r+1,s,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*i);s=l/i,this.length>i+1&&(a=(this.height-l)/(this.length-i-1))}else s=this.height/i;return{firstLine:r,lastLine:o,perLine:s,perChar:a}}blockAt(e,n,r,o){let{firstLine:i,lastLine:s,perLine:a,perChar:l}=this.heightMetrics(n,o);if(n.lineWrapping){let c=o+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),u=n.doc.lineAt(c),d=a+u.length*l,f=Math.max(r,e-d/2);return new fu(u.from,u.length,f,d,0)}else{let c=Math.max(0,Math.min(s-i,Math.floor((e-r)/a))),{from:u,length:d}=n.doc.line(i+c);return new fu(u,d,r+a*c,a,0)}}lineAt(e,n,r,o,i){if(n==Ho.ByHeight)return this.blockAt(e,r,o,i);if(n==Ho.ByPosNoHeight){let{from:h,to:m}=r.doc.lineAt(e);return new fu(h,m-h,0,0,0)}let{firstLine:s,perLine:a,perChar:l}=this.heightMetrics(r,i),c=r.doc.lineAt(e),u=a+c.length*l,d=c.number-s,f=o+a*d+l*(c.from-i-d);return new fu(c.from,c.length,Math.max(o,Math.min(f,o+this.height-u)),u,0)}forEachLine(e,n,r,o,i,s){e=Math.max(e,i),n=Math.min(n,i+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(r,i);for(let u=e,d=o;u<=n;){let f=r.doc.lineAt(u);if(u==e){let m=f.number-a;d+=l*m+c*(e-i-m)}let h=l+c*f.length;s(new fu(f.from,f.length,d,h,0)),d+=h,u=f.to+1}}replace(e,n,r){let o=this.length-n;if(o>0){let i=r[r.length-1];i instanceof Ts?r[r.length-1]=new Ts(i.length+o):r.push(null,new Ts(o-1))}if(e>0){let i=r[0];i instanceof Ts?r[0]=new Ts(e+i.length):r.unshift(new Ts(e-1),null)}return ya.of(r)}decomposeLeft(e,n){n.push(new Ts(e-1),null)}decomposeRight(e,n){n.push(null,new Ts(this.length-e-1))}updateHeight(e,n=0,r=!1,o){let i=n+this.length;if(o&&o.from<=n+this.length&&o.more){let s=[],a=Math.max(n,o.from),l=-1;for(o.from>n&&s.push(new Ts(o.from-n-1).updateHeight(e,n));a<=i&&o.more;){let u=e.doc.lineAt(a).length;s.length&&s.push(null);let d=o.heights[o.index++];l==-1?l=d:Math.abs(d-l)>=Uk&&(l=-2);let f=new Ya(u,d);f.outdated=!1,s.push(f),a+=u+1}a<=i&&s.push(null,new Ts(i-a).updateHeight(e,a));let c=ya.of(s);return(l<0||Math.abs(c.height-this.height)>=Uk||Math.abs(l-this.heightMetrics(e,n).perLine)>=Uk)&&(Lv=!0),f2(this,c)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class n2e extends ya{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,o){let i=r+this.left.height;return e<i?this.left.blockAt(e,n,r,o):this.right.blockAt(e,n,i,o+this.left.length+this.break)}lineAt(e,n,r,o,i){let s=o+this.left.height,a=i+this.left.length+this.break,l=n==Ho.ByHeight?e<s:e<a,c=l?this.left.lineAt(e,n,r,o,i):this.right.lineAt(e,n,r,s,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=n==Ho.ByPosNoHeight?Ho.ByPosNoHeight:Ho.ByPos;return l?c.join(this.right.lineAt(a,u,r,s,a)):this.left.lineAt(a,u,r,o,i).join(c)}forEachLine(e,n,r,o,i,s){let a=o+this.left.height,l=i+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,o,i,s),n>=l&&this.right.forEachLine(e,n,r,a,l,s);else{let c=this.lineAt(l,Ho.ByPos,r,o,i);e<c.from&&this.left.forEachLine(e,c.from-1,r,o,i,s),c.to>=e&&c.from<=n&&s(c),n>c.to&&this.right.forEachLine(c.to+1,n,r,a,l,s)}}replace(e,n,r){let o=this.left.length+this.break;if(n<o)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-o,n-o,r));let i=[];e>0&&this.decomposeLeft(e,i);let s=i.length;for(let a of r)i.push(a);if(e>0&&bD(i,s-1),n<this.length){let a=i.length;this.decomposeRight(n,i),bD(i,a)}return ya.of(i)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,o=r+this.break;if(e>=o)return this.right.decomposeRight(e-o,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<o&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?ya.of(this.break?[e,null,n]:[e,n]):(this.left=f2(this.left,e),this.right=f2(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,o){let{left:i,right:s}=this,a=n+i.length+this.break,l=null;return o&&o.from<=n+i.length&&o.more?l=i=i.updateHeight(e,n,r,o):i.updateHeight(e,n,r),o&&o.from<=a+s.length&&o.more?l=s=s.updateHeight(e,a,r,o):s.updateHeight(e,a,r),l?this.balanced(i,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function bD(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof Ts&&(r=t[e+1])instanceof Ts&&t.splice(e-1,3,new Ts(n.length+1+r.length))}const r2e=5;class GP{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),o=this.nodes[this.nodes.length-1];o instanceof Ya?o.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Ya(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let o=r.widget?r.widget.estimatedHeight:0,i=r.widget?r.widget.lineBreaks:0;o<0&&(o=this.oracle.lineHeight);let s=n-e;r.block?this.addBlock(new AJ(s,o,r)):(s||i||o>=r2e)&&this.addLineDeco(o,i,s)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Ya(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new Ts(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Ya)return e;let n=new Ya(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let o=this.ensureLine();o.length+=r,o.collapsed+=r,o.widgetHeight=Math.max(o.widgetHeight,e),o.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Ya)&&!this.isCovered?this.nodes.push(new Ya(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let o of this.nodes)o instanceof Ya&&o.updateHeight(this.oracle,r),r+=o?o.length:1;return this.nodes}static build(e,n,r,o){let i=new GP(r,e);return br.spans(n,r,o,i,0),i.finish(r)}}function o2e(t,e,n){let r=new i2e;return br.compare(t,e,n,r,0),r.changes}class i2e{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,o){(e<n||r&&r.heightRelevant||o&&o.heightRelevant)&&qk(e,n,this.changes,5)}}function s2e(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,o=r.defaultView||window,i=Math.max(0,n.left),s=Math.min(o.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(o.innerHeight,n.bottom);for(let c=t.parentNode;c&&c!=r.body;)if(c.nodeType==1){let u=c,d=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&d.overflow!="visible"){let f=u.getBoundingClientRect();i=Math.max(i,f.left),s=Math.min(s,f.right),a=Math.max(a,f.top),l=Math.min(c==t.parentNode?o.innerHeight:l,f.bottom)}c=d.position=="absolute"||d.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:i-n.left,right:Math.max(i,s)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function a2e(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function l2e(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class tT{constructor(e,n,r,o){this.from=e,this.to=n,this.size=r,this.displaySize=o}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=n[r];if(o.from!=i.from||o.to!=i.to||o.size!=i.size)return!1}return!0}draw(e,n){return bn.replace({widget:new c2e(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class c2e extends Uh{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class wD{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=xD,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=qo.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(WP).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new e2e(n),this.stateDeco=e.facet(J0).filter(r=>typeof r!="function"),this.heightMap=ya.empty().applyChanges(this.stateDeco,Br.empty,this.heightOracle.setDoc(e.doc),[new Rl(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=bn.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let o=r?n.head:n.anchor;if(!e.some(({from:i,to:s})=>o>=i&&o<=s)){let{from:i,to:s}=this.lineBlockAt(o);e.push(new wx(i,s))}}return this.viewports=e.sort((r,o)=>r.from-o.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?xD:new YP(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(y1(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(J0).filter(u=>typeof u!="function");let o=e.changedRanges,i=Rl.extendWithRanges(o,o2e(r,this.stateDeco,e?e.changes:Vi.empty(this.state.doc.length))),s=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);yD(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),i),(this.heightMap.height!=s||Lv)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=s);let l=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(iJ)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),o=this.heightOracle,i=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?qo.RTL:qo.LTR;let s=this.heightOracle.mustRefreshForWrapping(i),a=n.getBoundingClientRect(),l=s||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let{scaleX:k,scaleY:w}=IK(n,a);(k>.005&&Math.abs(this.scaleX-k)>.005||w>.005&&Math.abs(this.scaleY-w)>.005)&&(this.scaleX=k,this.scaleY=w,c|=16,s=l=!0)}let d=(parseInt(r.paddingTop)||0)*this.scaleY,f=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=f)&&(this.paddingTop=d,this.paddingBottom=f,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(o.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let h=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=h&&(this.scrollAnchorHeight=-1,this.scrollTop=h),this.scrolledToBottom=LK(e.scrollDOM);let m=(this.printing?l2e:s2e)(n,this.paddingTop),g=m.top-this.pixelViewport.top,v=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;let y=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(y!=this.inView&&(this.inView=y,y&&(l=!0)),!this.inView&&!this.scrollTarget&&!a2e(e.dom))return 0;let b=a.width;if((this.contentDOMWidth!=b||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let k=e.docView.measureVisibleLineHeights(this.viewport);if(o.mustRefreshForHeights(k)&&(s=!0),s||o.lineWrapping&&Math.abs(b-this.contentDOMWidth)>o.charWidth){let{lineHeight:w,charWidth:S,textHeight:C}=e.docView.measureTextSize();s=w>0&&o.refresh(i,w,S,C,Math.max(5,b/S),k),s&&(e.docView.minWidth=0,c|=16)}g>0&&v>0?u=Math.max(g,v):g<0&&v<0&&(u=Math.min(g,v)),yD();for(let w of this.viewports){let S=w.from==this.viewport.from?k:e.docView.measureVisibleLineHeights(w);this.heightMap=(s?ya.empty().applyChanges(this.stateDeco,Br.empty,this.heightOracle,[new Rl(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(o,0,s,new t2e(w.from,S))}Lv&&(c|=2)}let x=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return x&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),c|=this.updateForViewport()),(c&2||x)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),o=this.heightMap,i=this.heightOracle,{visibleTop:s,visibleBottom:a}=this,l=new wx(o.lineAt(s-r*1e3,Ho.ByHeight,i,0,0).from,o.lineAt(a+(1-r)*1e3,Ho.ByHeight,i,0,0).to);if(n){let{head:c}=n.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=o.lineAt(c,Ho.ByPos,i,0,0),f;n.y=="center"?f=(d.top+d.bottom)/2-u/2:n.y=="start"||n.y=="nearest"&&c<l.from?f=d.top:f=d.bottom-u,l=new wx(o.lineAt(f-1e3/2,Ho.ByHeight,i,0,0).from,o.lineAt(f+u+1e3/2,Ho.ByHeight,i,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),o=n.mapPos(e.to,1);return new wx(this.heightMap.lineAt(r,Ho.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(o,Ho.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:o}=this.heightMap.lineAt(e,Ho.ByPos,this.heightOracle,0,0),{bottom:i}=this.heightMap.lineAt(n,Ho.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:a}=this;return(e==0||o<=s-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||i>=a+Math.max(10,Math.min(r,250)))&&o>s-2*1e3&&i<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let o of e)n.touchesRange(o.from,o.to)||r.push(new tT(n.mapPos(o.from),n.mapPos(o.to),o.size,o.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,o=r?1e4:2e3,i=o>>1,s=o<<1;if(this.defaultTextDirection!=qo.LTR&&!r)return[];let a=[],l=(u,d,f,h)=>{if(d-u<i)return;let m=this.state.selection.main,g=[m.from];m.empty||g.push(m.to);for(let y of g)if(y>u&&y<d){l(u,y-10,f,h),l(y+10,d,f,h);return}let v=d2e(e,y=>y.from>=f.from&&y.to<=f.to&&Math.abs(y.from-u)<i&&Math.abs(y.to-d)<i&&!g.some(b=>y.from<b&&y.to>b));if(!v){if(d<f.to&&n&&r&&n.visibleRanges.some(x=>x.from<=d&&x.to>=d)){let x=n.moveToLineBoundary(We.cursor(d),!1,!0).head;x>u&&(d=x)}let y=this.gapSize(f,u,d,h),b=r||y<2e6?y:2e6;v=new tT(u,d,y,b)}a.push(v)},c=u=>{if(u.length<s||u.type!=va.Text)return;let d=u2e(u.from,u.to,this.stateDeco);if(d.total<s)return;let f=this.scrollTarget?this.scrollTarget.range.head:null,h,m;if(r){let g=o/this.heightOracle.lineLength*this.heightOracle.lineHeight,v,y;if(f!=null){let b=kx(d,f),x=((this.visibleBottom-this.visibleTop)/2+g)/u.height;v=b-x,y=b+x}else v=(this.visibleTop-u.top-g)/u.height,y=(this.visibleBottom-u.top+g)/u.height;h=xx(d,v),m=xx(d,y)}else{let g=d.total*this.heightOracle.charWidth,v=o*this.heightOracle.charWidth,y=0;if(g>2e6)for(let S of e)S.from>=u.from&&S.from<u.to&&S.size!=S.displaySize&&S.from*this.heightOracle.charWidth+y<this.pixelViewport.left&&(y=S.size-S.displaySize);let b=this.pixelViewport.left+y,x=this.pixelViewport.right+y,k,w;if(f!=null){let S=kx(d,f),C=((x-b)/2+v)/g;k=S-C,w=S+C}else k=(b-v)/g,w=(x+v)/g;h=xx(d,k),m=xx(d,w)}h>u.from&&l(u.from,h,u,d),m<u.to&&l(m,u.to,u,d)};for(let u of this.viewportLines)Array.isArray(u.type)?u.type.forEach(c):c(u);return a}gapSize(e,n,r,o){let i=kx(o,r)-kx(o,n);return this.heightOracle.lineWrapping?e.height*i:o.total*this.heightOracle.charWidth*i}updateLineGaps(e){tT.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=bn.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];br.spans(n,this.viewport.from,this.viewport.to,{span(i,s){r.push({from:i,to:s})},point(){}},20);let o=0;if(r.length!=this.visibleRanges.length)o=12;else for(let i=0;i<r.length&&!(o&8);i++){let s=this.visibleRanges[i],a=r[i];(s.from!=a.from||s.to!=a.to)&&(o|=4,e&&e.mapPos(s.from,-1)==a.from&&e.mapPos(s.to,1)==a.to||(o|=8))}return this.visibleRanges=r,o}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||y1(this.heightMap.lineAt(e,Ho.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||y1(this.heightMap.lineAt(this.scaler.fromDOM(e),Ho.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return y1(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class wx{constructor(e,n){this.from=e,this.to=n}}function u2e(t,e,n){let r=[],o=t,i=0;return br.spans(n,t,e,{span(){},point(s,a){s>o&&(r.push({from:o,to:s}),i+=s-o),o=a}},20),o<e&&(r.push({from:o,to:e}),i+=e-o),{total:i,ranges:r}}function xx({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let o=0;;o++){let{from:i,to:s}=e[o],a=s-i;if(r<=a)return i+r;r-=a}}function kx(t,e){let n=0;for(let{from:r,to:o}of t.ranges){if(e<=o){n+=e-r;break}n+=o-r}return n/t.total}function d2e(t,e){for(let n of t)if(e(n))return n}const xD={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class YP{constructor(e,n,r){let o=0,i=0,s=0;this.viewports=r.map(({from:a,to:l})=>{let c=n.lineAt(a,Ho.ByPos,e,0,0).top,u=n.lineAt(l,Ho.ByPos,e,0,0).bottom;return o+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-o)/(n.height-o);for(let a of this.viewports)a.domTop=s+(a.top-i)*this.scale,s=a.domBottom=a.domTop+(a.bottom-a.top),i=a.bottom}toDOM(e){for(let n=0,r=0,o=0;;n++){let i=n<this.viewports.length?this.viewports[n]:null;if(!i||e<i.top)return o+(e-r)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);r=i.bottom,o=i.domBottom}}fromDOM(e){for(let n=0,r=0,o=0;;n++){let i=n<this.viewports.length?this.viewports[n]:null;if(!i||e<i.domTop)return r+(e-o)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);r=i.bottom,o=i.domBottom}}eq(e){return e instanceof YP?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function y1(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new fu(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(o=>y1(o,e)):t._content)}const Sx=It.define({combine:t=>t.join(" ")}),mE=It.define({combine:t=>t.indexOf(!0)>-1}),gE=Ah.newName(),MJ=Ah.newName(),TJ=Ah.newName(),OJ={"&light":"."+MJ,"&dark":"."+TJ};function vE(t,e,n){return new Ah(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,o=>{if(o=="&")return t;if(!n||!n[o])throw new RangeError(`Unsupported selector: ${o}`);return n[o]}):t+" "+r}})}const f2e=vE("."+gE,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},OJ),h2e={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},nT=At.ie&&At.ie_version<=11;class p2e{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new Yke,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(At.ie&&At.ie_version<=11||At.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&At.android&&e.constructor.EDIT_CONTEXT!==!1&&!(At.chrome&&At.chrome_version<126)&&(this.editContext=new g2e(e),e.state.facet(md)&&(e.contentDOM.editContext=this.editContext.editContext)),nT&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,o=this.selectionRange;if(r.state.facet(md)?r.root.activeElement!=this.dom:!Fk(this.dom,o))return;let i=o.anchorNode&&r.docView.nearest(o.anchorNode);if(i&&i.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(At.ie&&At.ie_version<=11||At.android&&At.chrome)&&!r.state.selection.main.empty&&o.focusNode&&Y1(o.focusNode,o.focusOffset,o.anchorNode,o.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=W0(e.root);if(!n)return!1;let r=At.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&m2e(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let o=Fk(this.dom,r);return o&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Qke(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),o&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,h2e),nT&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),nT&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let o=()=>{let i=this.delayedAndroidKey;i&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=i.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&i.force&&ov(this.dom,i.key,i.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(o)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,o=!1;for(let i of e){let s=this.readMutation(i);s&&(s.typeOver&&(o=!0),n==-1?{from:n,to:r}=s:(n=Math.min(s.from,n),r=Math.max(s.to,r)))}return{from:n,to:r,typeOver:o}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),o=this.selectionChanged&&Fk(this.dom,this.selectionRange);if(e<0&&!o)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=new PSe(this.view,e,n,r);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,o=gJ(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),o}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=kD(n,e.previousSibling||e.target.previousSibling,-1),o=kD(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:o?n.posBefore(o):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(md)!=e.state.facet(md)&&(e.view.contentDOM.editContext=e.state.facet(md)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let o of this.scrollTargets)o.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function kD(t,e,n){for(;e;){let r=ao.get(e);if(r&&r.parent==t)return r;let o=e.parentNode;e=o!=t.dom?o:n>0?e.nextSibling:e.previousSibling}return null}function SD(t,e){let n=e.startContainer,r=e.startOffset,o=e.endContainer,i=e.endOffset,s=t.docView.domAtPos(t.state.selection.main.anchor);return Y1(s.node,s.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}function m2e(t,e){if(e.getComposedRanges){let o=e.getComposedRanges(t.root)[0];if(o)return SD(t,o)}let n=null;function r(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?SD(t,n):null}class g2e{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let o=e.state.selection.main,{anchor:i,head:s}=o,a=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let c=l-a>r.text.length;a==this.from&&i<this.from?a=i:l==this.to&&i>this.to&&(l=i);let u=vJ(e.state.sliceDoc(a,l),r.text,(c?o.from:o.to)-a,c?"end":null);if(!u){let f=We.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));f.main.eq(o)||e.dispatch({selection:f,userEvent:"select"});return}let d={from:u.from+a,to:u.toA+a,insert:Br.of(r.text.slice(u.from,u.toB).split(`
`))};if((At.mac||At.android)&&d.from==s-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(d={from:a,to:l,insert:Br.of([r.text.replace("."," ")])}),this.pendingContextChange=d,!e.state.readOnly){let f=this.to-this.from+(d.to-d.from+d.insert.length);JP(e,d,We.single(this.toEditorPos(r.selectionStart,f),this.toEditorPos(r.selectionEnd,f)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),d.from<d.to&&!d.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let o=[],i=null;for(let s=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);s<a;s++){let l=e.coordsForChar(s);i=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||i||new DOMRect,o.push(i)}n.updateCharacterBounds(r.rangeStart,o)},this.handlers.textformatupdate=r=>{let o=[];for(let i of r.getTextFormats()){let s=i.underlineStyle,a=i.underlineThickness;if(!/none/i.test(s)&&!/none/i.test(a)){let l=this.toEditorPos(i.rangeStart),c=this.toEditorPos(i.rangeEnd);if(l<c){let u=`text-decoration: underline ${/^[a-z]/.test(s)?s+" ":s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${/thin/i.test(a)?1:2}px`;o.push(bn.mark({attributes:{style:u}}).range(l,c))}}}e.dispatch({effects:aJ.of(bn.set(o))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let o=W0(r.root);o&&o.rangeCount&&this.editContext.updateSelectionBounds(o.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,o=this.pendingContextChange;return e.changes.iterChanges((i,s,a,l,c)=>{if(r)return;let u=c.length-(s-i);if(o&&s>=o.to)if(o.from==i&&o.to==s&&o.insert.eq(c)){o=this.pendingContextChange=null,n+=u,this.to+=u;return}else o=null,this.revertPending(e.state);if(i+=n,s+=n,s<=this.from)this.from+=u,this.to+=u;else if(i<this.to){if(i<this.from||s>this.to||this.to-this.from+c.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(i),this.toContextPos(s),c.toString()),this.to+=u}n+=u}),o&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(o=>!o.isUserEvent("input.type")&&o.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),o=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=o)&&this.editContext.updateSelection(r,o)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Mt{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(o=>o.forEach(i=>r(i,this)))||(o=>this.update(o)),this.dispatch=this.dispatch.bind(this),this._root=e.root||Xke(e.parent)||document,this.viewState=new wD(e.state||fr.create(e)),e.scrollTo&&e.scrollTo.is(vx)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Lg).map(o=>new QM(o));for(let o of this.plugins)o.update(this);this.observer=new p2e(this),this.inputState=new LSe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new tD(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof Js?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,o,i=this.state;for(let f of e){if(f.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=f.state}if(this.destroyed){this.viewState.state=i;return}let s=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(SJ))?(this.inputState.notifiedFocused=s,a=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,l=CJ(i,s),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(i.doc)||!this.state.selection.eq(i.selection))&&(u=null)):this.observer.clear(),i.facet(fr.phrases)!=this.state.facet(fr.phrases))return this.setState(i);o=d2.create(this,i,e),o.flags|=a;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(d&&(d=d.map(f.changes)),f.scrollIntoView){let{main:h}=f.state.selection;d=new iv(h.empty?h:We.cursor(h.head,h.head>h.anchor?-1:1))}for(let h of f.effects)h.is(vx)&&(d=h.value.clip(this.state))}this.viewState.update(o,d),this.bidiCache=h2.update(this.bidiCache,o.changes),o.empty||(this.updatePlugins(o),this.inputState.update(o)),n=this.docView.update(o),this.state.facet(g1)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(o.startState.facet(Sx)!=o.state.facet(Sx)&&(this.viewState.mustMeasureContent=!0),(n||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!o.empty)for(let f of this.state.facet(dE))try{f(o)}catch(h){ga(this.state,h,"update listener")}(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!gJ(this,u)&&c.force&&ov(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new wD(e),this.plugins=e.facet(Lg).map(r=>new QM(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new tD(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Lg),r=e.state.facet(Lg);if(n!=r){let o=[];for(let i of r){let s=n.indexOf(i);if(s<0)o.push(new QM(i));else{let a=this.plugins[s];a.mustUpdate=e,o.push(a)}}for(let i of this.plugins)i.mustUpdate!=e&&i.destroy(this);this.plugins=o,this.pluginMap.clear()}else for(let o of this.plugins)o.mustUpdate=e;for(let o=0;o<this.plugins.length;o++)this.plugins[o].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){ga(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,o=r.scrollTop*this.scaleY,{scrollAnchorPos:i,scrollAnchorHeight:s}=this.viewState;Math.abs(o-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(s<0)if(LK(r))i=-1,s=this.viewState.heightMap.height;else{let h=this.viewState.scrollAnchorAt(o);i=h.from,s=h.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(h=>{try{return h.read(this)}catch(m){return ga(this.state,m),CD}}),d=d2.create(this,this.state,[]),f=!1;d.flags|=l,n?n.flags|=l:n=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),f=this.docView.update(d),f&&this.docViewUpdate());for(let h=0;h<c.length;h++)if(u[h]!=CD)try{let m=c[h];m.write&&m.write(u[h],this)}catch(m){ga(this.state,m)}if(f&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let m=(i<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(i).top)-s;if(m>1||m<-1){o=o+m,r.scrollTop=o/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(dE))a(n)}get themeClasses(){return gE+" "+(this.state.facet(mE)?TJ:MJ)+" "+this.state.facet(Sx)}updateAttrs(){let e=jD(this,lJ,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(md)?"true":"false",class:"cm-content",style:`${At.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),jD(this,WP,n);let r=this.observer.ignore(()=>{let o=sE(this.contentDOM,this.contentAttrs,n),i=sE(this.dom,this.editorAttrs,e);return o||i});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let o of r.effects)if(o.is(Mt.announce)){n&&(this.announceDOM.textContent=""),n=!1;let i=this.announceDOM.appendChild(document.createElement("div"));i.textContent=o.value}}mountStyles(){this.styleModules=this.state.facet(g1);let e=this.state.facet(Mt.cspNonce);Ah.mount(this.root,this.styleModules.concat(f2e).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return eT(this,e,sD(this,e,n,r))}moveByGroup(e,n){return eT(this,e,sD(this,e,n,r=>TSe(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),o=this.textDirectionAt(e.from),i=r[n?r.length-1:0];return We.cursor(i.side(n,o)+e.from,i.forward(!n,o)?1:-1)}moveToLineBoundary(e,n,r=!0){return MSe(this,e,n,r)}moveVertically(e,n,r){return eT(this,e,OSe(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),hJ(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let o=this.state.doc.lineAt(e),i=this.bidiSpans(o),s=i[Qf.find(i,e-o.from,-1,n)];return Qj(r,s.dir==qo.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(oJ)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>v2e)return YK(e.length);let n=this.textDirectionAt(e.from),r;for(let i of this.bidiCache)if(i.from==e.from&&i.dir==n&&(i.fresh||GK(i.isolates,r=eD(this,e))))return i.order;r||(r=eD(this,e));let o=dSe(e.text,n,r);return this.bidiCache.push(new h2(e.from,e.to,n,r,!0,o)),o}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||At.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{RK(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return vx.of(new iv(typeof e=="number"?We.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return vx.of(new iv(We.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return di.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return di.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=Ah.newName(),o=[Sx.of(r),g1.of(vE(`.${r}`,e))];return n&&n.dark&&o.push(mE.of(!0)),o}static baseTheme(e){return Bm.lowest(g1.of(vE("."+gE,e,OJ)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),o=r&&ao.get(r)||ao.get(e);return((n=o==null?void 0:o.rootView)===null||n===void 0?void 0:n.view)||null}}Mt.styleModule=g1;Mt.inputHandler=nJ;Mt.clipboardInputFilter=qP;Mt.clipboardOutputFilter=UP;Mt.scrollHandler=sJ;Mt.focusChangeEffect=rJ;Mt.perLineTextDirection=oJ;Mt.exceptionSink=tJ;Mt.updateListener=dE;Mt.editable=md;Mt.mouseSelectionStyle=eJ;Mt.dragMovesSelection=ZK;Mt.clickAddsSelectionRange=QK;Mt.decorations=J0;Mt.outerDecorations=cJ;Mt.atomicRanges=hw;Mt.bidiIsolatedRanges=uJ;Mt.scrollMargins=dJ;Mt.darkTheme=mE;Mt.cspNonce=It.define({combine:t=>t.length?t[0]:""});Mt.contentAttributes=WP;Mt.editorAttributes=lJ;Mt.lineWrapping=Mt.contentAttributes.of({class:"cm-lineWrapping"});Mt.announce=Xn.define();const v2e=4096,CD={};class h2{constructor(e,n,r,o,i,s){this.from=e,this.to=n,this.dir=r,this.isolates=o,this.fresh=i,this.order=s}static update(e,n){if(n.empty&&!e.some(i=>i.fresh))return e;let r=[],o=e.length?e[e.length-1].dir:qo.LTR;for(let i=Math.max(0,e.length-10);i<e.length;i++){let s=e[i];s.dir==o&&!n.touchesRange(s.from,s.to)&&r.push(new h2(n.mapPos(s.from,1),n.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function jD(t,e,n){for(let r=t.state.facet(e),o=r.length-1;o>=0;o--){let i=r[o],s=typeof i=="function"?i(t):i;s&&iE(s,n)}return n}const y2e=At.mac?"mac":At.windows?"win":At.linux?"linux":"key";function b2e(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let o,i,s,a;for(let l=0;l<n.length-1;++l){const c=n[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))o=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return o&&(r="Alt-"+r),i&&(r="Ctrl-"+r),a&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function Cx(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const w2e=Bm.default(Mt.domEventHandlers({keydown(t,e){return EJ($J(e.state),t,e,"editor")}})),p2=It.define({enables:w2e}),AD=new WeakMap;function $J(t){let e=t.facet(p2),n=AD.get(e);return n||AD.set(e,n=S2e(e.reduce((r,o)=>r.concat(o),[]))),n}function x2e(t,e,n){return EJ($J(t.state),e,t,n)}let qf=null;const k2e=4e3;function S2e(t,e=y2e){let n=Object.create(null),r=Object.create(null),o=(s,a)=>{let l=r[s];if(l==null)r[s]=a;else if(l!=a)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},i=(s,a,l,c,u)=>{var d,f;let h=n[s]||(n[s]=Object.create(null)),m=a.split(/ (?!$)/).map(y=>b2e(y,e));for(let y=1;y<m.length;y++){let b=m.slice(0,y).join(" ");o(b,!0),h[b]||(h[b]={preventDefault:!0,stopPropagation:!1,run:[x=>{let k=qf={view:x,prefix:b,scope:s};return setTimeout(()=>{qf==k&&(qf=null)},k2e),!0}]})}let g=m.join(" ");o(g,!1);let v=h[g]||(h[g]={preventDefault:!1,stopPropagation:!1,run:((f=(d=h._any)===null||d===void 0?void 0:d.run)===null||f===void 0?void 0:f.slice())||[]});l&&v.run.push(l),c&&(v.preventDefault=!0),u&&(v.stopPropagation=!0)};for(let s of t){let a=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let c of a){let u=n[c]||(n[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=s;for(let f in u)u[f].run.push(h=>d(h,yE))}let l=s[e]||s.key;if(l)for(let c of a)i(c,l,s.run,s.preventDefault,s.stopPropagation),s.shift&&i(c,"Shift-"+l,s.shift,s.preventDefault,s.stopPropagation)}return n}let yE=null;function EJ(t,e,n,r){yE=e;let o=Uke(e),i=Oa(o,0),s=du(i)==o.length&&o!=" ",a="",l=!1,c=!1,u=!1;qf&&qf.view==n&&qf.scope==r&&(a=qf.prefix+" ",bJ.indexOf(e.keyCode)<0&&(c=!0,qf=null));let d=new Set,f=v=>{if(v){for(let y of v.run)if(!d.has(y)&&(d.add(y),y(n)))return v.stopPropagation&&(u=!0),!0;v.preventDefault&&(v.stopPropagation&&(u=!0),c=!0)}return!1},h=t[r],m,g;return h&&(f(h[a+Cx(o,e,!s)])?l=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(At.windows&&e.ctrlKey&&e.altKey)&&!(At.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(m=Mh[e.keyCode])&&m!=o?(f(h[a+Cx(m,e,!0)])||e.shiftKey&&(g=U0[e.keyCode])!=o&&g!=m&&f(h[a+Cx(g,e,!1)]))&&(l=!0):s&&e.shiftKey&&f(h[a+Cx(o,e,!0)])&&(l=!0),!l&&f(h._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),yE=null,l}class pw{constructor(e,n,r,o,i){this.className=e,this.left=n,this.top=r,this.width=o,this.height=i}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let o=e.coordsAtPos(r.head,r.assoc||1);if(!o)return[];let i=_J(e);return[new pw(n,o.left-i.left,o.top-i.top,null,o.bottom-o.top)]}else return C2e(e,n,r)}}function _J(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==qo.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function MD(t,e,n,r){let o=t.coordsAtPos(e,n*2);if(!o)return r;let i=t.dom.getBoundingClientRect(),s=(o.top+o.bottom)/2,a=t.posAtCoords({x:i.left+1,y:s}),l=t.posAtCoords({x:i.right-1,y:s});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function C2e(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),o=Math.min(n.to,t.viewport.to),i=t.textDirection==qo.LTR,s=t.contentDOM,a=s.getBoundingClientRect(),l=_J(t),c=s.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),d=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),f=a.right-(u?parseInt(u.paddingRight):0),h=hE(t,r,1),m=hE(t,o,-1),g=h.type==va.Text?h:null,v=m.type==va.Text?m:null;if(g&&(t.lineWrapping||h.widgetLineBreaks)&&(g=MD(t,r,1,g)),v&&(t.lineWrapping||m.widgetLineBreaks)&&(v=MD(t,o,-1,v)),g&&v&&g.from==v.from&&g.to==v.to)return b(x(n.from,n.to,g));{let w=g?x(n.from,null,g):k(h,!1),S=v?x(null,n.to,v):k(m,!0),C=[];return(g||h).to<(v||m).from-(g&&v?1:0)||h.widgetLineBreaks>1&&w.bottom+t.defaultLineHeight/2<S.top?C.push(y(d,w.bottom,f,S.top)):w.bottom<S.top&&t.elementAtHeight((w.bottom+S.top)/2).type==va.Text&&(w.bottom=S.top=(w.bottom+S.top)/2),b(w).concat(C).concat(b(S))}function y(w,S,C,j){return new pw(e,w-l.left,S-l.top,C-w,j-S)}function b({top:w,bottom:S,horizontal:C}){let j=[];for(let A=0;A<C.length;A+=2)j.push(y(C[A],w,C[A+1],S));return j}function x(w,S,C){let j=1e9,A=-1e9,_=[];function R(U,G,ce,ie,Z){let W=t.coordsAtPos(U,U==C.to?-2:2),B=t.coordsAtPos(ce,ce==C.from?2:-2);!W||!B||(j=Math.min(W.top,B.top,j),A=Math.max(W.bottom,B.bottom,A),Z==qo.LTR?_.push(i&&G?d:W.left,i&&ie?f:B.right):_.push(!i&&ie?d:B.left,!i&&G?f:W.right))}let T=w??C.from,z=S??C.to;for(let U of t.visibleRanges)if(U.to>T&&U.from<z)for(let G=Math.max(U.from,T),ce=Math.min(U.to,z);;){let ie=t.state.doc.lineAt(G);for(let Z of t.bidiSpans(ie)){let W=Z.from+ie.from,B=Z.to+ie.from;if(W>=ce)break;B>G&&R(Math.max(W,G),w==null&&W<=T,Math.min(B,ce),S==null&&B>=z,Z.dir)}if(G=ie.to+1,G>=ce)break}return _.length==0&&R(T,w==null,z,S==null,t.textDirection),{top:j,bottom:A,horizontal:_}}function k(w,S){let C=a.top+(S?w.top:w.bottom);return{top:C,bottom:C,horizontal:[]}}}function j2e(t,e){return t.constructor==e.constructor&&t.eq(e)}class A2e{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(Wk)!=e.state.facet(Wk)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(Wk);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!j2e(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let o of e)o.update&&n&&o.constructor&&this.drawn[r].constructor&&o.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(o.draw(),n);for(;n;){let o=n.nextSibling;n.remove(),n=o}this.drawn=e,At.safari&&At.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Wk=It.define();function PJ(t){return[di.define(e=>new A2e(e,t)),Wk.of(t)]}const G0=It.define({combine(t){return Fc(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function M2e(t={}){return[G0.of(t),T2e,O2e,$2e,iJ.of(!0)]}function IJ(t){return t.startState.facet(G0)!=t.state.facet(G0)}const T2e=PJ({above:!0,markers(t){let{state:e}=t,n=e.facet(G0),r=[];for(let o of e.selection.ranges){let i=o==e.selection.main;if(o.empty||n.drawRangeCursor){let s=i?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=o.empty?o:We.cursor(o.head,o.head>o.anchor?-1:1);for(let l of pw.forRange(t,s,a))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=IJ(t);return n&&TD(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){TD(e.state,t)},class:"cm-cursorLayer"});function TD(t,e){e.style.animationDuration=t.facet(G0).cursorBlinkRate+"ms"}const O2e=PJ({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:pw.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||IJ(t)},class:"cm-selectionLayer"}),$2e=Bm.highest(Mt.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),RJ=Xn.define({map(t,e){return t==null?null:e.mapPos(t)}}),b1=ks.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(RJ)?r.value:n,t)}}),E2e=di.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(b1);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(b1)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(b1),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(b1)!=t&&this.view.dispatch({effects:RJ.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function _2e(){return[b1,E2e]}function OD(t,e,n,r,o){e.lastIndex=0;for(let i=t.iterRange(n,r),s=n,a;!i.next().done;s+=i.value.length)if(!i.lineBreak)for(;a=e.exec(i.value);)o(s+a.index,a)}function P2e(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:o,to:i}of n)o=Math.max(t.state.doc.lineAt(o).from,o-e),i=Math.min(t.state.doc.lineAt(i).to,i+e),r.length&&r[r.length-1].to>=o?r[r.length-1].to=i:r.push({from:o,to:i});return r}class I2e{constructor(e){const{regexp:n,decoration:r,decorate:o,boundary:i,maxLength:s=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,o)this.addMatch=(a,l,c,u)=>o(u,c,c+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,c,u)=>{let d=r(a,l,c);d&&u(c,c+a[0].length,d)};else if(r)this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=i,this.maxLength=s}createDeco(e){let n=new Ec,r=n.add.bind(n);for(let{from:o,to:i}of P2e(e,this.maxLength))OD(e.state.doc,this.regexp,o,i,(s,a)=>this.addMatch(a,e,s,r));return n.finish()}updateDeco(e,n){let r=1e9,o=-1;return e.docChanged&&e.changes.iterChanges((i,s,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),o=Math.max(l,o))}),e.viewportMoved||o-r>1e3?this.createDeco(e.view):o>-1?this.updateRange(e.view,n.map(e.changes),r,o):n}updateRange(e,n,r,o){for(let i of e.visibleRanges){let s=Math.max(i.from,r),a=Math.min(i.to,o);if(a>=s){let l=e.state.doc.lineAt(s),c=l.to<a?e.state.doc.lineAt(a):l,u=Math.max(i.from,l.from),d=Math.min(i.to,c.to);if(this.boundary){for(;s>l.from;s--)if(this.boundary.test(l.text[s-1-l.from])){u=s;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){d=a;break}}let f=[],h,m=(g,v,y)=>f.push(y.range(g,v));if(l==c)for(this.regexp.lastIndex=u-l.from;(h=this.regexp.exec(l.text))&&h.index<d-l.from;)this.addMatch(h,e,h.index+l.from,m);else OD(e.state.doc,this.regexp,u,d,(g,v)=>this.addMatch(v,e,g,m));n=n.update({filterFrom:u,filterTo:d,filter:(g,v)=>g<u||v>d,add:f})}}return n}}const bE=/x/.unicode!=null?"gu":"g",R2e=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,bE),N2e={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let rT=null;function L2e(){var t;if(rT==null&&typeof document<"u"&&document.body){let e=document.body.style;rT=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return rT||!1}const Kk=It.define({combine(t){let e=Fc(t,{render:null,specialChars:R2e,addSpecialChars:null});return(e.replaceTabs=!L2e())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,bE)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,bE)),e}});function D2e(t={}){return[Kk.of(t),V2e()]}let $D=null;function V2e(){return $D||($D=di.fromClass(class{constructor(t){this.view=t,this.decorations=bn.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Kk)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new I2e({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:o}=n.state,i=Oa(e[0],0);if(i==9){let s=o.lineAt(r),a=n.state.tabSize,l=xy(s.text,a,r-s.from);return bn.replace({widget:new F2e((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[i]||(this.decorationCache[i]=bn.replace({widget:new H2e(t,i)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Kk);t.startState.facet(Kk)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const B2e="";function z2e(t){return t>=32?B2e:t==10?"":String.fromCharCode(9216+t)}class H2e extends Uh{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=z2e(this.code),r=e.state.phrase("Control character")+" "+(N2e[this.code]||"0x"+this.code.toString(16)),o=this.options.render&&this.options.render(this.code,r,n);if(o)return o;let i=document.createElement("span");return i.textContent=n,i.title=r,i.setAttribute("aria-label",r),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class F2e extends Uh{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function q2e(){return W2e}const U2e=bn.line({class:"cm-activeLine"}),W2e=di.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let o=t.lineBlockAt(r.head);o.from>e&&(n.push(U2e.range(o.from)),e=o.from)}return bn.set(n)}},{decorations:t=>t.decorations}),wE=2e3;function K2e(t,e,n){let r=Math.min(e.line,n.line),o=Math.max(e.line,n.line),i=[];if(e.off>wE||n.off>wE||e.col<0||n.col<0){let s=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=r;l<=o;l++){let c=t.doc.line(l);c.length<=a&&i.push(We.range(c.from+s,c.to+a))}}else{let s=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=r;l<=o;l++){let c=t.doc.line(l),u=X$(c.text,s,t.tabSize,!0);if(u<0)i.push(We.cursor(c.to));else{let d=X$(c.text,a,t.tabSize);i.push(We.range(c.from+u,c.from+d))}}}return i}function J2e(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function ED(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),o=n-r.from,i=o>wE?-1:o==r.length?J2e(t,e.clientX):xy(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:i,off:o}}function G2e(t,e){let n=ED(t,e),r=t.state.selection;return n?{update(o){if(o.docChanged){let i=o.changes.mapPos(o.startState.doc.line(n.line).from),s=o.state.doc.lineAt(i);n={line:s.number,col:n.col,off:Math.min(n.off,s.length)},r=r.map(o.changes)}},get(o,i,s){let a=ED(t,o);if(!a)return r;let l=K2e(t.state,n,a);return l.length?s?We.create(l.concat(r.ranges)):We.create(l):r}}:null}function Y2e(t){let e=n=>n.altKey&&n.button==0;return Mt.mouseSelectionStyle.of((n,r)=>e(r)?G2e(n,r):null)}const X2e={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},Q2e={style:"cursor: crosshair"};function Z2e(t={}){let[e,n]=X2e[t.key||"Alt"],r=di.fromClass(class{constructor(o){this.view=o,this.isDown=!1}set(o){this.isDown!=o&&(this.isDown=o,this.view.update([]))}},{eventObservers:{keydown(o){this.set(o.keyCode==e||n(o))},keyup(o){(o.keyCode==e||!n(o))&&this.set(!1)},mousemove(o){this.set(n(o))}}});return[r,Mt.contentAttributes.of(o=>{var i;return!((i=o.plugin(r))===null||i===void 0)&&i.isDown?Q2e:null})]}const jx="-10000px";class NJ{constructor(e,n,r,o){this.facet=n,this.createTooltipView=r,this.removeTooltipView=o,this.input=e.state.facet(n),this.tooltips=this.input.filter(s=>s);let i=null;this.tooltipViews=this.tooltips.map(s=>i=r(s,i))}update(e,n){var r;let o=e.state.facet(this.facet),i=o.filter(l=>l);if(o===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let s=[],a=n?[]:null;for(let l=0;l<i.length;l++){let c=i[l],u=-1;if(c){for(let d=0;d<this.tooltips.length;d++){let f=this.tooltips[d];f&&f.create==c.create&&(u=d)}if(u<0)s[l]=this.createTooltipView(c,l?s[l-1]:null),a&&(a[l]=!!c.above);else{let d=s[l]=this.tooltipViews[u];a&&(a[l]=n[u]),d.update&&d.update(e)}}}for(let l of this.tooltipViews)s.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(a.forEach((l,c)=>n[c]=l),n.length=a.length),this.input=o,this.tooltips=i,this.tooltipViews=s,!0}}function eCe(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const oT=It.define({combine:t=>{var e,n,r;return{position:At.ios?"absolute":((e=t.find(o=>o.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(o=>o.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(o=>o.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||eCe}}}),_D=new WeakMap,XP=di.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(oT);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new NJ(t,eA,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(oT);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let o of this.manager.tooltipViews)o.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let o of this.manager.tooltipViews)this.container.appendChild(o.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let o=document.createElement("div");o.className="cm-tooltip-arrow",n.dom.appendChild(o)}return n.dom.style.position=this.position,n.dom.style.top=jx,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(At.safari){let s=i.getBoundingClientRect();n=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}else n=!!i.offsetParent&&i.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(t=i.width/this.parent.offsetWidth,e=i.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),o=KP(this.view);return{visible:{left:r.left+o.left,top:r.top+o.top,right:r.right-o.right,bottom:r.bottom-o.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((i,s)=>{let a=this.manager.tooltipViews[s];return a.getCoords?a.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(oT).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:n,space:r,scaleX:o,scaleY:i}=t,s=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,d=t.pos[a],f=t.size[a];if(!d||l.clip!==!1&&(d.bottom<=Math.max(n.top,r.top)||d.top>=Math.min(n.bottom,r.bottom)||d.right<Math.max(n.left,r.left)-.1||d.left>Math.min(n.right,r.right)+.1)){u.style.top=jx;continue}let h=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,m=h?7:0,g=f.right-f.left,v=(e=_D.get(c))!==null&&e!==void 0?e:f.bottom-f.top,y=c.offset||nCe,b=this.view.textDirection==qo.LTR,x=f.width>r.right-r.left?b?r.left:r.right-f.width:b?Math.max(r.left,Math.min(d.left-(h?14:0)+y.x,r.right-g)):Math.min(Math.max(r.left,d.left-g+(h?14:0)-y.x),r.right-g),k=this.above[a];!l.strictSide&&(k?d.top-v-m-y.y<r.top:d.bottom+v+m+y.y>r.bottom)&&k==r.bottom-d.bottom>d.top-r.top&&(k=this.above[a]=!k);let w=(k?d.top-r.top:r.bottom-d.bottom)-m;if(w<v&&c.resize!==!1){if(w<this.view.defaultLineHeight){u.style.top=jx;continue}_D.set(c,v),u.style.height=(v=w)/i+"px"}else u.style.height&&(u.style.height="");let S=k?d.top-v-m-y.y:d.bottom+m+y.y,C=x+g;if(c.overlap!==!0)for(let j of s)j.left<C&&j.right>x&&j.top<S+v&&j.bottom>S&&(S=k?j.top-v-2-m:j.bottom+m+2);if(this.position=="absolute"?(u.style.top=(S-t.parent.top)/i+"px",PD(u,(x-t.parent.left)/o)):(u.style.top=S/i+"px",PD(u,x/o)),h){let j=d.left+(b?y.x:-y.x)-(x+14-7);h.style.left=j/o+"px"}c.overlap!==!0&&s.push({left:x,top:S,right:C,bottom:S+v}),u.classList.toggle("cm-tooltip-above",k),u.classList.toggle("cm-tooltip-below",!k),c.positioned&&c.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=jx}},{eventObservers:{scroll(){this.maybeMeasure()}}});function PD(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const tCe=Mt.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),nCe={x:0,y:0},eA=It.define({enables:[XP,tCe]}),m2=It.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class tA{static create(e){return new tA(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new NJ(e,m2,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let o=r[e];if(o!==void 0){if(n===void 0)n=o;else if(n!==o)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const rCe=eA.compute([m2],t=>{let e=t.facet(m2);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:tA.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class oCe{constructor(e,n,r,o,i){this.view=e,this.source=n,this.field=r,this.setHover=o,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.nearest(n.target);if(!r)return;let o,i=1;if(r instanceof vd)o=r.posAtStart;else{if(o=e.posAtCoords(n),o==null)return;let a=e.coordsAtPos(o);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-e.defaultCharacterWidth||n.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(o)).find(u=>u.from<=o&&u.to>=o),c=l&&l.dir==qo.RTL?-1:1;i=n.x<a.left?-c:c}let s=this.source(e,o,i);if(s!=null&&s.then){let a=this.pending={pos:o};s.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>ga(e.state,l,"hover tooltip"))}else s&&!(Array.isArray(s)&&!s.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let e=this.view.plugin(XP),n=e?e.manager.tooltips.findIndex(r=>r.create==tA.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:o,tooltip:i}=this;if(o.length&&i&&!iCe(i.dom,e)||this.pending){let{pos:s}=o[0]||this.pending,a=(r=(n=o[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:s;(s==a?this.view.posAtCoords(this.lastMove)!=s:!sCe(this.view,s,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Ax=4;function iCe(t,e){let{left:n,right:r,top:o,bottom:i}=t.getBoundingClientRect(),s;if(s=t.querySelector(".cm-tooltip-arrow")){let a=s.getBoundingClientRect();o=Math.min(a.top,o),i=Math.max(a.bottom,i)}return e.clientX>=n-Ax&&e.clientX<=r+Ax&&e.clientY>=o-Ax&&e.clientY<=i+Ax}function sCe(t,e,n,r,o,i){let s=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(s.left>r||s.right<r||s.top>o||Math.min(s.bottom,a)<o)return!1;let l=t.posAtCoords({x:r,y:o},!1);return l>=e&&l<=n}function aCe(t,e={}){let n=Xn.define(),r=ks.define({create(){return[]},update(o,i){if(o.length&&(e.hideOnChange&&(i.docChanged||i.selection)?o=[]:e.hideOn&&(o=o.filter(s=>!e.hideOn(i,s))),i.docChanged)){let s=[];for(let a of o){let l=i.changes.mapPos(a.pos,-1,ma.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=i.changes.mapPos(c.end)),s.push(c)}}o=s}for(let s of i.effects)s.is(n)&&(o=s.value),s.is(lCe)&&(o=[]);return o},provide:o=>m2.from(o)});return{active:r,extension:[r,di.define(o=>new oCe(o,t,r,n,e.hoverTime||300)),rCe]}}function LJ(t,e){let n=t.plugin(XP);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const lCe=Xn.define(),ID=It.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function Y0(t,e){let n=t.plugin(DJ),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const DJ=di.fromClass(class{constructor(t){this.input=t.state.facet(X0),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(ID);this.top=new Mx(t,!0,e.topContainer),this.bottom=new Mx(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(ID);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Mx(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Mx(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(X0);if(n!=this.input){let r=n.filter(l=>l),o=[],i=[],s=[],a=[];for(let l of r){let c=this.specs.indexOf(l),u;c<0?(u=l(t.view),a.push(u)):(u=this.panels[c],u.update&&u.update(t)),o.push(u),(u.top?i:s).push(u)}this.specs=r,this.panels=o,this.top.sync(i),this.bottom.sync(s);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Mt.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class Mx{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=RD(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=RD(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function RD(t){let e=t.nextSibling;return t.remove(),e}const X0=It.define({enables:DJ});class Pu extends pm{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Pu.prototype.elementClass="";Pu.prototype.toDOM=void 0;Pu.prototype.mapMode=ma.TrackBefore;Pu.prototype.startSide=Pu.prototype.endSide=-1;Pu.prototype.point=!0;const Jk=It.define(),cCe=It.define(),uCe={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>br.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},Z1=It.define();function VJ(t){return[BJ(),Z1.of({...uCe,...t})]}const ND=It.define({combine:t=>t.some(e=>e)});function BJ(t){return[dCe]}const dCe=di.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Z1).map(e=>new DD(t,e)),this.fixed=!t.state.facet(ND);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(ND)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=br.iter(this.view.state.facet(Jk),this.view.viewport.from),r=[],o=this.gutters.map(i=>new fCe(i,this.view.viewport,-this.view.documentPadding.top));for(let i of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(i.type)){let s=!0;for(let a of i.type)if(a.type==va.Text&&s){xE(n,r,a.from);for(let l of o)l.line(this.view,a,r);s=!1}else if(a.widget)for(let l of o)l.widget(this.view,a)}else if(i.type==va.Text){xE(n,r,i.from);for(let s of o)s.line(this.view,i,r)}else if(i.widget)for(let s of o)s.widget(this.view,i);for(let i of o)i.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(Z1),n=t.state.facet(Z1),r=t.docChanged||t.heightChanged||t.viewportChanged||!br.eq(t.startState.facet(Jk),t.state.facet(Jk),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let o of this.gutters)o.update(t)&&(r=!0);else{r=!0;let o=[];for(let i of n){let s=e.indexOf(i);s<0?o.push(new DD(this.view,i)):(this.gutters[s].update(t),o.push(this.gutters[s]))}for(let i of this.gutters)i.dom.remove(),o.indexOf(i)<0&&i.destroy();for(let i of o)i.config.side=="after"?this.getDOMAfter().appendChild(i.dom):this.dom.appendChild(i.dom);this.gutters=o}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>Mt.scrollMargins.of(e=>{let n=e.plugin(t);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,o=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==qo.LTR?{left:r,right:o}:{right:r,left:o}})});function LD(t){return Array.isArray(t)?t:[t]}function xE(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class fCe{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=br.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:o}=this,i=(n.top-this.height)/e.scaleY,s=n.height/e.scaleY;if(this.i==o.elements.length){let a=new zJ(e,s,i,r);o.elements.push(a),o.dom.appendChild(a.dom)}else o.elements[this.i].update(e,s,i,r);this.height=n.bottom,this.i++}line(e,n,r){let o=[];xE(this.cursor,o,n.from),r.length&&(o=o.concat(r));let i=this.gutter.config.lineMarker(e,n,o);i&&o.unshift(i);let s=this.gutter;o.length==0&&!s.config.renderEmptyElements||this.addElement(e,n,o)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),o=r?[r]:null;for(let i of e.state.facet(cCe)){let s=i(e,n.widget,n);s&&(o||(o=[])).push(s)}o&&this.addElement(e,n,o)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class DD{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,o=>{let i=o.target,s;if(i!=this.dom&&this.dom.contains(i)){for(;i.parentNode!=this.dom;)i=i.parentNode;let l=i.getBoundingClientRect();s=(l.top+l.bottom)/2}else s=o.clientY;let a=e.lineBlockAtHeight(s-e.documentTop);n.domEventHandlers[r](e,a,o)&&o.preventDefault()});this.markers=LD(n.markers(e)),n.initialSpacer&&(this.spacer=new zJ(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=LD(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let o=this.config.updateSpacer(this.spacer.markers[0],e);o!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[o])}let r=e.view.viewport;return!br.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class zJ{constructor(e,n,r,o){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,o)}update(e,n,r,o){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),hCe(this.markers,o)||this.setMarkers(e,o)}setMarkers(e,n){let r="cm-gutterElement",o=this.dom.firstChild;for(let i=0,s=0;;){let a=s,l=i<n.length?n[i++]:null,c=!1;if(l){let u=l.elementClass;u&&(r+=" "+u);for(let d=s;d<this.markers.length;d++)if(this.markers[d].compare(l)){a=d,c=!0;break}}else a=this.markers.length;for(;s<a;){let u=this.markers[s++];if(u.toDOM){u.destroy(o);let d=o.nextSibling;o.remove(),o=d}}if(!l)break;l.toDOM&&(c?o=o.nextSibling:this.dom.insertBefore(l.toDOM(e),o)),c&&s++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function hCe(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const pCe=It.define(),mCe=It.define(),Dg=It.define({combine(t){return Fc(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let o in n){let i=r[o],s=n[o];r[o]=i?(a,l,c)=>i(a,l,c)||s(a,l,c):s}return r}})}});class iT extends Pu{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function sT(t,e){return t.state.facet(Dg).formatNumber(e,t.state)}const gCe=Z1.compute([Dg],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(pCe)},lineMarker(e,n,r){return r.some(o=>o.toDOM)?null:new iT(sT(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let o of e.state.facet(mCe)){let i=o(e,n,r);if(i)return i}return null},lineMarkerChange:e=>e.startState.facet(Dg)!=e.state.facet(Dg),initialSpacer(e){return new iT(sT(e,VD(e.state.doc.lines)))},updateSpacer(e,n){let r=sT(n.view,VD(n.view.state.doc.lines));return r==e.number?e:new iT(r)},domEventHandlers:t.facet(Dg).domEventHandlers,side:"before"}));function vCe(t={}){return[Dg.of(t),BJ(),gCe]}function VD(t){let e=9;for(;e<t;)e=e*10+9;return e}const yCe=new class extends Pu{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},bCe=Jk.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let o=t.doc.lineAt(r.head).from;o>n&&(n=o,e.push(yCe.range(o)))}return br.of(e)});function wCe(){return bCe}const HJ=1024;let xCe=0;class aT{constructor(e,n){this.from=e,this.to=n}}class ar{constructor(e={}){this.id=xCe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Fl.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}ar.closedBy=new ar({deserialize:t=>t.split(" ")});ar.openedBy=new ar({deserialize:t=>t.split(" ")});ar.group=new ar({deserialize:t=>t.split(" ")});ar.isolate=new ar({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});ar.contextHash=new ar({perNode:!0});ar.lookAhead=new ar({perNode:!0});ar.mounted=new ar({perNode:!0});class g2{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[ar.mounted.id]}}const kCe=Object.create(null);let Fl=class FJ{constructor(e,n,r,o=0){this.name=e,this.props=n,this.id=r,this.flags=o}static define(e){let n=e.props&&e.props.length?Object.create(null):kCe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),o=new FJ(e.name||"",n,e.id,r);if(e.props){for(let i of e.props)if(Array.isArray(i)||(i=i(o)),i){if(i[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[i[0].id]=i[1]}}return o}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(ar.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let o of r.split(" "))n[o]=e[r];return r=>{for(let o=r.prop(ar.group),i=-1;i<(o?o.length:0);i++){let s=n[i<0?r.name:o[i]];if(s)return s}}}};Fl.none=new Fl("",Object.create(null),0,8);class QP{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let o=null;for(let i of e){let s=i(r);if(s){o||(o=Object.assign({},r.props));let a=s[1],l=s[0];l.combine&&l.id in o&&(a=l.combine(o[l.id],a)),o[l.id]=a}}n.push(o?new Fl(r.name,o,r.id,r.flags):r)}return new QP(n)}}const Tx=new WeakMap,BD=new WeakMap;var cs;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(cs||(cs={}));class Hi{constructor(e,n,r,o,i){if(this.type=e,this.children=n,this.positions=r,this.length=o,this.props=null,i&&i.length){this.props=Object.create(null);for(let[s,a]of i)this.props[typeof s=="number"?s:s.id]=a}}toString(){let e=g2.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let o=r.toString();o&&(n&&(n+=","),n+=o)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new SE(this.topNode,e)}cursorAt(e,n=0,r=0){let o=Tx.get(this)||this.topNode,i=new SE(o);return i.moveTo(e,n),Tx.set(this,i._tree),i}get topNode(){return new Nl(this,0,0,null)}resolve(e,n=0){let r=Q0(Tx.get(this)||this.topNode,e,n,!1);return Tx.set(this,r),r}resolveInner(e,n=0){let r=Q0(BD.get(this)||this.topNode,e,n,!0);return BD.set(this,r),r}resolveStack(e,n=0){return jCe(this,e,n)}iterate(e){let{enter:n,leave:r,from:o=0,to:i=this.length}=e,s=e.mode||0,a=(s&cs.IncludeAnonymous)>0;for(let l=this.cursor(s|cs.IncludeAnonymous);;){let c=!1;if(l.from<=i&&l.to>=o&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:tI(Fl.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,o)=>new Hi(this.type,n,r,o,this.propValues),e.makeTree||((n,r,o)=>new Hi(Fl.none,n,r,o)))}static build(e){return ACe(e)}}Hi.empty=new Hi(Fl.none,[],[],0);class ZP{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new ZP(this.buffer,this.index)}}class Oh{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return Fl.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],o=this.set.types[n],i=o.name;if(/\W/.test(i)&&!o.isError&&(i=JSON.stringify(i)),e+=4,r==e)return i;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return i+"("+s.join(",")+")"}findChild(e,n,r,o,i){let{buffer:s}=this,a=-1;for(let l=e;l!=n&&!(qJ(i,o,s[l+1],s[l+2])&&(a=l,r>0));l=s[l+3]);return a}slice(e,n,r){let o=this.buffer,i=new Uint16Array(n-e),s=0;for(let a=e,l=0;a<n;){i[l++]=o[a++],i[l++]=o[a++]-r;let c=i[l++]=o[a++]-r;i[l++]=o[a++]-e,s=Math.max(s,c)}return new Oh(i,s,this.set)}}function qJ(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function Q0(t,e,n,r){for(var o;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let s=!r&&t instanceof Nl&&t.index<0?null:t.parent;if(!s)return t;t=s}let i=r?0:cs.IgnoreOverlays;if(r)for(let s=t,a=s.parent;a;s=a,a=s.parent)s instanceof Nl&&s.index<0&&((o=a.enter(e,n,i))===null||o===void 0?void 0:o.from)!=s.from&&(t=a);for(;;){let s=t.enter(e,n,i);if(!s)return t;t=s}}class UJ{cursor(e=0){return new SE(this,e)}getChild(e,n=null,r=null){let o=zD(this,e,n,r);return o.length?o[0]:null}getChildren(e,n=null,r=null){return zD(this,e,n,r)}resolve(e,n=0){return Q0(this,e,n,!1)}resolveInner(e,n=0){return Q0(this,e,n,!0)}matchContext(e){return kE(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let o=n.lastChild;if(!o||o.to!=n.to)break;o.type.isError&&o.from==o.to?(r=n,n=o.prevSibling):n=o}return r}get node(){return this}get next(){return this.parent}}class Nl extends UJ{constructor(e,n,r,o){super(),this._tree=e,this.from=n,this.index=r,this._parent=o}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,o,i=0){for(let s=this;;){for(let{children:a,positions:l}=s._tree,c=n>0?a.length:-1;e!=c;e+=n){let u=a[e],d=l[e]+s.from;if(qJ(o,r,d,d+u.length)){if(u instanceof Oh){if(i&cs.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,n,r-d,o);if(f>-1)return new Zf(new SCe(s,u,e,d),null,f)}else if(i&cs.IncludeAnonymous||!u.type.isAnonymous||eI(u)){let f;if(!(i&cs.IgnoreMounts)&&(f=g2.get(u))&&!f.overlay)return new Nl(f.tree,d,e,s);let h=new Nl(u,d,e,s);return i&cs.IncludeAnonymous||!h.type.isAnonymous?h:h.nextChild(n<0?u.children.length-1:0,n,r,o)}}}if(i&cs.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+n:e=n<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,n,r=0){let o;if(!(r&cs.IgnoreOverlays)&&(o=g2.get(this._tree))&&o.overlay){let i=e-this.from;for(let{from:s,to:a}of o.overlay)if((n>0?s<=i:s<i)&&(n<0?a>=i:a>i))return new Nl(o.tree,o.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function zD(t,e,n,r){let o=t.cursor(),i=[];if(!o.firstChild())return i;if(n!=null){for(let s=!1;!s;)if(s=o.type.is(n),!o.nextSibling())return i}for(;;){if(r!=null&&o.type.is(r))return i;if(o.type.is(e)&&i.push(o.node),!o.nextSibling())return r==null?i:[]}}function kE(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class SCe{constructor(e,n,r,o){this.parent=e,this.buffer=n,this.index=r,this.start=o}}class Zf extends UJ{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:o}=this.context,i=o.findChild(this.index+4,o.buffer[this.index+3],e,n-this.context.start,r);return i<0?null:new Zf(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,n,r=0){if(r&cs.ExcludeBuffers)return null;let{buffer:o}=this.context,i=o.findChild(this.index+4,o.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return i<0?null:new Zf(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Zf(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Zf(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,o=this.index+4,i=r.buffer[this.index+3];if(i>o){let s=r.buffer[this.index+1];e.push(r.slice(o,i,s)),n.push(0)}return new Hi(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function WJ(t){if(!t.length)return null;let e=0,n=t[0];for(let i=1;i<t.length;i++){let s=t[i];(s.from>n.from||s.to<n.to)&&(n=s,e=i)}let r=n instanceof Nl&&n.index<0?null:n.parent,o=t.slice();return r?o[e]=r:o.splice(e,1),new CCe(o,n)}class CCe{constructor(e,n){this.heads=e,this.node=n}get next(){return WJ(this.heads)}}function jCe(t,e,n){let r=t.resolveInner(e,n),o=null;for(let i=r instanceof Nl?r:r.context.parent;i;i=i.parent)if(i.index<0){let s=i.parent;(o||(o=[r])).push(s.resolve(e,n)),i=s}else{let s=g2.get(i.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let a=new Nl(s.tree,s.overlay[0].from+i.from,-1,i);(o||(o=[r])).push(Q0(a,e,n,!1))}}return o?WJ(o):r}class SE{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Nl)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:o}=this.buffer;return this.type=n||o.set.types[o.buffer[e]],this.from=r+o.buffer[e+1],this.to=r+o.buffer[e+2],!0}yield(e){return e?e instanceof Nl?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:o}=this.buffer,i=o.findChild(this.index+4,o.buffer[this.index+3],e,n-this.buffer.start,r);return i<0?!1:(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&cs.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&cs.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&cs.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let o=r<0?0:this.stack[r]+4;if(this.index!=o)return this.yieldBuf(n.findChild(o,this.index,-1,0,4))}else{let o=n.buffer[this.index+3];if(o<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(o)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:o}=this;if(o){if(e>0){if(this.index<o.buffer.buffer.length)return!1}else for(let i=0;i<this.index;i++)if(o.buffer.buffer[i+3]<this.index)return!1;({index:n,parent:r}=o)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let i=n+e,s=e<0?-1:r._tree.children.length;i!=s;i+=e){let a=r._tree.children[i];if(this.mode&cs.IncludeAnonymous||a instanceof Oh||!a.type.isAnonymous||eI(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let o=this.index,i=this.stack.length;i>=0;){for(let s=e;s;s=s._parent)if(s.index==o){if(o==this.index)return s;n=s,r=i+1;break e}o=this.stack[--i]}for(let o=r;o<this.stack.length;o++)n=new Zf(this.buffer,n,this.stack[o]);return this.bufferNode=new Zf(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let o=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(o=!0)}for(;;){if(o&&n&&n(this),o=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,o=!0}}}matchContext(e){if(!this.buffer)return kE(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let o=e.length-1,i=this.stack.length-1;o>=0;i--){if(i<0)return kE(this._tree,e,o);let s=r[n.buffer[this.stack[i]]];if(!s.isAnonymous){if(e[o]&&e[o]!=s.name)return!1;o--}}return!0}}function eI(t){return t.children.some(e=>e instanceof Oh||!e.type.isAnonymous||eI(e))}function ACe(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:o=HJ,reused:i=[],minRepeatType:s=r.types.length}=t,a=Array.isArray(n)?new ZP(n,n.length):n,l=r.types,c=0,u=0;function d(w,S,C,j,A,_){let{id:R,start:T,end:z,size:U}=a,G=u,ce=c;if(U<0)if(a.next(),U==-1){let H=i[R];C.push(H),j.push(T-w);return}else if(U==-3){c=R;return}else if(U==-4){u=R;return}else throw new RangeError(`Unrecognized record size: ${U}`);let ie=l[R],Z,W,B=T-w;if(z-T<=o&&(W=v(a.pos-S,A))){let H=new Uint16Array(W.size-W.skip),K=a.pos-W.size,P=H.length;for(;a.pos>K;)P=y(W.start,H,P);Z=new Oh(H,z-W.start,r),B=W.start-w}else{let H=a.pos-U;a.next();let K=[],P=[],M=R>=s?R:-1,N=0,he=z;for(;a.pos>H;)M>=0&&a.id==M&&a.size>=0?(a.end<=he-o&&(m(K,P,T,N,a.end,he,M,G,ce),N=K.length,he=a.end),a.next()):_>2500?f(T,H,K,P):d(T,H,K,P,M,_+1);if(M>=0&&N>0&&N<K.length&&m(K,P,T,N,T,he,M,G,ce),K.reverse(),P.reverse(),M>-1&&N>0){let ge=h(ie,ce);Z=tI(ie,K,P,0,K.length,0,z-T,ge,ge)}else Z=g(ie,K,P,z-T,G-z,ce)}C.push(Z),j.push(B)}function f(w,S,C,j){let A=[],_=0,R=-1;for(;a.pos>S;){let{id:T,start:z,end:U,size:G}=a;if(G>4)a.next();else{if(R>-1&&z<R)break;R<0&&(R=U-o),A.push(T,z,U),_++,a.next()}}if(_){let T=new Uint16Array(_*4),z=A[A.length-2];for(let U=A.length-3,G=0;U>=0;U-=3)T[G++]=A[U],T[G++]=A[U+1]-z,T[G++]=A[U+2]-z,T[G++]=G;C.push(new Oh(T,A[2]-z,r)),j.push(z-w)}}function h(w,S){return(C,j,A)=>{let _=0,R=C.length-1,T,z;if(R>=0&&(T=C[R])instanceof Hi){if(!R&&T.type==w&&T.length==A)return T;(z=T.prop(ar.lookAhead))&&(_=j[R]+T.length+z)}return g(w,C,j,A,_,S)}}function m(w,S,C,j,A,_,R,T,z){let U=[],G=[];for(;w.length>j;)U.push(w.pop()),G.push(S.pop()+C-A);w.push(g(r.types[R],U,G,_-A,T-_,z)),S.push(A-C)}function g(w,S,C,j,A,_,R){if(_){let T=[ar.contextHash,_];R=R?[T].concat(R):[T]}if(A>25){let T=[ar.lookAhead,A];R=R?[T].concat(R):[T]}return new Hi(w,S,C,j,R)}function v(w,S){let C=a.fork(),j=0,A=0,_=0,R=C.end-o,T={size:0,start:0,skip:0};e:for(let z=C.pos-w;C.pos>z;){let U=C.size;if(C.id==S&&U>=0){T.size=j,T.start=A,T.skip=_,_+=4,j+=4,C.next();continue}let G=C.pos-U;if(U<0||G<z||C.start<R)break;let ce=C.id>=s?4:0,ie=C.start;for(C.next();C.pos>G;){if(C.size<0)if(C.size==-3||C.size==-4)ce+=4;else break e;else C.id>=s&&(ce+=4);C.next()}A=ie,j+=U,_+=ce}return(S<0||j==w)&&(T.size=j,T.start=A,T.skip=_),T.size>4?T:void 0}function y(w,S,C){let{id:j,start:A,end:_,size:R}=a;if(a.next(),R>=0&&j<s){let T=C;if(R>4){let z=a.pos-(R-4);for(;a.pos>z;)C=y(w,S,C)}S[--C]=T,S[--C]=_-w,S[--C]=A-w,S[--C]=j}else R==-3?c=j:R==-4&&(u=j);return C}let b=[],x=[];for(;a.pos>0;)d(t.start||0,t.bufferStart||0,b,x,-1,0);let k=(e=t.length)!==null&&e!==void 0?e:b.length?x[0]+b[0].length:0;return new Hi(l[t.topID],b.reverse(),x.reverse(),k)}const HD=new WeakMap;function Gk(t,e){if(!t.isAnonymous||e instanceof Oh||e.type!=t)return 1;let n=HD.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Hi)){n=1;break}n+=Gk(t,r)}HD.set(e,n)}return n}function tI(t,e,n,r,o,i,s,a,l){let c=0;for(let m=r;m<o;m++)c+=Gk(t,e[m]);let u=Math.ceil(c*1.5/8),d=[],f=[];function h(m,g,v,y,b){for(let x=v;x<y;){let k=x,w=g[x],S=Gk(t,m[x]);for(x++;x<y;x++){let C=Gk(t,m[x]);if(S+C>=u)break;S+=C}if(x==k+1){if(S>u){let C=m[k];h(C.children,C.positions,0,C.children.length,g[k]+b);continue}d.push(m[k])}else{let C=g[x-1]+m[x-1].length-w;d.push(tI(t,m,g,k,x,w,C,null,l))}f.push(w+b-i)}}return h(e,n,r,o,0),(a||l)(d,f,s)}class qp{constructor(e,n,r,o,i=!1,s=!1){this.from=e,this.to=n,this.tree=r,this.offset=o,this.open=(i?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let o=[new qp(0,e.length,e,0,!1,r)];for(let i of n)i.to>e.length&&o.push(i);return o}static applyChanges(e,n,r=128){if(!n.length)return e;let o=[],i=1,s=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<n.length?n[a]:null,d=u?u.fromA:1e9;if(d-l>=r)for(;s&&s.from<d;){let f=s;if(l>=f.from||d<=f.to||c){let h=Math.max(f.from,l)-c,m=Math.min(f.to,d)-c;f=h>=m?null:new qp(h,m,f.tree,f.offset+c,a>0,!!u)}if(f&&o.push(f),s.to>d)break;s=i<e.length?e[i++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return o}}class KJ{startParse(e,n,r){return typeof e=="string"&&(e=new MCe(e)),r=r?r.length?r.map(o=>new aT(o.from,o.to)):[new aT(0,0)]:[new aT(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let o=this.startParse(e,n,r);for(;;){let i=o.advance();if(i)return i}}}class MCe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new ar({perNode:!0});let TCe=0;class Tl{constructor(e,n,r,o){this.name=e,this.set=n,this.base=r,this.modified=o,this.id=TCe++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof Tl&&(n=e),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let o=new Tl(r,[],null,[]);if(o.set.push(o),n)for(let i of n.set)o.set.push(i);return o}static defineModifier(e){let n=new v2(e);return r=>r.modified.indexOf(n)>-1?r:v2.get(r.base||r,r.modified.concat(n).sort((o,i)=>o.id-i.id))}}let OCe=0;class v2{constructor(e){this.name=e,this.instances=[],this.id=OCe++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&$Ce(n,a.modified));if(r)return r;let o=[],i=new Tl(e.name,o,e,n);for(let a of n)a.instances.push(i);let s=ECe(n);for(let a of e.set)if(!a.modified.length)for(let l of s)o.push(v2.get(a,l));return i}}function $Ce(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function ECe(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,o=e.length;r<o;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function JJ(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let o of n.split(" "))if(o){let i=[],s=2,a=o;for(let d=0;;){if(a=="..."&&d>0&&d+3==o.length){s=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+o);if(i.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),d+=f[0].length,d==o.length)break;let h=o[d++];if(d==o.length&&h=="!"){s=0;break}if(h!="/")throw new RangeError("Invalid path: "+o);a=o.slice(d)}let l=i.length-1,c=i[l];if(!c)throw new RangeError("Invalid path: "+o);let u=new Z0(r,s,l>0?i.slice(0,l):null);e[c]=u.sort(e[c])}}return GJ.add(e)}const GJ=new ar({combine(t,e){let n,r,o;for(;t||e;){if(!t||e&&t.depth>=e.depth?(o=e,e=e.next):(o=t,t=t.next),n&&n.mode==o.mode&&!o.context&&!n.context)continue;let i=new Z0(o.tags,o.mode,o.context);n?n.next=i:r=i,n=i}return r}});class Z0{constructor(e,n,r,o){this.tags=e,this.mode=n,this.context=r,this.next=o}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Z0.empty=new Z0([],2,null);function YJ(t,e){let n=Object.create(null);for(let i of t)if(!Array.isArray(i.tag))n[i.tag.id]=i.class;else for(let s of i.tag)n[s.id]=i.class;let{scope:r,all:o=null}=e||{};return{style:i=>{let s=o;for(let a of i)for(let l of a.set){let c=n[l.id];if(c){s=s?s+" "+c:c;break}}return s},scope:r}}function _Ce(t,e){let n=null;for(let r of t){let o=r.style(e);o&&(n=n?n+" "+o:o)}return n}function PCe(t,e,n,r=0,o=t.length){let i=new ICe(r,Array.isArray(e)?e:[e],n);i.highlightRange(t.cursor(),r,o,"",i.highlighters),i.flush(o)}class ICe{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,o,i){let{type:s,from:a,to:l}=e;if(a>=r||l<=n)return;s.isTop&&(i=this.highlighters.filter(h=>!h.scope||h.scope(s)));let c=o,u=RCe(e)||Z0.empty,d=_Ce(i,u.tags);if(d&&(c&&(c+=" "),c+=d,u.mode==1&&(o+=(o?" ":"")+d)),this.startSpan(Math.max(n,a),c),u.opaque)return;let f=e.tree&&e.tree.prop(ar.mounted);if(f&&f.overlay){let h=e.node.enter(f.overlay[0].from+a,1),m=this.highlighters.filter(v=>!v.scope||v.scope(f.tree.type)),g=e.firstChild();for(let v=0,y=a;;v++){let b=v<f.overlay.length?f.overlay[v]:null,x=b?b.from+a:l,k=Math.max(n,y),w=Math.min(r,x);if(k<w&&g)for(;e.from<w&&(this.highlightRange(e,k,w,o,i),this.startSpan(Math.min(w,e.to),c),!(e.to>=x||!e.nextSibling())););if(!b||x>r)break;y=b.to+a,y>n&&(this.highlightRange(h.cursor(),Math.max(n,b.from+a),Math.min(r,y),"",m),this.startSpan(Math.min(r,y),c))}g&&e.parent()}else if(e.firstChild()){f&&(o="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,o,i),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function RCe(t){let e=t.type.prop(GJ);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const gt=Tl.define,Ox=gt(),Rf=gt(),FD=gt(Rf),qD=gt(Rf),Nf=gt(),$x=gt(Nf),lT=gt(Nf),ru=gt(),fp=gt(ru),Zc=gt(),eu=gt(),CE=gt(),Qy=gt(CE),Ex=gt(),ct={comment:Ox,lineComment:gt(Ox),blockComment:gt(Ox),docComment:gt(Ox),name:Rf,variableName:gt(Rf),typeName:FD,tagName:gt(FD),propertyName:qD,attributeName:gt(qD),className:gt(Rf),labelName:gt(Rf),namespace:gt(Rf),macroName:gt(Rf),literal:Nf,string:$x,docString:gt($x),character:gt($x),attributeValue:gt($x),number:lT,integer:gt(lT),float:gt(lT),bool:gt(Nf),regexp:gt(Nf),escape:gt(Nf),color:gt(Nf),url:gt(Nf),keyword:Zc,self:gt(Zc),null:gt(Zc),atom:gt(Zc),unit:gt(Zc),modifier:gt(Zc),operatorKeyword:gt(Zc),controlKeyword:gt(Zc),definitionKeyword:gt(Zc),moduleKeyword:gt(Zc),operator:eu,derefOperator:gt(eu),arithmeticOperator:gt(eu),logicOperator:gt(eu),bitwiseOperator:gt(eu),compareOperator:gt(eu),updateOperator:gt(eu),definitionOperator:gt(eu),typeOperator:gt(eu),controlOperator:gt(eu),punctuation:CE,separator:gt(CE),bracket:Qy,angleBracket:gt(Qy),squareBracket:gt(Qy),paren:gt(Qy),brace:gt(Qy),content:ru,heading:fp,heading1:gt(fp),heading2:gt(fp),heading3:gt(fp),heading4:gt(fp),heading5:gt(fp),heading6:gt(fp),contentSeparator:gt(ru),list:gt(ru),quote:gt(ru),emphasis:gt(ru),strong:gt(ru),link:gt(ru),monospace:gt(ru),strikethrough:gt(ru),inserted:gt(),deleted:gt(),changed:gt(),invalid:gt(),meta:Ex,documentMeta:gt(Ex),annotation:gt(Ex),processingInstruction:gt(Ex),definition:Tl.defineModifier("definition"),constant:Tl.defineModifier("constant"),function:Tl.defineModifier("function"),standard:Tl.defineModifier("standard"),local:Tl.defineModifier("local"),special:Tl.defineModifier("special")};for(let t in ct){let e=ct[t];e instanceof Tl&&(e.name=t)}YJ([{tag:ct.link,class:"tok-link"},{tag:ct.heading,class:"tok-heading"},{tag:ct.emphasis,class:"tok-emphasis"},{tag:ct.strong,class:"tok-strong"},{tag:ct.keyword,class:"tok-keyword"},{tag:ct.atom,class:"tok-atom"},{tag:ct.bool,class:"tok-bool"},{tag:ct.url,class:"tok-url"},{tag:ct.labelName,class:"tok-labelName"},{tag:ct.inserted,class:"tok-inserted"},{tag:ct.deleted,class:"tok-deleted"},{tag:ct.literal,class:"tok-literal"},{tag:ct.string,class:"tok-string"},{tag:ct.number,class:"tok-number"},{tag:[ct.regexp,ct.escape,ct.special(ct.string)],class:"tok-string2"},{tag:ct.variableName,class:"tok-variableName"},{tag:ct.local(ct.variableName),class:"tok-variableName tok-local"},{tag:ct.definition(ct.variableName),class:"tok-variableName tok-definition"},{tag:ct.special(ct.variableName),class:"tok-variableName2"},{tag:ct.definition(ct.propertyName),class:"tok-propertyName tok-definition"},{tag:ct.typeName,class:"tok-typeName"},{tag:ct.namespace,class:"tok-namespace"},{tag:ct.className,class:"tok-className"},{tag:ct.macroName,class:"tok-macroName"},{tag:ct.propertyName,class:"tok-propertyName"},{tag:ct.operator,class:"tok-operator"},{tag:ct.comment,class:"tok-comment"},{tag:ct.meta,class:"tok-meta"},{tag:ct.invalid,class:"tok-invalid"},{tag:ct.punctuation,class:"tok-punctuation"}]);var cT;const Vg=new ar;function NCe(t){return It.define({combine:t?e=>e.concat(t):void 0})}const LCe=new ar;class $l{constructor(e,n,r=[],o=""){this.data=e,this.name=o,fr.prototype.hasOwnProperty("tree")||Object.defineProperty(fr.prototype,"tree",{get(){return na(this)}}),this.parser=n,this.extension=[$h.of(this),fr.languageData.of((i,s,a)=>{let l=UD(i,s,a),c=l.type.prop(Vg);if(!c)return[];let u=i.facet(c),d=l.type.prop(LCe);if(d){let f=l.resolve(s-l.from,a);for(let h of d)if(h.test(f,i)){let m=i.facet(h.facet);return h.type=="replace"?m:m.concat(u)}}return u})].concat(r)}isActiveAt(e,n,r=-1){return UD(e,n,r).type.prop(Vg)==this.data}findRegions(e){let n=e.facet($h);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],o=(i,s)=>{if(i.prop(Vg)==this.data){r.push({from:s,to:s+i.length});return}let a=i.prop(ar.mounted);if(a){if(a.tree.prop(Vg)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+s,to:l.to+s});else r.push({from:s,to:s+i.length});return}else if(a.overlay){let l=r.length;if(o(a.tree,a.overlay[0].from+s),r.length>l)return}}for(let l=0;l<i.children.length;l++){let c=i.children[l];c instanceof Hi&&o(c,i.positions[l]+s)}};return o(na(e),0),r}get allowsNesting(){return!0}}$l.setState=Xn.define();function UD(t,e,n){let r=t.facet($h),o=na(t).topNode;if(!r||r.allowsNesting)for(let i=o;i;i=i.enter(e,n,cs.ExcludeBuffers))i.type.isTop&&(o=i);return o}class y2 extends $l{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=NCe(e.languageData);return new y2(n,e.parser.configure({props:[Vg.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new y2(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function na(t){let e=t.field($l.state,!1);return e?e.tree:Hi.empty}function WD(t,e,n=50){var r;let o=(r=t.field($l.state,!1))===null||r===void 0?void 0:r.context;if(!o)return null;let i=o.viewport;o.updateViewport({from:0,to:e});let s=o.isDone(e)||o.work(n,e)?o.tree:null;return o.updateViewport(i),s}class DCe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Zy=null,VCe=class jE{constructor(e,n,r=[],o,i,s,a,l){this.parser=e,this.state=n,this.fragments=r,this.tree=o,this.treeLen=i,this.viewport=s,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new jE(e,n,[],Hi.empty,0,r,[],null)}startParse(){return this.parser.startParse(new DCe(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Hi.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let o=Date.now()+e;e=()=>Date.now()>o}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let o=this.parse.advance();if(o)if(this.fragments=this.withoutTempSkipped(qp.addTree(o,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=o,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(qp.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Zy;Zy=this;try{return e()}finally{Zy=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=KD(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:o,treeLen:i,viewport:s,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,d,f)=>l.push({fromA:c,toA:u,fromB:d,toB:f})),r=qp.applyChanges(r,l),o=Hi.empty,i=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),d=e.mapPos(c.to,-1);u<d&&a.push({from:u,to:d})}}}return new jE(this.parser,n,r,o,i,s,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:o,to:i}=this.skipped[r];o<e.to&&i>e.from&&(this.fragments=KD(this.fragments,o,i),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends KJ{createParse(n,r,o){let i=o[0].from,s=o[o.length-1].to;return{parsedPos:i,advance(){let l=Zy;if(l){for(let c of o)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=s,new Hi(Fl.none,[],[],s-i)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Zy}};function KD(t,e,n){return qp.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Dv{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Dv(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=VCe.create(e.facet($h).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Dv(r)}}$l.state=ks.define({create:Dv.init,update(t,e){for(let n of e.effects)if(n.is($l.setState))return n.value;return e.startState.facet($h)!=e.state.facet($h)?Dv.init(e.state):t.apply(e)}});let XJ=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(XJ=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const uT=typeof navigator<"u"&&(!((cT=navigator.scheduling)===null||cT===void 0)&&cT.isInputPending)?()=>navigator.scheduling.isInputPending():null,BCe=di.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field($l.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field($l.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=XJ(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:o}}=this.view,i=r.field($l.state);if(i.tree==i.context.tree&&i.context.isDone(o+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!uT?Math.max(25,e.timeRemaining()-5):1e9),a=i.context.treeLen<o&&r.doc.length>o+1e3,l=i.context.work(()=>uT&&uT()||Date.now()>s,o+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:$l.setState.of(new Dv(i.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>ga(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),$h=It.define({combine(t){return t.length?t[0]:null},enables:t=>[$l.state,BCe,Mt.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class zCe{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const HCe=It.define(),nA=It.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Eh(t){let e=t.facet(nA);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function eb(t,e){let n="",r=t.tabSize,o=t.facet(nA)[0];if(o=="	"){for(;e>=r;)n+="	",e-=r;o=" "}for(let i=0;i<e;i++)n+=o;return n}function nI(t,e){t instanceof fr&&(t=new rA(t));for(let r of t.state.facet(HCe)){let o=r(t,e);if(o!==void 0)return o}let n=na(t.state);return n.length>=e?FCe(t,n,e):null}class rA{constructor(e,n={}){this.state=e,this.options=n,this.unit=Eh(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:o,simulateDoubleBreak:i}=this.options;return o!=null&&o>=r.from&&o<=r.to?i&&o==e?{text:"",from:e}:(n<0?o<e:o<=e)?{text:r.text.slice(o-r.from),from:o}:{text:r.text.slice(0,o-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:o}=this.lineAt(e,n);return r.slice(e-o,Math.min(r.length,e+100-o))}column(e,n=1){let{text:r,from:o}=this.lineAt(e,n),i=this.countColumn(r,e-o),s=this.options.overrideIndentation?this.options.overrideIndentation(o):-1;return s>-1&&(i+=s-this.countColumn(r,r.search(/\S|$/))),i}countColumn(e,n=e.length){return xy(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:o}=this.lineAt(e,n),i=this.options.overrideIndentation;if(i){let s=i(o);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const QJ=new ar;function FCe(t,e,n){let r=e.resolveStack(n),o=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(o!=r.node){let i=[];for(let s=o;s&&!(s.from<r.node.from||s.to>r.node.to||s.from==r.node.from&&s.type==r.node.type);s=s.parent)i.push(s);for(let s=i.length-1;s>=0;s--)r={node:i[s],next:r}}return ZJ(r,t,n)}function ZJ(t,e,n){for(let r=t;r;r=r.next){let o=UCe(r.node);if(o)return o(rI.create(e,n,r))}return 0}function qCe(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function UCe(t){let e=t.type.prop(QJ);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(ar.closedBy))){let o=t.lastChild,i=o&&r.indexOf(o.name)>-1;return s=>GCe(s,!0,1,void 0,i&&!qCe(s)?o.from:void 0)}return t.parent==null?WCe:null}function WCe(){return 0}class rI extends rA{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new rI(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(KCe(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return ZJ(this.context.next,this.base,this.pos)}}function KCe(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function JCe(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let o=t.options.simulateBreak,i=t.state.doc.lineAt(n.from),s=o==null||o<=i.from?i.to:Math.min(i.to,o);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=s)return null;let c=/^ */.exec(i.text.slice(n.to-i.from))[0].length;return{from:n.from,to:n.to+c}}a=l.to}}function GCe(t,e,n,r,o){let i=t.textAfter,s=i.match(/^\s*/)[0].length,a=o==t.pos+s,l=JCe(t);return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}function JD({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const YCe=200;function XCe(){return fr.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,o=n.lineAt(r);if(r>o.from+YCe)return t;let i=n.sliceString(o.from,r);if(!e.some(c=>c.test(i)))return t;let{state:s}=t,a=-1,l=[];for(let{head:c}of s.selection.ranges){let u=s.doc.lineAt(c);if(u.from==a)continue;a=u.from;let d=nI(s,u.from);if(d==null)continue;let f=/^\s*/.exec(u.text)[0],h=eb(s,d);f!=h&&l.push({from:u.from,to:u.from+f.length,insert:h})}return l.length?[t,{changes:l,sequential:!0}]:t})}const eG=It.define(),oI=new ar;function QCe(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function ZCe(t,e,n){let r=na(t);if(r.length<n)return null;let o=r.resolveStack(n,1),i=null;for(let s=o;s;s=s.next){let a=s.node;if(a.to<=n||a.from>n)continue;if(i&&a.from<e)break;let l=a.type.prop(oI);if(l&&(a.to<r.length-50||r.length==t.doc.length||!eje(a))){let c=l(a,t);c&&c.from<=n&&c.from>=e&&c.to>n&&(i=c)}}return i}function eje(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function tb(t,e,n){for(let r of t.facet(eG)){let o=r(t,e,n);if(o)return o}return ZCe(t,e,n)}function tG(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const mw=Xn.define({map:tG}),gw=Xn.define({map:tG});function nG(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const ym=ks.define({create(){return bn.none},update(t,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((n,r)=>t=GD(t,n,r)),t=t.map(e.changes);for(let n of e.effects)if(n.is(mw)&&!tje(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(aG),o=r?bn.replace({widget:new sje(r(e.state,n.value))}):YD;t=t.update({add:[o.range(n.value.from,n.value.to)]})}else n.is(gw)&&(t=t.update({filter:(r,o)=>n.value.from!=r||n.value.to!=o,filterFrom:n.value.from,filterTo:n.value.to}));return e.selection&&(t=GD(t,e.selection.main.head)),t},provide:t=>Mt.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,o)=>{n.push(r,o)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],o=t[n++];if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid JSON for fold state");e.push(YD.range(r,o))}return bn.set(e,!0)}});function GD(t,e,n=e){let r=!1;return t.between(e,n,(o,i)=>{o<n&&i>e&&(r=!0)}),r?t.update({filterFrom:e,filterTo:n,filter:(o,i)=>o>=n||i<=e}):t}function b2(t,e,n){var r;let o=null;return(r=t.field(ym,!1))===null||r===void 0||r.between(e,n,(i,s)=>{(!o||o.from>i)&&(o={from:i,to:s})}),o}function tje(t,e,n){let r=!1;return t.between(e,e,(o,i)=>{o==e&&i==n&&(r=!0)}),r}function rG(t,e){return t.field(ym,!1)?e:e.concat(Xn.appendConfig.of(lG()))}const nje=t=>{for(let e of nG(t)){let n=tb(t.state,e.from,e.to);if(n)return t.dispatch({effects:rG(t.state,[mw.of(n),iG(t,n)])}),!0}return!1},oG=t=>{if(!t.state.field(ym,!1))return!1;let e=[];for(let n of nG(t)){let r=b2(t.state,n.from,n.to);r&&e.push(gw.of(r),iG(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function iG(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,o=t.state.doc.lineAt(e.to).number;return Mt.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${o}.`)}const rje=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let o=t.lineBlockAt(r),i=tb(e,o.from,o.to);i&&n.push(mw.of(i)),r=(i?t.lineBlockAt(i.to):o).to+1}return n.length&&t.dispatch({effects:rG(t.state,n)}),!!n.length},sG=t=>{let e=t.state.field(ym,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,o)=>{n.push(gw.of({from:r,to:o}))}),t.dispatch({effects:n}),!0},oje=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:nje},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:oG},{key:"Ctrl-Alt-[",run:rje},{key:"Ctrl-Alt-]",run:sG}],ije={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},aG=It.define({combine(t){return Fc(t,ije)}});function lG(t){return[ym,cje]}function cG(t,e){let{state:n}=t,r=n.facet(aG),o=s=>{let a=t.lineBlockAt(t.posAtDOM(s.target)),l=b2(t.state,a.from,a.to);l&&t.dispatch({effects:gw.of(l)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,o,e);let i=document.createElement("span");return i.textContent=r.placeholderText,i.setAttribute("aria-label",n.phrase("folded code")),i.title=n.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=o,i}const YD=bn.replace({widget:new class extends Uh{toDOM(t){return cG(t,null)}}});class sje extends Uh{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return cG(e,this.value)}}const aje={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class dT extends Pu{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function lje(t={}){let e={...aje,...t},n=new dT(e,!0),r=new dT(e,!1),o=di.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet($h)!=s.state.facet($h)||s.startState.field(ym,!1)!=s.state.field(ym,!1)||na(s.startState)!=na(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let a=new Ec;for(let l of s.viewportLineBlocks){let c=b2(s.state,l.from,l.to)?r:tb(s.state,l.from,l.to)?n:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:i}=e;return[o,VJ({class:"cm-foldGutter",markers(s){var a;return((a=s.plugin(o))===null||a===void 0?void 0:a.markers)||br.empty},initialSpacer(){return new dT(e,!1)},domEventHandlers:{...i,click:(s,a,l)=>{if(i.click&&i.click(s,a,l))return!0;let c=b2(s.state,a.from,a.to);if(c)return s.dispatch({effects:gw.of(c)}),!0;let u=tb(s.state,a.from,a.to);return u?(s.dispatch({effects:mw.of(u)}),!0):!1}}}),lG()]}const cje=Mt.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class vw{constructor(e,n){this.specs=e;let r;function o(a){let l=Ah.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const i=typeof n.all=="string"?n.all:n.all?o(n.all):void 0,s=n.scope;this.scope=s instanceof $l?a=>a.prop(Vg)==s.data:s?a=>a==s:void 0,this.style=YJ(e.map(a=>({tag:a.tag,class:a.class||o(Object.assign({},a,{tag:null}))})),{all:i}).style,this.module=r?new Ah(r):null,this.themeType=n.themeType}static define(e,n){return new vw(e,n||{})}}const AE=It.define(),uG=It.define({combine(t){return t.length?[t[0]]:null}});function fT(t){let e=t.facet(AE);return e.length?e:t.facet(uG)}function dG(t,e){let n=[dje],r;return t instanceof vw&&(t.module&&n.push(Mt.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(uG.of(t)):r?n.push(AE.computeN([Mt.darkTheme],o=>o.facet(Mt.darkTheme)==(r=="dark")?[t]:[])):n.push(AE.of(t)),n}class uje{constructor(e){this.markCache=Object.create(null),this.tree=na(e.state),this.decorations=this.buildDeco(e,fT(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=na(e.state),r=fT(e.state),o=r!=fT(e.startState),{viewport:i}=e.view,s=e.changes.mapPos(this.decoratedTo,1);n.length<i.to&&!o&&n.type==this.tree.type&&s>=i.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=s):(n!=this.tree||e.viewportChanged||o)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=i.to)}buildDeco(e,n){if(!n||!this.tree.length)return bn.none;let r=new Ec;for(let{from:o,to:i}of e.visibleRanges)PCe(this.tree,n,(s,a,l)=>{r.add(s,a,this.markCache[l]||(this.markCache[l]=bn.mark({class:l})))},o,i);return r.finish()}}const dje=Bm.high(di.fromClass(uje,{decorations:t=>t.decorations})),fje=vw.define([{tag:ct.meta,color:"#404740"},{tag:ct.link,textDecoration:"underline"},{tag:ct.heading,textDecoration:"underline",fontWeight:"bold"},{tag:ct.emphasis,fontStyle:"italic"},{tag:ct.strong,fontWeight:"bold"},{tag:ct.strikethrough,textDecoration:"line-through"},{tag:ct.keyword,color:"#708"},{tag:[ct.atom,ct.bool,ct.url,ct.contentSeparator,ct.labelName],color:"#219"},{tag:[ct.literal,ct.inserted],color:"#164"},{tag:[ct.string,ct.deleted],color:"#a11"},{tag:[ct.regexp,ct.escape,ct.special(ct.string)],color:"#e40"},{tag:ct.definition(ct.variableName),color:"#00f"},{tag:ct.local(ct.variableName),color:"#30a"},{tag:[ct.typeName,ct.namespace],color:"#085"},{tag:ct.className,color:"#167"},{tag:[ct.special(ct.variableName),ct.macroName],color:"#256"},{tag:ct.definition(ct.propertyName),color:"#00c"},{tag:ct.comment,color:"#940"},{tag:ct.invalid,color:"#f00"}]),hje=Mt.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),fG=1e4,hG="()[]{}",pG=It.define({combine(t){return Fc(t,{afterCursor:!0,brackets:hG,maxScanDistance:fG,renderMatch:gje})}}),pje=bn.mark({class:"cm-matchingBracket"}),mje=bn.mark({class:"cm-nonmatchingBracket"});function gje(t){let e=[],n=t.matched?pje:mje;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const vje=ks.define({create(){return bn.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(pG);for(let o of e.state.selection.ranges){if(!o.empty)continue;let i=vu(e.state,o.head,-1,r)||o.head>0&&vu(e.state,o.head-1,1,r)||r.afterCursor&&(vu(e.state,o.head,1,r)||o.head<e.state.doc.length&&vu(e.state,o.head+1,-1,r));i&&(n=n.concat(r.renderMatch(i,e.state)))}return bn.set(n,!0)},provide:t=>Mt.decorations.from(t)}),yje=[vje,hje];function bje(t={}){return[pG.of(t),yje]}const wje=new ar;function ME(t,e,n){let r=t.prop(e<0?ar.openedBy:ar.closedBy);if(r)return r;if(t.name.length==1){let o=n.indexOf(t.name);if(o>-1&&o%2==(e<0?1:0))return[n[o+e]]}return null}function TE(t){let e=t.type.prop(wje);return e?e(t.node):t}function vu(t,e,n,r={}){let o=r.maxScanDistance||fG,i=r.brackets||hG,s=na(t),a=s.resolveInner(e,n);for(let l=a;l;l=l.parent){let c=ME(l.type,n,i);if(c&&l.from<l.to){let u=TE(l);if(u&&(n>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return xje(t,e,n,l,u,c,i)}}return kje(t,e,n,s,a.type,o,i)}function xje(t,e,n,r,o,i,s){let a=r.parent,l={from:o.from,to:o.to},c=0,u=a==null?void 0:a.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do if(n<0?u.to<=r.from:u.from>=r.to){if(c==0&&i.indexOf(u.type.name)>-1&&u.from<u.to){let d=TE(u);return{start:l,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(ME(u.type,n,s))c++;else if(ME(u.type,-n,s)){if(c==0){let d=TE(u);return{start:l,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}c--}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function kje(t,e,n,r,o,i,s){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=s.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},u=t.doc.iterRange(e,n>0?t.doc.length:0),d=0;for(let f=0;!u.next().done&&f<=i;){let h=u.value;n<0&&(f+=h.length);let m=e+f*n;for(let g=n>0?0:h.length-1,v=n>0?h.length:-1;g!=v;g+=n){let y=s.indexOf(h[g]);if(!(y<0||r.resolveInner(m+g,1).type!=o))if(y%2==0==n>0)d++;else{if(d==1)return{start:c,end:{from:m+g,to:m+g+1},matched:y>>1==l>>1};d--}}n>0&&(f+=h.length)}return u.done?{start:c,matched:!1}:null}const Sje=Object.create(null),XD=[Fl.none],QD=[],ZD=Object.create(null),Cje=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Cje[t]=jje(Sje,e);function hT(t,e){QD.indexOf(t)>-1||(QD.push(t),console.warn(e))}function jje(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=t[c]||ct[c];u?typeof u=="function"?l.length?l=l.map(u):hT(c,`Modifier ${c} used at start of tag`):l.length?hT(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:hT(c,`Unknown highlighting tag ${c}`)}for(let c of l)n.push(c)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),o=r+" "+n.map(a=>a.id),i=ZD[o];if(i)return i.id;let s=ZD[o]=Fl.define({id:XD.length,name:r,props:[JJ({[r]:n})]});return XD.push(s),s.id}qo.RTL,qo.LTR;const Aje=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=sI(t.state,n.from);return r.line?Mje(t):r.block?Oje(t):!1};function iI(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let o=t(e,n);return o?(r(n.update(o)),!0):!1}}const Mje=iI(_je,0),Tje=iI(mG,0),Oje=iI((t,e)=>mG(t,e,Eje(e)),0);function sI(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const e1=50;function $je(t,{open:e,close:n},r,o){let i=t.sliceDoc(r-e1,r),s=t.sliceDoc(o,o+e1),a=/\s*$/.exec(i)[0].length,l=/^\s*/.exec(s)[0].length,c=i.length-a;if(i.slice(c-e.length,c)==e&&s.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:o+l,margin:l&&1}};let u,d;o-r<=2*e1?u=d=t.sliceDoc(r,o):(u=t.sliceDoc(r,r+e1),d=t.sliceDoc(o-e1,o));let f=/^\s*/.exec(u)[0].length,h=/\s*$/.exec(d)[0].length,m=d.length-h-n.length;return u.slice(f,f+e.length)==e&&d.slice(m,m+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(u.charAt(f+e.length))?1:0},close:{pos:o-h-n.length,margin:/\s/.test(d.charAt(m-1))?1:0}}:null}function Eje(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),o=n.to<=r.to?r:t.doc.lineAt(n.to);o.from>r.from&&o.from==n.to&&(o=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let i=e.length-1;i>=0&&e[i].to>r.from?e[i].to=o.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:o.to})}return e}function mG(t,e,n=e.selection.ranges){let r=n.map(i=>sI(e,i.from).block);if(!r.every(i=>i))return null;let o=n.map((i,s)=>$je(e,r[s],i.from,i.to));if(t!=2&&!o.every(i=>i))return{changes:e.changes(n.map((i,s)=>o[s]?[]:[{from:i.from,insert:r[s].open+" "},{from:i.to,insert:" "+r[s].close}]))};if(t!=1&&o.some(i=>i)){let i=[];for(let s=0,a;s<o.length;s++)if(a=o[s]){let l=r[s],{open:c,close:u}=a;i.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:i}}return null}function _je(t,e,n=e.selection.ranges){let r=[],o=-1;for(let{from:i,to:s}of n){let a=r.length,l=1e9,c=sI(e,i).line;if(c){for(let u=i;u<=s;){let d=e.doc.lineAt(u);if(d.from>o&&(i==s||s>d.from)){o=d.from;let f=/^\s*/.exec(d.text)[0].length,h=f==d.length,m=d.text.slice(f,f+c.length)==c?f:-1;f<d.text.length&&f<l&&(l=f),r.push({line:d,comment:m,token:c,indent:f,empty:h,single:!1})}u=d.to+1}if(l<1e9)for(let u=a;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=l);r.length==a+1&&(r[a].single=!0)}}if(t!=2&&r.some(i=>i.comment<0&&(!i.empty||i.single))){let i=[];for(let{line:a,token:l,indent:c,empty:u,single:d}of r)(d||!u)&&i.push({from:a.from+c,insert:l+" "});let s=e.changes(i);return{changes:s,selection:e.selection.map(s,1)}}else if(t!=1&&r.some(i=>i.comment>=0)){let i=[];for(let{line:s,comment:a,token:l}of r)if(a>=0){let c=s.from+a,u=c+l.length;s.text[u-s.from]==" "&&u++,i.push({from:c,to:u})}return{changes:i}}return null}function ky(t,e){return We.create(t.ranges.map(e),t.mainIndex)}function qc(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Uc({state:t,dispatch:e},n){let r=ky(t.selection,n);return r.eq(t.selection,!0)?!1:(e(qc(t,r)),!0)}function oA(t,e){return We.cursor(e?t.to:t.from)}function gG(t,e){return Uc(t,n=>n.empty?t.moveByChar(n,e):oA(n,e))}function ia(t){return t.textDirectionAt(t.state.selection.main.head)==qo.LTR}const vG=t=>gG(t,!ia(t)),yG=t=>gG(t,ia(t));function bG(t,e){return Uc(t,n=>n.empty?t.moveByGroup(n,e):oA(n,e))}const Pje=t=>bG(t,!ia(t)),Ije=t=>bG(t,ia(t));function Rje(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function iA(t,e,n){let r=na(t).resolveInner(e.head),o=n?ar.closedBy:ar.openedBy;for(let l=e.head;;){let c=n?r.childAfter(l):r.childBefore(l);if(!c)break;Rje(t,c,o)?r=c:l=n?c.to:c.from}let i=r.type.prop(o),s,a;return i&&(s=n?vu(t,r.from,1):vu(t,r.to,-1))&&s.matched?a=n?s.end.to:s.end.from:a=n?r.to:r.from,We.cursor(a,n?-1:1)}const Nje=t=>Uc(t,e=>iA(t.state,e,!ia(t))),Lje=t=>Uc(t,e=>iA(t.state,e,ia(t)));function wG(t,e){return Uc(t,n=>{if(!n.empty)return oA(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const xG=t=>wG(t,!1),kG=t=>wG(t,!0);function SG(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,o;if(e){for(let i of t.state.facet(Mt.scrollMargins)){let s=i(t);s!=null&&s.top&&(n=Math.max(s==null?void 0:s.top,n)),s!=null&&s.bottom&&(r=Math.max(s==null?void 0:s.bottom,r))}o=t.scrollDOM.clientHeight-n-r}else o=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,o-5)}}function CG(t,e){let n=SG(t),{state:r}=t,o=ky(r.selection,s=>s.empty?t.moveVertically(s,e,n.height):oA(s,e));if(o.eq(r.selection))return!1;let i;if(n.selfScroll){let s=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,c=a.bottom-n.marginBottom;s&&s.top>l&&s.bottom<c&&(i=Mt.scrollIntoView(o.main.head,{y:"start",yMargin:s.top-l}))}return t.dispatch(qc(r,o),{effects:i}),!0}const e8=t=>CG(t,!1),OE=t=>CG(t,!0);function Wh(t,e,n){let r=t.lineBlockAt(e.head),o=t.moveToLineBoundary(e,n);if(o.head==e.head&&o.head!=(n?r.to:r.from)&&(o=t.moveToLineBoundary(e,n,!1)),!n&&o.head==r.from&&r.length){let i=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;i&&e.head!=r.from+i&&(o=We.cursor(r.from+i))}return o}const Dje=t=>Uc(t,e=>Wh(t,e,!0)),Vje=t=>Uc(t,e=>Wh(t,e,!1)),Bje=t=>Uc(t,e=>Wh(t,e,!ia(t))),zje=t=>Uc(t,e=>Wh(t,e,ia(t))),Hje=t=>Uc(t,e=>We.cursor(t.lineBlockAt(e.head).from,1)),Fje=t=>Uc(t,e=>We.cursor(t.lineBlockAt(e.head).to,-1));function qje(t,e,n){let r=!1,o=ky(t.selection,i=>{let s=vu(t,i.head,-1)||vu(t,i.head,1)||i.head>0&&vu(t,i.head-1,1)||i.head<t.doc.length&&vu(t,i.head+1,-1);if(!s||!s.end)return i;r=!0;let a=s.start.from==i.head?s.end.to:s.end.from;return We.cursor(a)});return r?(e(qc(t,o)),!0):!1}const Uje=({state:t,dispatch:e})=>qje(t,e);function Zl(t,e){let n=ky(t.state.selection,r=>{let o=e(r);return We.range(r.anchor,o.head,o.goalColumn,o.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(qc(t.state,n)),!0)}function jG(t,e){return Zl(t,n=>t.moveByChar(n,e))}const AG=t=>jG(t,!ia(t)),MG=t=>jG(t,ia(t));function TG(t,e){return Zl(t,n=>t.moveByGroup(n,e))}const Wje=t=>TG(t,!ia(t)),Kje=t=>TG(t,ia(t)),Jje=t=>Zl(t,e=>iA(t.state,e,!ia(t))),Gje=t=>Zl(t,e=>iA(t.state,e,ia(t)));function OG(t,e){return Zl(t,n=>t.moveVertically(n,e))}const $G=t=>OG(t,!1),EG=t=>OG(t,!0);function _G(t,e){return Zl(t,n=>t.moveVertically(n,e,SG(t).height))}const t8=t=>_G(t,!1),n8=t=>_G(t,!0),Yje=t=>Zl(t,e=>Wh(t,e,!0)),Xje=t=>Zl(t,e=>Wh(t,e,!1)),Qje=t=>Zl(t,e=>Wh(t,e,!ia(t))),Zje=t=>Zl(t,e=>Wh(t,e,ia(t))),eAe=t=>Zl(t,e=>We.cursor(t.lineBlockAt(e.head).from)),tAe=t=>Zl(t,e=>We.cursor(t.lineBlockAt(e.head).to)),r8=({state:t,dispatch:e})=>(e(qc(t,{anchor:0})),!0),o8=({state:t,dispatch:e})=>(e(qc(t,{anchor:t.doc.length})),!0),i8=({state:t,dispatch:e})=>(e(qc(t,{anchor:t.selection.main.anchor,head:0})),!0),s8=({state:t,dispatch:e})=>(e(qc(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),nAe=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),rAe=({state:t,dispatch:e})=>{let n=sA(t).map(({from:r,to:o})=>We.range(r,Math.min(o+1,t.doc.length)));return e(t.update({selection:We.create(n),userEvent:"select"})),!0},oAe=({state:t,dispatch:e})=>{let n=ky(t.selection,r=>{let o=na(t),i=o.resolveStack(r.from,1);if(r.empty){let s=o.resolveStack(r.from,-1);s.node.from>=i.node.from&&s.node.to<=i.node.to&&(i=s)}for(let s=i;s;s=s.next){let{node:a}=s;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&s.next)return We.range(a.to,a.from)}return r});return n.eq(t.selection)?!1:(e(qc(t,n)),!0)};function PG(t,e){let{state:n}=t,r=n.selection,o=n.selection.ranges.slice();for(let i of n.selection.ranges){let s=n.doc.lineAt(i.head);if(e?s.to<t.state.doc.length:s.from>0)for(let a=i;;){let l=t.moveVertically(a,e);if(l.head<s.from||l.head>s.to){o.some(c=>c.head==l.head)||o.push(l);break}else{if(l.head==a.head)break;a=l}}}return o.length==r.ranges.length?!1:(t.dispatch(qc(n,We.create(o,o.length-1))),!0)}const iAe=t=>PG(t,!1),sAe=t=>PG(t,!0),aAe=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=We.create([n.main]):n.main.empty||(r=We.create([We.cursor(n.main.head)])),r?(e(qc(t,r)),!0):!1};function yw(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,o=r.changeByRange(i=>{let{from:s,to:a}=i;if(s==a){let l=e(i);l<s?(n="delete.backward",l=_x(t,l,!1)):l>s&&(n="delete.forward",l=_x(t,l,!0)),s=Math.min(s,l),a=Math.max(a,l)}else s=_x(t,s,!1),a=_x(t,a,!0);return s==a?{range:i}:{changes:{from:s,to:a},range:We.cursor(s,s<i.head?-1:1)}});return o.changes.empty?!1:(t.dispatch(r.update(o,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?Mt.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function _x(t,e,n){if(t instanceof Mt)for(let r of t.state.facet(Mt.atomicRanges).map(o=>o(t)))r.between(e,e,(o,i)=>{o<e&&i>e&&(e=n?i:o)});return e}const IG=(t,e,n)=>yw(t,r=>{let o=r.from,{state:i}=t,s=i.doc.lineAt(o),a,l;if(n&&!e&&o>s.from&&o<s.from+200&&!/[^ \t]/.test(a=s.text.slice(0,o-s.from))){if(a[a.length-1]=="	")return o-1;let c=xy(a,i.tabSize),u=c%Eh(i)||Eh(i);for(let d=0;d<u&&a[a.length-1-d]==" ";d++)o--;l=o}else l=Rs(s.text,o-s.from,e,e)+s.from,l==o&&s.number!=(e?i.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(l-s.from,o-s.from))&&(l=Rs(s.text,l-s.from,!1,!1)+s.from);return l}),$E=t=>IG(t,!1,!0),RG=t=>IG(t,!0,!1),NG=(t,e)=>yw(t,n=>{let r=n.head,{state:o}=t,i=o.doc.lineAt(r),s=o.charCategorizer(r);for(let a=null;;){if(r==(e?i.to:i.from)){r==n.head&&i.number!=(e?o.doc.lines:1)&&(r+=e?1:-1);break}let l=Rs(i.text,r-i.from,e)+i.from,c=i.text.slice(Math.min(r,l)-i.from,Math.max(r,l)-i.from),u=s(c);if(a!=null&&u!=a)break;(c!=" "||r!=n.head)&&(a=u),r=l}return r}),LG=t=>NG(t,!1),lAe=t=>NG(t,!0),cAe=t=>yw(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),uAe=t=>yw(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),dAe=t=>yw(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),fAe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Br.of(["",""])},range:We.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},hAe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let o=r.from,i=t.doc.lineAt(o),s=o==i.from?o-1:Rs(i.text,o-i.from,!1)+i.from,a=o==i.to?o+1:Rs(i.text,o-i.from,!0)+i.from;return{changes:{from:s,to:a,insert:t.doc.slice(o,a).append(t.doc.slice(s,o))},range:We.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function sA(t){let e=[],n=-1;for(let r of t.selection.ranges){let o=t.doc.lineAt(r.from),i=t.doc.lineAt(r.to);if(!r.empty&&r.to==i.from&&(i=t.doc.lineAt(r.to-1)),n>=o.number){let s=e[e.length-1];s.to=i.to,s.ranges.push(r)}else e.push({from:o.from,to:i.to,ranges:[r]});n=i.number+1}return e}function DG(t,e,n){if(t.readOnly)return!1;let r=[],o=[];for(let i of sA(t)){if(n?i.to==t.doc.length:i.from==0)continue;let s=t.doc.lineAt(n?i.to+1:i.from-1),a=s.length+1;if(n){r.push({from:i.to,to:s.to},{from:i.from,insert:s.text+t.lineBreak});for(let l of i.ranges)o.push(We.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:s.from,to:i.from},{from:i.to,insert:t.lineBreak+s.text});for(let l of i.ranges)o.push(We.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:We.create(o,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const pAe=({state:t,dispatch:e})=>DG(t,e,!1),mAe=({state:t,dispatch:e})=>DG(t,e,!0);function VG(t,e,n){if(t.readOnly)return!1;let r=[];for(let o of sA(t))n?r.push({from:o.from,insert:t.doc.slice(o.from,o.to)+t.lineBreak}):r.push({from:o.to,insert:t.lineBreak+t.doc.slice(o.from,o.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const gAe=({state:t,dispatch:e})=>VG(t,e,!1),vAe=({state:t,dispatch:e})=>VG(t,e,!0),yAe=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(sA(e).map(({from:o,to:i})=>(o>0?o--:i<e.doc.length&&i++,{from:o,to:i}))),r=ky(e.selection,o=>{let i;if(t.lineWrapping){let s=t.lineBlockAt(o.head),a=t.coordsAtPos(o.head,o.assoc||1);a&&(i=s.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(o,!0,i)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function bAe(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=na(t).resolveInner(e),r=n.childBefore(e),o=n.childAfter(e),i;return r&&o&&r.to<=e&&o.from>=e&&(i=r.type.prop(ar.closedBy))&&i.indexOf(o.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(o.from).from&&!/\S/.test(t.sliceDoc(r.to,o.from))?{from:r.to,to:o.from}:null}const a8=BG(!1),wAe=BG(!0);function BG(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(o=>{let{from:i,to:s}=o,a=e.doc.lineAt(i),l=!t&&i==s&&bAe(e,i);t&&(i=s=(s<=a.to?a:e.doc.lineAt(s)).to);let c=new rA(e,{simulateBreak:i,simulateDoubleBreak:!!l}),u=nI(c,i);for(u==null&&(u=xy(/^\s*/.exec(e.doc.lineAt(i).text)[0],e.tabSize));s<a.to&&/\s/.test(a.text[s-a.from]);)s++;l?{from:i,to:s}=l:i>a.from&&i<a.from+100&&!/\S/.test(a.text.slice(0,i))&&(i=a.from);let d=["",eb(e,u)];return l&&d.push(eb(e,c.lineIndent(a.from,-1))),{changes:{from:i,to:s,insert:Br.of(d)},range:We.cursor(i+1+d[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function aI(t,e){let n=-1;return t.changeByRange(r=>{let o=[];for(let s=r.from;s<=r.to;){let a=t.doc.lineAt(s);a.number>n&&(r.empty||r.to>a.from)&&(e(a,o,r),n=a.number),s=a.to+1}let i=t.changes(o);return{changes:o,range:We.range(i.mapPos(r.anchor,1),i.mapPos(r.head,1))}})}const xAe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new rA(t,{overrideIndentation:i=>{let s=n[i];return s??-1}}),o=aI(t,(i,s,a)=>{let l=nI(r,i.from);if(l==null)return;/\S/.test(i.text)||(l=0);let c=/^\s*/.exec(i.text)[0],u=eb(t,l);(c!=u||a.from<i.from+c.length)&&(n[i.from]=l,s.push({from:i.from,to:i.from+c.length,insert:u}))});return o.changes.empty||e(t.update(o,{userEvent:"indent"})),!0},zG=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(aI(t,(n,r)=>{r.push({from:n.from,insert:t.facet(nA)})}),{userEvent:"input.indent"})),!0),HG=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(aI(t,(n,r)=>{let o=/^\s*/.exec(n.text)[0];if(!o)return;let i=xy(o,t.tabSize),s=0,a=eb(t,Math.max(0,i-Eh(t)));for(;s<o.length&&s<a.length&&o.charCodeAt(s)==a.charCodeAt(s);)s++;r.push({from:n.from+s,to:n.from+o.length,insert:a.slice(s)})}),{userEvent:"delete.dedent"})),!0),kAe=t=>(t.setTabFocusMode(),!0),SAe=[{key:"Ctrl-b",run:vG,shift:AG,preventDefault:!0},{key:"Ctrl-f",run:yG,shift:MG},{key:"Ctrl-p",run:xG,shift:$G},{key:"Ctrl-n",run:kG,shift:EG},{key:"Ctrl-a",run:Hje,shift:eAe},{key:"Ctrl-e",run:Fje,shift:tAe},{key:"Ctrl-d",run:RG},{key:"Ctrl-h",run:$E},{key:"Ctrl-k",run:cAe},{key:"Ctrl-Alt-h",run:LG},{key:"Ctrl-o",run:fAe},{key:"Ctrl-t",run:hAe},{key:"Ctrl-v",run:OE}],CAe=[{key:"ArrowLeft",run:vG,shift:AG,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Pje,shift:Wje,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Bje,shift:Qje,preventDefault:!0},{key:"ArrowRight",run:yG,shift:MG,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Ije,shift:Kje,preventDefault:!0},{mac:"Cmd-ArrowRight",run:zje,shift:Zje,preventDefault:!0},{key:"ArrowUp",run:xG,shift:$G,preventDefault:!0},{mac:"Cmd-ArrowUp",run:r8,shift:i8},{mac:"Ctrl-ArrowUp",run:e8,shift:t8},{key:"ArrowDown",run:kG,shift:EG,preventDefault:!0},{mac:"Cmd-ArrowDown",run:o8,shift:s8},{mac:"Ctrl-ArrowDown",run:OE,shift:n8},{key:"PageUp",run:e8,shift:t8},{key:"PageDown",run:OE,shift:n8},{key:"Home",run:Vje,shift:Xje,preventDefault:!0},{key:"Mod-Home",run:r8,shift:i8},{key:"End",run:Dje,shift:Yje,preventDefault:!0},{key:"Mod-End",run:o8,shift:s8},{key:"Enter",run:a8,shift:a8},{key:"Mod-a",run:nAe},{key:"Backspace",run:$E,shift:$E,preventDefault:!0},{key:"Delete",run:RG,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:LG,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:lAe,preventDefault:!0},{mac:"Mod-Backspace",run:uAe,preventDefault:!0},{mac:"Mod-Delete",run:dAe,preventDefault:!0}].concat(SAe.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),jAe=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Nje,shift:Jje},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Lje,shift:Gje},{key:"Alt-ArrowUp",run:pAe},{key:"Shift-Alt-ArrowUp",run:gAe},{key:"Alt-ArrowDown",run:mAe},{key:"Shift-Alt-ArrowDown",run:vAe},{key:"Mod-Alt-ArrowUp",run:iAe},{key:"Mod-Alt-ArrowDown",run:sAe},{key:"Escape",run:aAe},{key:"Mod-Enter",run:wAe},{key:"Alt-l",mac:"Ctrl-l",run:rAe},{key:"Mod-i",run:oAe,preventDefault:!0},{key:"Mod-[",run:HG},{key:"Mod-]",run:zG},{key:"Mod-Alt-\\",run:xAe},{key:"Shift-Mod-k",run:yAe},{key:"Shift-Mod-\\",run:Uje},{key:"Mod-/",run:Aje},{key:"Alt-A",run:Tje},{key:"Ctrl-m",mac:"Shift-Alt-m",run:kAe}].concat(CAe),AAe={key:"Tab",run:zG,shift:HG};class l8{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class Tp{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let o=r.facet(yu).markerFilter;o&&(e=o(e,r));let i=e.slice().sort((h,m)=>h.from-m.from||h.to-m.to),s=new Ec,a=[],l=0,c=r.doc.iter(),u=0,d=r.doc.length;for(let h=0;;){let m=h==i.length?null:i[h];if(!m&&!a.length)break;let g,v;if(a.length)g=l,v=a.reduce((x,k)=>Math.min(x,k.to),m&&m.from>g?m.from:1e8);else{if(g=m.from,g>d)break;v=m.to,a.push(m),h++}for(;h<i.length;){let x=i[h];if(x.from==g&&(x.to>x.from||x.to==g))a.push(x),h++,v=Math.min(x.to,v);else{v=Math.min(x.from,v);break}}v=Math.min(v,d);let y=!1;if(a.some(x=>x.from==g&&(x.to==v||v==d))&&(y=g==v,!y&&v-g<10)){let x=g-(u+c.value.length);x>0&&(c.next(x),u=g);for(let k=g;;){if(k>=v){y=!0;break}if(!c.lineBreak&&u+c.value.length>k)break;k=u+c.value.length,u+=c.value.length,c.next()}}let b=GG(a);if(y)s.add(g,g,bn.widget({widget:new NAe(b),diagnostics:a.slice()}));else{let x=a.reduce((k,w)=>w.markClass?k+" "+w.markClass:k,"");s.add(g,v,bn.mark({class:"cm-lintRange cm-lintRange-"+b+x,diagnostics:a.slice(),inclusiveEnd:a.some(k=>k.to>v)}))}if(l=v,l==d)break;for(let x=0;x<a.length;x++)a[x].to<=l&&a.splice(x--,1)}let f=s.finish();return new Tp(f,n,Vv(f))}}function Vv(t,e=null,n=0){let r=null;return t.between(n,1e9,(o,i,{spec:s})=>{if(!(e&&s.diagnostics.indexOf(e)<0))if(!r)r=new l8(o,i,e||s.diagnostics[0]);else{if(s.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new l8(r.from,i,r.diagnostic)}}),r}function FG(t,e){let n=e.pos,r=e.end||n,o=t.state.facet(yu).hideOn(t,n,r);if(o!=null)return o;let i=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(s=>s.is(aA))||t.changes.touchesRange(i.from,Math.max(i.to,r)))}function qG(t,e){return t.field(il,!1)?e:e.concat(Xn.appendConfig.of(QG))}function MAe(t,e){return{effects:qG(t,[aA.of(e)])}}const aA=Xn.define(),lI=Xn.define(),UG=Xn.define(),il=ks.define({create(){return new Tp(bn.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,o=t.panel;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);r=Vv(n,t.selected.diagnostic,i)||Vv(n,null,i)}!n.size&&o&&e.state.facet(yu).autoPanel&&(o=null),t=new Tp(n,o,r)}for(let n of e.effects)if(n.is(aA)){let r=e.state.facet(yu).autoPanel?n.value.length?nb.open:null:t.panel;t=Tp.init(n.value,r,e.state)}else n.is(lI)?t=new Tp(t.diagnostics,n.value?nb.open:null,t.selected):n.is(UG)&&(t=new Tp(t.diagnostics,t.panel,n.value));return t},provide:t=>[X0.from(t,e=>e.panel),Mt.decorations.from(t,e=>e.diagnostics)]}),TAe=bn.mark({class:"cm-lintRange cm-lintRange-active"});function OAe(t,e,n){let{diagnostics:r}=t.state.field(il),o,i=-1,s=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,c,{spec:u})=>{if(e>=l&&e<=c&&(l==c||(e>l||n>0)&&(e<c||n<0)))return o=u.diagnostics,i=l,s=c,!1});let a=t.state.facet(yu).tooltipFilter;return o&&a&&(o=a(o,t.state)),o?{pos:i,end:s,above:t.state.doc.lineAt(i).to<s,create(){return{dom:WG(t,o)}}}:null}function WG(t,e){return go("ul",{class:"cm-tooltip-lint"},e.map(n=>JG(t,n,!1)))}const $Ae=t=>{let e=t.state.field(il,!1);(!e||!e.panel)&&t.dispatch({effects:qG(t.state,[lI.of(!0)])});let n=Y0(t,nb.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},c8=t=>{let e=t.state.field(il,!1);return!e||!e.panel?!1:(t.dispatch({effects:lI.of(!1)}),!0)},EAe=t=>{let e=t.state.field(il,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},_Ae=[{key:"Mod-Shift-m",run:$Ae,preventDefault:!0},{key:"F8",run:EAe}],PAe=di.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:e}=t.state.facet(yu);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){clearTimeout(this.timeout);let t=Date.now();if(t<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:e}=this.view,{sources:n}=e.facet(yu);n.length&&IAe(n.map(r=>Promise.resolve(r(this.view))),r=>{this.view.state.doc==e.doc&&this.view.dispatch(MAe(this.view.state,r.reduce((o,i)=>o.concat(i))))},r=>{ga(this.view.state,r)})}}update(t){let e=t.state.facet(yu);(t.docChanged||e!=t.startState.facet(yu)||e.needsRefresh&&e.needsRefresh(t))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}});function IAe(t,e,n){let r=[],o=-1;for(let i of t)i.then(s=>{r.push(s),clearTimeout(o),r.length==t.length?e(r):o=setTimeout(()=>e(r),200)},n)}const yu=It.define({combine(t){return{sources:t.map(e=>e.source).filter(e=>e!=null),...Fc(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:u8,tooltipFilter:u8,needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n,hideOn:(e,n)=>e?n?(r,o,i)=>e(r,o,i)||n(r,o,i):e:n,autoPanel:(e,n)=>e||n})}}});function u8(t,e){return t?e?(n,r)=>e(t(n,r),r):t:e}function RAe(t,e={}){return[yu.of({source:t,config:e}),PAe,QG]}function KG(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let o=n[r];if(/[a-zA-Z]/.test(o)&&!e.some(i=>i.toLowerCase()==o.toLowerCase())){e.push(o);continue e}}e.push("")}return e}function JG(t,e,n){var r;let o=n?KG(e.actions):[];return go("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},go("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((i,s)=>{let a=!1,l=h=>{if(h.preventDefault(),a)return;a=!0;let m=Vv(t.state.field(il).diagnostics,e);m&&i.apply(t,m.from,m.to)},{name:c}=i,u=o[s]?c.indexOf(o[s]):-1,d=u<0?c:[c.slice(0,u),go("u",c.slice(u,u+1)),c.slice(u+1)],f=i.markClass?" "+i.markClass:"";return go("button",{type:"button",class:"cm-diagnosticAction"+f,onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${o[s]})"`}.`},d)}),e.source&&go("div",{class:"cm-diagnosticSource"},e.source))}class NAe extends Uh{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return go("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class d8{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=JG(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class nb{constructor(e){this.view=e,this.items=[];let n=o=>{if(o.keyCode==27)c8(this.view),this.view.focus();else if(o.keyCode==38||o.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(o.keyCode==40||o.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(o.keyCode==36)this.moveSelection(0);else if(o.keyCode==35)this.moveSelection(this.items.length-1);else if(o.keyCode==13)this.view.focus();else if(o.keyCode>=65&&o.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:i}=this.items[this.selectedIndex],s=KG(i.actions);for(let a=0;a<s.length;a++)if(s[a].toUpperCase().charCodeAt(0)==o.keyCode){let l=Vv(this.view.state.field(il).diagnostics,i);l&&i.actions[a].apply(e,l.from,l.to)}}else return;o.preventDefault()},r=o=>{for(let i=0;i<this.items.length;i++)this.items[i].dom.contains(o.target)&&this.moveSelection(i)};this.list=go("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=go("div",{class:"cm-panel-lint"},this.list,go("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>c8(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(il).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(il),r=0,o=!1,i=null,s=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:c})=>{for(let u of c.diagnostics){if(s.has(u))continue;s.add(u);let d=-1,f;for(let h=r;h<this.items.length;h++)if(this.items[h].diagnostic==u){d=h;break}d<0?(f=new d8(this.view,u),this.items.splice(r,0,f),o=!0):(f=this.items[d],d>r&&(this.items.splice(r,d-r),o=!0)),n&&f.diagnostic==n.diagnostic?f.dom.hasAttribute("aria-selected")||(f.dom.setAttribute("aria-selected","true"),i=f):f.dom.hasAttribute("aria-selected")&&f.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)o=!0,this.items.pop();this.items.length==0&&(this.items.push(new d8(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),o=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let c=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/c:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),o&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(il),r=Vv(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:UG.of(r)})}static open(e){return new nb(e)}}function Yk(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Px(t){return Yk(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const LAe=Mt.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Px("#d11")},".cm-lintRange-warning":{backgroundImage:Px("orange")},".cm-lintRange-info":{backgroundImage:Px("#999")},".cm-lintRange-hint":{backgroundImage:Px("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function DAe(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function GG(t){let e="hint",n=1;for(let r of t){let o=DAe(r.severity);o>n&&(n=o,e=r.severity)}return e}class YG extends Pu{constructor(e){super(),this.diagnostics=e,this.severity=GG(e)}toDOM(e){let n=document.createElement("div");n.className="cm-lint-marker cm-lint-marker-"+this.severity;let r=this.diagnostics,o=e.state.facet(lA).tooltipFilter;return o&&(r=o(r,e.state)),r.length&&(n.onmouseover=()=>BAe(e,n,r)),n}}function VAe(t,e){let n=r=>{let o=e.getBoundingClientRect();if(!(r.clientX>o.left-10&&r.clientX<o.right+10&&r.clientY>o.top-10&&r.clientY<o.bottom+10)){for(let i=r.target;i;i=i.parentNode)if(i.nodeType==1&&i.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",n),t.state.field(XG)&&t.dispatch({effects:cI.of(null)})}};window.addEventListener("mousemove",n)}function BAe(t,e,n){function r(){let s=t.elementAtHeight(e.getBoundingClientRect().top+5-t.documentTop);t.coordsAtPos(s.from)&&t.dispatch({effects:cI.of({pos:s.from,above:!1,clip:!1,create(){return{dom:WG(t,n),getCoords:()=>e.getBoundingClientRect()}}})}),e.onmouseout=e.onmousemove=null,VAe(t,e)}let{hoverTime:o}=t.state.facet(lA),i=setTimeout(r,o);e.onmouseout=()=>{clearTimeout(i),e.onmouseout=e.onmousemove=null},e.onmousemove=()=>{clearTimeout(i),i=setTimeout(r,o)}}function zAe(t,e){let n=Object.create(null);for(let o of e){let i=t.lineAt(o.from);(n[i.from]||(n[i.from]=[])).push(o)}let r=[];for(let o in n)r.push(new YG(n[o]).range(+o));return br.of(r,!0)}const HAe=VJ({class:"cm-gutter-lint",markers:t=>t.state.field(EE),widgetMarker:(t,e,n)=>{let r=[];return t.state.field(EE).between(n.from,n.to,(o,i,s)=>{o>n.from&&o<n.to&&r.push(...s.diagnostics)}),r.length?new YG(r):null}}),EE=ks.define({create(){return br.empty},update(t,e){t=t.map(e.changes);let n=e.state.facet(lA).markerFilter;for(let r of e.effects)if(r.is(aA)){let o=r.value;n&&(o=n(o||[],e.state)),t=zAe(e.state.doc,o.slice(0))}return t}}),cI=Xn.define(),XG=ks.define({create(){return null},update(t,e){return t&&e.docChanged&&(t=FG(e,t)?null:{...t,pos:e.changes.mapPos(t.pos)}),e.effects.reduce((n,r)=>r.is(cI)?r.value:n,t)},provide:t=>eA.from(t)}),FAe=Mt.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:Yk('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:Yk('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:Yk('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),QG=[il,Mt.decorations.compute([il],t=>{let{selected:e,panel:n}=t.field(il);return!e||!n||e.from==e.to?bn.none:bn.set([TAe.range(e.from,e.to)])}),aCe(OAe,{hideOn:FG}),LAe],lA=It.define({combine(t){return Fc(t,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function qAe(t={}){return[lA.of(t),EE,HAe,FAe,XG]}var f8={};class w2{constructor(e,n,r,o,i,s,a,l,c,u=0,d){this.p=e,this.stack=n,this.state=r,this.reducePos=o,this.pos=i,this.score=s,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=d}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let o=e.parser.context;return new w2(e,[],n,r,r,0,[],0,o?new h8(o,o.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,o=e&65535,{parser:i}=this.p,s=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),a=i.dynamicPrecedence(o);if(a&&(this.score+=a),r==0){this.pushState(i.getGoto(this.state,o,!0),this.reducePos),o<i.minRepeatTerm&&this.storeNode(o,this.reducePos,this.reducePos,s?8:4,!0),this.reduceContext(o,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,u=this.reducePos-c;u>=2e3&&!(!((n=this.p.parser.nodeSet.types[o])===null||n===void 0)&&n.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=u));let d=l?this.stack[l-1]:0,f=this.bufferBase+this.buffer.length-d;if(o<i.minRepeatTerm||e&131072){let h=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(o,c,h,f+4,!0)}if(e&262144)this.state=this.stack[l];else{let h=this.stack[l-3];this.state=i.getGoto(h,o,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(o,c)}storeNode(e,n,r,o=4,i=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let s=this,a=this.buffer.length;if(a==0&&s.parent&&(a=s.bufferBase-s.parent.bufferBase,s=s.parent),a>0&&s.buffer[a-4]==0&&s.buffer[a-1]>-1){if(n==r)return;if(s.buffer[a-2]>=n){s.buffer[a-2]=r;return}}}if(!i||this.pos==r)this.buffer.push(e,n,r,o);else{let s=this.buffer.length;if(s>0&&(this.buffer[s-4]!=0||this.buffer[s-1]<0)){let a=!1;for(let l=s;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;s>0&&this.buffer[s-2]>r;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,o>4&&(o-=4)}this.buffer[s]=e,this.buffer[s+1]=n,this.buffer[s+2]=r,this.buffer[s+3]=o}}shift(e,n,r,o){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=o,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,o,4);else{let i=e,{parser:s}=this.p;(o>this.pos||n<=s.maxNode)&&(this.pos=o,s.stateFlag(i,1)||(this.reducePos=o)),this.pushState(i,r),this.shiftContext(n,r),n<=s.maxNode&&this.buffer.push(n,r,o,4)}}apply(e,n,r,o){e&65536?this.reduce(e):this.shift(e,n,r,o)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let o=this.pos;this.reducePos=this.pos=o+e.length,this.pushState(n,o),this.buffer.push(r,o,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),o=e.bufferBase+n;for(;e&&o==e.bufferBase;)e=e.parent;return new w2(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,o,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new UAe(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let o=[];for(let i=0,s;i<n.length;i+=2)(s=n[i+1])!=this.state&&this.p.parser.hasAction(s,e)&&o.push(n[i],s);if(this.stack.length<120)for(let i=0;o.length<8&&i<n.length;i+=2){let s=n[i+1];o.some((a,l)=>l&1&&a==s)||o.push(n[i],s)}n=o}let r=[];for(let o=0;o<n.length&&r.length<4;o+=2){let i=n[o+1];if(i==this.state)continue;let s=this.split();s.pushState(i,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(n[o],this.pos),s.reducePos=this.pos,s.score-=200,r.push(s)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let r=n>>19,o=n&65535,i=this.stack.length-r*3;if(i<0||e.getGoto(this.stack[i],o,!1)<0){let s=this.findForcedReduction();if(s==null)return!1;n=s}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(o,i)=>{if(!n.includes(o))return n.push(o),e.allActions(o,s=>{if(!(s&393216))if(s&65536){let a=(s>>19)-i;if(a>1){let l=s&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=r(s,i+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new h8(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class h8{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class UAe{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let o=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=o}}class x2{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new x2(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new x2(this.stack,this.pos,this.index)}}function Ix(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,o=0;r<t.length;){let i=0;for(;;){let s=t.charCodeAt(r++),a=!1;if(s==126){i=65535;break}s>=92&&s--,s>=34&&s--;let l=s-32;if(l>=46&&(l-=46,a=!0),i+=l,a)break;i*=46}n?n[o++]=i:n=new e(i)}return n}class Xk{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const p8=new Xk;class WAe{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=p8,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,o=this.rangeIndex,i=this.pos+e;for(;i<r.from;){if(!o)return null;let s=this.ranges[--o];i-=r.from-s.to,r=s}for(;n<0?i>r.to:i>=r.to;){if(o==this.ranges.length-1)return null;let s=this.ranges[++o];i+=s.from-r.to,r=s}return i}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,o;if(n>=0&&n<this.chunk.length)r=this.pos+e,o=this.chunk.charCodeAt(n);else{let i=this.resolveOffset(e,1);if(i==null)return-1;if(r=i,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)o=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let s=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),o=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),o}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=p8,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let o of this.ranges){if(o.from>=n)break;o.to>e&&(r+=this.input.read(Math.max(o.from,e),Math.min(o.to,n)))}return r}}class sv{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;KAe(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}sv.prototype.contextual=sv.prototype.fallback=sv.prototype.extend=!1;sv.prototype.fallback=sv.prototype.extend=!1;function KAe(t,e,n,r,o,i){let s=0,a=1<<r,{dialect:l}=n.p.parser;e:for(;a&t[s];){let c=t[s+1];for(let h=s+3;h<c;h+=2)if((t[h+1]&a)>0){let m=t[h];if(l.allows(m)&&(e.token.value==-1||e.token.value==m||JAe(m,e.token.value,o,i))){e.acceptToken(m);break}}let u=e.next,d=0,f=t[s+2];if(e.next<0&&f>d&&t[c+f*3-3]==65535){s=t[c+f*3-1];continue e}for(;d<f;){let h=d+f>>1,m=c+h+(h<<1),g=t[m],v=t[m+1]||65536;if(u<g)f=h;else if(u>=v)d=h+1;else{s=t[m+2],e.advance();continue e}}break}}function m8(t,e,n){for(let r=e,o;(o=t[r])!=65535;r++)if(o==n)return r-e;return-1}function JAe(t,e,n,r){let o=m8(n,r,e);return o<0||m8(n,r,t)<o}const Ka=typeof process<"u"&&f8&&/\bparse\b/.test(f8.LOG);let pT=null;function g8(t,e,n){let r=t.cursor(cs.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class GAe{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?g8(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?g8(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],o=this.index[n];if(o==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=r.children[o],s=this.start[n]+r.positions[o];if(s>e)return this.nextStart=s,null;if(i instanceof Hi){if(s==e){if(s<this.safeFrom)return null;let a=s+i.length;if(a<=this.safeTo){let l=i.prop(ar.lookAhead);if(!l||a+l<this.fragment.to)return i}}this.index[n]++,s+i.length>=Math.max(this.safeFrom,e)&&(this.trees.push(i),this.start.push(s),this.index.push(0))}else this.index[n]++,this.nextStart=s+i.length}}}class YAe{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new Xk)}getActions(e){let n=0,r=null,{parser:o}=e.p,{tokenizers:i}=o,s=o.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<i.length;c++){if(!(1<<c&s))continue;let u=i[c],d=this.tokens[c];if(!(r&&!u.fallback)&&((u.contextual||d.start!=e.pos||d.mask!=s||d.context!=a)&&(this.updateCachedToken(d,u,e),d.mask=s,d.context=a),d.lookAhead>d.end+25&&(l=Math.max(d.lookAhead,l)),d.value!=0)){let f=n;if(d.extended>-1&&(n=this.addActions(e,d.extended,d.end,n)),n=this.addActions(e,d.value,d.end,n),!u.extend&&(r=d,n>f))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new Xk,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new Xk,{pos:r,p:o}=e;return n.start=r,n.end=Math.min(r+1,o.stream.end),n.value=r==o.stream.end?o.parser.eofTerm:0,n}updateCachedToken(e,n,r){let o=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(o,e),r),e.value>-1){let{parser:i}=r.p;for(let s=0;s<i.specialized.length;s++)if(i.specialized[s]==e.value){let a=i.specializers[s](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(o+1)}putAction(e,n,r,o){for(let i=0;i<o;i+=3)if(this.actions[i]==e)return o;return this.actions[o++]=e,this.actions[o++]=n,this.actions[o++]=r,o}addActions(e,n,r,o){let{state:i}=e,{parser:s}=e.p,{data:a}=s;for(let l=0;l<2;l++)for(let c=s.stateSlot(i,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=cd(a,c+2);else{o==0&&a[c+1]==2&&(o=this.putAction(cd(a,c+2),n,r,o));break}a[c]==n&&(o=this.putAction(cd(a,c+1),n,r,o))}return o}}class XAe{constructor(e,n,r,o){this.parser=e,this.input=n,this.ranges=o,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new WAe(n,o),this.tokens=new YAe(e,this.stream),this.topTerm=e.top[1];let{from:i}=o[0];this.stacks=[w2.start(this,e.top[0],i)],this.fragments=r.length&&this.stream.end-i>e.bufferLength*4?new GAe(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],o,i;if(this.bigReductionCount>300&&e.length==1){let[s]=e;for(;s.forceReduce()&&s.stack.length&&s.stack[s.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<e.length;s++){let a=e[s];for(;;){if(this.tokens.mainToken=null,a.pos>n)r.push(a);else{if(this.advanceStack(a,r,e))continue;{o||(o=[],i=[]),o.push(a);let l=this.tokens.getMainToken(a);i.push(l.value,l.end)}}break}}if(!r.length){let s=o&&ZAe(o);if(s)return Ka&&console.log("Finish with "+this.stackID(s)),this.stackToTree(s);if(this.parser.strict)throw Ka&&o&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&o){let s=this.stoppedAt!=null&&o[0].pos>this.stoppedAt?o[0]:this.runRecovery(o,i,r);if(s)return Ka&&console.log("Force-finish "+this.stackID(s)),this.stackToTree(s.forceAll())}if(this.recovering){let s=this.recovering==1?1:this.recovering*3;if(r.length>s)for(r.sort((a,l)=>l.score-a.score);r.length>s;)r.pop();r.some(a=>a.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let s=0;s<r.length-1;s++){let a=r[s];for(let l=s+1;l<r.length;l++){let c=r[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)r.splice(l--,1);else{r.splice(s--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let s=1;s<r.length;s++)r[s].pos<this.minStackPos&&(this.minStackPos=r[s].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let o=e.pos,{parser:i}=this,s=Ka?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&o>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let d=this.fragments.nodeAt(o);d;){let f=this.parser.nodeSet.types[d.type.id]==d.type?i.getGoto(e.state,d.type.id):-1;if(f>-1&&d.length&&(!c||(d.prop(ar.contextHash)||0)==u))return e.useNode(d,f),Ka&&console.log(s+this.stackID(e)+` (via reuse of ${i.getName(d.type.id)})`),!0;if(!(d instanceof Hi)||d.children.length==0||d.positions[0]>0)break;let h=d.children[0];if(h instanceof Hi&&d.positions[0]==0)d=h;else break}}let a=i.stateSlot(e.state,4);if(a>0)return e.reduce(a),Ka&&console.log(s+this.stackID(e)+` (via always-reduce ${i.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let u=l[c++],d=l[c++],f=l[c++],h=c==l.length||!r,m=h?e:e.split(),g=this.tokens.mainToken;if(m.apply(u,d,g?g.start:m.pos,f),Ka&&console.log(s+this.stackID(m)+` (via ${u&65536?`reduce of ${i.getName(u&65535)}`:"shift"} for ${i.getName(d)} @ ${o}${m==e?"":", split"})`),h)return!0;m.pos>o?n.push(m):r.push(m)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return v8(e,n),!0}}runRecovery(e,n,r){let o=null,i=!1;for(let s=0;s<e.length;s++){let a=e[s],l=n[s<<1],c=n[(s<<1)+1],u=Ka?this.stackID(a)+" -> ":"";if(a.deadEnd&&(i||(i=!0,a.restart(),Ka&&console.log(u+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let d=a.split(),f=u;for(let h=0;h<10&&d.forceReduce()&&(Ka&&console.log(f+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,r));h++)Ka&&(f=this.stackID(d)+" -> ");for(let h of a.recoverByInsert(l))Ka&&console.log(u+this.stackID(h)+" (via recover-insert)"),this.advanceFully(h,r);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),Ka&&console.log(u+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),v8(a,r)):(!o||o.score<a.score)&&(o=a)}return o}stackToTree(e){return e.close(),Hi.build({buffer:x2.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(pT||(pT=new WeakMap)).get(e);return n||pT.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function v8(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class QAe{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class k2 extends KJ{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),o=[];for(let a=0;a<n.length;a++)o.push([]);function i(a,l,c){o[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=ar[l]);for(let c=1;c<a.length;){let u=a[c++];if(u>=0)i(u,l,a[c++]);else{let d=a[c+-u];for(let f=-u;f>0;f--)i(a[c++],l,d);c++}}}this.nodeSet=new QP(n.map((a,l)=>Fl.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:o[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=HJ;let s=Ix(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(y8),this.states=Ix(e.states,Uint32Array),this.data=Ix(e.stateData),this.goto=Ix(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new sv(s,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let o=new XAe(this,e,n,r);for(let i of this.wrappers)o=i(o,e,n,r);return o}getGoto(e,n,r=!1){let o=this.goto;if(n>=o[0])return-1;for(let i=o[n+1];;){let s=o[i++],a=s&1,l=o[i++];if(a&&r)return l;for(let c=i+(s>>1);i<c;i++)if(o[i]==e)return l;if(a)return-1}}hasAction(e,n){let r=this.data;for(let o=0;o<2;o++)for(let i=this.stateSlot(e,o?2:1),s;;i+=3){if((s=r[i])==65535)if(r[i+1]==1)s=r[i=cd(r,i+2)];else{if(r[i+1]==2)return cd(r,i+2);break}if(s==n||s==0)return cd(r,i+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),o=r?n(r):void 0;for(let i=this.stateSlot(e,1);o==null;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=cd(this.data,i+2);else break;o=n(cd(this.data,i+1))}return o}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=cd(this.data,r+2);else break;if(!(this.data[r+2]&1)){let o=this.data[r+1];n.some((i,s)=>s&1&&i==o)||n.push(this.data[r],o)}}return n}configure(e){let n=Object.assign(Object.create(k2.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let o=e.tokenizers.find(i=>i.from==r);return o?o.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,o)=>{let i=e.specializers.find(a=>a.from==r.external);if(!i)return r;let s=Object.assign(Object.assign({},r),{external:i.to});return n.specializers[o]=y8(s),s})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let i of e.split(" ")){let s=n.indexOf(i);s>=0&&(r[s]=!0)}let o=null;for(let i=0;i<n.length;i++)if(!r[i])for(let s=this.dialects[n[i]],a;(a=this.data[s++])!=65535;)(o||(o=new Uint8Array(this.maxTerm+1)))[a]=1;return new QAe(e,r,o)}static deserialize(e){return new k2(e)}}function cd(t,e){return t[e]|t[e+1]<<16}function ZAe(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function y8(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const eMe=JJ({String:ct.string,Number:ct.number,"True False":ct.bool,PropertyName:ct.propertyName,Null:ct.null,", :":ct.separator,"[ ]":ct.squareBracket,"{ }":ct.brace}),tMe=k2.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[eMe],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),nMe=y2.define({name:"json",parser:tMe.configure({props:[QJ.add({Object:JD({except:/^\s*\}/}),Array:JD({except:/^\s*\]/})}),oI.add({"Object Array":QCe})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function rMe(){return new zCe(nMe)}const b8=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Bv{constructor(e,n,r=0,o=e.length,i,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,o),this.bufferStart=r,this.normalize=i?a=>i(b8(a)):b8,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Oa(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=DP(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=du(e);let o=this.normalize(n);if(o.length)for(let i=0,s=r;;i++){let a=o.charCodeAt(i),l=this.match(a,s,this.bufferPos+this.bufferStart);if(i==o.length-1){if(l)return this.value=l,this;break}s==r&&i<n.length&&n.charCodeAt(i)==a&&s++}}}match(e,n,r){let o=null;for(let i=0;i<this.matches.length;i+=2){let s=this.matches[i],a=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?o={from:this.matches[i+1],to:r}:(this.matches[i]++,a=!0)),a||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?o={from:n,to:r}:this.matches.push(1,n)),o&&this.test&&!this.test(o.from,o.to,this.buffer,this.bufferStart)&&(o=null),o}}typeof Symbol<"u"&&(Bv.prototype[Symbol.iterator]=function(){return this});const ZG={from:-1,to:-1,match:/.*/.exec("")},uI="gm"+(/x/.unicode==null?"":"u");class eY{constructor(e,n,r,o=0,i=e.length){if(this.text=e,this.to=i,this.curLine="",this.done=!1,this.value=ZG,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new tY(e,n,r,o,i);this.re=new RegExp(n,uI+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let s=e.lineAt(o);this.curLineStart=s.from,this.matchPos=S2(e,o),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,o=r+n[0].length;if(this.matchPos=S2(this.text,o+(r==o?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<o||r>this.value.to)&&(!this.test||this.test(r,o,n)))return this.value={from:r,to:o,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const mT=new WeakMap;class av{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let o=mT.get(e);if(!o||o.from>=r||o.to<=n){let a=new av(n,e.sliceString(n,r));return mT.set(e,a),a}if(o.from==n&&o.to==r)return o;let{text:i,from:s}=o;return s>n&&(i=e.sliceString(n,s)+i,s=n),o.to<r&&(i+=e.sliceString(o.to,r)),mT.set(e,new av(s,i)),new av(n,i.slice(n-s,r-s))}}class tY{constructor(e,n,r,o,i){this.text=e,this.to=i,this.done=!1,this.value=ZG,this.matchPos=S2(e,o),this.re=new RegExp(n,uI+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=av.get(e,o,this.chunkEnd(o+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,o=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,o,n)))return this.value={from:r,to:o,match:n},this.matchPos=S2(this.text,o+(r==o?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=av.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(eY.prototype[Symbol.iterator]=tY.prototype[Symbol.iterator]=function(){return this});function oMe(t){try{return new RegExp(t,uI),!0}catch{return!1}}function S2(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function _E(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=go("input",{class:"cm-textfield",name:"line",value:e}),r=go("form",{class:"cm-gotoLine",onkeydown:i=>{i.keyCode==27?(i.preventDefault(),t.dispatch({effects:e0.of(!1)}),t.focus()):i.keyCode==13&&(i.preventDefault(),o())},onsubmit:i=>{i.preventDefault(),o()}},go("label",t.state.phrase("Go to line"),": ",n)," ",go("button",{class:"cm-button",type:"submit"},t.state.phrase("go")),go("button",{name:"close",onclick:()=>{t.dispatch({effects:e0.of(!1)}),t.focus()},"aria-label":t.state.phrase("close"),type:"button"},[""]));function o(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!i)return;let{state:s}=t,a=s.doc.lineAt(s.selection.main.head),[,l,c,u,d]=i,f=u?+u.slice(1):0,h=c?+c:a.number;if(c&&d){let v=h/100;l&&(v=v*(l=="-"?-1:1)+a.number/s.doc.lines),h=Math.round(s.doc.lines*v)}else c&&l&&(h=h*(l=="-"?-1:1)+a.number);let m=s.doc.line(Math.max(1,Math.min(s.doc.lines,h))),g=We.cursor(m.from+Math.max(0,Math.min(f,m.length)));t.dispatch({effects:[e0.of(!1),Mt.scrollIntoView(g.from,{y:"center"})],selection:g}),t.focus()}return{dom:r}}const e0=Xn.define(),w8=ks.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(e0)&&(t=n.value);return t},provide:t=>X0.from(t,e=>e?_E:null)}),iMe=t=>{let e=Y0(t,_E);if(!e){let n=[e0.of(!0)];t.state.field(w8,!1)==null&&n.push(Xn.appendConfig.of([w8,sMe])),t.dispatch({effects:n}),e=Y0(t,_E)}return e&&e.dom.querySelector("input").select(),!0},sMe=Mt.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),aMe={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},lMe=It.define({combine(t){return Fc(t,aMe,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function cMe(t){return[pMe,hMe]}const uMe=bn.mark({class:"cm-selectionMatch"}),dMe=bn.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function x8(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=Zo.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=Zo.Word)}function fMe(t,e,n,r){return t(e.sliceDoc(n,n+1))==Zo.Word&&t(e.sliceDoc(r-1,r))==Zo.Word}const hMe=di.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(lMe),{state:n}=t,r=n.selection;if(r.ranges.length>1)return bn.none;let o=r.main,i,s=null;if(o.empty){if(!e.highlightWordAroundCursor)return bn.none;let l=n.wordAt(o.head);if(!l)return bn.none;s=n.charCategorizer(o.head),i=n.sliceDoc(l.from,l.to)}else{let l=o.to-o.from;if(l<e.minSelectionLength||l>200)return bn.none;if(e.wholeWords){if(i=n.sliceDoc(o.from,o.to),s=n.charCategorizer(o.head),!(x8(s,n,o.from,o.to)&&fMe(s,n,o.from,o.to)))return bn.none}else if(i=n.sliceDoc(o.from,o.to),!i)return bn.none}let a=[];for(let l of t.visibleRanges){let c=new Bv(n.doc,i,l.from,l.to);for(;!c.next().done;){let{from:u,to:d}=c.value;if((!s||x8(s,n,u,d))&&(o.empty&&u<=o.from&&d>=o.to?a.push(dMe.range(u,d)):(u>=o.to||d<=o.from)&&a.push(uMe.range(u,d)),a.length>e.maxMatches))return bn.none}}return bn.set(a)}},{decorations:t=>t.decorations}),pMe=Mt.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),mMe=({state:t,dispatch:e})=>{let{selection:n}=t,r=We.create(n.ranges.map(o=>t.wordAt(o.head)||We.cursor(o.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function gMe(t,e){let{main:n,ranges:r}=t.selection,o=t.wordAt(n.head),i=o&&o.from==n.from&&o.to==n.to;for(let s=!1,a=new Bv(t.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(s)return null;a=new Bv(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),s=!0}else{if(s&&r.some(l=>l.from==a.value.from))continue;if(i){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const vMe=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(i=>i.from===i.to))return mMe({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(i=>t.sliceDoc(i.from,i.to)!=r))return!1;let o=gMe(t,r);return o?(e(t.update({selection:t.selection.addRange(We.range(o.from,o.to),!1),effects:Mt.scrollIntoView(o.to)})),!0):!1},zm=It.define({combine(t){return Fc(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new $Me(e),scrollToMatch:e=>Mt.scrollIntoView(e)})}});function yMe(t){return t?[zm.of(t),IE]:IE}class nY{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||oMe(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new kMe(this):new wMe(this)}getCursor(e,n=0,r){let o=e.doc?e:fr.create({doc:e});return r==null&&(r=o.doc.length),this.regexp?Ag(this,o,n,r):jg(this,o,n,r)}}class rY{constructor(e){this.spec=e}}function jg(t,e,n,r){return new Bv(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:o=>o.toLowerCase(),t.wholeWord?bMe(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function bMe(t,e){return(n,r,o,i)=>((i>n||i+o.length<r)&&(i=Math.max(0,n-2),o=t.sliceString(i,Math.min(t.length,r+2))),(e(C2(o,n-i))!=Zo.Word||e(j2(o,n-i))!=Zo.Word)&&(e(j2(o,r-i))!=Zo.Word||e(C2(o,r-i))!=Zo.Word))}class wMe extends rY{constructor(e){super(e)}nextMatch(e,n,r){let o=jg(this.spec,e,r,e.doc.length).nextOverlapping();if(o.done){let i=Math.min(e.doc.length,n+this.spec.unquoted.length);o=jg(this.spec,e,0,i).nextOverlapping()}return o.done||o.value.from==n&&o.value.to==r?null:o.value}prevMatchInRange(e,n,r){for(let o=r;;){let i=Math.max(n,o-1e4-this.spec.unquoted.length),s=jg(this.spec,e,i,o),a=null;for(;!s.nextOverlapping().done;)a=s.value;if(a)return a;if(i==n)return null;o-=1e4}}prevMatch(e,n,r){let o=this.prevMatchInRange(e,0,n);return o||(o=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),o&&(o.from!=n||o.to!=r)?o:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=jg(this.spec,e,0,e.doc.length),o=[];for(;!r.next().done;){if(o.length>=n)return null;o.push(r.value)}return o}highlight(e,n,r,o){let i=jg(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!i.next().done;)o(i.value.from,i.value.to)}}function Ag(t,e,n,r){return new eY(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?xMe(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function C2(t,e){return t.slice(Rs(t,e,!1),e)}function j2(t,e){return t.slice(e,Rs(t,e))}function xMe(t){return(e,n,r)=>!r[0].length||(t(C2(r.input,r.index))!=Zo.Word||t(j2(r.input,r.index))!=Zo.Word)&&(t(j2(r.input,r.index+r[0].length))!=Zo.Word||t(C2(r.input,r.index+r[0].length))!=Zo.Word)}class kMe extends rY{nextMatch(e,n,r){let o=Ag(this.spec,e,r,e.doc.length).next();return o.done&&(o=Ag(this.spec,e,0,n).next()),o.done?null:o.value}prevMatchInRange(e,n,r){for(let o=1;;o++){let i=Math.max(n,r-o*1e4),s=Ag(this.spec,e,i,r),a=null;for(;!s.next().done;)a=s.value;if(a&&(i==n||a.from>i+10))return a;if(i==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let o=r.length;o>0;o--){let i=+r.slice(0,o);if(i>0&&i<e.match.length)return e.match[i]+r.slice(o)}return n})}matchAll(e,n){let r=Ag(this.spec,e,0,e.doc.length),o=[];for(;!r.next().done;){if(o.length>=n)return null;o.push(r.value)}return o}highlight(e,n,r,o){let i=Ag(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!i.next().done;)o(i.value.from,i.value.to)}}const rb=Xn.define(),dI=Xn.define(),fh=ks.define({create(t){return new gT(PE(t).create(),null)},update(t,e){for(let n of e.effects)n.is(rb)?t=new gT(n.value.create(),t.panel):n.is(dI)&&(t=new gT(t.query,n.value?fI:null));return t},provide:t=>X0.from(t,e=>e.panel)});class gT{constructor(e,n){this.query=e,this.panel=n}}const SMe=bn.mark({class:"cm-searchMatch"}),CMe=bn.mark({class:"cm-searchMatch cm-searchMatch-selected"}),jMe=di.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(fh))}update(t){let e=t.state.field(fh);(e!=t.startState.field(fh)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return bn.none;let{view:n}=this,r=new Ec;for(let o=0,i=n.visibleRanges,s=i.length;o<s;o++){let{from:a,to:l}=i[o];for(;o<s-1&&l>i[o+1].from-2*250;)l=i[++o].to;t.highlight(n.state,a,l,(c,u)=>{let d=n.state.selection.ranges.some(f=>f.from==c&&f.to==u);r.add(c,u,d?CMe:SMe)})}return r.finish()}},{decorations:t=>t.decorations});function bw(t){return e=>{let n=e.state.field(fh,!1);return n&&n.query.spec.valid?t(e,n):hI(e)}}const A2=bw((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let o=We.single(r.from,r.to),i=t.state.facet(zm);return t.dispatch({selection:o,effects:[mI(t,r),i.scrollToMatch(o.main,t)],userEvent:"select.search"}),iY(t),!0}),M2=bw((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,o=e.prevMatch(n,r,r);if(!o)return!1;let i=We.single(o.from,o.to),s=t.state.facet(zm);return t.dispatch({selection:i,effects:[mI(t,o),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),iY(t),!0}),AMe=bw((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:We.create(n.map(r=>We.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),MMe=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:o}=n.main,i=[],s=0;for(let a=new Bv(t.doc,t.sliceDoc(r,o));!a.next().done;){if(i.length>1e3)return!1;a.value.from==r&&(s=i.length),i.push(We.range(a.value.from,a.value.to))}return e(t.update({selection:We.create(i,s),userEvent:"select.search.matches"})),!0},k8=bw((t,{query:e})=>{let{state:n}=t,{from:r,to:o}=n.selection.main;if(n.readOnly)return!1;let i=e.nextMatch(n,r,r);if(!i)return!1;let s=i,a=[],l,c,u=[];s.from==r&&s.to==o&&(c=n.toText(e.getReplacement(s)),a.push({from:s.from,to:s.to,insert:c}),s=e.nextMatch(n,s.from,s.to),u.push(Mt.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let d=t.state.changes(a);return s&&(l=We.single(s.from,s.to).map(d),u.push(mI(t,s)),u.push(n.facet(zm).scrollToMatch(l.main,t))),t.dispatch({changes:d,selection:l,effects:u,userEvent:"input.replace"}),!0}),TMe=bw((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(o=>{let{from:i,to:s}=o;return{from:i,to:s,insert:e.getReplacement(o)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:Mt.announce.of(r),userEvent:"input.replace.all"}),!0});function fI(t){return t.state.facet(zm).createPanel(t)}function PE(t,e){var n,r,o,i,s;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=t.facet(zm);return new nY({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:c.caseSensitive,literal:(o=e==null?void 0:e.literal)!==null&&o!==void 0?o:c.literal,regexp:(i=e==null?void 0:e.regexp)!==null&&i!==void 0?i:c.regexp,wholeWord:(s=e==null?void 0:e.wholeWord)!==null&&s!==void 0?s:c.wholeWord})}function oY(t){let e=Y0(t,fI);return e&&e.dom.querySelector("[main-field]")}function iY(t){let e=oY(t);e&&e==t.root.activeElement&&e.select()}const hI=t=>{let e=t.state.field(fh,!1);if(e&&e.panel){let n=oY(t);if(n&&n!=t.root.activeElement){let r=PE(t.state,e.query.spec);r.valid&&t.dispatch({effects:rb.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[dI.of(!0),e?rb.of(PE(t.state,e.query.spec)):Xn.appendConfig.of(IE)]});return!0},pI=t=>{let e=t.state.field(fh,!1);if(!e||!e.panel)return!1;let n=Y0(t,fI);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:dI.of(!1)}),!0},OMe=[{key:"Mod-f",run:hI,scope:"editor search-panel"},{key:"F3",run:A2,shift:M2,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:A2,shift:M2,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:pI,scope:"editor search-panel"},{key:"Mod-Shift-l",run:MMe},{key:"Mod-Alt-g",run:iMe},{key:"Mod-d",run:vMe,preventDefault:!0}];class $Me{constructor(e){this.view=e;let n=this.query=e.state.field(fh).query.spec;this.commit=this.commit.bind(this),this.searchField=go("input",{value:n.search,placeholder:Ja(e,"Find"),"aria-label":Ja(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=go("input",{value:n.replace,placeholder:Ja(e,"Replace"),"aria-label":Ja(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=go("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=go("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=go("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(o,i,s){return go("button",{class:"cm-button",name:o,onclick:i,type:"button"},s)}this.dom=go("div",{onkeydown:o=>this.keydown(o),class:"cm-search"},[this.searchField,r("next",()=>A2(e),[Ja(e,"next")]),r("prev",()=>M2(e),[Ja(e,"previous")]),r("select",()=>AMe(e),[Ja(e,"all")]),go("label",null,[this.caseField,Ja(e,"match case")]),go("label",null,[this.reField,Ja(e,"regexp")]),go("label",null,[this.wordField,Ja(e,"by word")]),...e.state.readOnly?[]:[go("br"),this.replaceField,r("replace",()=>k8(e),[Ja(e,"replace")]),r("replaceAll",()=>TMe(e),[Ja(e,"replace all")])],go("button",{name:"close",onclick:()=>pI(e),"aria-label":Ja(e,"close"),type:"button"},[""])])}commit(){let e=new nY({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:rb.of(e)}))}keydown(e){x2e(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?M2:A2)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),k8(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(rb)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(zm).top}}function Ja(t,e){return t.state.phrase(e)}const Rx=30,Nx=/[\s\.,:;?!]/;function mI(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),o=t.state.doc.lineAt(n).to,i=Math.max(r.from,e-Rx),s=Math.min(o,n+Rx),a=t.state.sliceDoc(i,s);if(i!=r.from){for(let l=0;l<Rx;l++)if(!Nx.test(a[l+1])&&Nx.test(a[l])){a=a.slice(l);break}}if(s!=o){for(let l=a.length-1;l>a.length-Rx;l--)if(!Nx.test(a[l-1])&&Nx.test(a[l])){a=a.slice(0,l);break}}return Mt.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`)}const EMe=Mt.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),IE=[fh,Bm.low(jMe),EMe];class sY{constructor(e,n,r,o){this.state=e,this.pos=n,this.explicit=r,this.view=o,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=na(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),o=n.text.slice(r-n.from,this.pos-n.from),i=o.search(aY(e,!1));return i<0?null:{from:r+i,to:this.pos,text:o.slice(i)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function S8(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function _Me(t){let e=Object.create(null),n=Object.create(null);for(let{label:o}of t){e[o[0]]=!0;for(let i=1;i<o.length;i++)n[o[i]]=!0}let r=S8(e)+S8(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function PMe(t){let e=t.map(o=>typeof o=="string"?{label:o}:o),[n,r]=e.every(o=>/^\w+$/.test(o.label))?[/\w*$/,/\w+$/]:_Me(e);return o=>{let i=o.matchBefore(r);return i||o.explicit?{from:i?i.from:o.pos,options:e,validFor:n}:null}}class C8{constructor(e,n,r,o){this.completion=e,this.source=n,this.match=r,this.score=o}}function Up(t){return t.selection.main.from}function aY(t,e){var n;let{source:r}=t,o=e&&r[0]!="^",i=r[r.length-1]!="$";return!o&&!i?t:new RegExp(`${o?"^":""}(?:${r})${i?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const lY=qh.define();function IMe(t,e,n,r){let{main:o}=t.selection,i=n-o.from,s=r-o.from;return{...t.changeByRange(a=>{if(a!=o&&n!=r&&t.sliceDoc(a.from+i,a.from+s)!=t.sliceDoc(n,r))return{range:a};let l=t.toText(e);return{changes:{from:a.from+i,to:r==o.from?a.to:a.from+s,insert:l},range:We.cursor(a.from+i+l.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const j8=new WeakMap;function RMe(t){if(!Array.isArray(t))return t;let e=j8.get(t);return e||j8.set(t,e=PMe(t)),e}const T2=Xn.define(),ob=Xn.define();class NMe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=Oa(e,n),o=du(r);this.chars.push(r);let i=e.slice(n,n+o),s=i.toUpperCase();this.folded.push(Oa(s==i?i.toLowerCase():s,0)),n+=o}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:o,precise:i,byWord:s}=this;if(n.length==1){let b=Oa(e,0),x=du(b),k=x==e.length?0:-100;if(b!=n[0])if(b==r[0])k+=-200;else return null;return this.ret(k,[0,x])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,c=0;if(a<0){for(let b=0,x=Math.min(e.length,200);b<x&&c<l;){let k=Oa(e,b);(k==n[c]||k==r[c])&&(o[c++]=b),b+=du(k)}if(c<l)return null}let u=0,d=0,f=!1,h=0,m=-1,g=-1,v=/[a-z]/.test(e),y=!0;for(let b=0,x=Math.min(e.length,200),k=0;b<x&&d<l;){let w=Oa(e,b);a<0&&(u<l&&w==n[u]&&(i[u++]=b),h<l&&(w==n[h]||w==r[h]?(h==0&&(m=b),g=b+1,h++):h=0));let S,C=w<255?w>=48&&w<=57||w>=97&&w<=122?2:w>=65&&w<=90?1:0:(S=DP(w))!=S.toLowerCase()?1:S!=S.toUpperCase()?2:0;(!b||C==1&&v||k==0&&C!=0)&&(n[d]==w||r[d]==w&&(f=!0)?s[d++]=b:s.length&&(y=!1)),k=C,b+=du(w)}return d==l&&s[0]==0&&y?this.result(-100+(f?-200:0),s,e):h==l&&m==0?this.ret(-200-e.length+(g==e.length?0:-100),[0,g]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):h==l?this.ret(-900-e.length,[m,g]):d==l?this.result(-100+(f?-200:0)+-700+(y?0:-1100),s,e):n.length==2?null:this.result((o[0]?-700:0)+-200+-1100,o,e)}result(e,n,r){let o=[],i=0;for(let s of n){let a=s+(this.astral?du(Oa(r,s)):1);i&&o[i-1]==s?o[i-1]=a:(o[i++]=s,o[i++]=a)}return this.ret(e-r.length,o)}}class LMe{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const hs=It.define({combine(t){return Fc(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:DMe,filterStrict:!1,compareCompletions:(e,n)=>(e.sortText||e.label).localeCompare(n.sortText||n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>A8(e(r),n(r)),optionClass:(e,n)=>r=>A8(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function A8(t,e){return t?e?t+" "+e:t:e}function DMe(t,e,n,r,o,i){let s=t.textDirection==qo.RTL,a=s,l=!1,c="top",u,d,f=e.left-o.left,h=o.right-e.right,m=r.right-r.left,g=r.bottom-r.top;if(a&&f<Math.min(m,h)?a=!1:!a&&h<Math.min(m,f)&&(a=!0),m<=(a?f:h))u=Math.max(o.top,Math.min(n.top,o.bottom-g))-e.top,d=Math.min(400,a?f:h);else{l=!0,d=Math.min(400,(s?e.right:o.right-e.left)-30);let b=o.bottom-e.bottom;b>=g||b>e.top?u=n.bottom-e.top:(c="bottom",u=e.bottom-n.top)}let v=(e.bottom-e.top)/i.offsetHeight,y=(e.right-e.left)/i.offsetWidth;return{style:`${c}: ${u/v}px; max-width: ${d/y}px`,class:"cm-completionInfo-"+(l?s?"left-narrow":"right-narrow":a?"left":"right")}}function VMe(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(o=>"cm-completionIcon-"+o)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,o,i){let s=document.createElement("span");s.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let c=0;c<i.length;){let u=i[c++],d=i[c++];u>l&&s.appendChild(document.createTextNode(a.slice(l,u)));let f=s.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(a.slice(u,d))),f.className="cm-completionMatchedText",l=d}return l<a.length&&s.appendChild(document.createTextNode(a.slice(l))),s},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function vT(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let o=Math.floor(e/n);return{from:o*n,to:(o+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class BMe{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let o=e.state.field(n),{options:i,selected:s}=o.open,a=e.state.facet(hs);this.optionContent=VMe(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=vT(i.length,s,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(n).open;for(let u=l.target,d;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(d=/-(\d+)$/.exec(u.id))&&+d[1]<c.length){this.applyCompletion(e,c[+d[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(hs).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:ob.of(null)})}),this.showOptions(i,o.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),o=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=o){let{options:i,selected:s,disabled:a}=r.open;(!o.open||o.open.options!=i)&&(this.range=vT(i.length,s,e.state.facet(hs).maxRenderedOptions),this.showOptions(i,r.id)),this.updateSel(),a!=((n=o.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=vT(n.options.length,n.selected,this.view.state.facet(hs).maxRenderedOptions),this.showOptions(n.options,e.id));let r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();let{completion:o}=n.options[n.selected],{info:i}=o;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(o);if(!s)return;"then"in s?s.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a,o)}).catch(a=>ga(this.view.state,a,"completion info")):(this.addInfoPane(s,o),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:o,destroy:i}=e;r.appendChild(o),this.infoDestroy=i||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,o=this.range.from;r;r=r.nextSibling,o++)r.nodeName!="LI"||!r.id?o--:o==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return n&&HMe(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),o=e.getBoundingClientRect(),i=this.space;if(!i){let s=this.dom.ownerDocument.documentElement;i={left:0,top:0,right:s.clientWidth,bottom:s.clientHeight}}return o.top>Math.min(i.bottom,n.bottom)-10||o.bottom<Math.max(i.top,n.top)+10?null:this.view.state.facet(hs).positionInfo(this.view,n,o,r,i,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const o=document.createElement("ul");o.id=n,o.setAttribute("role","listbox"),o.setAttribute("aria-expanded","true"),o.setAttribute("aria-label",this.view.state.phrase("Completions")),o.addEventListener("mousedown",s=>{s.target==o&&s.preventDefault()});let i=null;for(let s=r.from;s<r.to;s++){let{completion:a,match:l}=e[s],{section:c}=a;if(c){let f=typeof c=="string"?c:c.name;if(f!=i&&(s>r.from||r.from==0))if(i=f,typeof c!="string"&&c.header)o.appendChild(c.header(c));else{let h=o.appendChild(document.createElement("completion-section"));h.textContent=f}}const u=o.appendChild(document.createElement("li"));u.id=n+"-"+s,u.setAttribute("role","option");let d=this.optionClass(a);d&&(u.className=d);for(let f of this.optionContent){let h=f(a,this.view.state,this.view,l);h&&u.appendChild(h)}}return r.from&&o.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&o.classList.add("cm-completionListIncompleteBottom"),o}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function zMe(t,e){return n=>new BMe(n,t,e)}function HMe(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/o:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/o)}function M8(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function FMe(t,e){let n=[],r=null,o=null,i=u=>{n.push(u);let{section:d}=u.completion;if(d){r||(r=[]);let f=typeof d=="string"?d:d.name;r.some(h=>h.name==f)||r.push(typeof d=="string"?{name:f}:d)}},s=e.facet(hs);for(let u of t)if(u.hasResult()){let d=u.result.getMatch;if(u.result.filter===!1)for(let f of u.result.options)i(new C8(f,u.source,d?d(f):[],1e9-n.length));else{let f=e.sliceDoc(u.from,u.to),h,m=s.filterStrict?new LMe(f):new NMe(f);for(let g of u.result.options)if(h=m.match(g.label)){let v=g.displayLabel?d?d(g,h.matched):[]:h.matched,y=h.score+(g.boost||0);if(i(new C8(g,u.source,v,y)),typeof g.section=="object"&&g.section.rank==="dynamic"){let{name:b}=g.section;o||(o=Object.create(null)),o[b]=Math.max(y,o[b]||-1e9)}}}}if(r){let u=Object.create(null),d=0,f=(h,m)=>(h.rank==="dynamic"&&m.rank==="dynamic"?o[m.name]-o[h.name]:0)||(typeof h.rank=="number"?h.rank:1e9)-(typeof m.rank=="number"?m.rank:1e9)||(h.name<m.name?-1:1);for(let h of r.sort(f))d-=1e5,u[h.name]=d;for(let h of n){let{section:m}=h.completion;m&&(h.score+=u[typeof m=="string"?m:m.name])}}let a=[],l=null,c=s.compareCompletions;for(let u of n.sort((d,f)=>f.score-d.score||c(d.completion,f.completion))){let d=u.completion;!l||l.label!=d.label||l.detail!=d.detail||l.type!=null&&d.type!=null&&l.type!=d.type||l.apply!=d.apply||l.boost!=d.boost?a.push(u):M8(u.completion)>M8(l)&&(a[a.length-1]=u),l=u.completion}return a}class Bg{constructor(e,n,r,o,i,s){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=o,this.selected=i,this.disabled=s}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Bg(this.options,T8(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,o,i,s){if(o&&!s&&e.some(c=>c.isPending))return o.setDisabled();let a=FMe(e,n);if(!a.length)return o&&e.some(c=>c.isPending)?o.setDisabled():null;let l=n.facet(hs).selectOnOpen?0:-1;if(o&&o.selected!=l&&o.selected!=-1){let c=o.options[o.selected].completion;for(let u=0;u<a.length;u++)if(a[u].completion==c){l=u;break}}return new Bg(a,T8(r,l),{pos:e.reduce((c,u)=>u.hasResult()?Math.min(c,u.from):c,1e8),create:GMe,above:i.aboveCursor},o?o.timestamp:Date.now(),l,!1)}map(e){return new Bg(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Bg(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class O2{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new O2(KMe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(hs),i=(r.override||n.languageDataAt("autocomplete",Up(n)).map(RMe)).map(l=>(this.active.find(u=>u.source==l)||new El(l,this.active.some(u=>u.state!=0)?1:0)).update(e,r));i.length==this.active.length&&i.every((l,c)=>l==this.active[c])&&(i=this.active);let s=this.open,a=e.effects.some(l=>l.is(gI));s&&e.docChanged&&(s=s.map(e.changes)),e.selection||i.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!qMe(i,this.active)||a?s=Bg.build(i,n,this.id,s,r,a):s&&s.disabled&&!i.some(l=>l.isPending)&&(s=null),!s&&i.every(l=>!l.isPending)&&i.some(l=>l.hasResult())&&(i=i.map(l=>l.hasResult()?new El(l.source,0):l));for(let l of e.effects)l.is(uY)&&(s=s&&s.setSelected(l.value,this.id));return i==this.active&&s==this.open?this:new O2(i,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?UMe:WMe}}function qMe(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let o=n==t.length,i=r==e.length;if(o||i)return o==i;if(t[n++].result!=e[r++].result)return!1}}const UMe={"aria-autocomplete":"list"},WMe={};function T8(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const KMe=[];function cY(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(lY);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class El{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=cY(e,n),o=this;(r&8||r&16&&this.touches(e))&&(o=new El(o.source,0)),r&4&&o.state==0&&(o=new El(this.source,1)),o=o.updateFor(e,r);for(let i of e.effects)if(i.is(T2))o=new El(o.source,1,i.value);else if(i.is(ob))o=new El(o.source,0);else if(i.is(gI))for(let s of i.value)s.source==o.source&&(o=s);return o}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Up(e.state))}}class lv extends El{constructor(e,n,r,o,i,s){super(e,3,n),this.limit=r,this.result=o,this.from=i,this.to=s}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let o=this.result;o.map&&!e.changes.empty&&(o=o.map(o,e.changes));let i=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),a=Up(e.state);if(a>s||!o||n&2&&(Up(e.startState)==this.from||a<this.limit))return new El(this.source,n&4?1:0);let l=e.changes.mapPos(this.limit);return JMe(o.validFor,e.state,i,s)?new lv(this.source,this.explicit,l,o,i,s):o.update&&(o=o.update(o,i,s,new sY(e.state,a,!1)))?new lv(this.source,this.explicit,l,o,o.from,(r=o.to)!==null&&r!==void 0?r:Up(e.state)):new El(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new lv(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new El(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function JMe(t,e,n,r){if(!t)return!1;let o=e.sliceDoc(n,r);return typeof t=="function"?t(o,n,r,e):aY(t,!0).test(o)}const gI=Xn.define({map(t,e){return t.map(n=>n.map(e))}}),uY=Xn.define(),$a=ks.define({create(){return O2.start()},update(t,e){return t.update(e)},provide:t=>[eA.from(t,e=>e.tooltip),Mt.contentAttributes.from(t,e=>e.attrs)]});function vI(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field($a).active.find(o=>o.source==e.source);return r instanceof lv?(typeof n=="string"?t.dispatch({...IMe(t.state,n,r.from,r.to),annotations:lY.of(e.completion)}):n(t,e.completion,r.from,r.to),!0):!1}const GMe=zMe($a,vI);function Lx(t,e="option"){return n=>{let r=n.state.field($a,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(hs).interactionDelay)return!1;let o=1,i;e=="page"&&(i=LJ(n,r.open.tooltip))&&(o=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,a=r.open.selected>-1?r.open.selected+o*(t?1:-1):t?0:s-1;return a<0?a=e=="page"?0:s-1:a>=s&&(a=e=="page"?s-1:0),n.dispatch({effects:uY.of(a)}),!0}}const YMe=t=>{let e=t.state.field($a,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(hs).interactionDelay?!1:vI(t,e.open.options[e.open.selected])},yT=t=>t.state.field($a,!1)?(t.dispatch({effects:T2.of(!0)}),!0):!1,XMe=t=>{let e=t.state.field($a,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:ob.of(null)}),!0)};class QMe{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const ZMe=50,eTe=1e3,tTe=di.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field($a).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field($a),n=t.state.facet(hs);if(!t.selectionSet&&!t.docChanged&&t.startState.field($a)==e)return;let r=t.transactions.some(i=>{let s=cY(i,n);return s&8||(i.selection||i.docChanged)&&!(s&3)});for(let i=0;i<this.running.length;i++){let s=this.running[i];if(r||s.context.abortOnDocChange&&t.docChanged||s.updates.length+t.transactions.length>ZMe&&Date.now()-s.time>eTe){for(let a of s.context.abortListeners)try{a()}catch(l){ga(this.view.state,l)}s.context.abortListeners=null,this.running.splice(i--,1)}else s.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(i=>i.effects.some(s=>s.is(T2)))&&(this.pendingStart=!0);let o=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(i=>i.isPending&&!this.running.some(s=>s.active.source==i.source))?setTimeout(()=>this.startUpdate(),o):-1,this.composing!=0)for(let i of t.transactions)i.isUserEvent("input.type")?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field($a);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(hs).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=Up(e),r=new sY(e,n,t.explicit,this.view),o=new QMe(t,r);this.running.push(o),Promise.resolve(t.source(r)).then(i=>{o.context.aborted||(o.done=i||null,this.scheduleAccept())},i=>{this.view.dispatch({effects:ob.of(null)}),ga(this.view.state,i)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(hs).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(hs),r=this.view.state.field($a);for(let o=0;o<this.running.length;o++){let i=this.running[o];if(i.done===void 0)continue;if(this.running.splice(o--,1),i.done){let a=Up(i.updates.length?i.updates[0].startState:this.view.state),l=Math.min(a,i.done.from+(i.active.explicit?0:1)),c=new lv(i.active.source,i.active.explicit,l,i.done,i.done.from,(t=i.done.to)!==null&&t!==void 0?t:a);for(let u of i.updates)c=c.update(u,n);if(c.hasResult()){e.push(c);continue}}let s=r.active.find(a=>a.source==i.active.source);if(s&&s.isPending)if(i.done==null){let a=new El(i.active.source,0);for(let l of i.updates)a=a.update(l,n);a.isPending||e.push(a)}else this.startQuery(s)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:gI.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field($a,!1);if(e&&e.tooltip&&this.view.state.facet(hs).closeOnBlur){let n=e.open&&LJ(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:ob.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:T2.of(!1)}),20),this.composing=0}}}),nTe=typeof navigator=="object"&&/Win/.test(navigator.platform),rTe=Bm.highest(Mt.domEventHandlers({keydown(t,e){let n=e.state.field($a,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(nTe&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],o=n.active.find(s=>s.source==r.source),i=r.completion.commitCharacters||o.result.commitCharacters;return i&&i.indexOf(t.key)>-1&&vI(e,r),!1}})),oTe=Mt.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),ib={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Ip=Xn.define({map(t,e){let n=e.mapPos(t,-1,ma.TrackAfter);return n??void 0}}),yI=new class extends pm{};yI.startSide=1;yI.endSide=-1;const dY=ks.define({create(){return br.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(Ip)&&(t=t.update({add:[yI.range(n.value,n.value+1)]}));return t}});function iTe(){return[aTe,dY]}const bT="()[]{}<>";function fY(t){for(let e=0;e<bT.length;e+=2)if(bT.charCodeAt(e)==t)return bT.charAt(e+1);return DP(t<128?t:t+1)}function hY(t,e){return t.languageDataAt("closeBrackets",e)[0]||ib}const sTe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),aTe=Mt.inputHandler.of((t,e,n,r)=>{if((sTe?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let o=t.state.selection.main;if(r.length>2||r.length==2&&du(Oa(r,0))==1||e!=o.from||n!=o.to)return!1;let i=uTe(t.state,r);return i?(t.dispatch(i),!0):!1}),lTe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=hY(t,t.selection.main.head).brackets||ib.brackets,o=null,i=t.changeByRange(s=>{if(s.empty){let a=dTe(t.doc,s.head);for(let l of r)if(l==a&&cA(t.doc,s.head)==fY(Oa(l,0)))return{changes:{from:s.head-l.length,to:s.head+l.length},range:We.cursor(s.head-l.length)}}return{range:o=s}});return o||e(t.update(i,{scrollIntoView:!0,userEvent:"delete.backward"})),!o},cTe=[{key:"Backspace",run:lTe}];function uTe(t,e){let n=hY(t,t.selection.main.head),r=n.brackets||ib.brackets;for(let o of r){let i=fY(Oa(o,0));if(e==o)return i==o?pTe(t,o,r.indexOf(o+o+o)>-1,n):fTe(t,o,i,n.before||ib.before);if(e==i&&pY(t,t.selection.main.from))return hTe(t,o,i)}return null}function pY(t,e){let n=!1;return t.field(dY).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function cA(t,e){let n=t.sliceString(e,e+2);return n.slice(0,du(Oa(n,0)))}function dTe(t,e){let n=t.sliceString(e-2,e);return du(Oa(n,0))==n.length?n:n.slice(1)}function fTe(t,e,n,r){let o=null,i=t.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:n,from:s.to}],effects:Ip.of(s.to+e.length),range:We.range(s.anchor+e.length,s.head+e.length)};let a=cA(t.doc,s.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:s.head},effects:Ip.of(s.head+e.length),range:We.cursor(s.head+e.length)}:{range:o=s}});return o?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function hTe(t,e,n){let r=null,o=t.changeByRange(i=>i.empty&&cA(t.doc,i.head)==n?{changes:{from:i.head,to:i.head+n.length,insert:n},range:We.cursor(i.head+n.length)}:r={range:i});return r?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function pTe(t,e,n,r){let o=r.stringPrefixes||ib.stringPrefixes,i=null,s=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Ip.of(a.to+e.length),range:We.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=cA(t.doc,l),u;if(c==e){if(O8(t,l))return{changes:{insert:e+e,from:l},effects:Ip.of(l+e.length),range:We.cursor(l+e.length)};if(pY(t,l)){let f=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+f.length,insert:f},range:We.cursor(l+f.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(u=$8(t,l-2*e.length,o))>-1&&O8(t,u))return{changes:{insert:e+e+e+e,from:l},effects:Ip.of(l+e.length),range:We.cursor(l+e.length)};if(t.charCategorizer(l)(c)!=Zo.Word&&$8(t,l,o)>-1&&!mTe(t,l,e,o))return{changes:{insert:e+e,from:l},effects:Ip.of(l+e.length),range:We.cursor(l+e.length)}}return{range:i=a}});return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function O8(t,e){let n=na(t).resolveInner(e+1);return n.parent&&n.from==e}function mTe(t,e,n,r){let o=na(t).resolveInner(e,-1),i=r.reduce((s,a)=>Math.max(s,a.length),0);for(let s=0;s<5;s++){let a=t.sliceDoc(o.from,Math.min(o.to,o.from+n.length+i)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let u=o.firstChild;for(;u&&u.from==o.from&&u.to-u.from>n.length+l;){if(t.sliceDoc(u.to-n.length,u.to)==n)return!1;u=u.firstChild}return!0}let c=o.to==e&&o.parent;if(!c)break;o=c}return!1}function $8(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=Zo.Word)return e;for(let o of n){let i=e-o.length;if(t.sliceDoc(i,e)==o&&r(t.sliceDoc(i-1,i))!=Zo.Word)return i}return-1}function gTe(t={}){return[rTe,$a,hs.of(t),tTe,vTe,oTe]}const mY=[{key:"Ctrl-Space",run:yT},{mac:"Alt-`",run:yT},{mac:"Alt-i",run:yT},{key:"Escape",run:XMe},{key:"ArrowDown",run:Lx(!0)},{key:"ArrowUp",run:Lx(!1)},{key:"PageDown",run:Lx(!0,"page")},{key:"PageUp",run:Lx(!1,"page")},{key:"Enter",run:YMe}],vTe=Bm.highest(p2.computeN([hs],t=>t.facet(hs).defaultKeymap?[mY]:[]));function yTe(t,e=t.state){const n=new Set;for(const{from:r,to:o}of t.visibleRanges){let i=r;for(;i<=o;){const s=e.doc.lineAt(i);n.has(s)||n.add(s),i=s.to+1}}return n}function RE(t){const e=t.selection.main.head;return t.doc.lineAt(e)}function E8(t,e){let n=0;e:for(let r=0;r<t.length;r++)switch(t[r]){case" ":case"":{n+=1;continue e}case"	":{n+=e-n%e;continue e}case"\r":continue e;default:break e}return n}const $2=It.define({combine(t){return Fc(t,{highlightActiveBlock:!0,hideFirstIndent:!1,markerType:"fullScope",thickness:1})}});class bTe{constructor(e,n,r,o){this.lines=e,this.state=n,this.map=new Map,this.unitWidth=r,this.markerType=o;for(const i of this.lines)this.add(i);this.state.facet($2).highlightActiveBlock&&this.findAndSetActiveLines()}has(e){return this.map.has(typeof e=="number"?e:e.number)}get(e){const n=this.map.get(typeof e=="number"?e:e.number);if(!n)throw new Error("Line not found in indentation map");return n}set(e,n,r){const o=!e.text.trim().length,i={line:e,col:n,level:r,empty:o};return this.map.set(i.line.number,i),i}add(e){if(this.has(e))return this.get(e);if(!e.length||!e.text.trim().length){if(e.number===1)return this.set(e,0,0);if(e.number===this.state.doc.lines){const s=this.closestNonEmpty(e,-1);return this.set(e,0,s.level)}const o=this.closestNonEmpty(e,-1),i=this.closestNonEmpty(e,1);return o.level>=i.level&&this.markerType!=="codeOnly"?this.set(e,0,o.level):o.empty&&o.level===0&&i.level!==0?this.set(e,0,0):i.level>o.level?this.set(e,0,o.level+1):this.set(e,0,i.level)}const n=E8(e.text,this.state.tabSize),r=Math.floor(n/this.unitWidth);return this.set(e,n,r)}closestNonEmpty(e,n){let r=e.number+n;for(;n===-1?r>=1:r<=this.state.doc.lines;){if(this.has(r)){const s=this.get(r);if(!s.empty)return s}const i=this.state.doc.line(r);if(i.text.trim().length){const s=E8(i.text,this.state.tabSize),a=Math.floor(s/this.unitWidth);return this.set(i,s,a)}r+=n}const o=this.state.doc.line(n===-1?1:this.state.doc.lines);return this.set(o,0,0)}findAndSetActiveLines(){const e=RE(this.state);if(!this.has(e))return;let n=this.get(e);if(this.has(n.line.number+1)){const i=this.get(n.line.number+1);i.level>n.level&&(n=i)}if(this.has(n.line.number-1)){const i=this.get(n.line.number-1);i.level>n.level&&(n=i)}if(n.level===0)return;n.active=n.level;let r,o;for(r=n.line.number;r>1;r--){if(!this.has(r-1))continue;const i=this.get(r-1);if(i.level<n.level)break;i.active=n.level}for(o=n.line.number;o<this.state.doc.lines;o++){if(!this.has(o+1))continue;const i=this.get(o+1);if(i.level<n.level)break;i.active=n.level}}}function wTe(t){const e={light:"#F0F1F2",dark:"#2B3245",activeLight:"#E4E5E6",activeDark:"#3C445C"};let n=e;return t&&(n=Object.assign(Object.assign({},e),t)),Mt.baseTheme({"&light":{"--indent-marker-bg-color":n.light,"--indent-marker-active-bg-color":n.activeLight},"&dark":{"--indent-marker-bg-color":n.dark,"--indent-marker-active-bg-color":n.activeDark},".cm-line":{position:"relative"},".cm-indent-markers::before":{content:'""',position:"absolute",top:0,left:"2px",right:0,bottom:0,background:"var(--indent-markers)",pointerEvents:"none",zIndex:"-1"}})}function Dx(t,e,n,r,o){return`${`repeating-linear-gradient(to right, var(${t}) 0 ${e}px, transparent ${e}px ${n}ch)`} ${r*n}.5ch/calc(${n*o}ch - 1px) no-repeat`}function xTe(t,e,n,r,o){const{level:i,active:s}=t;if(o=o??r,n&&i===0)return[];const a=n?1:0,l=[];if(s!==void 0){const c=s-a-1;c>0&&l.push(Dx("--indent-marker-bg-color",r,e,a,c)),l.push(Dx("--indent-marker-active-bg-color",o,e,s-1,1)),s!==i&&l.push(Dx("--indent-marker-bg-color",r,e,s,i-s))}else l.push(Dx("--indent-marker-bg-color",r,e,a,i-a));return l.join(",")}class kTe{constructor(e){this.view=e,this.unitWidth=Eh(e.state),this.currentLineNumber=RE(e.state).number,this.generate(e.state)}update(e){const n=Eh(e.state),r=n!==this.unitWidth;r&&(this.unitWidth=n);const o=RE(e.state).number,i=o!==this.currentLineNumber;this.currentLineNumber=o;const s=e.state.facet($2).highlightActiveBlock&&i;(e.docChanged||e.viewportChanged||r||s)&&this.generate(e.state)}generate(e){const n=new Ec,r=yTe(this.view,e),{hideFirstIndent:o,markerType:i,thickness:s,activeThickness:a}=e.facet($2),l=new bTe(r,e,this.unitWidth,i);for(const c of r){const u=l.get(c.number);if(!(u!=null&&u.level))continue;const d=xTe(u,this.unitWidth,o,s,a);n.add(c.from,c.from,bn.line({class:"cm-indent-markers",attributes:{style:`--indent-markers: ${d}`}}))}this.decorations=n.finish()}}function STe(t={}){return[$2.of(t),wTe(t.colors),di.fromClass(kTe,{decorations:e=>e.decorations})]}var CTe=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],jTe=["mainAxis","crossAxis","limiter"];function gY(t,e){if(t==null)return{};var n,r,o=function(s,a){if(s==null)return{};var l={};for(var c in s)if({}.hasOwnProperty.call(s,c)){if(a.indexOf(c)!==-1)continue;l[c]=s[c]}return l}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function _8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_8(Object(n),!0).forEach(function(r){zv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P8(t,e,n,r,o,i,s){try{var a=t[i](s),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(r,o)}function Xt(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function s(l){P8(i,r,o,s,a,"next",l)}function a(l){P8(i,r,o,s,a,"throw",l)}s(void 0)})}}function vY(t,e){yY(t,e),e.add(t)}function io(t,e,n){yY(t,e),e.set(t,n)}function yY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nr(t,e,n){return t.set(Ea(t,e),n),n}function wt(t,e){return t.get(Ea(t,e))}function Ea(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function zv(t,e,n){return(e=function(r){var o=function(i,s){if(typeof i!="object"||!i)return i;var a=i[Symbol.toPrimitive];if(a!==void 0){var l=a.call(i,s);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}(r,"string");return typeof o=="symbol"?o:o+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var I8,wT,R8,xT;typeof window<"u"&&((wT=(I8=(xT=(R8=window).__svelte)!==null&&xT!==void 0?xT:R8.__svelte={}).v)!==null&&wT!==void 0?wT:I8.v=new Set).add("5");var Sy=!1;Sy=!0;var es=Symbol(),ATe=!1,Cy=Array.isArray,MTe=Array.prototype.indexOf,NE=Array.from,LE=Object.defineProperty,$d=Object.getOwnPropertyDescriptor,bY=Object.getOwnPropertyDescriptors,TTe=Object.prototype,OTe=Array.prototype,bI=Object.getPrototypeOf,N8=Object.isExtensible;function t1(t){return typeof t=="function"}var L8=()=>{};function $Te(t){return t()}function E2(t){for(var e=0;e<t.length;e++)t[e]()}var ww=16,uA=32,wY=64,wc=256,DE=512,Ns=1024,Kd=2048,Kh=4096,ju=8192,jy=16384,wI=32768,xw=65536,ETe=1<<17,xY=1<<19,VE=1<<21,_Te=1<<22,Wp=1<<23,Au=Symbol("$state"),kY=Symbol("legacy props"),PTe=Symbol(""),xI=new class extends Error{constructor(){super(...arguments),zv(this,"name","StaleReactionError"),zv(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function kw(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function SY(t){return t===this.v}function kI(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function ITe(t,e){return t!==e}function CY(t){return!kI(t,this.v)}var Hr=null;function Hv(t){Hr=t}function Jh(t){return jY().get(t)}function Ft(t){Hr={p:Hr,c:null,e:null,s:t,x:null,l:Sy&&!(arguments.length>1&&arguments[1]!==void 0&&arguments[1])?{s:null,u:null,$:[]}:null}}function qt(t){var e=Hr,n=e.e;if(n!==null)for(var r of(e.e=null,n))VY(r);return t!==void 0&&(e.x=t),Hr=e.p,t??{}}function Ay(){return!Sy||Hr!==null&&Hr.l===null}function jY(t){var e,n;return Hr===null&&kw(),(n=(e=Hr).c)!==null&&n!==void 0?n:e.c=new Map(function(r){for(var o=r.p;o!==null;){var i=o.c;if(i!==null)return i;o=o.p}return null}(Hr)||void 0)}var eh=[],Qk=[];function AY(){var t=eh;eh=[],E2(t)}function RTe(){return eh.length>0||Qk.length>0}function Hm(t){if(eh.length===0&&!n0){var e=eh;queueMicrotask(()=>{e===eh&&AY()})}eh.push(t)}function NTe(){var t;eh.length>0&&AY(),Qk.length>0&&(t=Qk,Qk=[],E2(t))}var LTe=new WeakMap;function MY(t){var e=rr;if(e===null)return gr.f|=Wp,t;if(e.f&wI)Fv(t,e);else{if(!(128&e.f))throw!e.parent&&t instanceof Error&&TY(t),t;e.b.error(t)}}function Fv(t,e){for(;e!==null;){if(128&e.f)try{return void e.b.error(t)}catch(n){t=n}e=e.parent}throw t instanceof Error&&TY(t),t}function TY(t){var e=LTe.get(t);e&&(LE(t,"message",{value:e.message}),LE(t,"stack",{value:e.stack}))}var kT=new Set,xi=null,t0=null,BE=new Set,bm=[],dA=null,zE=!1,n0=!1,ST=new WeakMap,_2=new WeakMap,Sf=new WeakMap,Vx=new WeakMap,HE=new WeakMap,w1=new WeakMap,Zk=new WeakMap,n1=new WeakMap,Mg=new WeakMap,eS=new WeakMap,FE=new WeakMap,qE=new WeakMap,hp=new WeakSet;let fA=class UE{constructor(){vY(this,hp),zv(this,"current",new Map),io(this,ST,new Map),io(this,_2,new Set),io(this,Sf,0),io(this,Vx,null),io(this,HE,!1),io(this,w1,[]),io(this,Zk,[]),io(this,n1,[]),io(this,Mg,[]),io(this,eS,[]),io(this,FE,[]),io(this,qE,[]),zv(this,"skipped_effects",new Set)}process(e){for(var n of(bm=[],t0=null,e))Ea(hp,this,DTe).call(this,n);if(wt(w1,this).length===0&&wt(Sf,this)===0){var r;Ea(hp,this,D8).call(this);var o=wt(n1,this),i=wt(Mg,this);nr(n1,this,[]),nr(Mg,this,[]),nr(eS,this,[]),t0=xi,xi=null,V8(o),V8(i),xi===null?xi=this:kT.delete(this),(r=wt(Vx,this))===null||r===void 0||r.resolve()}else Ea(hp,this,CT).call(this,wt(n1,this)),Ea(hp,this,CT).call(this,wt(Mg,this)),Ea(hp,this,CT).call(this,wt(eS,this));for(var s of wt(w1,this))wm(s);for(var a of wt(Zk,this))wm(a);nr(w1,this,[]),nr(Zk,this,[])}capture(e,n){wt(ST,this).has(e)||wt(ST,this).set(e,n),this.current.set(e,e.v)}activate(){xi=this}deactivate(){for(var e of(xi=null,t0=null,BE))if(BE.delete(e),e(),xi!==null)break}neuter(){nr(HE,this,!0)}flush(){bm.length>0?OY():Ea(hp,this,D8).call(this),xi===this&&(wt(Sf,this)===0&&kT.delete(this),this.deactivate())}increment(){nr(Sf,this,wt(Sf,this)+1)}decrement(){if(nr(Sf,this,wt(Sf,this)-1),wt(Sf,this)===0){for(var e of wt(FE,this))wa(e,Kd),qv(e);for(var n of wt(qE,this))wa(n,Kh),qv(n);nr(n1,this,[]),nr(Mg,this,[]),this.flush()}else this.deactivate()}add_callback(e){wt(_2,this).add(e)}settled(){var e,n,r;return((e=wt(Vx,this))!==null&&e!==void 0?e:nr(Vx,this,{promise:new Promise((o,i)=>{n=o,r=i}),resolve:n,reject:r})).promise}static ensure(){if(xi===null){var e=xi=new UE;kT.add(xi),n0||UE.enqueue(()=>{xi===e&&e.flush()})}return xi}static enqueue(e){Hm(e)}};function DTe(t){t.f^=Ns;for(var e=t.first;e!==null;){var n=e.f,r=!!(96&n);if(!(r&&n&Ns||n&ju||this.skipped_effects.has(e))&&e.fn!==null){if(r)e.f^=Ns;else if(4&n)wt(Mg,this).push(e);else if(!(n&Ns)){var o;n&_Te?((o=e.b)!==null&&o!==void 0&&o.is_pending()?wt(Zk,this):wt(w1,this)).push(e):Aw(e)&&(e.f&ww&&wt(eS,this).push(e),wm(e))}var i=e.first;if(i!==null){e=i;continue}}var s=e.parent;for(e=e.next;e===null&&s!==null;)e=s.next,s=s.parent}}function CT(t){for(var e of t)(e.f&Kd?wt(FE,this):wt(qE,this)).push(e),wa(e,Ns);t.length=0}function D8(){if(!wt(HE,this))for(var t of wt(_2,this))t();wt(_2,this).clear()}function Qr(t){var e=n0;n0=!0;try{for(;;){var n;if(NTe(),bm.length===0&&!RTe()&&((n=xi)===null||n===void 0||n.flush(),bm.length===0))return void(dA=null);OY()}}finally{n0=e}}function OY(){var t=dv;zE=!0;try{var e=0;for(J8(!0);bm.length>0;){var n=fA.ensure();e++>1e3&&VTe(),n.process(bm),hh.clear()}}finally{zE=!1,J8(t),dA=null}}function VTe(){try{(function(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")})()}catch(t){Fv(t,dA)}}var Op=null;function V8(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r,o=t[n++];if(!(24576&o.f)&&Aw(o)&&(Op=[],wm(o),o.deps===null&&o.first===null&&o.nodes_start===null&&(o.teardown===null&&o.ac===null?FY(o):o.fn=null),((r=Op)===null||r===void 0?void 0:r.length)>0)){for(var i of(hh.clear(),Op))wm(i);Op=[]}}Op=null}}function qv(t){for(var e=dA=t;e.parent!==null;){var n=(e=e.parent).f;if(zE&&e===rr&&n&ww)return;if(96&n){if(!(n&Ns))return;e.f^=Ns}}bm.push(e)}function BTe(t){var e,n=0,r=Jd(0);return()=>{gr===null||uc||(p(r),My(()=>(n===0&&(e=fe(()=>t(()=>r0(r)))),n+=1,()=>{Hm(()=>{var o;(n-=1)===0&&((o=e)===null||o===void 0||o(),e=void 0,r0(r))})})))}}var bp=new WeakMap,$p=new WeakMap,zTe=new WeakMap,wp=new WeakMap,jT=new WeakMap,Uf=new WeakMap,Lf=new WeakMap,yd=new WeakMap,Cf=new WeakMap,cv=new WeakMap,ug=new WeakMap,uv=new WeakMap,r1=new WeakMap,dg=new WeakMap,B8=new WeakMap,z8=new WeakMap,xp=new WeakSet;let HTe=class{constructor(e,n,r){vY(this,xp),zv(this,"parent",void 0),io(this,bp,!1),io(this,$p,void 0),io(this,zTe,null),io(this,wp,void 0),io(this,jT,void 0),io(this,Uf,void 0),io(this,Lf,null),io(this,yd,null),io(this,Cf,null),io(this,cv,null),io(this,ug,0),io(this,uv,0),io(this,r1,!1),io(this,dg,null),io(this,B8,()=>{wt(dg,this)&&Uv(wt(dg,this),wt(ug,this))}),io(this,z8,BTe(()=>(nr(dg,this,Jd(wt(ug,this))),()=>{nr(dg,this,null)}))),nr($p,this,e),nr(wp,this,n),nr(jT,this,r),this.parent=rr.b,nr(bp,this,!!wt(wp,this).pending),nr(Uf,this,Gh(()=>{rr.b=this;try{nr(Lf,this,cl(()=>r(wt($p,this))))}catch(o){this.error(o)}wt(uv,this)>0?Ea(xp,this,F8).call(this):nr(bp,this,!1)},589952))}is_pending(){return wt(bp,this)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!wt(wp,this).pending}update_pending_count(e){Ea(xp,this,$Y).call(this,e),nr(ug,this,wt(ug,this)+e),BE.add(wt(B8,this))}get_effect_pending(){return wt(z8,this).call(this),p(wt(dg,this))}error(e){var n=wt(wp,this).onerror,r=wt(wp,this).failed;if(wt(r1,this)||!n&&!r)throw e;wt(Lf,this)&&(Xs(wt(Lf,this)),nr(Lf,this,null)),wt(yd,this)&&(Xs(wt(yd,this)),nr(yd,this,null)),wt(Cf,this)&&(Xs(wt(Cf,this)),nr(Cf,this,null));var o=!1,i=!1,s=()=>{o?console.warn("https://svelte.dev/e/svelte_boundary_reset_noop"):(o=!0,i&&function(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}(),fA.ensure(),nr(ug,this,0),wt(Cf,this)!==null&&Fm(wt(Cf,this),()=>{nr(Cf,this,null)}),nr(bp,this,this.has_pending_snippet()),nr(Lf,this,Ea(xp,this,H8).call(this,()=>(nr(r1,this,!1),cl(()=>wt(jT,this).call(this,wt($p,this)))))),wt(uv,this)>0?Ea(xp,this,F8).call(this):nr(bp,this,!1))},a=gr;try{Fa(null),i=!0,n==null||n(e,s),i=!1}catch(l){Fv(l,wt(Uf,this)&&wt(Uf,this).parent)}finally{Fa(a)}r&&Hm(()=>{nr(Cf,this,Ea(xp,this,H8).call(this,()=>{nr(r1,this,!0);try{return cl(()=>{r(wt($p,this),()=>e,()=>s)})}catch(l){return Fv(l,wt(Uf,this).parent),null}finally{nr(r1,this,!1)}}))})}};function H8(t){var e=rr,n=gr,r=Hr;ql(wt(Uf,this)),Fa(wt(Uf,this)),Hv(wt(Uf,this).ctx);try{return t()}catch(o){return MY(o),null}finally{ql(e),Fa(n),Hv(r)}}function F8(){var t=wt(wp,this).pending;wt(Lf,this)!==null&&(nr(cv,this,document.createDocumentFragment()),function(e,n){for(var r=e.nodes_start,o=e.nodes_end;r!==null;){var i=r===o?null:jw(r);n.append(r),r=i}}(wt(Lf,this),wt(cv,this))),wt(yd,this)===null&&nr(yd,this,cl(()=>t(wt($p,this))))}function $Y(t){var e;this.has_pending_snippet()?(nr(uv,this,wt(uv,this)+t),wt(uv,this)===0&&(nr(bp,this,!1),wt(yd,this)&&Fm(wt(yd,this),()=>{nr(yd,this,null)}),wt(cv,this)&&(wt($p,this).before(wt(cv,this)),nr(cv,this,null)))):this.parent&&Ea(xp,e=this.parent,$Y).call(e,t)}function EY(t,e,n){var r=Ay()?Sw:jt;if(e.length!==0){var o=xi,i=rr,s=function(){var a=rr,l=gr,c=Hr,u=xi;return function(){ql(a),Fa(l),Hv(c),u==null||u.activate()}}();Promise.all(e.map(a=>function(l){var c=rr;c===null&&function(){throw new Error("https://svelte.dev/e/async_derived_orphan")}();var u=c.b,d=void 0,f=Jd(es),h=null,m=!gr;return function(g){Uu(4718592,g,!0)}(()=>{var g,v;try{var y=l();h&&Promise.resolve(y).catch(()=>{})}catch(S){y=Promise.reject(S)}var b=()=>y;d=(g=(v=h)===null||v===void 0?void 0:v.then(b,b))!==null&&g!==void 0?g:Promise.resolve(y),h=d;var x=xi,k=u.is_pending();m&&(u.update_pending_count(1),k||x.increment());var w=function(S){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;h=null,k||x.activate(),C?C!==xI&&(f.f|=Wp,Uv(f,C)):(f.f&Wp&&(f.f^=Wp),Uv(f,S)),m&&(u.update_pending_count(-1),k||x.decrement()),q8()};if(d.then(w,S=>w(null,S||"unknown")),x)return()=>{queueMicrotask(()=>x.neuter())}}),new Promise(g=>{function v(y){function b(){y===d?g(f):v(d)}y.then(b,b)}v(d)})}(a))).then(a=>{o==null||o.activate(),s();try{n([...t.map(r),...a])}catch(l){!(i.f&jy)&&Fv(l,i)}o==null||o.deactivate(),q8()}).catch(a=>{Fv(a,i)})}else n(t.map(r))}function q8(){ql(null),Fa(null),Hv(null)}function Sw(t){var e=2050,n=gr!==null&&2&gr.f?gr:null;return rr===null||n!==null&&n.f&wc?e|=wc:rr.f|=xY,{ctx:Hr,deps:null,effects:null,equals:SY,f:e,fn:t,reactions:null,rv:0,v:es,wv:0,parent:n??rr,ac:null}}function Na(t){var e=Sw(t);return WY(e),e}function jt(t){var e=Sw(t);return e.equals=CY,e}function _Y(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)Xs(e[n])}}function SI(t){var e,n=rr;ql(function(r){for(var o=r.parent;o!==null;){if(!(2&o.f))return o;o=o.parent}return null}(t));try{_Y(t),e=YY(t)}finally{ql(n)}return e}function PY(t){var e=SI(t);t.equals(e)||(t.v=e,t.wv=JY()),qm||wa(t,!th&&!(t.f&wc)||t.deps===null?Ns:Kh)}var Ed,IY,RY,NY,hh=new Map;function Jd(t,e){return{f:0,v:t,reactions:null,equals:SY,rv:0,wv:0}}function rd(t,e){var n=Jd(t);return WY(n),n}function le(t){var e,n,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=Jd(t);return r||(i.equals=CY),Sy&&o&&Hr!==null&&Hr.l!==null&&((n=(e=Hr.l).s)!==null&&n!==void 0?n:e.s=[]).push(i),i}function Za(t,e){return O(t,fe(()=>p(t))),e}function O(t,e){var n,r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return gr===null||uc&&!(gr.f&ETe)||!Ay()||!(4325394&gr.f)||(n=_d)!==null&&n!==void 0&&n.includes(t)||function(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}(),Uv(t,r?zg(e):e)}function Uv(t,e){if(!t.equals(e)){var n=t.v;qm?hh.set(t,e):hh.set(t,n),t.v=e,fA.ensure().capture(t,n),2&t.f&&(t.f&Kd&&SI(t),wa(t,t.f&wc?Kh:Ns)),t.wv=JY(),LY(t,Kd),!Ay()||rr===null||!(rr.f&Ns)||96&rr.f||(wl===null?function(r){wl=r}([t]):wl.push(t))}return e}function U8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=p(t),r=e===1?n++:n--;return O(t,n),r}function r0(t){O(t,t.v+1)}function LY(t,e){var n=t.reactions;if(n!==null)for(var r=Ay(),o=n.length,i=0;i<o;i++){var s=n[i],a=s.f;if(r||s!==rr){var l=(a&Kd)===0;l&&wa(s,e),2&a?LY(s,Kh):l&&(a&ww&&Op!==null&&Op.push(s),qv(s))}}}function zg(t){if(typeof t!="object"||t===null||Au in t)return t;var e=bI(t);if(e!==TTe&&e!==OTe)return t;var n=new Map,r=Cy(t),o=rd(0),i=Kp,s=a=>{if(Kp===i)return a();var l=gr,c=Kp;Fa(null),Y8(i);var u=a();return Fa(l),Y8(c),u};return r&&n.set("length",rd(t.length)),new Proxy(t,{defineProperty(a,l,c){"value"in c&&c.configurable!==!1&&c.enumerable!==!1&&c.writable!==!1||function(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}();var u=n.get(l);return u===void 0?u=s(()=>{var d=rd(c.value);return n.set(l,d),d}):O(u,c.value,!0),!0},deleteProperty(a,l){var c=n.get(l);if(c===void 0){if(l in a){var u=s(()=>rd(es));n.set(l,u),r0(o)}}else O(c,es),r0(o);return!0},get(a,l,c){var u;if(l===Au)return t;var d=n.get(l),f=l in a;if(d===void 0&&(!f||(u=$d(a,l))!==null&&u!==void 0&&u.writable)&&(d=s(()=>rd(zg(f?a[l]:es))),n.set(l,d)),d!==void 0){var h=p(d);return h===es?void 0:h}return Reflect.get(a,l,c)},getOwnPropertyDescriptor(a,l){var c=Reflect.getOwnPropertyDescriptor(a,l);if(c&&"value"in c){var u=n.get(l);u&&(c.value=p(u))}else if(c===void 0){var d=n.get(l),f=d==null?void 0:d.v;if(d!==void 0&&f!==es)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return c},has(a,l){var c;if(l===Au)return!0;var u=n.get(l),d=u!==void 0&&u.v!==es||Reflect.has(a,l);return(u!==void 0||rr!==null&&(!d||(c=$d(a,l))!==null&&c!==void 0&&c.writable))&&(u===void 0&&(u=s(()=>rd(d?zg(a[l]):es)),n.set(l,u)),p(u)===es)?!1:d},set(a,l,c,u){var d,f=n.get(l),h=l in a;if(r&&l==="length")for(var m=c;m<f.v;m+=1){var g=n.get(m+"");g!==void 0?O(g,es):m in a&&(g=s(()=>rd(es)),n.set(m+"",g))}f===void 0?(!h||(d=$d(a,l))!==null&&d!==void 0&&d.writable)&&(O(f=s(()=>rd(void 0)),zg(c)),n.set(l,f)):(h=f.v!==es,O(f,s(()=>zg(c))));var v=Reflect.getOwnPropertyDescriptor(a,l);if(v!=null&&v.set&&v.set.call(u,c),!h){if(r&&typeof l=="string"){var y=n.get("length"),b=Number(l);Number.isInteger(b)&&b>=y.v&&O(y,b+1)}r0(o)}return!0},ownKeys(a){p(o);var l=Reflect.ownKeys(a).filter(d=>{var f=n.get(d);return f===void 0||f.v!==es});for(var[c,u]of n)u.v===es||c in a||l.push(c);return l},setPrototypeOf(){(function(){throw new Error("https://svelte.dev/e/state_prototype_fixed")})()}})}function W8(t){try{if(t!==null&&typeof t=="object"&&Au in t)return t[Au]}catch{}return t}function FTe(t,e){return Object.is(W8(t),W8(e))}function Cw(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return document.createTextNode(t)}function el(t){return RY.call(t)}function jw(t){return NY.call(t)}function ae(t,e){return el(t)}function Ct(t){var e=el(t);return e instanceof Comment&&e.data===""?jw(e):e}function ye(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=t;e--;)n=jw(n);return n}var K8=!1;function hA(t){var e=gr,n=rr;Fa(null),ql(null);try{return t()}finally{Fa(e),ql(n)}}function qTe(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;t.addEventListener(e,()=>hA(n));var o=t.__on_r;t.__on_r=o?()=>{o(),r(!0)}:()=>r(!0),K8||(K8=!0,document.addEventListener("reset",i=>{Promise.resolve().then(()=>{if(!i.defaultPrevented)for(var s of i.target.elements){var a;(a=s.__on_r)===null||a===void 0||a.call(s)}})},{capture:!0}))}function DY(t){rr===null&&gr===null&&function(){throw new Error("https://svelte.dev/e/effect_orphan")}(),gr!==null&&gr.f&wc&&rr===null&&function(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}(),qm&&function(){throw new Error("https://svelte.dev/e/effect_in_teardown")}()}function Uu(t,e,n){var r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=rr;o!==null&&o.f&ju&&(t|=ju);var i={ctx:Hr,deps:null,nodes_start:null,nodes_end:null,f:t|Kd,first:null,fn:e,last:null,next:null,parent:o,b:o&&o.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{wm(i),i.f|=wI}catch(c){throw Xs(i),c}else e!==null&&qv(i);if(r){var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&!(s.f&xY)&&(s=s.first),s!==null&&(s.parent=o,o!==null&&function(c,u){var d=u.last;d===null?u.last=u.first=c:(d.next=c,c.prev=d,u.last=c)}(s,o),gr!==null&&2&gr.f&&(t&wY)===0)){var a,l=gr;((a=l.effects)!==null&&a!==void 0?a:l.effects=[]).push(s)}}return i}function CI(t){var e=Uu(8,null,!1);return wa(e,Ns),e.teardown=t,e}function WE(t){DY();var e=rr.f;if(!(!gr&&e&uA&&!(e&wI)))return VY(t);var n,r=Hr;((n=r.e)!==null&&n!==void 0?n:r.e=[]).push(t)}function VY(t){return Uu(1048580,t,!1)}function ps(t){return Uu(4,t,!1)}function je(t,e){var n={effect:null,ran:!1,deps:t};Hr.l.$.push(n),n.effect=My(()=>{t(),n.ran||(n.ran=!0,fe(e))})}function xr(){var t=Hr;My(()=>{for(var e of t.l.$){e.deps();var n=e.effect;n.f&Ns&&wa(n,Kh),Aw(n)&&wm(n),e.ran=!1}})}function My(t){return Uu(8|(arguments.length>1&&arguments[1]!==void 0?arguments[1]:0),t,!0)}function rt(t){EY(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],e=>{Uu(8,()=>t(...e.map(p)),!0)})}function Gh(t){return Uu(ww|(arguments.length>1&&arguments[1]!==void 0?arguments[1]:0),t,!0)}function cl(t){return Uu(524320,t,!0,!(arguments.length>1&&arguments[1]!==void 0)||arguments[1])}function BY(t){var e=t.teardown;if(e!==null){var n=qm,r=gr;G8(!0),Fa(null);try{e.call(null)}finally{G8(n),Fa(r)}}}function zY(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=t.first;t.first=t.last=null;for(var r,o=function(){var i=n.ac;i!==null&&hA(()=>{i.abort(xI)}),r=n.next,n.f&wY?n.parent=null:Xs(n,e),n=r};n!==null;)o()}function Xs(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!1;(e||262144&t.f)&&t.nodes_start!==null&&t.nodes_end!==null&&(HY(t.nodes_start,t.nodes_end),n=!0),zY(t,e&&!n),P2(t,0),wa(t,jy);var r=t.transitions;if(r!==null)for(var o of r)o.stop();BY(t);var i=t.parent;i!==null&&i.first!==null&&FY(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function HY(t,e){for(;t!==null;){var n=t===e?null:jw(t);t.remove(),t=n}}function FY(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Fm(t,e){var n=[];jI(t,n,!0),qY(n,()=>{Xs(t),e&&e()})}function qY(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var o of t)o.out(r)}else e()}function jI(t,e,n){if(!(t.f&ju)){if(t.f^=ju,t.transitions!==null)for(var r of t.transitions)(r.is_global||n)&&e.push(r);for(var o=t.first;o!==null;){var i=o.next;jI(o,e,!!(o.f&xw||o.f&uA)&&n),o=i}}}function KE(t){UY(t,!0)}function UY(t,e){if(t.f&ju){t.f^=ju,!(t.f&Ns)&&(wa(t,Kd),qv(t));for(var n=t.first;n!==null;){var r=n.next;UY(n,!!(n.f&xw||n.f&uA)&&e),n=r}if(t.transitions!==null)for(var o of t.transitions)(o.is_global||e)&&o.in()}}var UTe=null,dv=!1;function J8(t){dv=t}var qm=!1;function G8(t){qm=t}var gr=null,uc=!1;function Fa(t){gr=t}var rr=null;function ql(t){rr=t}var _d=null;function WY(t){gr!==null&&(_d===null?_d=[t]:_d.push(t))}var da=null,Ga=0,wl=null,KY=1,sb=0,Kp=sb;function Y8(t){Kp=t}var th=!1;function JY(){return++KY}function Aw(t){var e=t.f;if(e&Kd)return!0;if(e&Kh){var n=t.deps,r=(e&wc)!==0;if(n!==null){var o,i,s=(e&DE)!==0,a=r&&rr!==null&&!th,l=n.length;if((s||a)&&(rr===null||!(rr.f&jy))){var c=t,u=c.parent;for(o=0;o<l;o++){var d,f,h;i=n[o],(s||(d=i)===null||d===void 0||(d=d.reactions)===null||d===void 0||!d.includes(c))&&((h=(f=i).reactions)!==null&&h!==void 0?h:f.reactions=[]).push(c)}s&&(c.f^=DE),a&&u!==null&&!(u.f&wc)&&(c.f^=wc)}for(o=0;o<l;o++)if(Aw(i=n[o])&&PY(i),i.wv>t.wv)return!0}r&&(rr===null||th)||wa(t,Ns)}return!1}function GY(t,e){var n,r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],o=t.reactions;if(o!==null&&((n=_d)===null||n===void 0||!n.includes(t)))for(var i=0;i<o.length;i++){var s=o[i];2&s.f?GY(s,e,!1):e===s&&(r?wa(s,Kd):s.f&Ns&&wa(s,Kh),qv(s))}}function YY(t){var e=da,n=Ga,r=wl,o=gr,i=th,s=_d,a=Hr,l=uc,c=Kp,u=t.f;da=null,Ga=0,wl=null,th=(u&wc)!==0&&(uc||!dv||gr===null),gr=96&u?null:t,_d=null,Hv(t.ctx),uc=!1,Kp=++sb,t.ac!==null&&(hA(()=>{t.ac.abort(xI)}),t.ac=null);try{t.f|=VE;var d=(0,t.fn)(),f=t.deps;if(da!==null){var h;if(P2(t,Ga),f!==null&&Ga>0)for(f.length=Ga+da.length,h=0;h<da.length;h++)f[Ga+h]=da[h];else t.deps=f=da;if(!th||2&u&&t.reactions!==null)for(h=Ga;h<f.length;h++){var m,g;((g=(m=f[h]).reactions)!==null&&g!==void 0?g:m.reactions=[]).push(t)}}else f!==null&&Ga<f.length&&(P2(t,Ga),f.length=Ga);if(Ay()&&wl!==null&&!uc&&f!==null&&!(6146&t.f))for(h=0;h<wl.length;h++)GY(wl[h],t);return o!==null&&o!==t&&(sb++,wl!==null&&(r===null?r=wl:r.push(...wl))),t.f&Wp&&(t.f^=Wp),d}catch(v){return MY(v)}finally{t.f^=VE,da=e,Ga=n,wl=r,gr=o,th=i,_d=s,Hv(a),uc=l,Kp=c}}function WTe(t,e){var n=e.reactions;if(n!==null){var r=MTe.call(n,t);if(r!==-1){var o=n.length-1;o===0?n=e.reactions=null:(n[r]=n[o],n.pop())}}n===null&&2&e.f&&(da===null||!da.includes(e))&&(wa(e,Kh),768&e.f||(e.f^=DE),_Y(e),P2(e,0))}function P2(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)WTe(t,n[r])}function wm(t){var e=t.f;if(!(e&jy)){wa(t,Ns);var n=rr,r=dv;rr=t,dv=!0;try{e&ww?function(i){for(var s=i.first;s!==null;){var a=s.next;!(s.f&uA)&&Xs(s),s=a}}(t):zY(t),BY(t);var o=YY(t);t.teardown=typeof o=="function"?o:null,t.wv=KY}finally{dv=r,rr=n}}}function XY(){return QY.apply(this,arguments)}function QY(){return(QY=Xt(function*(){yield Promise.resolve(),Qr()})).apply(this,arguments)}function p(t){var e,n,r=!!(2&t.f);if((e=UTe)===null||e===void 0||e.add(t),gr===null||uc){if(r&&t.deps===null&&t.effects===null){var o=t,i=o.parent;i!==null&&!(i.f&wc)&&(o.f^=wc)}}else if(!(rr!==null&&rr.f&jy||(n=_d)!==null&&n!==void 0&&n.includes(t))){var s=gr.deps;if(gr.f&VE)t.rv<sb&&(t.rv=sb,da===null&&s!==null&&s[Ga]===t?Ga++:da===null?da=[t]:th&&da.includes(t)||da.push(t));else{var a,l;((l=(a=gr).deps)!==null&&l!==void 0?l:a.deps=[]).push(t);var c=t.reactions;c===null?t.reactions=[gr]:c.includes(gr)||c.push(gr)}}if(qm){if(hh.has(t))return hh.get(t);if(r){var u=(o=t).v;return(!(o.f&Ns)&&o.reactions!==null||ZY(o))&&(u=SI(o)),hh.set(o,u),u}}else r&&Aw(o=t)&&PY(o);if(t.f&Wp)throw t.v;return t.v}function ZY(t){if(t.v===es)return!0;if(t.deps===null)return!1;for(var e of t.deps)if(hh.has(e)||2&e.f&&ZY(e))return!0;return!1}function fe(t){var e=uc;try{return uc=!0,t()}finally{uc=e}}var KTe=-7169;function wa(t,e){t.f=t.f&KTe|e}function E(t){if(typeof t=="object"&&t&&!(t instanceof EventTarget)){if(Au in t)JE(t);else if(!Array.isArray(t))for(var e in t){var n=t[e];typeof n=="object"&&n&&Au in n&&JE(n)}}}function JE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;if(!(typeof t!="object"||t===null||t instanceof EventTarget||e.has(t))){for(var n in e.add(t),t instanceof Date&&t.getTime(),t)try{JE(t[n],e)}catch{}var r=bI(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){var o=bY(r);for(var i in o){var s=o[i].get;if(s)try{s.call(t)}catch{}}}}}var eX=new Set,GE=new Set;function tX(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};function o(i){if(r.capture||x1.call(e,i),!i.cancelBubble)return hA(()=>n==null?void 0:n.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Hm(()=>{e.addEventListener(t,o,r)}):e.addEventListener(t,o,r),o}function Xe(t,e,n,r,o){var i={capture:r,passive:o},s=tX(t,e,n,i);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&CI(()=>{e.removeEventListener(t,s,i)})}function Mw(t){for(var e=0;e<t.length;e++)eX.add(t[e]);for(var n of GE)n(t)}function x1(t){var e,n=this,r=n.ownerDocument,o=t.type,i=((e=t.composedPath)===null||e===void 0?void 0:e.call(t))||[],s=i[0]||t.target,a=0,l=t===t&&t.__root;if(l){var c=i.indexOf(l);if(c!==-1&&(n===document||n===window))return void(t.__root=n);var u=i.indexOf(n);if(u===-1)return;c<=u&&(a=c)}if((s=i[a]||t.target)!==n){LE(t,"currentTarget",{configurable:!0,get:()=>s||r});var d=gr,f=rr;Fa(null),ql(null);try{for(var h,m=[];s!==null;){var g=s.assignedSlot||s.parentNode||s.host||null;try{var v=s["__"+o];if(v!=null&&(!s.disabled||t.target===s))if(Cy(v)){var[y,...b]=v;y.apply(s,[t,...b])}else v.call(s,t)}catch(w){h?m.push(w):h=w}if(t.cancelBubble||g===n||g===null)break;s=g}if(h){var x=function(w){queueMicrotask(()=>{throw w})};for(var k of m)x(k);throw h}}finally{t.__root=n,delete t.currentTarget,Fa(d),ql(f)}}}function AI(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function xm(t,e){var n=rr;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function Te(t,e){var n,r=!!(1&e),o=!!(2&e),i=!t.startsWith("<!>");return()=>{n===void 0&&(n=AI(i?t:"<!>"+t),r||(n=el(n)));var s=o||IY?document.importNode(n,!0):n.cloneNode(!0);return r?xm(el(s),s.lastChild):xm(s,s),s}}function Yh(t,e){return function(n,r){var o,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"svg",s=!n.startsWith("<!>"),a=!!(1&r),l="<".concat(i,">").concat(s?n:"<!>"+n,"</").concat(i,">");return()=>{if(!o){var c=el(AI(l));if(a)for(o=document.createDocumentFragment();el(c);)o.appendChild(el(c));else o=el(c)}var u=o.cloneNode(!0);return a?xm(el(u),u.lastChild):xm(u,u),u}}(t,e,"svg")}function rs(){var t=Cw((arguments.length>0&&arguments[0]!==void 0?arguments[0]:"")+"");return xm(t,t),t}function En(){var t=document.createDocumentFragment(),e=document.createComment(""),n=Cw();return t.append(e,n),xm(e,n),t}function oe(t,e){t!==null&&t.before(e)}var JTe=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"],GTe={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"},YTe=["touchstart","touchmove"];function XTe(t){return YTe.includes(t)}function Ut(t,e){var n,r=e==null?"":typeof e=="object"?e+"":e;r!==((n=t.__t)!==null&&n!==void 0?n:t.__t=t.nodeValue)&&(t.__t=r,t.nodeValue=r+"")}function QTe(t,e){return function(n,r){var{target:o,anchor:i,props:s={},events:a,context:l}=r;(function(){if(Ed===void 0){Ed=window,IY=/Firefox/.test(navigator.userAgent);var h=Element.prototype,m=Node.prototype,g=Text.prototype;RY=$d(m,"firstChild").get,NY=$d(m,"nextSibling").get,N8(h)&&(h.__click=void 0,h.__className=void 0,h.__attributes=null,h.__style=void 0,h.__e=void 0),N8(g)&&(g.__t=void 0)}})();var c=new Set,u=h=>{for(var m=0;m<h.length;m++){var g=h[m];if(!c.has(g)){c.add(g);var v=XTe(g);o.addEventListener(g,x1,{passive:v});var y=fg.get(g);y===void 0?(document.addEventListener(g,x1,{passive:v}),fg.set(g,1)):fg.set(g,y+1)}}};u(NE(eX)),GE.add(u);var d=void 0,f=function(h){fA.ensure();var m=Uu(524352,h,!0);return function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(v=>{g.outro?Fm(m,()=>{Xs(m),v(void 0)}):(Xs(m),v(void 0))})}}(()=>{var h=i??o.appendChild(Cw());return function(m,g,v){new HTe(m,g,v)}(h,{pending:()=>{}},m=>{l&&(Ft({}),Hr.c=l),a&&(s.$$events=a),d=n(m,s)||{},l&&qt()}),()=>{for(var m of c){o.removeEventListener(m,x1);var g=fg.get(m);--g===0?(document.removeEventListener(m,x1),fg.delete(m)):fg.set(m,g)}var v;GE.delete(u),h!==i&&((v=h.parentNode)===null||v===void 0||v.removeChild(h))}});return YE.set(d,f),d}(t,e)}var fg=new Map,YE=new WeakMap;function Ls(t){Hr===null&&kw(),Sy&&Hr.l!==null?nX(Hr).m.push(t):WE(()=>{var e=fe(t);if(typeof e=="function")return e})}function Ul(t){Hr===null&&kw(),Ls(()=>()=>fe(t))}function ZTe(){var t=Hr;return t===null&&kw(),(e,n,r)=>{var o,i=(o=t.s.$$events)===null||o===void 0?void 0:o[e];if(i){var s=Cy(i)?i.slice():[i],a=function(c,u){var{bubbles:d=!1,cancelable:f=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new CustomEvent(c,{detail:u,bubbles:d,cancelable:f})}(e,n,r);for(var l of s)l.call(t.x,a);return!a.defaultPrevented}return!0}}function eOe(t){Hr===null&&kw(),Hr.l===null&&function(){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}(),nX(Hr).b.push(t)}function nX(t){var e,n=t.l;return(e=n.u)!==null&&e!==void 0?e:n.u={a:[],b:[],m:[]}}function $e(t,e){var n=t,r=null,o=null,i=es,s=!1,a=function(u){s=!0,c(!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],u)};function l(){var u=i?r:o,d=i?o:r;u&&KE(u),d&&Fm(d,()=>{i?o=null:r=null})}var c=(u,d)=>{if(i!==(i=u)){var f=n;i?r!=null||(r=d&&cl(()=>d(f))):o!=null||(o=d&&cl(()=>d(f))),l()}};Gh(()=>{s=!1,e(a),s||c(null,null)},arguments.length>2&&arguments[2]!==void 0&&arguments[2]?xw:0)}function rX(t,e,n){var r,o,i=t,s=es,a=Ay()?ITe:kI;function l(){r&&Fm(r),r=o}Gh(()=>{if(a(s,s=e())){var c=i;o=cl(()=>n(c)),l()}})}function ui(t,e){return e}function Wo(t,e,n,r,o){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=t,a={flags:e,items:new Map,first:null};!(4&e)||(s=t.appendChild(Cw()));var l,c,u=null,d=!1,f=new Map,h=jt(()=>{var g=n();return Cy(g)?g:g==null?[]:NE(g)});function m(){(function(g,v,y,b,x,k,w,S,C){var j,A,_,R,T,z,U=!!(8&w),G=!!(3&w),ce=v.length,ie=y.items,Z=y.first,W=Z,B=null,H=[],K=[];if(U)for(z=0;z<ce;z+=1){var P;R=S(_=v[z],z),(T=ie.get(R))!==void 0&&((P=T.a)===null||P===void 0||P.measure(),(A??(A=new Set)).add(T))}for(z=0;z<ce;z+=1)if(R=S(_=v[z],z),(T=ie.get(R))!==void 0){var M;if(G&&tOe(T,_,z,w),T.e.f&ju&&(KE(T.e),U&&((M=T.a)===null||M===void 0||M.unfix(),(A??(A=new Set)).delete(T))),T!==W){if(j!==void 0&&j.has(T)){if(H.length<K.length){var N,he=K[0];B=he.prev;var ge=H[0],te=H[H.length-1];for(N=0;N<H.length;N+=1)AT(H[N],he,x);for(N=0;N<K.length;N+=1)j.delete(K[N]);tu(y,ge.prev,te.next),tu(y,B,ge),tu(y,te,he),W=he,B=te,z-=1,H=[],K=[]}else j.delete(T),AT(T,W,x),tu(y,T.prev,T.next),tu(y,T,B===null?y.first:B.next),tu(y,B,T),B=T;continue}for(H=[],K=[];W!==null&&W.k!==R;)!(W.e.f&ju)&&(j??(j=new Set)).add(W),K.push(W),W=W.next;if(W===null)continue;T=W}H.push(T),B=T,W=T.next}else{var ee=b.get(R);if(ee!==void 0){b.delete(R),ie.set(R,ee);var be=B?B.next:W;tu(y,B,ee),tu(y,ee,be),AT(ee,be,x),B=ee}else B=nOe(W?W.e.nodes_start:x,y,B,B===null?y.first:B.next,_,R,z,k,w,C);ie.set(R,B),H=[],K=[],W=B.next}if(W!==null||j!==void 0){for(var ne=j===void 0?[]:NE(j);W!==null;)!(W.e.f&ju)&&ne.push(W),W=W.next;var D=ne.length;if(D>0){var L=4&w&&ce===0?x:null;if(U){for(z=0;z<D;z+=1){var re;(re=ne[z].a)===null||re===void 0||re.measure()}for(z=0;z<D;z+=1){var Y;(Y=ne[z].a)===null||Y===void 0||Y.fix()}}(function(Ae,Ee,pe){for(var Pe=Ae.items,we=[],Re=Ee.length,Ne=0;Ne<Re;Ne++)jI(Ee[Ne].e,we,!0);var _e=Re>0&&we.length===0&&pe!==null;if(_e){var Qe=pe.parentNode;Qe.textContent="",Qe.append(pe),Pe.clear(),tu(Ae,Ee[0].prev,Ee[Re-1].next)}qY(we,()=>{for(var I=0;I<Re;I++){var V=Ee[I];_e||(Pe.delete(V.k),tu(Ae,V.prev,V.next)),Xs(V.e,!_e)}})})(y,ne,L)}}U&&Hm(()=>{if(A!==void 0)for(T of A){var Ae;(Ae=T.a)===null||Ae===void 0||Ae.apply()}});for(var q of(g.first=y.first&&y.first.e,g.last=B&&B.e,b.values()))Xs(q.e);b.clear()})(c,l,a,f,s,o,e,r,n),i!==null&&(l.length===0?u?KE(u):u=cl(()=>i(s)):u!==null&&Fm(u,()=>{u=null}))}Gh(()=>{c!=null||(c=rr);var g=(l=p(h)).length;d&&g===0||(d=g===0,m(),p(h))})}function tOe(t,e,n,r){1&r&&Uv(t.v,e),2&r?Uv(t.i,n):t.i=n}function nOe(t,e,n,r,o,i,s,a,l,c,u){var d=1&l?16&l?Jd(o):le(o,!1,!1):o,f=2&l?Jd(s):s,h={i:f,v:d,k:i,a:null,e:null,prev:n,next:r};try{return t===null&&document.createDocumentFragment().append(t=Cw()),h.e=cl(()=>a(t,d,f,c),!1),h.e.prev=n&&n.e,h.e.next=r&&r.e,n===null?u||(e.first=h):(n.next=h,n.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function AT(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,o=e?e.e.nodes_start:n,i=t.e.nodes_start;i!==null&&i!==r;){var s=jw(i);o.before(i),i=s}}function tu(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function oX(t,e){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=arguments.length>3&&arguments[3]!==void 0&&arguments[3],o=t,i="";rt(()=>{var s,a=rr;if(i!==(i=(s=e())!==null&&s!==void 0?s:"")&&(a.nodes_start!==null&&(HY(a.nodes_start,a.nodes_end),a.nodes_start=a.nodes_end=null),i!=="")){var l=i+"";n?l="<svg>".concat(l,"</svg>"):r&&(l="<math>".concat(l,"</math>"));var c=AI(l);if((n||r)&&(c=el(c)),xm(el(c),c.lastChild),n||r)for(;el(c);)o.before(el(c));else o.before(c)}})}function Bo(t,e,n,r,o){var i,s=(i=e.$$slots)===null||i===void 0?void 0:i[n],a=!1;s===!0&&(s=e[n==="default"?"children":n],a=!0),s===void 0?o!==null&&o(t):s(t,a?()=>r:r)}function iX(t,e,n){var r,o,i=t,s=null;function a(){o&&(Fm(o),o=null),o=s,s=null}Gh(()=>{if(r!==(r=e())){if(r){var l=i;s=cl(()=>n(l,r))}a()}},xw)}function Gs(t,e,n){ps(()=>{var r=fe(()=>e(t,n==null?void 0:n())||{});if(n&&r!=null&&r.update){var o=!1,i={};My(()=>{var s=n();E(s),o&&kI(i,s)&&(i=s,r.update(s))}),o=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function rOe(t,e){var n,r=void 0;Gh(()=>{r!==(r=e())&&(n&&(Xs(n),n=null),r&&(n=cl(()=>{ps(()=>r(t))})))})}function sX(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=sX(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _h(t){return typeof t=="object"?function(){for(var e,n,r=0,o="",i=arguments.length;r<i;r++)(e=arguments[r])&&(n=sX(e))&&(o&&(o+=" "),o+=n);return o}(t):t??""}var X8=[...` 	
\r\f\v\uFEFF`];function Q8(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1]?" !important;":";",n="";for(var r in t){var o=t[r];o!=null&&o!==""&&(n+=" "+r+": "+o+e)}return n}function MT(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function mn(t,e,n,r,o,i){var s=t.__className;if(s!==n||s===void 0){var a=function(u,d,f){var h=u==null?"":""+u;if(d&&(h=h?h+" "+d:d),f){for(var m in f)if(f[m])h=h?h+" "+m:m;else if(h.length)for(var g=m.length,v=0;(v=h.indexOf(m,v))>=0;){var y=v+g;v!==0&&!X8.includes(h[v-1])||y!==h.length&&!X8.includes(h[y])?v=y:h=(v===0?"":h.substring(0,v))+h.substring(y+1)}}return h===""?null:h}(n,r,i);a==null?t.removeAttribute("class"):e?t.className=a:t.setAttribute("class",a),t.__className=n}else if(i&&o!==i)for(var l in i){var c=!!i[l];o!=null&&c===!!o[l]||t.classList.toggle(l,c)}return i}function TT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;for(var o in n){var i=n[o];e[o]!==i&&(n[o]==null?t.style.removeProperty(o):t.style.setProperty(o,i,r))}}function Ll(t,e,n,r){if(t.__style!==e){var o=function(i,s){if(s){var a,l,c="";if(Array.isArray(s)?(a=s[0],l=s[1]):a=s,i){i=String(i).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var u=!1,d=0,f=!1,h=[];a&&h.push(...Object.keys(a).map(MT)),l&&h.push(...Object.keys(l).map(MT));for(var m=0,g=-1,v=i.length,y=0;y<v;y++){var b=i[y];if(f?b==="/"&&i[y-1]==="*"&&(f=!1):u?u===b&&(u=!1):b==="/"&&i[y+1]==="*"?f=!0:b==='"'||b==="'"?u=b:b==="("?d++:b===")"&&d--,!f&&u===!1&&d===0){if(b===":"&&g===-1)g=y;else if(b===";"||y===v-1){if(g!==-1){var x=MT(i.substring(m,g).trim());h.includes(x)||(b!==";"&&y++,c+=" "+i.substring(m,y).trim()+";")}m=y+1,g=-1}}}}return a&&(c+=Q8(a)),l&&(c+=Q8(l,!0)),(c=c.trim())===""?null:c}return i==null?null:String(i)}(e,r);o==null?t.removeAttribute("style"):t.style.cssText=o,t.__style=e}else r&&(Array.isArray(r)?(TT(t,n==null?void 0:n[0],r[0]),TT(t,n==null?void 0:n[1],r[1],"important")):TT(t,n,r));return r}function XE(t,e){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(t.multiple){if(e==null)return;if(!Cy(e))return void console.warn("https://svelte.dev/e/select_multiple_invalid_value");for(var r of t.options)r.selected=e.includes(Z8(r))}else{for(r of t.options)if(FTe(Z8(r),e))return void(r.selected=!0);n&&e===void 0||(t.selectedIndex=-1)}}function oOe(t){var e=new MutationObserver(()=>{XE(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),CI(()=>{e.disconnect()})}function Z8(t){return"__value"in t?t.__value:t.value}var Tg=Symbol("class"),o1=Symbol("style"),aX=Symbol("is custom element"),lX=Symbol("is html");function km(t,e){var n=MI(t);n.value!==(n.value=e??void 0)&&(t.value!==e||e===0&&t.nodeName==="PROGRESS")&&(t.value=e??"")}function wr(t,e,n,r){var o=MI(t);o[e]!==(o[e]=n)&&(e==="loading"&&(t[PTe]=n),n==null?t.removeAttribute(e):typeof n!="string"&&cX(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function iOe(t,e,n,r){var o,i=MI(t),s=i[aX],a=!i[lX],l=e||{},c=t.tagName==="OPTION";for(var u in e)u in n||(n[u]=null);n.class?n.class=_h(n.class):(r||n[Tg])&&(n.class=null),n[o1]&&((o=n.style)!==null&&o!==void 0||(n.style=null));var d,f,h,m,g,v,y=cX(t),b=function(k){var w=n[k];if(c&&k==="value"&&w==null)return t.value=t.__value="",l[k]=w,0;if(k==="class")return d=t.namespaceURI==="http://www.w3.org/1999/xhtml",mn(t,d,w,r,e==null?void 0:e[Tg],n[Tg]),l[k]=w,l[Tg]=n[Tg],0;if(k==="style")return Ll(t,w,e==null?void 0:e[o1],n[o1]),l[k]=w,l[o1]=n[o1],0;if(w===(f=l[k])&&(w!==void 0||!t.hasAttribute(k))||(l[k]=w,(h=k[0]+k[1])==="$$"))return 0;if(h==="on"){var S={},C="$$"+k,j=k.slice(2);if(m=function(z){return JTe.includes(z)}(j),function(z){return z.endsWith("capture")&&z!=="gotpointercapture"&&z!=="lostpointercapture"}(j)&&(j=j.slice(0,-7),S.capture=!0),!m&&f){if(w!=null)return 0;t.removeEventListener(j,l[C],S),l[C]=null}if(w!=null)if(m)t["__".concat(j)]=w,Mw([j]);else{let z=function(U){l[k].call(this,U)};l[C]=tX(j,t,z,S)}else m&&(t["__".concat(j)]=void 0)}else if(k==="style")wr(t,k,w);else if(k==="autofocus")(function(z,U){if(U){var G=document.body;z.autofocus=!0,Hm(()=>{document.activeElement===G&&z.focus()})}})(t,!!w);else if(s||k!=="__value"&&(k!=="value"||w==null))if(k==="selected"&&c)(function(z,U){U?z.hasAttribute("selected")||z.setAttribute("selected",""):z.removeAttribute("selected")})(t,w);else if(g=k,a||(g=function(z){var U;return z=z.toLowerCase(),(U=GTe[z])!==null&&U!==void 0?U:z}(g)),v=g==="defaultValue"||g==="defaultChecked",w!=null||s||v)v||y.includes(g)&&(s||typeof w!="string")?(t[g]=w,g in i&&(i[g]=es)):typeof w!="function"&&wr(t,g,w);else if(i[k]=null,g==="value"||g==="checked"){var A=t,_=e===void 0;if(g==="value"){var R=A.defaultValue;A.removeAttribute(g),A.defaultValue=R,A.value=A.__value=_?R:null}else{var T=A.defaultChecked;A.removeAttribute(g),A.defaultChecked=T,A.checked=!!_&&T}}else t.removeAttribute(k);else t.value=t.__value=w};for(var x in n)b(x);return l}function tS(t,e){var n=arguments.length>4?arguments[4]:void 0,r=arguments.length>5&&arguments[5]!==void 0&&arguments[5],o=arguments.length>6&&arguments[6]!==void 0&&arguments[6];EY(arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],i=>{var s=void 0,a={},l=t.nodeName==="SELECT",c=!1;if(Gh(()=>{var d=e(...i.map(p)),f=iOe(t,s,d,n,r,o);for(var h of(c&&l&&"value"in d&&XE(t,d.value),Object.getOwnPropertySymbols(a)))d[h]||Xs(a[h]);for(var m of Object.getOwnPropertySymbols(d)){var g=d[m];m.description!=="@attach"||s&&g===s[m]||(a[m]&&Xs(a[m]),a[m]=cl(()=>rOe(t,()=>g))),f[m]=g}s=f}),l){var u=t;ps(()=>{XE(u,s.value,!0),oOe(u)})}c=!0})}function MI(t){var e;return(e=t.__attributes)!==null&&e!==void 0?e:t.__attributes={[aX]:t.nodeName.includes("-"),[lX]:t.namespaceURI==="http://www.w3.org/1999/xhtml"}}var eV=new Map;function cX(t){var e,n=t.getAttribute("is")||t.nodeName,r=eV.get(n);if(r)return r;eV.set(n,r=[]);for(var o=t,i=Element.prototype;i!==o;){for(var s in e=bY(o))e[s].set&&r.push(s);o=bI(o)}return r}function I2(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,r=new WeakSet;qTe(t,"input",function(){var o=Xt(function*(i){var s=i?t.defaultValue:t.value;if(s=OT(t)?$T(s):s,n(s),xi!==null&&r.add(xi),yield XY(),s!==(s=e())){var a=t.selectionStart,l=t.selectionEnd;t.value=s??"",l!==null&&(t.selectionStart=a,t.selectionEnd=Math.min(l,t.value.length))}});return function(i){return o.apply(this,arguments)}}()),fe(e)==null&&t.value&&(n(OT(t)?$T(t.value):t.value),xi!==null&&r.add(xi)),My(()=>{var o=e();if(t===document.activeElement){var i=t0??xi;if(r.has(i))return}OT(t)&&o===$T(t.value)||(t.type!=="date"||o||t.value)&&o!==t.value&&(t.value=o??"")})}function OT(t){var e=t.type;return e==="number"||e==="range"}function $T(t){return t===""?null:+t}function on(t,e,n){var r=$d(t,e);r&&r.set&&(t[e]=n,CI(()=>{t[e]=null}))}function tV(t,e){return t===e||(t==null?void 0:t[Au])===e}function uo(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return ps(()=>{var r,o;return My(()=>{r=o,o=[],fe(()=>{t!==n(...o)&&(e(t,...o),r&&tV(n(...r),t)&&e(null,...r))})}),()=>{Hm(()=>{o&&tV(n(...o),t)&&e(null,...o)})}}),t}function ud(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n[0].stopPropagation(),t==null?void 0:t.apply(this,n)}}function Tf(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n[0].preventDefault(),t==null?void 0:t.apply(this,n)}}function gn(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=Hr,n=e.l.u;if(n){var r,o=()=>E(e.s);if(t){var i=0,s={},a=Sw(()=>{var l=!1,c=e.s;for(var u in c)c[u]!==s[u]&&(s[u]=c[u],l=!0);return l&&i++,i});o=()=>p(a)}n.b.length&&(r=()=>{nV(e,o),E2(n.b)},DY(),Uu(1048584,r,!0)),WE(()=>{var l=fe(()=>n.m.map($Te));return()=>{for(var c of l)typeof c=="function"&&c()}}),n.a.length&&WE(()=>{nV(e,o),E2(n.a)})}}function nV(t,e){if(t.l.s)for(var n of t.l.s)p(n);e()}function pA(t){var e=Jd(0);return function(){return arguments.length===1?(O(e,p(e)+1),arguments[0]):(p(e),t())}}function k1(t,e){var n,r=(n=t.$$events)===null||n===void 0?void 0:n[e.type],o=Cy(r)?r.slice():r==null?[]:[r];for(var i of o)i.call(this,e)}var Bx=!1,sOe={get(t,e){if(!t.exclude.includes(e))return p(t.version),e in t.special?t.special[e]():t.props[e]},set(t,e,n){if(!(e in t.special)){var r=rr;try{ql(t.parent_effect),t.special[e]=$({get[e](){return t.props[e]}},e,4)}finally{ql(r)}}return t.special[e](n),U8(t.version),!0},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e))return e in t.props?{enumerable:!0,configurable:!0,value:t.props[e]}:void 0},deleteProperty:(t,e)=>(t.exclude.includes(e)||(t.exclude.push(e),U8(t.version)),!0),has:(t,e)=>!t.exclude.includes(e)&&e in t.props,ownKeys:t=>Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))};function zx(t,e){return new Proxy({props:t,exclude:e,special:{},version:Jd(0),parent_effect:rr},sOe)}var aOe={get(t,e){for(var n=t.props.length;n--;){var r=t.props[n];if(t1(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(t,e,n){for(var r=t.props.length;r--;){var o=t.props[r];t1(o)&&(o=o());var i=$d(o,e);if(i&&i.set)return i.set(n),!0}return!1},getOwnPropertyDescriptor(t,e){for(var n=t.props.length;n--;){var r=t.props[n];if(t1(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){var o=$d(r,e);return o&&!o.configurable&&(o.configurable=!0),o}}},has(t,e){if(e===Au||e===kY)return!1;for(var n of t.props)if(t1(n)&&(n=n()),n!=null&&e in n)return!0;return!1},ownKeys(t){var e=[];for(var n of t.props)if(t1(n)&&(n=n()),n){for(var r in n)e.includes(r)||e.push(r);for(var o of Object.getOwnPropertySymbols(n))e.includes(o)||e.push(o)}return e}};function ph(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Proxy({props:e},aOe)}function $(t,e,n,r){var o,i,s=!Sy||!!(2&n),a=!!(8&n),l=!!(16&n),c=r,u=!0,d=()=>(u&&(u=!1,c=l?fe(r):r),c);if(a){var f,h,m=Au in t||kY in t;o=(f=(h=$d(t,e))===null||h===void 0?void 0:h.set)!==null&&f!==void 0?f:m&&e in t?w=>t[e]=w:void 0}var g,v=!1;if(a?[i,v]=function(w){var S=Bx;try{return Bx=!1,[w(),Bx]}finally{Bx=S}}(()=>t[e]):i=t[e],i===void 0&&r!==void 0&&(i=d(),o&&(s&&function(){throw new Error("https://svelte.dev/e/props_invalid_value")}(),o(i))),g=s?()=>{var w=t[e];return w===void 0?d():(u=!0,w)}:()=>{var w=t[e];return w!==void 0&&(c=void 0),w===void 0?c:w},s&&!(4&n))return g;if(o){var y=t.$$legacy;return function(w,S){return arguments.length>0?(s&&S&&!y&&!v||o(S?g():w),w):g()}}var b=!1,x=(1&n?Sw:jt)(()=>(b=!1,g()));a&&p(x);var k=rr;return function(w,S){if(arguments.length>0){var C=S?p(x):s&&a?zg(w):w;return O(x,C),b=!0,c!==void 0&&(c=C),w}return qm&&b||k.f&jy?x.v:p(x)}}function Ui(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(r){var o=function(i){try{if(typeof window<"u"&&window.localStorage!==void 0)return window.localStorage[i]}catch{}}("debug");return o!=null&&o.endsWith("*")?r.startsWith(o.slice(0,-1)):r===o}(t);if(!e)return lOe;var n=function(r){for(var o=0,i=0;i<r.length;i++)o=(o<<5)-o+r.charCodeAt(i),o|=0;return rV[Math.abs(o)%rV.length]}(t);return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];console.log("%c".concat(t),"color:".concat(n),...o)}}function lOe(){}var rV=["#0000CC","#0099FF","#009400","#8dd200","#CCCC00","#CC9933","#ae04e7","#ff35d7","#FF3333","#FF6600","#FF9933","#FFCC33"],cOe=0;function Hg(){return++cOe}function vs(t){return parseInt(t,10)}function TI(t){return uOe.test(t)}var uOe=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function vr(t){return typeof t=="object"&&t!==null&&(t.constructor===void 0||t.constructor.name==="Object")}function $o(t){return typeof t=="object"&&t!==null&&(t.constructor===void 0||t.constructor.name==="Object"||t.constructor.name==="Array")}function dOe(t){return t===!0||t===!1}function QE(t){if(typeof t=="number")return t>9466848e5&&isFinite(t)&&Math.floor(t)===t&&!isNaN(new Date(t).valueOf());if(typeof t=="bigint")return QE(Number(t));try{var e=t&&t.valueOf();if(e!==t)return QE(e)}catch{return!1}return!1}function uX(t){(Hx=Hx||window.document.createElement("div")).style.color="",Hx.style.color=t;var e=Hx.style.color;return e!==""?e.replace(/\s+/g,"").toLowerCase():void 0}var Hx=void 0;function fOe(t){return typeof t=="string"&&t.length<99&&!!uX(t)}function OI(t,e){if(typeof t=="number"||typeof t=="string"||typeof t=="boolean"||t===void 0)return typeof t;if(typeof t=="bigint")return"number";if(t===null)return"null";if(Array.isArray(t))return"array";if(vr(t))return"object";var n=e.stringify(t);return n&&TI(n)?"number":n==="true"||n==="false"?"boolean":n==="null"?"null":"unknown"}var hOe=/^https?:\/\/\S+$/;function mA(t){return typeof t=="string"&&hOe.test(t)}function Ty(t,e){if(t==="")return"";var n=t.trim();return n==="null"?null:n==="true"||n!=="false"&&(TI(n)?e.parse(n):t)}var pOe=[];function oV(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function ZE(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n={};if(!Array.isArray(t))throw new TypeError("Array expected");function r(s,a){(!Array.isArray(s)&&!vr(s)||e&&a.length>0)&&(n[Wt(a)]=!0),vr(s)&&Object.keys(s).forEach(l=>{r(s[l],a.concat(l))})}for(var o=Math.min(t.length,1e4),i=0;i<o;i++)r(t[i],pOe);return Object.keys(n).sort().map(Ba)}function dX(t,e,n){if(!(e<=t))for(var r=t;r<e;r++)n(r)}function R2(t,e){return t.length>e?t.slice(0,e):t}function iV(t){return nt({},t)}function sV(t){return Object.values(t)}function aV(t,e,n,r){var o=t.slice(0),i=o.splice(e,n);return o.splice.apply(o,[e+r,0,...i]),o}function mOe(t,e,n){return t.slice(0,e).concat(n).concat(t.slice(e))}function Tw(t,e){try{return e.parse(t)}catch{return e.parse(Su(t))}}function fX(t,e){try{return Tw(t,e)}catch{return}}function Ow(t,e){t=t.replace(pX,"");try{return e(t)}catch{}try{return e("{"+t+"}")}catch{}try{return e("["+t+"]")}catch{}throw new Error("Failed to parse partial JSON")}function hX(t){t=t.replace(pX,"");try{return Su(t)}catch{}try{var e=Su("["+t+"]");return e.substring(1,e.length-1)}catch{}try{var n=Su("{"+t+"}");return n.substring(1,n.length-1)}catch{}throw new Error("Failed to repair partial JSON")}var pX=/,\s*$/;function Wv(t,e){var n=cV.exec(e);if(n){var r=vs(n[2]),o=function(h,m){for(var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:h.length,y=0,b=g;b<v;b++)h.charAt(b)===m&&y++;return y}(t,`
`,0,r),i=r-t.lastIndexOf(`
`,r)-1;return{position:r,line:o,column:i,message:e.replace(cV,()=>"line ".concat(o+1," column ").concat(i+1))}}var s=bOe.exec(e),a=s?vs(s[1]):void 0,l=a!==void 0?a-1:void 0,c=wOe.exec(e),u=c?vs(c[1]):void 0,d=u!==void 0?u-1:void 0,f=l!==void 0&&d!==void 0?function(h,m,g){for(var v=h.indexOf(`
`),y=1;y<m&&v!==-1;)v=h.indexOf(`
`,v+1),y++;return v!==-1?v+g+1:void 0}(t,l,d):void 0;return{position:f,line:l,column:d,message:e.replace(/^JSON.parse: /,"").replace(/ of the JSON data$/,"")}}function ET(t,e){try{var n=Ij.parse(t),r=Wt(e),o=n.pointers[r];if(o)return{path:e,line:o.key?o.key.line:o.value?o.value.line:0,column:o.key?o.key.column:o.value?o.value.column:0,from:o.key?o.key.pos:o.value?o.value.pos:0,to:o.keyEnd?o.keyEnd.pos:o.valueEnd?o.valueEnd.pos:0}}catch(i){console.error(i)}return{path:e,line:0,column:0,from:0,to:0}}function _T(t){return vr(t)?t.json!==void 0?t.text!==void 0?'Content must contain either a property "json" or a property "text" but not both':void 0:t.text===void 0?'Content must contain either a property "json" or a property "text"':typeof t.text!="string"?'Content "text" property must be a string containing a JSON document. Did you mean to use the "json" property instead?':void 0:"Content must be an object"}function ab(t){return vr(t)&&typeof t.text=="string"}function lb(t){return vr(t)&&t.json!==void 0}function gOe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:JSON;return ab(t)?t:{text:n.stringify(t.json,null,e)}}function lV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:JSON;return lb(t)?t:{json:e.parse(t.text)}}function e_(t,e,n){return gOe(t,e,n).text}function vOe(t,e){return yOe(t,e)>e}function yOe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0;if(ab(t))return t.text.length;var n=t.json,r=0;return function o(i){if(Array.isArray(i)){if((r+=i.length-1+2)>e)return;for(var s=0;s<i.length;s++)if(o(i[s]),r>e)return}else if(vr(i)){var a=Object.keys(i);r+=2+a.length+(a.length-1);for(var l=0;l<a.length;l++){var c=a[l],u=i[c];r+=c.length+2,o(u)}}else r+=typeof i=="string"?i.length+2:String(i).length}(n),r}var cV=/(position|char) (\d+)/,bOe=/line (\d+)/,wOe=/column (\d+)/;function mX(t,e){return t.parse===e.parse&&t.stringify===e.stringify}function uV(t){var e=t.substring(0,999).trim();return!e.includes(`
`)&&xOe.test(e)}var li,Rr,dc,xc,kc,jl,mh,xOe=/[,:]\S/;function $I(t){var{escapeControlCharacters:e,escapeUnicodeCharacters:n}=t;return e?n?kOe:SOe:n?COe:jOe}(function(t){t.text="text",t.tree="tree",t.table="table"})(li||(li={})),function(t){t.after="after",t.inside="inside",t.key="key",t.value="value",t.multi="multi",t.text="text"}(Rr||(Rr={})),function(t){t.after="after",t.key="key",t.value="value",t.inside="inside"}(dc||(dc={})),function(t){t.info="info",t.warning="warning",t.error="error"}(xc||(xc={})),function(t){t.key="key",t.value="value"}(kc||(kc={})),function(t){t.asc="asc",t.desc="desc"}(jl||(jl={})),function(t){t.no="no",t.self="self",t.nextInside="nextInside"}(mh||(mh={}));var kOe={escapeValue:t=>gX(bX(String(t))),unescapeValue:t=>wX(vX(t))},SOe={escapeValue:t=>bX(String(t)),unescapeValue:t=>wX(t)},COe={escapeValue:t=>gX(String(t)),unescapeValue:t=>vX(t)},jOe={escapeValue:t=>String(t),unescapeValue:t=>t};function gX(t){return t.replace(/[^\x20-\x7F]/g,e=>{var n;return e==="\b"||e==="\f"||e===`
`||e==="\r"||e==="	"?e:"\\u"+("000"+((n=e.codePointAt(0))===null||n===void 0?void 0:n.toString(16))).slice(-4)})}function vX(t){return t.replace(/\\u[a-fA-F0-9]{4}/g,e=>{try{var n=JSON.parse('"'+e+'"');return yX[n]||n}catch{return e}})}var yX={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},AOe={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"};function bX(t){return t.replace(/["\b\f\n\r\t\\]/g,e=>yX[e]||e)}function wX(t){return t.replace(/\\["bfnrt\\]/g,e=>AOe[e]||e)}function Kv(t){return typeof t!="string"?String(t):t.endsWith(`
`)?t+`
`:t}function xX(t,e){return Oy(t,n=>n.nodeName.toUpperCase()===e.toUpperCase())}function nh(t,e,n){return Oy(t,r=>function(o,i,s){return typeof o.getAttribute=="function"&&o.getAttribute(i)===s}(r,e,n))}function Oy(t,e){return!!EI(t,e)}function EI(t,e){for(var n=t;n&&!e(n);)n=n.parentNode;return n}function $w(t){var e,n;return(e=t==null||(n=t.ownerDocument)===null||n===void 0?void 0:n.defaultView)!==null&&e!==void 0?e:void 0}function _I(t){var e=$w(t),n=e==null?void 0:e.document.activeElement;return!!n&&Oy(n,r=>r===t)}function kX(t,e){return EI(t,n=>n.nodeName===e)}function PT(t){return nh(t,"data-type","selectable-key")?Rr.key:nh(t,"data-type","selectable-value")?Rr.value:nh(t,"data-type","insert-selection-area-inside")?Rr.inside:nh(t,"data-type","insert-selection-area-after")?Rr.after:Rr.multi}function nS(t){return encodeURIComponent(Wt(t))}function SX(t){var e,n=EI(t,o=>!(o==null||!o.hasAttribute)&&o.hasAttribute("data-path")),r=(e=n==null?void 0:n.getAttribute("data-path"))!==null&&e!==void 0?e:void 0;return r?Ba(decodeURIComponent(r)):void 0}function MOe(t){var{allElements:e,currentElement:n,direction:r,hasPrio:o=()=>!0,margin:i=10}=t,s=Zve(e.filter(function(y){var b=y.getBoundingClientRect();return b.width>0&&b.height>0}),l),a=l(n);function l(y){var b=y.getBoundingClientRect();return{x:b.left+b.width/2,y:b.top+b.height/2,rect:b,element:y}}function c(y,b){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=y.x-b.x,w=(y.y-b.y)*x;return Math.sqrt(k*k+w*w)}var u=y=>c(y,a);if(r==="Left"||r==="Right"){var d=r==="Left"?s.filter(y=>{return b=a,y.rect.left+i<b.rect.left;var b}):s.filter(y=>{return b=a,y.rect.right>b.rect.right+i;var b}),f=d.filter(y=>{return b=y,x=a,Math.abs(b.y-x.y)<i;var b,x}),h=rx(f,u)||rx(d,y=>c(y,a,10));return h==null?void 0:h.element}if(r==="Up"||r==="Down"){var m=r==="Up"?s.filter(y=>{return b=a,y.y+i<b.y;var b}):s.filter(y=>{return b=a,y.y>b.y+i;var b}),g=m.filter(y=>o(y.element)),v=rx(g,u)||rx(m,u);return v==null?void 0:v.element}}function PI(){var t,e,n,r;return typeof navigator<"u"&&(t=(e=(n=navigator)===null||n===void 0||(n=n.platform)===null||n===void 0?void 0:n.toUpperCase().includes("MAC"))!==null&&e!==void 0?e:(r=navigator)===null||r===void 0||(r=r.userAgentData)===null||r===void 0||(r=r.platform)===null||r===void 0?void 0:r.toUpperCase().includes("MAC"))!==null&&t!==void 0&&t}function Gd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"+",n=[];II(t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:PI)&&n.push("Ctrl"),t.altKey&&n.push("Alt"),t.shiftKey&&n.push("Shift");var r=t.key.length===1?t.key.toUpperCase():t.key;return r in TOe||n.push(r),n.join(e)}function II(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PI;return t.ctrlKey||t.metaKey&&e()}var TOe={Ctrl:!0,Command:!0,Control:!0,Alt:!0,Option:!0,Shift:!0};function cn(t,e){e===void 0&&(e={});var n=e.insertAt;if(t&&typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}cn(`.jse-absolute-popup.svelte-enkkpn {
  position: relative;
  left: 0;
  top: 0;
  width: 0;
  height: 0;
  z-index: 1001;
}
.jse-absolute-popup.svelte-enkkpn .jse-hidden-input:where(.svelte-enkkpn) {
  position: fixed;
  left: 0;
  top: 0;
  width: 0;
  height: 0;
  padding: 0;
  margin: 0;
  border: none;
  outline: none;
  overflow: hidden;
}
.jse-absolute-popup.svelte-enkkpn .jse-absolute-popup-content:where(.svelte-enkkpn) {
  position: absolute;
}`);var OOe=Te('<div class="jse-absolute-popup-content svelte-enkkpn"><input type="text" readonly="" tabindex="-1" class="jse-hidden-input svelte-enkkpn"/> <!></div>'),$Oe=Te('<div role="none" class="jse-absolute-popup svelte-enkkpn"><!></div>');function EOe(t,e){Ft(e,!1);var n=$(e,"popup",8),r=$(e,"closeAbsolutePopup",8),o=le(),i=le();function s(d){n().options&&n().options.closeOnOuterClick&&!Oy(d.target,f=>f===p(o))&&r()(n().id)}function a(d){Gd(d)==="Escape"&&(d.preventDefault(),d.stopPropagation(),r()(n().id))}Ls(function(){p(i)&&p(i).focus()}),gn();var l=$Oe();Xe("mousedown",Ed,function(d){s(d)},!0),Xe("keydown",Ed,a,!0),Xe("wheel",Ed,function(d){s(d)},!0);var c=ae(l),u=d=>{var f=OOe(),h=ae(f);uo(h,m=>O(i,m),()=>p(i)),iX(ye(h,2),()=>n().component,(m,g)=>{g(m,ph(()=>n().props))}),rt(m=>Ll(f,m),[()=>(p(o),E(n()),fe(()=>function(m,g){var v=m.getBoundingClientRect(),{left:y,top:b,positionAbove:x,positionLeft:k}=function(){if(g.anchor){var{anchor:w,width:S=0,height:C=0,offsetTop:j=0,offsetLeft:A=0,position:_}=g,{left:R,top:T,bottom:z,right:U}=w.getBoundingClientRect(),G=_==="top"||T+C>window.innerHeight&&T>C,ce=_==="left"||R+S>window.innerWidth&&R>S;return{left:ce?U-A:R+A,top:G?T-j:z+j,positionAbove:G,positionLeft:ce}}if(typeof g.left=="number"&&typeof g.top=="number"){var{left:ie,top:Z,width:W=0,height:B=0}=g;return{left:ie,top:Z,positionAbove:Z+B>window.innerHeight&&Z>B,positionLeft:ie+W>window.innerWidth&&ie>W}}throw new Error('Invalid config: pass either "left" and "top", or pass "anchor"')}();return(x?"bottom: ".concat(v.top-b,"px;"):"top: ".concat(b-v.top,"px;"))+(k?"right: ".concat(v.left-y,"px;"):"left: ".concat(y-v.left,"px;"))}(p(o),n().options)))]),oe(d,f)};$e(c,d=>{p(o)&&d(u)}),uo(l,d=>O(o,d),()=>p(o)),Xe("mousedown",l,function(d){d.stopPropagation()}),Xe("keydown",l,a),oe(t,l),qt()}var _Oe=Te("<!> <!>",1);function t_(t,e){Ft(e,!1);var n=Ui("jsoneditor:AbsolutePopup"),r=le([],!0);function o(a){var l=p(r).findIndex(u=>u.id===a);if(l!==-1){var c=p(r)[l];c.options.onClose&&c.options.onClose(),O(r,p(r).filter(u=>u.id!==a))}}(function(a,l){jY().set(a,l)})("absolute-popup",{openAbsolutePopup:function(a,l,c){n("open...",l,c);var u={id:Hg(),component:a,props:l||{},options:c||{}};return O(r,[...p(r),u]),u.id},closeAbsolutePopup:o}),je(()=>p(r),()=>{n("popups",p(r))}),xr(),gn(!0);var i=_Oe(),s=Ct(i);Wo(s,1,()=>p(r),ui,(a,l)=>{EOe(a,{get popup(){return p(l)},closeAbsolutePopup:o})}),Bo(ye(s,2),e,"default",{},null),oe(t,i),qt()}function Ew(t,e){for(var n=new Set(e),r=t.replace(/ \(copy( \d+)?\)$/,""),o=t,i=1;n.has(o);){var s="copy"+(i>1?" "+i:"");o="".concat(r," (").concat(s,")"),i++}return o}function bd(t,e){var n=e-3;return t.length>e?t.substring(0,n)+"...":t}function POe(t){if(t==="")return"";var e=t.toLowerCase();if(e==="null")return null;if(e==="true")return!0;if(e==="false")return!1;if(e!=="undefined"){var n=Number(t),r=parseFloat(t);return isNaN(n)||isNaN(r)?t:n}}var IOe={id:"jsonquery",name:"JSONQuery",description:`
<p>
  Enter a <a href="https://jsonquerylang.org" target="_blank" 
  rel="noopener noreferrer">JSON Query</a> function to filter, sort, or transform the data.
  You can use functions like <code>get</code>, <code>filter</code>,
  <code>sort</code>, <code>pick</code>, <code>groupBy</code>, <code>uniq</code>, etcetera. 
  Example query: <code>filter(.age >= 18)</code>
</p>
`,createQuery:function(t,e){var{filter:n,sort:r,projection:o}=e,i=[];n&&n.path&&n.relation&&n.value&&i.push(["filter",[(s=n.relation,iW("1 ".concat(s," 1"))[0]),Fx(n.path),POe(n.value)]]);var s;return r&&r.path&&r.direction&&i.push(["sort",Fx(r.path),r.direction==="desc"?"desc":"asc"]),o&&o.paths&&(o.paths.length>1?i.push(["pick",...o.paths.map(Fx)]):i.push(["map",Fx(o.paths[0])])),Bye(["pipe",...i])},executeQuery:function(t,e,n){var r=mX(n,JSON)?t:function(o){var i=n.stringify(o);return i!==void 0?JSON.parse(i):void 0}(t);return e.trim()!==""?zye(r,e):r}};function Fx(t){return["get",...t]}var ROe=Yh("<g><!></g>");function NOe(t,e){Ft(e,!1);var n=870711,r=le(""),o=$(e,"data",8);function i(a){if(!a||!a.raw)return"";var l=a.raw,c={};return l=l.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,(u,d)=>{var f="fa-".concat((n+=1).toString(16));return c[d]=f,' id="'.concat(f,'"')}),l=l.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(u,d,f,h)=>{var m=d||h;return m&&c[m]?"#".concat(c[m]):u}),l}je(()=>E(o()),()=>{O(r,i(o()))}),xr();var s=ROe();oX(ae(s),()=>p(r),!0),oe(t,s),qt()}cn(`
  .fa-icon.svelte-v67cny {
    display: inline-block;
    fill: currentColor;
  }
  .fa-flip-horizontal.svelte-v67cny {
    transform: scale(-1, 1);
  }
  .fa-flip-vertical.svelte-v67cny {
    transform: scale(1, -1);
  }
  .fa-spin.svelte-v67cny {
    animation: svelte-v67cny-fa-spin 1s 0s infinite linear;
  }
  .fa-inverse.svelte-v67cny {
    color: #fff;
  }
  .fa-pulse.svelte-v67cny {
    animation: svelte-v67cny-fa-spin 1s infinite steps(8);
  }
  @keyframes svelte-v67cny-fa-spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
`);var LOe=Yh("<svg><!></svg>"),DOe=Yh("<path></path>"),VOe=Yh("<polygon></polygon>"),BOe=Yh("<!><!><!>",1);function Yn(t,e){var n=zx(e,["children","$$slots","$$events","$$legacy"]),r=zx(n,["class","data","scale","spin","inverse","pulse","flip","label","style"]);Ft(e,!1);var o=$(e,"class",8,""),i=$(e,"data",8),s=le(),a=$(e,"scale",8,1),l=$(e,"spin",8,!1),c=$(e,"inverse",8,!1),u=$(e,"pulse",8,!1),d=$(e,"flip",8,void 0),f=$(e,"label",8,""),h=$(e,"style",8,""),m=le(10),g=le(10),v=le(),y=le();function b(){var k=1;return a()!==void 0&&(k=Number(a())),isNaN(k)||k<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),1):1*k}function x(){return p(s)?Math.max(p(s).width,p(s).height)/16:1}je(()=>(E(i()),E(h()),E(a())),()=>{O(s,function(k){var w;if(k){if(!("definition"in k)){if("iconName"in k&&"icon"in k){k.iconName;var[S,C,,,j]=k.icon;w={width:S,height:C,paths:(Array.isArray(j)?j:[j]).map(A=>({d:A}))}}else w=k[Object.keys(k)[0]];return w}console.error("`import faIconName from '@fortawesome/package-name/faIconName` not supported - Please use `import { faIconName } from '@fortawesome/package-name/faIconName'` instead")}}(i())),h(),a(),O(m,p(s)?p(s).width/x()*b():0),O(g,p(s)?p(s).height/x()*b():0),O(v,function(){var k="";h()!==null&&(k+=h());var w=b();return w===1?k.length===0?"":k:(k===""||k.endsWith(";")||(k+="; "),"".concat(k,"font-size: ").concat(w,"em"))}()),O(y,p(s)?"0 0 ".concat(p(s).width," ").concat(p(s).height):"0 0 ".concat(p(m)," ").concat(p(g)))}),xr(),gn(),function(k,w){var S=zx(w,["children","$$slots","$$events","$$legacy"]),C=zx(S,["class","width","height","box","spin","inverse","pulse","flip","style","label"]),j=$(w,"class",8,""),A=$(w,"width",8),_=$(w,"height",8),R=$(w,"box",8,"0 0 0 0"),T=$(w,"spin",8,!1),z=$(w,"inverse",8,!1),U=$(w,"pulse",8,!1),G=$(w,"flip",8,"none"),ce=$(w,"style",8,""),ie=$(w,"label",8,""),Z=LOe();tS(Z,W=>{var B;return nt(nt({version:"1.1",class:"fa-icon ".concat((B=j())!==null&&B!==void 0?B:""),width:A(),height:_(),"aria-label":ie(),role:ie()?"img":"presentation",viewBox:R(),style:ce()},C),{},{[Tg]:W})},[()=>({"fa-spin":T(),"fa-pulse":U(),"fa-inverse":z(),"fa-flip-horizontal":G()==="horizontal","fa-flip-vertical":G()==="vertical"})],void 0,"svelte-v67cny"),Bo(ae(Z),w,"default",{},null),oe(k,Z)}(t,ph({get label(){return f()},get width(){return p(m)},get height(){return p(g)},get box(){return p(y)},get style(){return p(v)},get spin(){return l()},get flip(){return d()},get inverse(){return c()},get pulse(){return u()},get class(){return o()}},()=>r,{children:(k,w)=>{var S=En();Bo(Ct(S),e,"default",{},C=>{var j=BOe(),A=Ct(j);Wo(A,1,()=>(p(s),fe(()=>{var z;return((z=p(s))===null||z===void 0?void 0:z.paths)||[]})),ui,(z,U)=>{var G=DOe();tS(G,()=>nt({},p(U))),oe(z,G)});var _=ye(A);Wo(_,1,()=>(p(s),fe(()=>{var z;return((z=p(s))===null||z===void 0?void 0:z.polygons)||[]})),ui,(z,U)=>{var G=VOe();tS(G,()=>nt({},p(U))),oe(z,G)});var R=ye(_),T=z=>{NOe(z,{get data(){return p(s)},set data(U){O(s,U)},$$legacy:!0})};$e(R,z=>{p(s),fe(()=>{var U;return(U=p(s))===null||U===void 0?void 0:U.raw})&&z(T)}),oe(C,j)}),oe(k,S)},$$slots:{default:!0}})),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-boolean-toggle.svelte-eli4ob {
  padding: 0;
  margin: 1px 0 0;
  vertical-align: top;
  display: inline-flex;
  color: var(--jse-value-color-boolean, #ff8c00);
}

.jse-boolean-toggle.svelte-eli4ob:not(.jse-readonly) {
  cursor: pointer;
}`);var zOe=Te('<div role="checkbox" tabindex="-1"><!></div>');function HOe(t,e){Ft(e,!1);var n=$(e,"path",9),r=$(e,"value",9),o=$(e,"readOnly",9),i=$(e,"onPatch",9),s=$(e,"focus",9);gn(!0);var a,l=zOe(),c=ae(l),u=jt(()=>r()===!0?sW:aW);Yn(c,{get data(){return p(u)}}),rt(d=>{wr(l,"aria-checked",r()===!0),a=mn(l,1,"jse-boolean-toggle svelte-eli4ob",null,a,d),wr(l,"title",o()?"Boolean value ".concat(r()):"Click to toggle this boolean value")},[()=>({"jse-readonly":o()})]),Xe("mousedown",l,function(d){d.stopPropagation(),o()||(i()([{op:"replace",path:Wt(n()),value:!r()}]),s()())}),oe(t,l),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-color-picker-popup.svelte-v77py2 .picker_wrapper.popup,
.jse-color-picker-popup.svelte-v77py2 .picker_wrapper.popup .picker_arrow::before,
.jse-color-picker-popup.svelte-v77py2 .picker_wrapper.popup .picker_arrow::after {
  background: var(--jse-color-picker-background, var(--jse-panel-background, #ebebeb));
  line-height: normal;
}
.jse-color-picker-popup.svelte-v77py2 .picker_slider,
.jse-color-picker-popup.svelte-v77py2 .picker_sl,
.jse-color-picker-popup.svelte-v77py2 .picker_editor input,
.jse-color-picker-popup.svelte-v77py2 .picker_sample,
.jse-color-picker-popup.svelte-v77py2 .picker_done button {
  box-shadow: var(--jse-color-picker-border-box-shadow, #cbcbcb 0 0 0 1px);
}
.jse-color-picker-popup.svelte-v77py2 .picker_editor input {
  background: var(--jse-background-color, #fff);
  color: var(--jse-text-color, #4d4d4d);
}
.jse-color-picker-popup.svelte-v77py2 .picker_done button {
  background: var(--jse-button-background, #e0e0e0);
  color: var(--jse-button-color, var(--jse-text-color, #4d4d4d));
}
.jse-color-picker-popup.svelte-v77py2 .picker_done button:hover {
  background: var(--jse-button-background-highlight, #e7e7e7);
}`);var FOe=Te('<div class="jse-color-picker-popup svelte-v77py2"></div>');function qOe(t,e){Ft(e,!1);var n=$(e,"color",8),r=$(e,"onChange",8),o=$(e,"showOnTop",8),i=le(),s=()=>{};Ls(Xt(function*(){var l,c=new((l=yield cfe(()=>import("./vanilla-picker-B6E6ObS_.js"),[],import.meta.url))===null||l===void 0?void 0:l.default)({parent:p(i),color:n(),popup:o()?"top":"bottom",onDone(u){var d=u.rgba[3]===1?u.hex.substring(0,7):u.hex;r()(d)}});c.show(),s=()=>{c.destroy()}})),Ul(()=>{s()}),gn();var a=FOe();uo(a,l=>O(i,l),()=>p(i)),oe(t,a),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-color-picker-button.svelte-13mgyo6 {
  font-size: var(--jse-font-size-mono, 14px);
  width: var(--jse-color-picker-button-size, 1em);
  height: var(--jse-color-picker-button-size, 1em);
  box-sizing: border-box;
  padding: 0;
  margin: 2px 0 0 calc(0.5 * var(--jse-padding, 10px));
  display: inline-flex;
  vertical-align: top;
  border: 1px solid var(--jse-text-color, #4d4d4d);
  border-radius: 2px;
  background: inherit;
  outline: none;
}

.jse-color-picker-button.svelte-13mgyo6:not(.jse-readonly) {
  cursor: pointer;
}`);var UOe=Te('<button type="button"></button>');function WOe(t,e){Ft(e,!1);var n=le(void 0,!0),r=le(void 0,!0),{openAbsolutePopup:o}=Jh("absolute-popup"),i=$(e,"path",9),s=$(e,"value",9),a=$(e,"readOnly",9),l=$(e,"onPatch",9),c=$(e,"focus",9);function u(m){l()([{op:"replace",path:Wt(i()),value:m}]),d()}function d(){c()()}je(()=>E(s()),()=>{O(n,uX(s()))}),je(()=>(E(a()),E(s())),()=>{O(r,a()?"Color ".concat(s()):"Click to open a color picker")}),xr(),gn(!0);var f,h=UOe();rt(m=>{var g;f=mn(h,1,"jse-color-picker-button svelte-13mgyo6",null,f,m),Ll(h,"background: ".concat((g=p(n))!==null&&g!==void 0?g:"")),wr(h,"title",p(r)),wr(h,"aria-label",p(r))},[()=>({"jse-readonly":a()})]),Xe("click",h,function(m){var g,v;if(!a()){var y=m.target,b=y.getBoundingClientRect().top,x=((g=(v=$w(y))===null||v===void 0?void 0:v.innerHeight)!==null&&g!==void 0?g:0)-b<300&&b>300,k={color:s(),onChange:u,showOnTop:x};o(qOe,k,{anchor:y,closeOnOuterClick:!0,onClose:d,offsetTop:18,offsetLeft:-8,height:300})}}),oe(t,h),qt()}var IT=1e3,cb=100,qx=100,N2=2e4,fv=[{start:0,end:cb}],KOe=1048576,JOe=1048576,RT=10485760,NT="Insert or paste contents, enter [ insert a new array, enter { to insert a new object, or start typing to insert a new value",RI="Open context menu (Click here, right click on the selection, or use the context menu button or Ctrl+Q)",pp="hover-insert-inside",Ux="hover-insert-after",dV="hover-collection",LT="valid",fV="repairable",wd=336,xd=260,S1=100,hV={[jl.asc]:"ascending",[jl.desc]:"descending"};function CX(t){for(var e=bye(t,a=>a.start),n=[e[0]],r=0;r<e.length;r++){var o=n.length-1,i=n[o],s=e[r];s.start<=i.end?n[o]={start:Math.min(i.start,s.start),end:Math.max(i.end,s.end)}:n.push(s)}return n}function n_(t){return L2(t)+cb}function L2(t){return Math.floor(t/cb)*cb}function r_(t){return!!t&&(t.type==="space"||t.space===!0)}function Df(t){return!!t&&(t.type==="separator"||t.separator===!0)}function pV(t){return!!t&&t.type==="label"&&typeof t.text=="string"}function dd(t){return!!t&&typeof t.onClick=="function"}function hg(t){return!!t&&t.type==="dropdown-button"&&dd(t.main)&&Array.isArray(t.items)}function mV(t){return!!t&&t.type==="row"&&Array.isArray(t.items)}function gV(t){return!!t&&t.type==="column"&&Array.isArray(t.items)}function vV(t){return vr(t)&&vr(t.parseError)}function GOe(t){return vr(t)&&Array.isArray(t.validationErrors)}function YOe(t){return vr(t)&&Array.isArray(t.path)&&typeof t.message=="string"&&"severity"in t}function XOe(t){return vr(t)&&YOe(t)&&typeof t.isChildError=="boolean"}function QOe(t){return vr(t)&&typeof t.action=="function"&&vr(t.props)}function _a(t){return t!==void 0&&t.type==="object"}function Bi(t){return t!==void 0&&t.type==="array"}function NI(t){return t!==void 0&&t.type==="value"}function Sm(t){return _a(t)||Bi(t)}function jX(t){return t!==void 0&&Array.isArray(t.searchResults)}function D2(t){return!!t&&t.type==="tree"}function yV(t){return!!t&&t.type==="text"}function bV(t){return!!t&&t.type==="mode"}function o_(t){var{json:e,expand:n}=t,r=function(o){var{json:i,factory:s}=o;return Array.isArray(i)?s.createArrayDocumentState():vr(i)?s.createObjectDocumentState():i!==void 0?s.createValueDocumentState():void 0}({json:e,factory:VI});return n&&r?ic(e,r,[],n):r}function LI(){var{expanded:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{expanded:!1};return{type:"array",expanded:t,visibleSections:fv,items:[]}}function DI(){var{expanded:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{expanded:!1};return{type:"object",expanded:t,properties:{}}}var VI={createObjectDocumentState:DI,createArrayDocumentState:LI,createValueDocumentState:function(){return{type:"value"}}};function AX(t,e,n,r){var{createObjectDocumentState:o,createArrayDocumentState:i,createValueDocumentState:s}=r;return function a(l,c,u){if(Array.isArray(l)){var d=Bi(c)?c:i();if(u.length===0)return d;var f=vs(u[0]),h=a(l[f],d.items[f],u.slice(1));return Ta(d,["items",u[0]],h)}if(vr(l)){var m=_a(c)?c:o();if(u.length===0)return m;var g=u[0],v=a(l[g],m.properties[g],u.slice(1));return Ta(m,["properties",g],v)}return NI(c)?c:s()}(t,e,n)}function Xa(t,e){return ub(t,e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],(n,r)=>{if(n!==void 0&&r!==void 0)return Array.isArray(n)?Bi(r)?r:LI({expanded:!!Sm(r)&&r.expanded}):vr(n)?_a(r)?r:DI({expanded:!!Sm(r)&&r.expanded}):NI(r)?r:void 0},()=>!0)}function ub(t,e,n,r,o){var i=r(t,e,n);if(Array.isArray(t)&&Bi(i)&&o(i)){var s=[];return BI(t,i.visibleSections,l=>{var c=n.concat(String(l)),u=ub(t[l],i.items[l],c,r,o);u!==void 0&&(s[l]=u)}),oV(s,i.items)?i:nt(nt({},i),{},{items:s})}if(vr(t)&&_a(i)&&o(i)){var a={};return Object.keys(t).forEach(l=>{var c=n.concat(l),u=ub(t[l],i.properties[l],c,r,o);u!==void 0&&(a[l]=u)}),oV(Object.values(a),Object.values(i.properties))?i:nt(nt({},i),{},{properties:a})}return i}function BI(t,e,n){e.forEach(r=>{var{start:o,end:i}=r;dX(o,Math.min(t.length,i),n)})}function db(t,e){for(var n=t,r=[],o=0;o<e.length;){if(Array.isArray(n)){var i=e[o];r.push("items",i),n=n[vs(i)]}else{if(!vr(n))throw new Error("Cannot convert path: Object or Array expected at index ".concat(o));var s=e[o];r.push("properties",s),n=n[s]}o++}return r}function ic(t,e,n,r){for(var o=e,i=function(a){var l=n.slice(0,a);o=Jv(t,o,l,(c,u)=>{var d=Sm(u)&&!u.expanded?nt(nt({},u),{},{expanded:!0}):u;return Bi(d)?function(f,h){if(function(v,y){return v.some(b=>y>=b.start&&y<b.end)}(f.visibleSections,h))return f;var m=L2(h),g={start:m,end:n_(m)};return nt(nt({},f),{},{visibleSections:CX(f.visibleSections.concat(g))})}(d,vs(n[a])):d})},s=0;s<n.length;s++)i(s);return Jv(t,o,n,(a,l)=>function(c,u,d,f){return ub(c,u,d,(h,m,g)=>Array.isArray(h)&&f(g)?Bi(m)?m.expanded?m:nt(nt({},m),{},{expanded:!0}):LI({expanded:!0}):vr(h)&&f(g)?_a(m)?m.expanded?m:nt(nt({},m),{},{expanded:!0}):DI({expanded:!0}):m,h=>Sm(h)&&h.expanded)}(a,l,[],r))}function wV(t,e,n,r){return Jv(t,e,n,(o,i)=>r?function(s,a,l){return ub(s,a,l,(c,u)=>xV(u),()=>!0)}(o,i,n):xV(i))}function xV(t){return Bi(t)&&t.expanded?nt(nt({},t),{},{expanded:!1,visibleSections:fv}):_a(t)&&t.expanded?nt(nt({},t),{},{expanded:!1}):t}function MX(t,e,n){var r={json:t,documentState:e},o=n.reduce((i,s)=>({json:vc(i.json,[s]),documentState:ZOe(i.json,i.documentState,s)}),r);return{json:o.json,documentState:Xa(o.json,o.documentState)}}function ZOe(t,e,n){if(hU(n))return kV(t,e,n,void 0);if(pU(n))return SV(t,e,n);if(O4(n)){var r=yc(t,n.path),o=bu(t,e,r);return o?gA(t,e,r,{type:"value",enforceString:o}):e}return v$(n)||Fp(n)?function(i,s,a){if(Fp(a)&&a.from===a.path)return s;var l=s,c=yc(i,a.from),u=cu(i,l,c);return Fp(a)&&(l=SV(i,l,{path:a.from})),l=kV(i,l,{path:a.path},u),l}(t,e,n):e}function cu(t,e,n){try{return xt(e,db(t,n))}catch{return}}function zI(t,e,n,r,o){var i=AX(t,e,n,o);return _4(i,db(t,n),s=>{var a=xt(t,n);return r(a,s)})}function gA(t,e,n,r){return function(o,i,s,a,l){var c=AX(o,i,s,l);return Ta(c,db(o,s),a)}(t,e,n,r,VI)}function Jv(t,e,n,r){return zI(t,e,n,r,VI)}function kV(t,e,n,r){var o=yc(t,n.path),i=e;return i=Jv(t,i,Jn(o),(s,a)=>{if(!Bi(a))return a;var l=vs(Nn(o)),{items:c,visibleSections:u}=a;return nt(nt({},a),{},{items:l<c.length?mOe(c,l,r!==void 0?[r]:Array(1)):c,visibleSections:TX(u,l,1)})}),gA(t,i,o,r)}function SV(t,e,n){var r=yc(t,n.path),o=Jn(r),i=xt(t,o);return Array.isArray(i)?Jv(t,e,o,(s,a)=>{if(!Bi(a))return a;var l=vs(Nn(r)),{items:c,visibleSections:u}=a;return nt(nt({},a),{},{items:c.slice(0,l).concat(c.slice(l+1)),visibleSections:TX(u,l,-1)})}):function(s,a,l){var c=db(s,l);return Va(a,c)?Pj(a,db(s,l)):a}(t,e,r)}function TX(t,e,n){return function(r){for(var o=r.slice(0),i=1;i<o.length;)o[i-1].end===o[i].start&&(o[i-1]={start:o[i-1].start,end:o[i].end},o.splice(i)),i++;return o}(t.map(r=>({start:r.start>e?r.start+n:r.start,end:r.end>e?r.end+n:r.end})))}function bu(t,e,n){var r,o=xt(t,n),i=cu(t,e,n),s=NI(i)?i.enforceString:void 0;return typeof s=="boolean"?s:typeof(r=o)=="string"&&typeof Ty(r,JSON)!="string"}function _w(t,e){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=t.indexOf(e);return r!==-1?n?t.slice(r):t.slice(r+1):[]}function HI(t,e){var n=[];return function r(o,i,s){n.push(s),Uo(o)&&Bi(i)&&i.expanded&&BI(o,i.visibleSections,a=>{r(o[a],i.items[a],s.concat(String(a)))}),ti(o)&&_a(i)&&i.expanded&&Object.keys(o).forEach(a=>{r(o[a],i.properties[a],s.concat(a))})}(t,e,[]),n}function OX(t,e){var n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=[];return function o(i,s){r.push({path:s,type:dc.value});var a=cu(t,e,s);if(i&&Sm(a)&&a.expanded){if(n&&r.push({path:s,type:dc.inside}),Uo(i)){var l=Bi(a)?a.visibleSections:fv;BI(i,l,c=>{var u=s.concat(String(c));o(i[c],u),n&&r.push({path:u,type:dc.after})})}ti(i)&&Object.keys(i).forEach(c=>{var u=s.concat(c);r.push({path:u,type:dc.key}),o(i[c],u),n&&r.push({path:u,type:dc.after})})}}(t,[]),r}function DT(t,e,n){var r=HI(t,e),o=r.map(Wt).indexOf(Wt(n));if(o!==-1&&o<r.length-1)return r[o+1]}function Cm(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:10240;return ic(t,e,n,vOe({json:xt(t,n)},r)?C1:FI)}function VT(t,e,n){var r=cu(t,e,n);return Sm(r)&&r.expanded?e:Cm(t,e,n)}function C1(t){return t.length===0||t.length===1&&t[0]==="0"}function i_(t){return t.length===0}function FI(){return!0}function rS(){return!1}function La(t){return t&&t.type===Rr.after||!1}function Pi(t){return t&&t.type===Rr.inside||!1}function zi(t){return t&&t.type===Rr.key||!1}function hr(t){return t&&t.type===Rr.value||!1}function Dr(t){return t&&t.type===Rr.multi||!1}function vA(t){return Dr(t)&&_n(t.focusPath,t.anchorPath)}function fb(t){return Dr(t)||La(t)||Pi(t)||zi(t)||hr(t)}function BT(t){return t&&t.type===Rr.text||!1}function Ph(t,e){var n=[];return function(r,o,i){if(o){var s=Jp(o),a=Et(o);if(_n(s,a))return i(s);if(r!==void 0){var l=EX(s,a);if(s.length===l.length||a.length===l.length)return i(l);var c=Fs(s,a),u=kd(r,c),d=gh(r,c),f=Id(r,c,u),h=Id(r,c,d);if(!(f===-1||h===-1)){var m=xt(r,l);if(ti(m)){for(var g=Object.keys(m),v=f;v<=h;v++){var y=i(l.concat(g[v]));if(y!==void 0)return y}return}if(Uo(m)){for(var b=f;b<=h;b++){var x=i(l.concat(String(b)));if(x!==void 0)return x}return}throw new Error("Failed to create selection")}}}}(t,e,r=>{n.push(r)}),n}function $X(t){return Pi(t)?t.path:Jn(Et(t))}function kd(t,e){if(!Dr(e))return e.path;var n=Id(t,e,e.anchorPath);return Id(t,e,e.focusPath)<n?e.focusPath:e.anchorPath}function gh(t,e){if(!Dr(e))return e.path;var n=Id(t,e,e.anchorPath);return Id(t,e,e.focusPath)>n?e.focusPath:e.anchorPath}function CV(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(n){var o=r?Et(n):kd(t,n),i=function(l,c,u){var d=HI(l,c),f=d.map(Wt),h=Wt(u),m=f.indexOf(h);if(m!==-1&&m>0)return d[m-1]}(t,e,o);if(r)return Pi(n)||La(n)?i!==void 0?Fs(o,o):void 0:i!==void 0?Fs(Jp(n),i):void 0;if(La(n)||Pi(n))return Vn(o);if(zi(n)){if(i===void 0||i.length===0)return;var s=Jn(i),a=xt(t,s);return Array.isArray(a)||sr(i)?Vn(i):Yd(i)}return hr(n),i!==void 0?Vn(i):void 0}}function jV(t,e,n,r){if(!n)return{caret:void 0,previous:void 0,next:void 0};var o=OX(t,e,r),i=o.findIndex(s=>_n(s.path,Et(n))&&String(s.type)===String(n.type));return{caret:i!==-1?o[i]:void 0,previous:i!==-1&&i>0?o[i-1]:void 0,next:i!==-1&&i<o.length-1?o[i+1]:void 0}}function pg(t,e){for(var n=HI(t,e),r=0;r<n.length-1&&n[r+1].length>n[r].length;)r++;var o=n[r];return o===void 0||o.length===0||Array.isArray(xt(t,Jn(o)))?Vn(o):Yd(o)}function Gv(t,e){if(e.length===1){var n=jd(e);if(n.op==="replace")return Vn(yc(t,n.path))}if(!sr(e)&&e.every(s=>s.op==="move")){var r=jd(e),o=e.slice(1);if((v$(r)||Fp(r))&&r.from!==r.path&&o.every(s=>(v$(s)||Fp(s))&&s.from===s.path))return Yd(yc(t,r.path))}var i=e.filter(s=>s.op!=="test"&&s.op!=="remove"&&(s.op!=="move"||s.from!==s.path)&&typeof s.path=="string").map(s=>yc(t,s.path));if(!sr(i))return{type:Rr.multi,anchorPath:jd(i),focusPath:Nn(i)}}function EX(t,e){for(var n=0;n<t.length&&n<e.length&&t[n]===e[n];)n++;return t.slice(0,n)}function V2(t){return zi(t)||hr(t)||vA(t)}function AV(t,e){return V2(e)&&$o(xt(t,Et(e)))?Et(e):Jn(Et(e))}function Mu(t,e){if(t.length<e.length)return!1;for(var n=0;n<e.length;n++)if(t[n]!==e[n])return!1;return!0}function hu(t){if(Di(t)){var{type:e,path:n}=t;return{type:e,path:n}}return t}function Yd(t){return{type:Rr.key,path:t}}function qI(t,e){return{type:Rr.key,path:t,edit:!0,initialValue:e}}function Vn(t){return{type:Rr.value,path:t}}function B2(t,e){return{type:Rr.value,path:t,edit:!0,initialValue:e}}function Xd(t){return{type:Rr.inside,path:t}}function Pd(t){return{type:Rr.after,path:t}}function Fs(t,e){var n=EX(t,e),r=t.length>n.length&&e.length>n.length;return{type:Rr.multi,anchorPath:r?n.concat(t[n.length]):n,focusPath:r?n.concat(e[n.length]):n}}function _X(t,e,n,r){if(zi(e))return String(Nn(e.path));if(hr(e)){var o=xt(t,e.path);return typeof o=="string"?o:r.stringify(o,null,n)}if(Dr(e)){if(sr(e.focusPath))return r.stringify(t,null,n);var i=$X(e),s=xt(t,i);if(Array.isArray(s)){if(vA(e)){var a=xt(t,e.focusPath);return r.stringify(a,null,n)}return Ph(t,e).map(l=>{var c=xt(t,l);return"".concat(r.stringify(c,null,n),",")}).join(`
`)}return Ph(t,e).map(l=>{var c=Nn(l),u=xt(t,l);return"".concat(r.stringify(c),": ").concat(r.stringify(u,null,n),",")}).join(`
`)}}function Di(t){return(zi(t)||hr(t))&&t.edit===!0}function Fg(t){return zi(t)||hr(t)||Dr(t)}function Wx(t){return zi(t)||hr(t)||vA(t)}function s_(t){switch(t.type){case dc.key:return Yd(t.path);case dc.value:return Vn(t.path);case dc.after:return Pd(t.path);case dc.inside:return Xd(t.path)}}function MV(t,e){switch(t){case Rr.key:return Yd(e);case Rr.value:return Vn(e);case Rr.after:return Pd(e);case Rr.inside:return Xd(e);case Rr.multi:case Rr.text:return Fs(e,e)}}function Kx(t,e,n){if(e)return hb(t,e,n)||Mu(Dr(e)?Jn(e.focusPath):e.path,n)?e:void 0}function hb(t,e,n){if(t===void 0||!e)return!1;if(zi(e)||Pi(e)||La(e))return _n(e.path,n);if(hr(e))return Mu(n,e.path);if(Dr(e)){var r=kd(t,e),o=gh(t,e),i=Jn(e.focusPath);if(!Mu(n,i)||n.length<=i.length)return!1;var s=Id(t,e,r),a=Id(t,e,o),l=Id(t,e,n);return l!==-1&&l>=s&&l<=a}return!1}function Id(t,e,n){var r=Jn(e.focusPath);if(!Mu(n,r)||n.length<=r.length)return-1;var o=n[r.length],i=xt(t,r);if(ti(i))return Object.keys(i).indexOf(o);if(Uo(i)){var s=vs(o);if(s<i.length)return s}return-1}function Et(t){return Dr(t)?t.focusPath:t.path}function Jp(t){return Dr(t)?t.anchorPath:t.path}function Ic(){for(var t=[],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var o of n)if(typeof o=="string"&&t.push(o),o&&typeof o=="object")for(var i in o)Object.hasOwnProperty.call(o,i)&&o[i]&&t.push(i);return t.join(" ")}function PX(t,e,n){return Ic("jse-value","jse-"+OI(t,n),{"jse-url":mA(t),"jse-empty":typeof t=="string"&&t.length===0,"jse-table-cell":e===li.table})}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-value.jse-string.svelte-1r0oryi {
  color: var(--jse-value-color-string, #008000);
}
.jse-value.jse-object.svelte-1r0oryi, .jse-value.jse-array.svelte-1r0oryi {
  min-width: 16px;
  color: var(--jse-delimiter-color, rgba(0, 0, 0, 0.38));
}
.jse-value.jse-number.svelte-1r0oryi {
  color: var(--jse-value-color-number, #ee422e);
}
.jse-value.jse-boolean.svelte-1r0oryi {
  color: var(--jse-value-color-boolean, #ff8c00);
}
.jse-value.jse-null.svelte-1r0oryi {
  color: var(--jse-value-color-null, #004ed0);
}
.jse-value.jse-invalid.svelte-1r0oryi {
  color: var(--jse-text-color, #4d4d4d);
}
.jse-value.jse-url.svelte-1r0oryi {
  color: var(--jse-value-color-url, #008000);
  text-decoration: underline;
}

div.jse-editable-div.svelte-1r0oryi {
  min-width: 2em;
  padding: 0 5px;
  box-sizing: border-box;
  outline: none;
  border-radius: 1px;
  vertical-align: top;
  cursor: text !important;
  word-break: normal;
  white-space: pre-wrap;
  overflow-wrap: anywhere;
}
div.jse-editable-div.jse-short-text.svelte-1r0oryi {
  overflow-wrap: normal;
}
div.jse-editable-div.jse-table-cell.svelte-1r0oryi {
  overflow-wrap: normal;
  white-space: nowrap;
}
div.jse-editable-div[contenteditable=true].svelte-1r0oryi {
  outline: var(--jse-edit-outline, 2px solid #656565);
  background: var(--jse-background-color, #fff);
  position: relative;
  display: inline-block;
  border-radius: 0;
  z-index: 3;
}
div.jse-editable-div.jse-empty.svelte-1r0oryi:not(:focus) {
  outline: 1px dotted var(--jse-tag-background, rgba(0, 0, 0, 0.2));
  -moz-outline-radius: 2px;
}
div.jse-editable-div.jse-empty.svelte-1r0oryi::after {
  pointer-events: none;
  color: var(--jse-tag-background, rgba(0, 0, 0, 0.2));
}`);var e$e=Te('<div role="textbox" tabindex="0" contenteditable="true" spellcheck="false"></div>');function IX(t,e){Ft(e,!1);var n=Ui("jsoneditor:EditableDiv"),r=$(e,"value",9),o=$(e,"initialValue",9),i=$(e,"shortText",9,!1),s=$(e,"label",9),a=$(e,"onChange",9),l=$(e,"onCancel",9),c=$(e,"onFind",9),u=$(e,"onPaste",9,wi),d=$(e,"onValueClass",9,()=>""),f=le(void 0,!0),h=le(void 0,!0),m=!1;function g(){return p(f)?function(b){return b.replace(/\n$/,"")}(p(f).innerText):""}function v(b){p(f)&&Za(f,p(f).innerText=Kv(b))}Ls(()=>{n("onMount",{value:r(),initialValue:o()}),v(o()!==void 0?o():r()),p(f)&&function(b){if(b.firstChild!=null){var x=document.createRange(),k=window.getSelection();x.setStart(b,1),x.collapse(!0),k==null||k.removeAllRanges(),k==null||k.addRange(x)}else b.focus()}(p(f))}),Ul(()=>{var b=g();n("onDestroy",{closed:m,value:r(),newValue:b}),m||b===r()||a()(b,mh.no)}),je(()=>(E(d()),E(r())),()=>{O(h,d()(r()))}),xr(),gn(!0);var y=e$e();uo(y,b=>O(f,b),()=>p(f)),rt(b=>{wr(y,"aria-label",s()),mn(y,1,b,"svelte-1r0oryi")},[()=>_h((E(Ic),p(h),E(i()),fe(()=>Ic("jse-editable-div",p(h),{"jse-short-text":i()}))))]),Xe("input",y,function(){var b=g();b===""&&v(""),O(h,d()(b))}),Xe("keydown",y,function(b){b.stopPropagation();var x=Gd(b);if(x==="Escape"&&(b.preventDefault(),m=!0,l()()),x==="Enter"||x==="Tab"){b.preventDefault(),m=!0;var k=g();a()(k,mh.nextInside)}x==="Ctrl+F"&&(b.preventDefault(),c()(!1)),x==="Ctrl+H"&&(b.preventDefault(),c()(!0))}),Xe("paste",y,function(b){if(b.stopPropagation(),u()&&b.clipboardData){var x=b.clipboardData.getData("text/plain");u()(x)}}),Xe("blur",y,function(){var b=document.hasFocus(),x=g();n("handleBlur",{hasFocus:b,closed:m,value:r(),newValue:x}),document.hasFocus()&&!m&&(m=!0,x!==r()&&a()(x,mh.self))}),oe(t,y),qt()}function t$e(t,e){Ft(e,!1);var n=$(e,"path",9),r=$(e,"value",9),o=$(e,"selection",9),i=$(e,"mode",9),s=$(e,"parser",9),a=$(e,"normalization",9),l=$(e,"enforceString",9),c=$(e,"onPatch",9),u=$(e,"onPasteJson",9),d=$(e,"onSelect",9),f=$(e,"onFind",9),h=$(e,"focus",9),m=$(e,"findNextInside",9);function g(x){return l()?x:Ty(x,s())}function v(){d()(Vn(n())),h()()}gn(!0);var y=jt(()=>(E(a()),E(r()),fe(()=>a().escapeValue(r())))),b=jt(()=>(E(Di),E(o()),fe(()=>Di(o())?o().initialValue:void 0)));IX(t,{get value(){return p(y)},get initialValue(){return p(b)},label:"Edit value",onChange:function(x,k){c()([{op:"replace",path:Wt(n()),value:g(a().unescapeValue(x))}],(w,S,C)=>{if(!C||_n(n(),Et(C)))return{state:S,selection:k===mh.nextInside?m()(n()):Vn(n())}}),h()()},onCancel:v,onPaste:function(x){try{var k=s().parse(x);$o(k)&&u()({path:n(),contents:k,onPasteAsJson:()=>{v();var w=[{op:"replace",path:Wt(n()),value:k}];c()(w,(S,C)=>({state:Cm(S,C,n())}))}})}catch{}},get onFind(){return f()},onValueClass:function(x){return PX(g(a().unescapeValue(x)),i(),s())}}),qt()}function qg(t,e,n){var r=Jn(e),o=xt(t,r);if(Uo(o)){var i=vs(Nn(e));return n.map((c,u)=>({op:"add",path:Wt(r.concat(String(i+u))),value:c.value}))}if(ti(o)){var s=Nn(e),a=Object.keys(o),l=s!==void 0?_w(a,s,!0):[];return[...n.map(c=>{var u=Ew(c.key,a);return{op:"add",path:Wt(r.concat(u)),value:c.value}}),...l.map(c=>Ih(r,c))]}throw new Error("Cannot create insert operations: parent must be an Object or Array")}function a_(t,e,n){var r=xt(t,e);if(Array.isArray(r)){var o=r.length;return n.map((i,s)=>({op:"add",path:Wt(e.concat(String(o+s))),value:i.value}))}return n.map(i=>{var s=Ew(i.key,Object.keys(r));return{op:"add",path:Wt(e.concat(s)),value:i.value}})}function Pw(t,e,n,r){var o=e.filter(a=>a!==n),i=Ew(r,o),s=_w(e,n,!1);return[{op:"move",from:Wt(t.concat(n)),path:Wt(t.concat(i))},...s.map(a=>Ih(t,a))]}function RX(t,e){var n=Nn(e);if(sr(n))throw new Error("Cannot duplicate root object");var r=Jn(n),o=Nn(n),i=xt(t,r);if(Uo(i)){var s=Nn(e),a=s?vs(Nn(s))+1:0;return[...e.map((u,d)=>({op:"copy",from:Wt(u),path:Wt(r.concat(String(d+a)))}))]}if(ti(i)){var l=Object.keys(i),c=o!==void 0?_w(l,o,!1):[];return[...e.map(u=>{var d=Ew(Nn(u),l);return{op:"copy",from:Wt(u),path:Wt(r.concat(d))}}),...c.map(u=>Ih(r,u))]}throw new Error("Cannot create duplicate operations: parent must be an Object or Array")}function NX(t,e){if(hr(e))return[{op:"move",from:Wt(e.path),path:""}];if(!Dr(e))throw new Error("Cannot create extract operations: parent must be an Object or Array");var n=Jn(e.focusPath),r=xt(t,n);if(Uo(r)){var o=Ph(t,e).map(s=>{var a=vs(Nn(s));return r[a]});return[{op:"replace",path:"",value:o}]}if(ti(r)){var i={};return Ph(t,e).forEach(s=>{var a=String(Nn(s));i[a]=r[a]}),[{op:"replace",path:"",value:i}]}throw new Error("Cannot extract: unsupported type of selection "+JSON.stringify(e))}function LX(t,e,n,r){if(zi(e)){var o=fX(n,r),i=Jn(e.path),s=xt(t,i);return Pw(i,Object.keys(s),Nn(e.path),typeof o=="string"?o:n)}if(hr(e)||Dr(e)&&sr(e.focusPath))try{return[{op:"replace",path:Wt(Et(e)),value:Ow(n,S=>Tw(S,r))}]}catch{return[{op:"replace",path:Wt(Et(e)),value:n}]}if(Dr(e)){var a=zT(n,r);return function(S,C,j){var A=jd(C),_=Jn(A),R=xt(S,_);if(Uo(R)){var T=jd(C),z=T?vs(Nn(T)):0;return[...z2(C),...j.map((H,K)=>({op:"add",path:Wt(_.concat(String(K+z))),value:H.value}))]}if(ti(R)){var U=Nn(C),G=Jn(U),ce=Nn(U),ie=Object.keys(R),Z=ce!==void 0?_w(ie,ce,!1):[],W=new Set(C.map(H=>Nn(H))),B=ie.filter(H=>!W.has(H));return[...z2(C),...j.map(H=>{var K=Ew(H.key,B);return{op:"add",path:Wt(G.concat(K)),value:H.value}}),...Z.map(H=>Ih(G,H))]}throw new Error("Cannot create replace operations: parent must be an Object or Array")}(t,Ph(t,e),a)}if(La(e)){var l=zT(n,r),c=e.path,u=Jn(c),d=xt(t,u);if(Uo(d)){var f=vs(Nn(c));return qg(t,u.concat(String(f+1)),l)}if(ti(d)){var h=String(Nn(c)),m=Object.keys(d);if(sr(m)||Nn(m)===h)return a_(t,u,l);var g=m.indexOf(h),v=m[g+1];return qg(t,u.concat(v),l)}throw new Error("Cannot create insert operations: parent must be an Object or Array")}if(Pi(e)){var y=zT(n,r),b=e.path,x=xt(t,b);if(Uo(x))return qg(t,b.concat("0"),y);if(ti(x)){var k=Object.keys(x);if(sr(k))return a_(t,b,y);var w=jd(k);return qg(t,b.concat(w),y)}throw new Error("Cannot create insert operations: parent must be an Object or Array")}throw new Error("Cannot insert: unsupported type of selection "+JSON.stringify(e))}function z2(t){return t.map(e=>({op:"remove",path:Wt(e)})).reverse()}function Ih(t,e){return{op:"move",from:Wt(t.concat(e)),path:Wt(t.concat(e))}}function zT(t,e){var n=/^\s*{/.test(t),r=/^\s*\[/.test(t),o=fX(t,e),i=o!==void 0?o:Ow(t,s=>Tw(s,e));return n&&vr(i)||r&&Array.isArray(i)?[{key:"New item",value:i}]:Array.isArray(i)?i.map((s,a)=>({key:"New item "+a,value:s})):vr(i)?Object.keys(i).map(s=>({key:s,value:i[s]})):[{key:"New item",value:i}]}function DX(t,e){if(zi(e)){var n=Jn(e.path),r=xt(t,n),o=Pw(n,Object.keys(r),Nn(e.path),"");return{operations:o,newSelection:Gv(t,o)}}if(hr(e))return{operations:[{op:"replace",path:Wt(e.path),value:""}],newSelection:e};if(Dr(e)){var i=Ph(t,e),s=z2(i),a=Nn(i);if(sr(a))return{operations:[{op:"replace",path:"",value:""}],newSelection:Vn([])};var l=Jn(a),c=xt(t,l);if(Uo(c)){var u=jd(i),d=vs(Nn(u));return{operations:s,newSelection:d===0?Xd(l):Pd(l.concat(String(d-1)))}}if(ti(c)){var f=Object.keys(c),h=jd(i),m=Nn(h),g=f.indexOf(m),v=f[g-1];return{operations:s,newSelection:g===0?Xd(l):Pd(l.concat(v))}}throw new Error("Cannot create remove operations: parent must be an Object or Array")}throw new Error("Cannot remove: unsupported type of selection "+JSON.stringify(e))}function VX(t,e){var n=function(r,o){if(sr(o)||!o.every(Fp))return o;var i=[];for(var s of o){var a=TV(Ba(s.from)),l=TV(Ba(s.path));if(!a||!l)return o;i.push({from:a,path:l,operation:s})}var c=i[0].path.parent,u=xt(r,c);if(!ti(u)||!i.every(m=>function(g,v){return _n(g.from.parent,v)&&_n(g.path.parent,v)}(m,c)))return o;var d=function(m,g){var v=Object.keys(g),y=v.slice();for(var b of m){var x=y.indexOf(b.from.key);x!==-1&&(y.splice(x,1),y.push(b.path.key))}for(var k=0;k<v.length&&v[k]===y[k];)k++;return y[k]}(i,r),f=m=>m.operation,h=i.filter(m=>m.operation.from!==m.operation.path);return h.some(m=>m.path.key===d)?h.map(f):[Ih(c,d),...h.map(f)]}(t,e);return yU(t,n,{before:(r,o,i)=>{if(pU(o)){var s=Ba(o.path);return{revertOperations:[...i,...HT(r,s)]}}if(Fp(o)){var a=Ba(o.from);return{revertOperations:o.from===o.path?[o,...HT(r,a)]:[...i,...HT(r,a)]}}return{document:r}}})}function TV(t){return t.length>0?{parent:Jn(t),key:Nn(t)}:void 0}function HT(t,e){var n=Jn(e),r=Nn(e),o=xt(t,n);return ti(o)?_w(Object.keys(o),r,!1).map(i=>Ih(n,i)):[]}function OV(t){var e=t.activeIndex<t.items.length-1?t.activeIndex+1:t.items.length>0?0:-1,n=t.items[e],r=t.items.map((o,i)=>nt(nt({},o),{},{active:i===e}));return nt(nt({},t),{},{items:r,activeItem:n,activeIndex:e})}function $V(t,e){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=t.toLowerCase(),i=(n=r==null?void 0:r.maxResults)!==null&&n!==void 0?n:1/0,s=r==null?void 0:r.columns,a=[],l=[];function c(v){a.length>=i||a.push(v)}function u(v,y){if(Uo(y)){var b=l.length;l.push("0");for(var x=0;x<y.length;x++)if(l[b]=String(x),u(v,y[x]),a.length>=i)return;l.pop()}else if(ti(y)){var k=Object.keys(y),w=l.length;for(var S of(l.push(""),k))if(l[w]=S,EV(S,v,l,kc.key,c),u(v,y[S]),a.length>=i)return;l.pop()}else EV(String(y),v,l,kc.value,c)}if(t==="")return[];if(s){if(!Array.isArray(e))throw new Error("json must be an Array when option columns is defined");for(var d=0;d<e.length;d++){l[0]=String(d);for(var f=e[d],h=0;h<s.length;h++){var m=s[h];if(m.length===1)l[1]=m[0];else for(var g=0;g<m.length;g++)l[g+1]=m[g];for(;l.length>m.length+1;)l.pop();u(o,xt(f,m))}if(a.length>=i)break}return a}return u(o,e),a}function EV(t,e,n,r,o){var i=t.toLowerCase(),s=0,a=-1,l=-1;do(l=i.indexOf(e,a))!==-1&&(a=l+e.length,o({path:n.slice(0),field:r,fieldIndex:s,start:l,end:a}),s++);while(l!==-1)}function l_(t,e,n,r){return t.substring(0,n)+e+t.substring(r)}function _V(t,e,n){var r=t;return Qve(n,o=>{r=l_(r,e,o.start,o.end)}),r}function n$e(t,e,n,r,o){var{field:i,path:s,start:a,end:l}=r;if(i===kc.key){var c=Jn(s),u=xt(t,c),d=Nn(s),f=Pw(c,Object.keys(u),d,l_(d,n,a,l));return{newSelection:Gv(t,f),operations:f}}if(i===kc.value){var h=xt(t,s);if(h===void 0)throw new Error("Cannot replace: path not found ".concat(Wt(s)));var m=typeof h=="string"?h:String(h),g=bu(t,e,s),v=l_(m,n,a,l),y=[{op:"replace",path:Wt(s),value:g?v:Ty(v,o)}];return{newSelection:Gv(t,y),operations:y}}throw new Error("Cannot replace: unknown type of search result field ".concat(i))}function PV(t){return t.path.concat(t.field,String(t.fieldIndex))}function IV(t){var e=jX(t)?t.searchResults.filter(n=>n.field===kc.key):void 0;return e&&e.length>0?e:void 0}function RV(t){var e=jX(t)?t.searchResults.filter(n=>n.field===kc.value):void 0;return e&&e.length>0?e:void 0}var r$e={createObjectDocumentState:()=>({type:"object",properties:{}}),createArrayDocumentState:()=>({type:"array",items:[]}),createValueDocumentState:()=>({type:"value"})};function BX(t,e){return e.reduce((n,r)=>function(o,i,s,a){return zI(o,i,s,a,r$e)}(t,n,r.path,(o,i)=>nt(nt({},i),{},{searchResults:i.searchResults?i.searchResults.concat(r):[r]})),void 0)}function H2(t){var e,n=(e=t==null?void 0:t.searchResults)!==null&&e!==void 0?e:[],r=_a(t)?Object.values(t.properties).flatMap(H2):Bi(t)?t.items.flatMap(H2):[];return n.concat(r)}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-highlight.svelte-19qyvy6 {
  background-color: var(--jse-search-match-color, #ffe665);
  outline: var(--jse-search-match-outline, none);
}
.jse-highlight.jse-active.svelte-19qyvy6 {
  background-color: var(--jse-search-match-active-color, var(--jse-search-match-color, #ffe665));
  outline: var(--jse-search-match-outline, 2px solid #e0be00);
}`);var o$e=Te("<span> </span>");function zX(t,e){Ft(e,!1);var n=le(),r=$(e,"text",8),o=$(e,"searchResultItems",8);je(()=>(E(r()),E(o())),()=>{O(n,function(s,a){var l=[],c=0;for(var u of a){var d=s.slice(c,u.start);d!==""&&l.push({resultIndex:void 0,type:"normal",text:d,active:!1});var f=s.slice(u.start,u.end);l.push({resultIndex:u.resultIndex,type:"highlight",text:f,active:u.active}),c=u.end}var h=Nn(a);return h&&h.end<s.length&&l.push({type:"normal",text:s.slice(h.end),resultIndex:void 0,active:!1}),l}(String(r()),o()))}),xr(),gn();var i=En();Wo(Ct(i),1,()=>p(n),ui,(s,a)=>{var l=En(),c=Ct(l),u=f=>{var h=rs();rt(()=>Ut(h,(p(a),fe(()=>p(a).text)))),oe(f,h)},d=f=>{var h,m=o$e(),g=ae(m);rt((v,y,b)=>{h=mn(m,1,"jse-highlight svelte-19qyvy6",null,h,v),wr(m,"data-search-result-index",y),Ut(g,b)},[()=>({"jse-active":p(a).active}),()=>(p(a),fe(()=>String(p(a).resultIndex))),()=>(E(Kv),p(a),fe(()=>Kv(p(a).text)))]),oe(f,m)};$e(c,f=>{p(a),fe(()=>p(a).type==="normal")?f(u):f(d,!1)}),oe(s,l)}),oe(t,i),qt()}function oS(t){var e=1e3;if(t<900)return t.toFixed()+" B";var n=t/e;if(n<900)return n.toFixed(1)+" KB";var r=n/e;if(r<900)return r.toFixed(1)+" MB";var o=r/e;return o<900?o.toFixed(1)+" GB":(o/e).toFixed(1)+" TB"}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-tag.svelte-ubve9r {
  border: none;
  font-size: 80%;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  color: var(--jse-tag-color, var(--jse-text-color-inverse, #fff));
  background: var(--jse-tag-background, rgba(0, 0, 0, 0.2));
  border-radius: 2px;
  cursor: pointer;
  display: inline-block;
  padding: 0 4px;
  line-height: normal;
  margin: 1px 0;
}
.jse-tag.svelte-ubve9r:hover {
  opacity: 0.8;
}
.jse-tag.disabled.svelte-ubve9r {
  opacity: 0.7;
  cursor: inherit;
}`);var i$e=Te('<button type="button"><!></button>');function iS(t,e){Ft(e,!0);var n,r=Na(()=>e.onclick?i=>{i.preventDefault(),i.stopPropagation(),e.onclick()}:void 0),o=i$e();o.__click=function(){for(var i,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];(i=p(r))===null||i===void 0||i.apply(this,a)},function(i,s){for(var a=arguments.length,l=new Array(a>2?a-2:0),c=2;c<a;c++)l[c-2]=arguments[c];var u,d=i,f=L8;Gh(()=>{f!==(f=s())&&(u&&(Xs(u),u=null),u=cl(()=>f(d,...l)))},xw)}(ae(o),()=>{var i;return(i=e.children)!==null&&i!==void 0?i:L8}),rt(i=>n=mn(o,1,"jse-tag svelte-ubve9r",null,n,i),[()=>({disabled:!e.onclick})]),oe(t,o),qt()}Mw(["click"]);function s$e(t,e,n){typeof e.value=="string"&&p(n)&&II(t)&&(t.preventDefault(),t.stopPropagation(),window.open(e.value,"_blank"))}function a$e(t,e){e.readOnly||(t.preventDefault(),e.onSelect(B2(e.path)))}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-value.jse-string.svelte-1saqp8c {
  color: var(--jse-value-color-string, #008000);
}
.jse-value.jse-object.svelte-1saqp8c, .jse-value.jse-array.svelte-1saqp8c {
  min-width: 16px;
  color: var(--jse-delimiter-color, rgba(0, 0, 0, 0.38));
}
.jse-value.jse-number.svelte-1saqp8c {
  color: var(--jse-value-color-number, #ee422e);
}
.jse-value.jse-boolean.svelte-1saqp8c {
  color: var(--jse-value-color-boolean, #ff8c00);
}
.jse-value.jse-null.svelte-1saqp8c {
  color: var(--jse-value-color-null, #004ed0);
}
.jse-value.jse-invalid.svelte-1saqp8c {
  color: var(--jse-text-color, #4d4d4d);
}
.jse-value.jse-url.svelte-1saqp8c {
  color: var(--jse-value-color-url, #008000);
  text-decoration: underline;
}

.jse-value.svelte-1saqp8c {
  display: inline-block;
  min-width: 2em;
  padding: 0 5px;
  box-sizing: border-box;
  outline: none;
  border-radius: 1px;
  vertical-align: top;
  word-break: normal;
  overflow-wrap: anywhere;
  white-space: pre-wrap;
}
.jse-value.jse-table-cell.svelte-1saqp8c {
  overflow-wrap: normal;
  white-space: nowrap;
}
.jse-value.jse-empty.svelte-1saqp8c {
  min-width: 4em;
  outline: 1px dotted var(--jse-tag-background, rgba(0, 0, 0, 0.2));
  -moz-outline-radius: 2px;
}
.jse-value.jse-empty.svelte-1saqp8c::after {
  pointer-events: none;
  color: var(--jse-tag-background, rgba(0, 0, 0, 0.2));
  content: "value";
}`);var l$e=Te('<div role="button" tabindex="-1" data-type="selectable-value"><!> <!></div>');function c$e(t,e){Ft(e,!0);var n=rd(!0),r=Na(()=>p(n)&&typeof e.value=="string"&&e.value.length>e.truncateTextSize&&(!e.searchResultItems||!e.searchResultItems.some(h=>h.active&&h.end>e.truncateTextSize))),o=Na(()=>p(r)&&typeof e.value=="string"?e.value.substring(0,e.truncateTextSize).trim():e.value),i=Na(()=>mA(e.value));function s(){O(n,!1)}var a=l$e();a.__click=[s$e,e,i],a.__dblclick=[a$e,e];var l=ae(a),c=h=>{var m=Na(()=>e.normalization.escapeValue(p(o)));zX(h,{get text(){return p(m)},get searchResultItems(){return e.searchResultItems}})},u=h=>{var m=rs();rt(g=>Ut(m,g),[()=>Kv(e.normalization.escapeValue(p(o)))]),oe(h,m)};$e(l,h=>{e.searchResultItems?h(c):h(u,!1)});var d=ye(l,2),f=h=>{iS(h,{onclick:s,children:(m,g)=>{var v=rs();rt(y=>Ut(v,"Show more (".concat(y??"",")")),[()=>oS(e.value.length)]),oe(m,v)},$$slots:{default:!0}})};$e(d,h=>{p(r)&&typeof e.value=="string"&&h(f)}),rt(h=>{mn(a,1,h,"svelte-1saqp8c"),wr(a,"title",p(i)?"Ctrl+Click or Ctrl+Enter to open url in new window":void 0)},[()=>_h(PX(e.value,e.mode,e.parser))]),oe(t,a),qt()}Mw(["click","dblclick"]);cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-tooltip.svelte-brt1mq {
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  line-height: normal;
  padding: calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);
  border-radius: 3px;
  background: var(--jse-context-menu-background, #656565);
  color: var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));
  white-space: nowrap;
  box-shadow: var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));
}`);var u$e=Te('<div class="jse-tooltip svelte-brt1mq"> </div>');function d$e(t,e){var n=$(e,"text",8),r=u$e(),o=ae(r);rt(()=>Ut(o,n())),oe(t,r)}function Yv(t,e){var n,{text:r,openAbsolutePopup:o,closeAbsolutePopup:i}=e;function s(){n=o(d$e,{text:r},{position:"top",width:10*r.length,offsetTop:3,anchor:t,closeOnOuterClick:!0})}function a(){i(n)}return t.addEventListener("mouseenter",s),t.addEventListener("mouseleave",a),{destroy(){t.removeEventListener("mouseenter",s),t.removeEventListener("mouseleave",a)}}}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-timestamp.svelte-1jcpman {
  padding: 0;
  margin: 0;
  vertical-align: middle;
  display: inline-flex;
  color: var(--jse-value-color-number, #ee422e);
}`);var f$e=Te('<div class="jse-timestamp svelte-1jcpman"><!></div>');function h$e(t,e){Ft(e,!1);var n=le(void 0,!0),r=Jh("absolute-popup"),o=$(e,"value",9);je(()=>E(o()),()=>{O(n,"Time: ".concat(new Date(o()).toString()))}),xr(),gn(!0);var i=f$e();Yn(ae(i),{get data(){return Hye}}),Gs(i,(s,a)=>Yv==null?void 0:Yv(s,a),()=>nt({text:p(n)},r)),oe(t,i),qt()}function p$e(t){var e=[];return!t.isEditing&&dOe(t.value)&&e.push({component:HOe,props:t}),!t.isEditing&&fOe(t.value)&&e.push({component:WOe,props:t}),t.isEditing&&e.push({component:t$e,props:t}),t.isEditing||e.push({component:c$e,props:t}),!t.isEditing&&QE(t.value)&&e.push({component:h$e,props:t}),e}function Da(t){return t.map((e,n)=>g$e.test(e)?"["+e+"]":/[.[\]]/.test(e)||e===""?'["'+function(r){return r.replace(/"/g,'\\"')}(e)+'"]':(n>0?".":"")+e).join("")}function m$e(t){for(var e=[],n=0;n<t.length;)t[n]==="."&&n++,t[n]==="["?(n++,t[n]==='"'?(n++,e.push(r(i=>i==='"',!0)),o('"')):e.push(r(i=>i==="]")),o("]")):e.push(r(i=>i==="."||i==="["));function r(i){for(var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a="";n<t.length&&!i(t[n]);)s&&t[n]==="\\"&&t[n+1]==='"'?(a+='"',n+=2):(a+=t[n],n++);return a}function o(i){if(t[n]!==i)throw new SyntaxError("Invalid JSON path: ".concat(i," expected at position ").concat(n));n++}return e}function Vf(t){return{value:t,label:sr(t)?"(item root)":Da(t)}}var g$e=/^\d+$/,v$e={},y$e={showWizard:!0,showOriginal:!0},F2=Math.min,Gp=Math.max,q2=Math.round,Jx=Math.floor,Tu=t=>({x:t,y:t}),b$e={left:"right",right:"left",bottom:"top",top:"bottom"},w$e={start:"end",end:"start"};function NV(t,e,n){return Gp(t,F2(e,n))}function yA(t,e){return typeof t=="function"?t(e):t}function jm(t){return t.split("-")[0]}function bA(t){return t.split("-")[1]}function HX(t){return t==="x"?"y":"x"}function FX(t){return t==="y"?"height":"width"}var x$e=new Set(["top","bottom"]);function rh(t){return x$e.has(jm(t))?"y":"x"}function qX(t){return HX(rh(t))}function c_(t){return t.replace(/start|end/g,e=>w$e[e])}var LV=["left","right"],DV=["right","left"],k$e=["top","bottom"],S$e=["bottom","top"];function C$e(t,e,n,r){var o=bA(t),i=function(s,a,l){switch(s){case"top":case"bottom":return l?a?DV:LV:a?LV:DV;case"left":case"right":return a?k$e:S$e;default:return[]}}(jm(t),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),e&&(i=i.concat(i.map(c_)))),i}function Gx(t){return t.replace(/left|right|bottom|top/g,e=>b$e[e])}function j$e(t){return typeof t!="number"?function(e){return nt({top:0,right:0,bottom:0,left:0},e)}(t):{top:t,right:t,bottom:t,left:t}}function U2(t){var{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function VV(t,e,n){var r,{reference:o,floating:i}=t,s=rh(e),a=qX(e),l=FX(a),c=jm(e),u=s==="y",d=o.x+o.width/2-i.width/2,f=o.y+o.height/2-i.height/2,h=o[l]/2-i[l]/2;switch(c){case"top":r={x:d,y:o.y-i.height};break;case"bottom":r={x:d,y:o.y+o.height};break;case"right":r={x:o.x+o.width,y:f};break;case"left":r={x:o.x-i.width,y:f};break;default:r={x:o.x,y:o.y}}switch(bA(e)){case"start":r[a]-=h*(n&&u?-1:1);break;case"end":r[a]+=h*(n&&u?-1:1)}return r}var A$e=function(){var t=Xt(function*(e,n,r){for(var{placement:o="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,l=s.filter(Boolean),c=yield a.isRTL==null?void 0:a.isRTL(n),u=yield a.getElementRects({reference:e,floating:n,strategy:i}),{x:d,y:f}=VV(u,o,c),h=o,m={},g=0,v=0;v<l.length;v++){var{name:y,fn:b}=l[v],{x,y:k,data:w,reset:S}=yield b({x:d,y:f,initialPlacement:o,placement:h,strategy:i,middlewareData:m,rects:u,platform:a,elements:{reference:e,floating:n}});d=x??d,f=k??f,m=nt(nt({},m),{},{[y]:nt(nt({},m[y]),w)}),S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?yield a.getElementRects({reference:e,floating:n,strategy:i}):S.rects),{x:d,y:f}=VV(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}});return function(e,n,r){return t.apply(this,arguments)}}();function UX(t,e){return u_.apply(this,arguments)}function u_(){return u_=Xt(function*(t,e){var n;e===void 0&&(e={});var{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=yA(e,t),m=j$e(h),g=a[f?d==="floating"?"reference":"floating":d],v=U2(yield i.getClippingRect({element:(n=yield i.isElement==null?void 0:i.isElement(g))==null||n?g:g.contextElement||(yield i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,b=yield i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating),x=(yield i.isElement==null?void 0:i.isElement(b))&&(yield i.getScale==null?void 0:i.getScale(b))||{x:1,y:1},k=U2(i.convertOffsetParentRelativeRectToViewportRelativeRect?yield i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(v.top-k.top+m.top)/x.y,bottom:(k.bottom-v.bottom+m.bottom)/x.y,left:(v.left-k.left+m.left)/x.x,right:(k.right-v.right+m.right)/x.x}}),u_.apply(this,arguments)}var M$e=new Set(["left","top"]);function d_(){return d_=Xt(function*(t,e){var{placement:n,platform:r,elements:o}=t,i=yield r.isRTL==null?void 0:r.isRTL(o.floating),s=jm(n),a=bA(n),l=rh(n)==="y",c=M$e.has(s)?-1:1,u=i&&l?-1:1,d=yA(e,t),{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(h=a==="end"?-1*m:m),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}),d_.apply(this,arguments)}function wA(){return typeof window<"u"}function Xv(t){return WX(t)?(t.nodeName||"").toLowerCase():"#document"}function sl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ou(t){var e;return(e=(WX(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function WX(t){return!!wA()&&(t instanceof Node||t instanceof sl(t).Node)}function Sc(t){return!!wA()&&(t instanceof Element||t instanceof sl(t).Element)}function Iu(t){return!!wA()&&(t instanceof HTMLElement||t instanceof sl(t).HTMLElement)}function BV(t){return!(!wA()||typeof ShadowRoot>"u")&&(t instanceof ShadowRoot||t instanceof sl(t).ShadowRoot)}var T$e=new Set(["inline","contents"]);function pb(t){var{overflow:e,overflowX:n,overflowY:r,display:o}=Cc(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!T$e.has(o)}var O$e=new Set(["table","td","th"]);function $$e(t){return O$e.has(Xv(t))}var E$e=[":popover-open",":modal"];function W2(t){return E$e.some(e=>{try{return t.matches(e)}catch{return!1}})}var _$e=["transform","translate","scale","rotate","perspective"],P$e=["transform","translate","scale","rotate","perspective","filter"],I$e=["paint","layout","strict","content"];function f_(t){var e=UI(),n=Sc(t)?Cc(t):t;return _$e.some(r=>!!n[r]&&n[r]!=="none")||!!n.containerType&&n.containerType!=="normal"||!e&&!!n.backdropFilter&&n.backdropFilter!=="none"||!e&&!!n.filter&&n.filter!=="none"||P$e.some(r=>(n.willChange||"").includes(r))||I$e.some(r=>(n.contain||"").includes(r))}function UI(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}var R$e=new Set(["html","body","#document"]);function hv(t){return R$e.has(Xv(t))}function Cc(t){return sl(t).getComputedStyle(t)}function xA(t){return Sc(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function oh(t){if(Xv(t)==="html")return t;var e=t.assignedSlot||t.parentNode||BV(t)&&t.host||Ou(t);return BV(e)?e.host:e}function KX(t){var e=oh(t);return hv(e)?t.ownerDocument?t.ownerDocument.body:t.body:Iu(e)&&pb(e)?e:KX(e)}function mb(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);var o=KX(t),i=o===((r=t.ownerDocument)==null?void 0:r.body),s=sl(o);if(i){var a=h_(s);return e.concat(s,s.visualViewport||[],pb(o)?o:[],a&&n?mb(a):[])}return e.concat(o,mb(o,[],n))}function h_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function JX(t){var e=Cc(t),n=parseFloat(e.width)||0,r=parseFloat(e.height)||0,o=Iu(t),i=o?t.offsetWidth:n,s=o?t.offsetHeight:r,a=q2(n)!==i||q2(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function WI(t){return Sc(t)?t:t.contextElement}function pv(t){var e=WI(t);if(!Iu(e))return Tu(1);var n=e.getBoundingClientRect(),{width:r,height:o,$:i}=JX(e),s=(i?q2(n.width):n.width)/r,a=(i?q2(n.height):n.height)/o;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}var N$e=Tu(0);function GX(t){var e=sl(t);return UI()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:N$e}function Am(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);var o=t.getBoundingClientRect(),i=WI(t),s=Tu(1);e&&(r?Sc(r)&&(s=pv(r)):s=pv(t));var a=function(w,S,C){return S===void 0&&(S=!1),!(!C||S&&C!==sl(w))&&S}(i,n,r)?GX(i):Tu(0),l=(o.left+a.x)/s.x,c=(o.top+a.y)/s.y,u=o.width/s.x,d=o.height/s.y;if(i)for(var f=sl(i),h=r&&Sc(r)?sl(r):r,m=f,g=h_(m);g&&r&&h!==m;){var v=pv(g),y=g.getBoundingClientRect(),b=Cc(g),x=y.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,k=y.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=x,c+=k,g=h_(m=sl(g))}return U2({width:u,height:d,x:l,y:c})}function K2(t,e){var n=xA(t).scrollLeft;return e?e.left+n:Am(Ou(t)).left+n}function YX(t,e){var n=t.getBoundingClientRect();return{x:n.left+e.scrollLeft-K2(t,n),y:n.top+e.scrollTop}}var L$e=new Set(["absolute","fixed"]);function zV(t,e,n){var r;if(e==="viewport")r=function(i,s){var a=sl(i),l=Ou(i),c=a.visualViewport,u=l.clientWidth,d=l.clientHeight,f=0,h=0;if(c){u=c.width,d=c.height;var m=UI();(!m||m&&s==="fixed")&&(f=c.offsetLeft,h=c.offsetTop)}var g=K2(l);if(g<=0){var v=l.ownerDocument,y=v.body,b=getComputedStyle(y),x=v.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,k=Math.abs(l.clientWidth-y.clientWidth-x);k<=25&&(u-=k)}else g<=25&&(u+=g);return{width:u,height:d,x:f,y:h}}(t,n);else if(e==="document")r=function(i){var s=Ou(i),a=xA(i),l=i.ownerDocument.body,c=Gp(s.scrollWidth,s.clientWidth,l.scrollWidth,l.clientWidth),u=Gp(s.scrollHeight,s.clientHeight,l.scrollHeight,l.clientHeight),d=-a.scrollLeft+K2(i),f=-a.scrollTop;return Cc(l).direction==="rtl"&&(d+=Gp(s.clientWidth,l.clientWidth)-c),{width:c,height:u,x:d,y:f}}(Ou(t));else if(Sc(e))r=function(i,s){var a=Am(i,!0,s==="fixed"),l=a.top+i.clientTop,c=a.left+i.clientLeft,u=Iu(i)?pv(i):Tu(1);return{width:i.clientWidth*u.x,height:i.clientHeight*u.y,x:c*u.x,y:l*u.y}}(e,n);else{var o=GX(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return U2(r)}function XX(t,e){var n=oh(t);return!(n===e||!Sc(n)||hv(n))&&(Cc(n).position==="fixed"||XX(n,e))}function D$e(t,e,n){var r=Iu(e),o=Ou(e),i=n==="fixed",s=Am(t,!0,i,e),a={scrollLeft:0,scrollTop:0},l=Tu(0);function c(){l.x=K2(o)}if(r||!r&&!i)if((Xv(e)!=="body"||pb(o))&&(a=xA(e)),r){var u=Am(e,!0,i,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else o&&c();i&&!r&&o&&c();var d=!o||r||i?Tu(0):YX(o,a);return{x:s.left+a.scrollLeft-l.x-d.x,y:s.top+a.scrollTop-l.y-d.y,width:s.width,height:s.height}}function FT(t){return Cc(t).position==="static"}function HV(t,e){if(!Iu(t)||Cc(t).position==="fixed")return null;if(e)return e(t);var n=t.offsetParent;return Ou(t)===n&&(n=n.ownerDocument.body),n}function FV(t,e){var n=sl(t);if(W2(t))return n;if(!Iu(t)){for(var r=oh(t);r&&!hv(r);){if(Sc(r)&&!FT(r))return r;r=oh(r)}return n}for(var o=HV(t,e);o&&$$e(o)&&FT(o);)o=HV(o,e);return o&&hv(o)&&FT(o)&&!f_(o)?n:o||function(i){for(var s=oh(i);Iu(s)&&!hv(s);){if(f_(s))return s;if(W2(s))return null;s=oh(s)}return null}(t)||n}var V$e={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){var{elements:e,rect:n,offsetParent:r,strategy:o}=t,i=o==="fixed",s=Ou(r),a=!!e&&W2(e.floating);if(r===s||a&&i)return n;var l={scrollLeft:0,scrollTop:0},c=Tu(1),u=Tu(0),d=Iu(r);if((d||!d&&!i)&&((Xv(r)!=="body"||pb(s))&&(l=xA(r)),Iu(r))){var f=Am(r);c=pv(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}var h=!s||d||i?Tu(0):YX(s,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:Ou,getClippingRect:function(t){var{element:e,boundary:n,rootBoundary:r,strategy:o}=t,i=n==="clippingAncestors"?W2(e)?[]:function(c,u){var d=u.get(c);if(d)return d;for(var f=mb(c,[],!1).filter(b=>Sc(b)&&Xv(b)!=="body"),h=null,m=Cc(c).position==="fixed",g=m?oh(c):c;Sc(g)&&!hv(g);){var v=Cc(g),y=f_(g);y||v.position!=="fixed"||(h=null),(m?!y&&!h:!y&&v.position==="static"&&h&&L$e.has(h.position)||pb(g)&&!y&&XX(c,g))?f=f.filter(b=>b!==g):h=v,g=oh(g)}return u.set(c,f),f}(e,this._c):[].concat(n),s=[...i,r],a=s[0],l=s.reduce((c,u)=>{var d=zV(e,u,o);return c.top=Gp(d.top,c.top),c.right=F2(d.right,c.right),c.bottom=F2(d.bottom,c.bottom),c.left=Gp(d.left,c.left),c},zV(e,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:FV,getElementRects:function(){var t=Xt(function*(e){var n=this.getOffsetParent||FV,r=this.getDimensions,o=yield r(e.floating);return{reference:D$e(e.reference,yield n(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}});return function(e){return t.apply(this,arguments)}}(),getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){var{width:e,height:n}=JX(t);return{width:e,height:n}},getScale:pv,isElement:Sc,isRTL:function(t){return Cc(t).direction==="rtl"}};function qV(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function B$e(t,e,n,r){r===void 0&&(r={});var{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=WI(t),u=o||i?[...c?mb(c):[],...mb(e)]:[];u.forEach(v=>{o&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});var d,f=c&&a?function(v,y){var b,x=null,k=Ou(v);function w(){var S;clearTimeout(b),(S=x)==null||S.disconnect(),x=null}return function S(C,j){C===void 0&&(C=!1),j===void 0&&(j=1),w();var A=v.getBoundingClientRect(),{left:_,top:R,width:T,height:z}=A;if(C||y(),T&&z){var U={rootMargin:-Jx(R)+"px "+-Jx(k.clientWidth-(_+T))+"px "+-Jx(k.clientHeight-(R+z))+"px "+-Jx(_)+"px",threshold:Gp(0,F2(1,j))||1},G=!0;try{x=new IntersectionObserver(ce,nt(nt({},U),{},{root:k.ownerDocument}))}catch{x=new IntersectionObserver(ce,U)}x.observe(v)}function ce(ie){var Z=ie[0].intersectionRatio;if(Z!==j){if(!G)return S();Z?S(!1,Z):b=setTimeout(()=>{S(!1,1e-7)},1e3)}Z!==1||qV(A,v.getBoundingClientRect())||S(),G=!1}}(!0),w}(c,n):null,h=-1,m=null;s&&(m=new ResizeObserver(v=>{var[y]=v;y&&y.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));var g=l?Am(t):null;return l&&function v(){var y=Am(t);g&&!qV(g,y)&&n(),g=y,d=requestAnimationFrame(v)}(),n(),()=>{var v;u.forEach(y=>{o&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(v=m)==null||v.disconnect(),m=null,l&&cancelAnimationFrame(d)}}var z$e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,fn:e=>Xt(function*(){var n,r,{x:o,y:i,placement:s,middlewareData:a}=e,l=yield function(c,u){return d_.apply(this,arguments)}(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:nt(nt({},l),{},{placement:s})}})()}},H$e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,fn:e=>Xt(function*(){var{x:n,y:r,placement:o}=e,i=yA(t,e),{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:x=>{var{x:k,y:w}=x;return{x:k,y:w}}}}=i,c=gY(i,jTe),u={x:n,y:r},d=yield UX(e,c),f=rh(jm(o)),h=HX(f),m=u[h],g=u[f];if(s){var v=h==="y"?"bottom":"right";m=NV(m+d[h==="y"?"top":"left"],m,m-d[v])}if(a){var y=f==="y"?"bottom":"right";g=NV(g+d[f==="y"?"top":"left"],g,g-d[y])}var b=l.fn(nt(nt({},e),{},{[h]:m,[f]:g}));return nt(nt({},b),{},{data:{x:b.x-n,y:b.y-r,enabled:{[h]:s,[f]:a}}})})()}},F$e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,fn:e=>Xt(function*(){var n,r,{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:c}=e,u=yA(t,e),{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0}=u,y=gY(u,CTe);if((n=i.arrow)!=null&&n.alignmentOffset)return{};var b=jm(o),x=rh(a),k=jm(a)===a,w=yield l.isRTL==null?void 0:l.isRTL(c.floating),S=h||(k||!v?[Gx(a)]:function(B){var H=Gx(B);return[c_(B),H,c_(H)]}(a)),C=g!=="none";!h&&C&&S.push(...C$e(a,v,g,w));var j=[a,...S],A=yield UX(e,y),_=[],R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&_.push(A[b]),f){var T=function(B,H,K){K===void 0&&(K=!1);var P=bA(B),M=qX(B),N=FX(M),he=M==="x"?P===(K?"end":"start")?"right":"left":P==="start"?"bottom":"top";return H.reference[N]>H.floating[N]&&(he=Gx(he)),[he,Gx(he)]}(o,s,w);_.push(A[T[0]],A[T[1]])}if(R=[...R,{placement:o,overflows:_}],!_.every(B=>B<=0)){var z,U,G=(((z=i.flip)==null?void 0:z.index)||0)+1,ce=j[G];if(ce&&(!(f==="alignment"&&x!==rh(ce))||R.every(B=>rh(B.placement)!==x||B.overflows[0]>0)))return{data:{index:G,overflows:R},reset:{placement:ce}};var ie=(U=R.filter(B=>B.overflows[0]<=0).sort((B,H)=>B.overflows[1]-H.overflows[1])[0])==null?void 0:U.placement;if(!ie)switch(m){case"bestFit":var Z,W=(Z=R.filter(B=>{if(C){var H=rh(B.placement);return H===x||H==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(H=>H>0).reduce((H,K)=>H+K,0)]).sort((B,H)=>B[1]-H[1])[0])==null?void 0:Z[0];W&&(ie=W);break;case"initialPlacement":ie=a}if(o!==ie)return{reset:{placement:ie}}}return{}})()}};function q$e(t){var e,n,r={autoUpdate:!0},o=t,i=l=>nt(nt(nt({},r),t||{}),l||{}),s=l=>{e&&n&&(o=i(l),((c,u,d)=>{var f=new Map,h=nt({platform:V$e},d),m=nt(nt({},h.platform),{},{_c:f});return A$e(c,u,nt(nt({},h),{},{platform:m}))})(e,n,o).then(c=>{var u;Object.assign(n.style,{position:c.strategy,left:"".concat(c.x,"px"),top:"".concat(c.y,"px")}),!((u=o)===null||u===void 0)&&u.onComputed&&o.onComputed(c)}))},a=l=>{Ul(l.subscribe(c=>{e===void 0?(e=c,s()):(Object.assign(e,c),s())}))};return[l=>{if("subscribe"in l)return a(l),{};e=l,s()},(l,c)=>{var u;n=l,o=i(c),setTimeout(()=>s(c),0),s(c);var d=()=>{u&&(u(),u=void 0)},f=function(){var{autoUpdate:h}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o||{};d(),h!==!1&&XY().then(()=>B$e(e,n,()=>s(o),h===!0?{}:h))};return u=f(),{update(h){s(h),u=f(h)},destroy(){d()}}},s]}function U$e(t){var{loadOptions:e,filterText:n,items:r,multiple:o,value:i,itemId:s,groupBy:a,filterSelectedItems:l,itemFilter:c,convertStringItemsToObjects:u,filterGroupedItems:d,label:f}=t;if(r&&e)return r;if(!r)return[];r&&r.length>0&&typeof r[0]!="object"&&(r=u(r));var h=r.filter(m=>{var g=c(m[f],n,m);return g&&o&&i!=null&&i.length&&(g=!i.some(v=>!!l&&v[s]===m[s])),g});return a&&(h=d(h)),h}function W$e(t){return QX.apply(this,arguments)}function QX(){return(QX=Xt(function*(t){var{dispatch:e,loadOptions:n,convertStringItemsToObjects:r,filterText:o}=t,i=yield n(o).catch(s=>{console.warn("svelte-select loadOptions error :>> ",s),e("error",{type:"loadOptions",details:s})});if(i&&!i.cancelled)return i?(i&&i.length>0&&typeof i[0]!="object"&&(i=r(i)),e("loaded",{items:i})):i=[],{filteredItems:i,loading:!1,focused:!0,listOpen:!0}})).apply(this,arguments)}cn(`
  svg.svelte-1kxu7be {
      width: var(--chevron-icon-width, 20px);
      height: var(--chevron-icon-width, 20px);
      color: var(--chevron-icon-colour, currentColor);
  }
`);var K$e=Yh(`<svg width="100%" height="100%" viewBox="0 0 20 20" focusable="false" aria-hidden="true" class="svelte-1kxu7be"><path fill="currentColor" d="M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"></path></svg>`);cn(`
    svg.svelte-1hraxrc {
        width: var(--clear-icon-width, 20px);
        height: var(--clear-icon-width, 20px);
        color: var(--clear-icon-color, currentColor);
    }
`);var J$e=Yh(`<svg width="100%" height="100%" viewBox="-2 -2 50 50" focusable="false" aria-hidden="true" role="presentation" class="svelte-1hraxrc"><path fill="currentColor" d="M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"></path></svg>`);function qT(t){oe(t,J$e())}cn(`
    .loading.svelte-y9fi5p {
        width: var(--spinner-width, 20px);
        height: var(--spinner-height, 20px);
        color: var(--spinner-color, var(--icons-color));
        animation: svelte-y9fi5p-rotate 0.75s linear infinite;
        transform-origin: center center;
        transform: none;
    }

    .circle_path.svelte-y9fi5p {
        stroke-dasharray: 90;
        stroke-linecap: round;
    }

    @keyframes svelte-y9fi5p-rotate {
        100% {
            transform: rotate(360deg);
        }
    }
`);var G$e=Yh('<svg class="loading svelte-y9fi5p" viewBox="25 25 50 50"><circle class="circle_path svelte-y9fi5p" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg>');cn(`
    .svelte-select.svelte-1ul7oo4 {
        /* deprecating camelCase custom props in favour of kebab-case for v5 */
        --borderRadius: var(--border-radius);
        --clearSelectColor: var(--clear-select-color);
        --clearSelectWidth: var(--clear-select-width);
        --disabledBackground: var(--disabled-background);
        --disabledBorderColor: var(--disabled-border-color);
        --disabledColor: var(--disabled-color);
        --disabledPlaceholderColor: var(--disabled-placeholder-color);
        --disabledPlaceholderOpacity: var(--disabled-placeholder-opacity);
        --errorBackground: var(--error-background);
        --errorBorder: var(--error-border);
        --groupItemPaddingLeft: var(--group-item-padding-left);
        --groupTitleColor: var(--group-title-color);
        --groupTitleFontSize: var(--group-title-font-size);
        --groupTitleFontWeight: var(--group-title-font-weight);
        --groupTitlePadding: var(--group-title-padding);
        --groupTitleTextTransform: var(--group-title-text-transform);
        --groupTitleBorderColor: var(--group-title-border-color);
        --groupTitleBorderWidth: var(--group-title-border-width);
        --groupTitleBorderStyle: var(--group-title-border-style);
        --indicatorColor: var(--chevron-color);
        --indicatorHeight: var(--chevron-height);
        --indicatorWidth: var(--chevron-width);
        --inputColor: var(--input-color);
        --inputLeft: var(--input-left);
        --inputLetterSpacing: var(--input-letter-spacing);
        --inputMargin: var(--input-margin);
        --inputPadding: var(--input-padding);
        --itemActiveBackground: var(--item-active-background);
        --itemColor: var(--item-color);
        --itemFirstBorderRadius: var(--item-first-border-radius);
        --itemHoverBG: var(--item-hover-bg);
        --itemHoverColor: var(--item-hover-color);
        --itemIsActiveBG: var(--item-is-active-bg);
        --itemIsActiveColor: var(--item-is-active-color);
        --itemIsNotSelectableColor: var(--item-is-not-selectable-color);
        --itemPadding: var(--item-padding);
        --listBackground: var(--list-background);
        --listBorder: var(--list-border);
        --listBorderRadius: var(--list-border-radius);
        --listEmptyColor: var(--list-empty-color);
        --listEmptyPadding: var(--list-empty-padding);
        --listEmptyTextAlign: var(--list-empty-text-align);
        --listMaxHeight: var(--list-max-height);
        --listPosition: var(--list-position);
        --listShadow: var(--list-shadow);
        --listZIndex: var(--list-z-index);
        --multiItemBG: var(--multi-item-bg);
        --multiItemBorderRadius: var(--multi-item-border-radius);
        --multiItemDisabledHoverBg: var(--multi-item-disabled-hover-bg);
        --multiItemDisabledHoverColor: var(--multi-item-disabled-hover-color);
        --multiItemHeight: var(--multi-item-height);
        --multiItemMargin: var(--multi-item-margin);
        --multiItemPadding: var(--multi-item-padding);
        --multiSelectInputMargin: var(--multi-select-input-margin);
        --multiSelectInputPadding: var(--multi-select-input-padding);
        --multiSelectPadding: var(--multi-select-padding);
        --placeholderColor: var(--placeholder-color);
        --placeholderOpacity: var(--placeholder-opacity);
        --selectedItemPadding: var(--selected-item-padding);
        --spinnerColor: var(--spinner-color);
        --spinnerHeight: var(--spinner-height);
        --spinnerWidth: var(--spinner-width);

        --internal-padding: 0 0 0 16px;

        border: var(--border, 1px solid #d8dbdf);
        border-radius: var(--border-radius, 6px);
        min-height: var(--height, 42px);
        position: relative;
        display: flex;
        align-items: stretch;
        padding: var(--padding, var(--internal-padding));
        background: var(--background, #fff);
        margin: var(--margin, 0);
        width: var(--width, 100%);
        font-size: var(--font-size, 16px);
        max-height: var(--max-height);
    }

    .svelte-1ul7oo4 {
        box-sizing: var(--box-sizing, border-box);
    }

    .svelte-select.svelte-1ul7oo4:hover {
        border: var(--border-hover, 1px solid #b2b8bf);
    }

    .value-container.svelte-1ul7oo4 {
        display: flex;
        flex: 1 1 0%;
        flex-wrap: wrap;
        align-items: center;
        gap: 5px 10px;
        padding: var(--value-container-padding, 5px 0);
        position: relative;
        overflow: var(--value-container-overflow, hidden);
        align-self: stretch;
    }

    .prepend.svelte-1ul7oo4,
    .indicators.svelte-1ul7oo4 {
        display: flex;
        flex-shrink: 0;
        align-items: center;
    }

    .indicators.svelte-1ul7oo4 {
        position: var(--indicators-position);
        top: var(--indicators-top);
        right: var(--indicators-right);
        bottom: var(--indicators-bottom);
    }

    input.svelte-1ul7oo4 {
        position: absolute;
        cursor: default;
        border: none;
        color: var(--input-color, var(--item-color));
        padding: var(--input-padding, 0);
        letter-spacing: var(--input-letter-spacing, inherit);
        margin: var(--input-margin, 0);
        min-width: 10px;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background: transparent;
        font-size: var(--font-size, 16px);
    }

    .svelte-1ul7oo4:not(.multi) > .value-container:where(.svelte-1ul7oo4) > input:where(.svelte-1ul7oo4) {
        width: 100%;
        height: 100%;
    }

    input.svelte-1ul7oo4::placeholder {
        color: var(--placeholder-color, #78848f);
        opacity: var(--placeholder-opacity, 1);
    }

    input.svelte-1ul7oo4:focus {
        outline: none;
    }

    .svelte-select.focused.svelte-1ul7oo4 {
        border: var(--border-focused, 1px solid #006fe8);
        border-radius: var(--border-radius-focused, var(--border-radius, 6px));
    }

    .disabled.svelte-1ul7oo4 {
        background: var(--disabled-background, #ebedef);
        border-color: var(--disabled-border-color, #ebedef);
        color: var(--disabled-color, #c1c6cc);
    }

    .disabled.svelte-1ul7oo4 input:where(.svelte-1ul7oo4)::placeholder {
        color: var(--disabled-placeholder-color, #c1c6cc);
        opacity: var(--disabled-placeholder-opacity, 1);
    }

    .selected-item.svelte-1ul7oo4 {
        position: relative;
        overflow: var(--selected-item-overflow, hidden);
        padding: var(--selected-item-padding, 0 20px 0 0);
        text-overflow: ellipsis;
        white-space: nowrap;
        color: var(--selected-item-color, inherit);
        font-size: var(--font-size, 16px);
    }

    .multi.svelte-1ul7oo4 .selected-item:where(.svelte-1ul7oo4) {
        position: absolute;
        line-height: var(--height, 42px);
        height: var(--height, 42px);
    }

    .selected-item.svelte-1ul7oo4:focus {
        outline: none;
    }

    .hide-selected-item.svelte-1ul7oo4 {
        opacity: 0;
    }

    .icon.svelte-1ul7oo4 {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .clear-select.svelte-1ul7oo4 {
        all: unset;
        display: flex;
        align-items: center;
        justify-content: center;
        width: var(--clear-select-width, 40px);
        height: var(--clear-select-height, 100%);
        color: var(--clear-select-color, var(--icons-color));
        margin: var(--clear-select-margin, 0);
        pointer-events: all;
        flex-shrink: 0;
    }

    .clear-select.svelte-1ul7oo4:focus {
        outline: var(--clear-select-focus-outline, 1px solid #006fe8);
    }

    .loading.svelte-1ul7oo4 {
        width: var(--loading-width, 40px);
        height: var(--loading-height);
        color: var(--loading-color, var(--icons-color));
        margin: var(--loading--margin, 0);
        flex-shrink: 0;
    }

    .chevron.svelte-1ul7oo4 {
        width: var(--chevron-width, 40px);
        height: var(--chevron-height, 40px);
        background: var(--chevron-background, transparent);
        pointer-events: var(--chevron-pointer-events, none);
        color: var(--chevron-color, var(--icons-color));
        border: var(--chevron-border, 0 0 0 1px solid #d8dbdf);
        flex-shrink: 0;
    }

    .multi.svelte-1ul7oo4 {
        padding: var(--multi-select-padding, var(--internal-padding));
    }

    .multi.svelte-1ul7oo4 input:where(.svelte-1ul7oo4) {
        padding: var(--multi-select-input-padding, 0);
        position: relative;
        margin: var(--multi-select-input-margin, 5px 0);
        flex: 1 1 40px;
    }

    .svelte-select.error.svelte-1ul7oo4 {
        border: var(--error-border, 1px solid #ff2d55);
        background: var(--error-background, #fff);
    }

    .a11y-text.svelte-1ul7oo4 {
        z-index: 9999;
        border: 0px;
        clip: rect(1px, 1px, 1px, 1px);
        height: 1px;
        width: 1px;
        position: absolute;
        overflow: hidden;
        padding: 0px;
        white-space: nowrap;
    }

    .multi-item.svelte-1ul7oo4 {
        background: var(--multi-item-bg, #ebedef);
        margin: var(--multi-item-margin, 0);
        outline: var(--multi-item-outline, 1px solid #ddd);
        border-radius: var(--multi-item-border-radius, 4px);
        height: var(--multi-item-height, 25px);
        line-height: var(--multi-item-height, 25px);
        display: flex;
        cursor: default;
        padding: var(--multi-item-padding, 0 5px);
        overflow: hidden;
        gap: var(--multi-item-gap, 4px);
        outline-offset: -1px;
        max-width: var(--multi-max-width, none);
        color: var(--multi-item-color, var(--item-color));
    }

    .multi-item.disabled.svelte-1ul7oo4:hover {
        background: var(--multi-item-disabled-hover-bg, #ebedef);
        color: var(--multi-item-disabled-hover-color, #c1c6cc);
    }

    .multi-item-text.svelte-1ul7oo4 {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .multi-item-clear.svelte-1ul7oo4 {
        display: flex;
        align-items: center;
        justify-content: center;
        --clear-icon-color: var(--multi-item-clear-icon-color, #000);
    }

    .multi-item.active.svelte-1ul7oo4 {
        outline: var(--multi-item-active-outline, 1px solid #006fe8);
    }

    .svelte-select-list.svelte-1ul7oo4 {
        box-shadow: var(--list-shadow, 0 2px 3px 0 rgba(44, 62, 80, 0.24));
        border-radius: var(--list-border-radius, 4px);
        max-height: var(--list-max-height, 252px);
        overflow-y: auto;
        background: var(--list-background, #fff);
        position: var(--list-position, absolute);
        z-index: var(--list-z-index, 2);
        border: var(--list-border);
    }

    .prefloat.svelte-1ul7oo4 {
        opacity: 0;
        pointer-events: none;
    }

    .list-group-title.svelte-1ul7oo4 {
        color: var(--group-title-color, #8f8f8f);
        cursor: default;
        font-size: var(--group-title-font-size, 16px);
        font-weight: var(--group-title-font-weight, 600);
        height: var(--height, 42px);
        line-height: var(--height, 42px);
        padding: var(--group-title-padding, 0 20px);
        text-overflow: ellipsis;
        overflow-x: hidden;
        white-space: nowrap;
        text-transform: var(--group-title-text-transform, uppercase);
        border-width: var(--group-title-border-width, medium);
        border-style: var(--group-title-border-style, none);
        border-color: var(--group-title-border-color, color);
    }

    .empty.svelte-1ul7oo4 {
        text-align: var(--list-empty-text-align, center);
        padding: var(--list-empty-padding, 20px 0);
        color: var(--list-empty-color, #78848f);
    }

    .item.svelte-1ul7oo4 {
        cursor: default;
        height: var(--item-height, var(--height, 42px));
        line-height: var(--item-line-height, var(--height, 42px));
        padding: var(--item-padding, 0 20px);
        color: var(--item-color, inherit);
        text-overflow: ellipsis;
        overflow: hidden;
        white-space: nowrap;
        transition: var(--item-transition, all 0.2s);
        align-items: center;
        width: 100%;
    }

    .item.group-item.svelte-1ul7oo4 {
        padding-left: var(--group-item-padding-left, 40px);
    }

    .item.svelte-1ul7oo4:active {
        background: var(--item-active-background, #b9daff);
    }

    .item.active.svelte-1ul7oo4 {
        background: var(--item-is-active-bg, #007aff);
        color: var(--item-is-active-color, #fff);
    }

    .item.first.svelte-1ul7oo4 {
        border-radius: var(--item-first-border-radius, 4px 4px 0 0);
    }

    .item.hover.svelte-1ul7oo4:not(.active) {
        background: var(--item-hover-bg, #e7f2ff);
        color: var(--item-hover-color, inherit);
    }

    .item.not-selectable.svelte-1ul7oo4,
    .item.hover.item.not-selectable.svelte-1ul7oo4,
    .item.active.item.not-selectable.svelte-1ul7oo4,
    .item.not-selectable.svelte-1ul7oo4:active {
        color: var(--item-is-not-selectable-color, #999);
        background: transparent;
    }

    .required.svelte-1ul7oo4 {
        opacity: 0;
        z-index: -1;
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
    }
`);var Y$e=Te('<div class="list-item svelte-1ul7oo4" tabindex="-1" role="none"><div><!></div></div>'),X$e=Te('<div class="empty svelte-1ul7oo4">No options</div>'),Q$e=Te('<div role="none"><!> <!> <!></div>'),Z$e=Te('<span id="aria-selection" class="svelte-1ul7oo4"> </span> <span id="aria-context" class="svelte-1ul7oo4"> </span>',1),eEe=Te('<div class="multi-item-clear svelte-1ul7oo4"><!></div>'),tEe=Te('<div role="none"><span class="multi-item-text svelte-1ul7oo4"><!></span> <!></div>'),nEe=Te("<div><!></div>"),rEe=Te('<div class="icon loading svelte-1ul7oo4" aria-hidden="true"><!></div>'),oEe=Te('<button type="button" class="icon clear-select svelte-1ul7oo4"><!></button>'),iEe=Te('<div class="icon chevron svelte-1ul7oo4" aria-hidden="true"><!></div>'),sEe=Te('<input type="hidden" class="svelte-1ul7oo4"/>'),aEe=Te('<select class="required svelte-1ul7oo4" required tabindex="-1" aria-hidden="true"></select>'),lEe=Te('<div role="none"><!> <span aria-live="polite" aria-atomic="false" aria-relevant="additions text" class="a11y-text svelte-1ul7oo4"><!></span> <div class="prepend svelte-1ul7oo4"><!></div> <div class="value-container svelte-1ul7oo4"><!> <input/></div> <div class="indicators svelte-1ul7oo4"><!> <!> <!></div> <!> <!></div>');function Ep(t,e){var n=function(de){var ke={};for(var qe in de.children&&(ke.default=!0),de.$$slots)ke[qe]=!0;return ke}(e);Ft(e,!1);var r,o=le(),i=le(),s=le(),a=le(),l=le(),c=le(),u=le(),d=le(),f=le(),h=ZTe(),m=$(e,"justValue",12,null),g=$(e,"filter",8,U$e),v=$(e,"getItems",8,W$e),y=$(e,"id",8,null),b=$(e,"name",8,null),x=$(e,"container",12,void 0),k=$(e,"input",12,void 0),w=$(e,"multiple",8,!1),S=$(e,"multiFullItemClearable",8,!1),C=$(e,"disabled",8,!1),j=$(e,"focused",12,!1),A=$(e,"value",12,null),_=$(e,"filterText",12,""),R=$(e,"placeholder",8,"Please select"),T=$(e,"placeholderAlwaysShow",8,!1),z=$(e,"items",12,null),U=$(e,"label",8,"label"),G=$(e,"itemFilter",8,(de,ke,qe)=>"".concat(de).toLowerCase().includes(ke.toLowerCase())),ce=$(e,"groupBy",8,void 0),ie=$(e,"groupFilter",8,de=>de),Z=$(e,"groupHeaderSelectable",8,!1),W=$(e,"itemId",8,"value"),B=$(e,"loadOptions",8,void 0),H=$(e,"containerStyles",8,""),K=$(e,"hasError",8,!1),P=$(e,"filterSelectedItems",8,!0),M=$(e,"required",8,!1),N=$(e,"closeListOnChange",8,!0),he=$(e,"clearFilterTextOnBlur",8,!0),ge=$(e,"createGroupHeaderItem",8,(de,ke)=>({value:de,[U()]:de})),te=()=>p(u),ee=$(e,"searchable",8,!0),be=$(e,"inputStyles",8,""),ne=$(e,"clearable",8,!0),D=$(e,"loading",12,!1),L=$(e,"listOpen",12,!1),re=$(e,"debounce",8,function(de){var ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;clearTimeout(r),r=setTimeout(de,ke)}),Y=$(e,"debounceWait",8,300),q=$(e,"hideEmptyState",8,!1),Ae=$(e,"inputAttributes",24,()=>({})),Ee=$(e,"listAutoWidth",8,!0),pe=$(e,"showChevron",8,!1),Pe=$(e,"listOffset",8,5),we=$(e,"hoverItemIndex",12,0),Re=$(e,"floatingConfig",24,()=>({})),Ne=$(e,"class",8,""),_e=le(),Qe=le(),I=le(),V=le(),J=le();function se(de){return de.map((ke,qe)=>({index:qe,value:ke,label:"".concat(ke)}))}function xe(de){var ke=[],qe={};de.forEach(Ot=>{var $t=ce()(Ot);ke.includes($t)||(ke.push($t),qe[$t]=[],$t&&qe[$t].push(Object.assign(ge()($t,Ot),{id:$t,groupHeader:!0,selectable:Z()}))),qe[$t].push(Object.assign({groupItem:!!$t},Ot))});var st=[];return ie()(ke).forEach(Ot=>{qe[Ot]&&st.push(...qe[Ot])}),st}function Fe(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ke=arguments.length>1?arguments[1]:void 0;we(de<0?0:de),!ke&&ce()&&p(u)[we()]&&!p(u)[we()].selectable&&kn(1)}function Je(){var de=!0;if(A()){var ke=[],qe=[];A().forEach(st=>{ke.includes(st[W()])?de=!1:(ke.push(st[W()]),qe.push(st))}),de||A(qe)}return de}function Ce(de){var ke=de?de[W()]:A()[W()];return z().find(qe=>qe[W()]===ke)}function Me(de){return kt.apply(this,arguments)}function kt(){return(kt=Xt(function*(de){var ke=A()[de];A().length===1?A(void 0):A(A().filter(qe=>qe!==ke)),h("clear",ke)})).apply(this,arguments)}function ht(de){if(j())switch(de.stopPropagation(),de.key){case"Escape":de.preventDefault(),An();break;case"Enter":if(de.preventDefault(),L()){if(p(u).length===0)break;var ke=p(u)[we()];if(A()&&!w()&&A()[W()]===ke[W()]){An();break}St(p(u)[we()])}break;case"ArrowDown":de.preventDefault(),L()?kn(1):(L(!0),O(_e,void 0));break;case"ArrowUp":de.preventDefault(),L()?kn(-1):(L(!0),O(_e,void 0));break;case"Tab":if(L()&&j()){if(p(u).length===0||A()&&A()[W()]===p(u)[we()][W()])return An();de.preventDefault(),St(p(u)[we()]),An()}break;case"Backspace":if(!w()||_().length>0)return;if(w()&&A()&&A().length>0){if(Me(p(_e)!==void 0?p(_e):A().length-1),p(_e)===0||p(_e)===void 0)break;O(_e,A().length>p(_e)?p(_e)-1:void 0)}break;case"ArrowLeft":if(!A()||!w()||_().length>0)return;p(_e)===void 0?O(_e,A().length-1):A().length>p(_e)&&p(_e)!==0&&O(_e,p(_e)-1);break;case"ArrowRight":if(!A()||!w()||_().length>0||p(_e)===void 0)return;p(_e)===A().length-1?O(_e,void 0):p(_e)<A().length-1&&O(_e,p(_e)+1)}}function dt(de){var ke,qe;j()&&k()===((ke=document)===null||ke===void 0?void 0:ke.activeElement)||(de&&h("focus",de),(qe=k())===null||qe===void 0||qe.focus(),j(!0))}function mt(de){return Sn.apply(this,arguments)}function Sn(){return(Sn=Xt(function*(de){var ke;un||(L()||j())&&(h("blur",de),An(),j(!1),O(_e,void 0),(ke=k())===null||ke===void 0||ke.blur())})).apply(this,arguments)}function Sr(){if(!C())return _().length>0?L(!0):void L(!L())}function Mr(){h("clear",A()),A(void 0),An(),dt()}function An(){he()&&_(""),L(!1)}eOe(Xt(function*(){O(Qe,A()),O(I,_()),O(V,w())})),Ls(()=>{L()&&j(!0),j()&&k()&&k().focus()});var cr=$(e,"ariaValues",8,de=>"Option ".concat(de,", selected.")),Pn=$(e,"ariaListOpen",8,(de,ke)=>"You are currently focused on option ".concat(de,". There are ").concat(ke," results available.")),Bn=$(e,"ariaFocused",8,()=>"Select is focused, type to refine list, press down to open the menu."),or,Kt=le(null);function Qn(){clearTimeout(or),or=setTimeout(()=>{un=!1},100)}Ul(()=>{var de;(de=p(Kt))===null||de===void 0||de.remove()});var un=!1;function St(de){de&&de.selectable!==!1&&function(ke){if(ke){_("");var qe=Object.assign({},ke);if(qe.groupHeader&&!qe.selectable)return;A(w()?A()?A().concat([qe]):[qe]:A(qe)),setTimeout(()=>{N()&&An(),O(_e,void 0),h("change",A()),h("select",ke)})}}(de)}function In(de){un||we(de)}function kn(de){if(p(u).filter(qe=>!Object.hasOwn(qe,"selectable")||qe.selectable===!0).length===0)return we(0);de>0&&we()===p(u).length-1?we(0):de<0&&we()===0?we(p(u).length-1):we(we()+de);var ke=p(u)[we()];ke&&ke.selectable===!1&&(de!==1&&de!==-1||kn(de))}function Tr(de,ke,qe){if(!w())return ke&&ke[qe]===de[qe]}var Yr=Ro,Fr=Ro;function Ro(de){return{update(ke){ke.scroll&&(Qn(),de.scrollIntoView({behavior:"auto",block:"nearest"}))}}}var eo=le({strategy:"absolute",placement:"bottom-start",middleware:[z$e(Pe()),F$e(),H$e()],autoUpdate:!1}),[So,Ko,fo]=q$e(p(eo)),mi=le(!0);je(()=>(E(z()),E(A())),()=>{z(),A()&&function(){if(typeof A()=="string"){var de=(z()||[]).find(ke=>ke[W()]===A());A(de||{[W()]:A(),label:A()})}else w()&&Array.isArray(A())&&A().length>0&&A(A().map(ke=>typeof ke=="string"?{value:ke,label:ke}:ke))}()}),je(()=>(E(Ae()),E(ee())),()=>{!Ae()&&ee()||(O(J,Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},Ae())),y()&&Za(J,p(J).id=y()),ee()||Za(J,p(J).readonly=!0))}),je(()=>E(w()),()=>{w()&&A()&&(Array.isArray(A())?A([...A()]):A([A()]))}),je(()=>(p(V),E(w())),()=>{p(V)&&!w()&&A()&&A(null)}),je(()=>(E(w()),E(A())),()=>{w()&&A()&&A().length>1&&Je()}),je(()=>E(A()),()=>{A()&&(w()?JSON.stringify(A())!==JSON.stringify(p(Qe))&&Je()&&h("input",A()):p(Qe)&&JSON.stringify(A()[W()])===JSON.stringify(p(Qe)[W()])||h("input",A()))}),je(()=>(E(A()),E(w()),p(Qe)),()=>{!A()&&w()&&p(Qe)&&h("input",A())}),je(()=>(E(j()),E(k())),()=>{!j()&&k()&&An()}),je(()=>(E(_()),p(I)),()=>{_()!==p(I)&&(B()||_().length!==0)&&(B()?re()(Xt(function*(){D(!0);var de=yield v()({dispatch:h,loadOptions:B(),convertStringItemsToObjects:se,filterText:_()});de?(D(de.loading),L(L()?de.listOpen:_().length>0),j(L()&&de.focused),z(ce()?xe(de.filteredItems):de.filteredItems)):(D(!1),j(!0),L(!0))}),Y()):(L(!0),w()&&O(_e,void 0)))}),je(()=>(E(g()),E(B()),E(_()),E(z()),E(w()),E(A()),E(W()),E(ce()),E(U()),E(P()),E(G())),()=>{O(u,g()({loadOptions:B(),filterText:_(),items:z(),multiple:w(),value:A(),itemId:W(),groupBy:ce(),label:U(),filterSelectedItems:P(),itemFilter:G(),convertStringItemsToObjects:se,filterGroupedItems:xe}))}),je(()=>(E(w()),E(L()),E(A()),p(u)),()=>{!w()&&L()&&A()&&p(u)&&Fe(p(u).findIndex(de=>de[W()]===A()[W()]),!0)}),je(()=>(E(L()),E(w())),()=>{L()&&w()&&we(0)}),je(()=>E(_()),()=>{_()&&we(0)}),je(()=>E(we()),()=>{var de;de=we(),h("hoverItem",de)}),je(()=>(E(w()),E(A())),()=>{O(o,w()?A()&&A().length>0:A())}),je(()=>(p(o),E(_())),()=>{O(i,p(o)&&_().length>0)}),je(()=>(p(o),E(ne()),E(C()),E(D())),()=>{O(s,p(o)&&ne()&&!C()&&!D())}),je(()=>(E(T()),E(w()),E(R()),E(A())),()=>{var de;O(a,T()&&w()||w()&&((de=A())===null||de===void 0?void 0:de.length)===0?R():A()?"":R())}),je(()=>(E(A()),E(w())),()=>{var de,ke;O(l,A()?(de=w(),ke=void 0,ke=de&&A().length>0?A().map(qe=>qe[U()]).join(", "):A()[U()],cr()(ke)):"")}),je(()=>(p(u),E(we()),E(j()),E(L())),()=>{O(c,function(){if(!p(u)||p(u).length===0)return"";var de=p(u)[we()];if(L()&&de){var ke=p(u)?p(u).length:0;return Pn()(de[U()],ke)}return Bn()()}((p(u),we(),j(),L())))}),je(()=>E(z()),()=>{(function(de){de&&de.length!==0&&!de.some(ke=>typeof ke!="object")&&A()&&(w()?!A().some(ke=>!ke||!ke[W()]):A()[W()])&&(Array.isArray(A())?A(A().map(ke=>Ce(ke)||ke)):A(Ce()||A()))})(z())}),je(()=>(E(w()),E(A()),E(W())),()=>{m((w(),A(),W(),w()?A()?A().map(de=>de[W()]):null:A()?A()[W()]:A()))}),je(()=>(E(w()),p(Qe),E(A())),()=>{w()||!p(Qe)||A()||h("input",A())}),je(()=>(E(L()),p(u),E(w()),E(A())),()=>{L()&&p(u)&&!w()&&!A()&&Fe()}),je(()=>p(u),()=>{(function(de){L()&&h("filter",de)})(p(u))}),je(()=>(E(x()),E(Re()),p(eo)),()=>{x()&&Re()&&fo(Object.assign(p(eo),Re()))}),je(()=>p(Kt),()=>{O(d,!!p(Kt))}),je(()=>(p(Kt),E(L())),()=>{(function(de,ke){if(!de||!ke)return O(mi,!0);setTimeout(()=>{O(mi,!1)},0)})(p(Kt),L())}),je(()=>(E(L()),E(x()),p(Kt)),()=>{L()&&x()&&p(Kt)&&function(){var{width:de}=x().getBoundingClientRect();Za(Kt,p(Kt).style.width=Ee()?de+"px":"auto")}()}),je(()=>E(we()),()=>{O(f,we())}),je(()=>(E(k()),E(L()),E(j())),()=>{k()&&L()&&!j()&&dt()}),je(()=>(E(x()),E(Re())),()=>{var de;x()&&((de=Re())===null||de===void 0?void 0:de.autoUpdate)===void 0&&Za(eo,p(eo).autoUpdate=!0)}),xr();var Jo={getFilteredItems:te,handleClear:Mr};gn();var oi,ho=lEe();Xe("click",Ed,function(de){var ke;L()||j()||!x()||x().contains(de.target)||(ke=p(Kt))!==null&&ke!==void 0&&ke.contains(de.target)||mt()}),Xe("keydown",Ed,ht);var Ue=ae(ho),Cn=de=>{var ke,qe=Q$e(),st=ae(qe),Ot=pn=>{var qn=En();Bo(Ct(qn),e,"list-prepend",{},null),oe(pn,qn)};$e(st,pn=>{fe(()=>n["list-prepend"])&&pn(Ot)});var $t=ye(st,2),Ht=pn=>{var qn=En();Bo(Ct(qn),e,"list",{get filteredItems(){return p(u)}},null),oe(pn,qn)},Lr=pn=>{var qn=En(),Ti=Ct(qn),tn=zn=>{var ur=En();Wo(Ct(ur),1,()=>p(u),ui,(Xr,$r,sn)=>{var gi,Yo=Y$e(),Oi=ae(Yo);Bo(ae(Oi),e,"item",{get item(){return p($r)},index:sn},Cr=>{var Er=rs();rt(()=>Ut(Er,(p($r),E(U()),fe(()=>{var si;return(si=p($r))===null||si===void 0?void 0:si[U()]})))),oe(Cr,Er)}),Gs(Oi,(Cr,Er)=>Yr==null?void 0:Yr(Cr),()=>({scroll:Tr(p($r),A(),W()),listDom:p(d)})),Gs(Oi,(Cr,Er)=>Fr==null?void 0:Fr(Cr),()=>({scroll:p(f)===sn,listDom:p(d)})),rt(Cr=>gi=mn(Oi,1,"item svelte-1ul7oo4",null,gi,Cr),[()=>{var Cr,Er;return{"list-group-title":p($r).groupHeader,active:Tr(p($r),A(),W()),first:(Er=sn,Er===0),hover:we()===sn,"group-item":p($r).groupItem,"not-selectable":((Cr=p($r))===null||Cr===void 0?void 0:Cr.selectable)===!1}}]),Xe("mouseover",Yo,()=>In(sn)),Xe("focus",Yo,()=>In(sn)),Xe("click",Yo,ud(()=>function(Cr){var{item:Er,i:si}=Cr;if((Er==null?void 0:Er.selectable)!==!1)return A()&&!w()&&A()[W()]===Er[W()]?An():void(function(Q){return Q.groupHeader&&Q.selectable||Q.selectable||!Q.hasOwnProperty("selectable")}(Er)&&(we(si),St(Er)))}({item:p($r),i:sn}))),Xe("keydown",Yo,Tf(ud(function(Cr){k1.call(this,e,Cr)}))),oe(Xr,Yo)}),oe(zn,ur)},pr=zn=>{var ur=En(),Xr=Ct(ur),$r=sn=>{var gi=En();Bo(Ct(gi),e,"empty",{},Yo=>{oe(Yo,X$e())}),oe(sn,gi)};$e(Xr,sn=>{q()||sn($r)},!0),oe(zn,ur)};$e(Ti,zn=>{p(u),fe(()=>p(u).length>0)?zn(tn):zn(pr,!1)},!0),oe(pn,qn)};$e($t,pn=>{fe(()=>n.list)?pn(Ht):pn(Lr,!1)});var Dn=ye($t,2),Zn=pn=>{var qn=En();Bo(Ct(qn),e,"list-append",{},null),oe(pn,qn)};$e(Dn,pn=>{fe(()=>n["list-append"])&&pn(Zn)}),Gs(qe,pn=>Ko==null?void 0:Ko(pn)),uo(qe,pn=>O(Kt,pn),()=>p(Kt)),ps(()=>Xe("scroll",qe,Qn)),ps(()=>Xe("pointerup",qe,Tf(ud(function(pn){k1.call(this,e,pn)})))),ps(()=>Xe("mousedown",qe,Tf(ud(function(pn){k1.call(this,e,pn)})))),rt(pn=>ke=mn(qe,1,"svelte-select-list svelte-1ul7oo4",null,ke,pn),[()=>({prefloat:p(mi)})]),oe(de,qe)};$e(Ue,de=>{L()&&de(Cn)});var yr=ye(Ue,2),Nr=ae(yr),No=de=>{var ke=Z$e(),qe=Ct(ke),st=ae(qe),Ot=ae(ye(qe,2));rt(()=>{Ut(st,p(l)),Ut(Ot,p(c))}),oe(de,ke)};$e(Nr,de=>{j()&&de(No)});var Mi=ye(yr,2);Bo(ae(Mi),e,"prepend",{},null);var Ln=ye(Mi,2),ii=ae(Ln),is=de=>{var ke=En(),qe=Ct(ke),st=$t=>{var Ht=En();Wo(Ct(Ht),1,A,ui,(Lr,Dn,Zn)=>{var pn,qn=tEe(),Ti=ae(qn);Bo(ae(Ti),e,"selection",{get selection(){return p(Dn)},index:Zn},zn=>{var ur=rs();rt(()=>Ut(ur,(p(Dn),E(U()),fe(()=>p(Dn)[U()])))),oe(zn,ur)});var tn=ye(Ti,2),pr=zn=>{var ur=eEe();Bo(ae(ur),e,"multi-clear-icon",{},Xr=>{qT(Xr)}),Xe("pointerup",ur,Tf(ud(()=>Me(Zn)))),oe(zn,ur)};$e(tn,zn=>{C()||S()||!qT||zn(pr)}),rt(zn=>pn=mn(qn,1,"multi-item svelte-1ul7oo4",null,pn,zn),[()=>({active:p(_e)===Zn,disabled:C()})]),Xe("click",qn,Tf(()=>S()?Me(Zn):{})),Xe("keydown",qn,Tf(ud(function(zn){k1.call(this,e,zn)}))),oe(Lr,qn)}),oe($t,Ht)},Ot=$t=>{var Ht,Lr=nEe();Bo(ae(Lr),e,"selection",{get selection(){return A()}},Dn=>{var Zn=rs();rt(()=>Ut(Zn,(E(A()),E(U()),fe(()=>A()[U()])))),oe(Dn,Zn)}),rt(Dn=>Ht=mn(Lr,1,"selected-item svelte-1ul7oo4",null,Ht,Dn),[()=>({"hide-selected-item":p(i)})]),oe($t,Lr)};$e(qe,$t=>{w()?$t(st):$t(Ot,!1)}),oe(de,ke)};$e(ii,de=>{p(o)&&de(is)});var po=ye(ii,2);tS(po,()=>nt(nt({readOnly:!ee()},p(J)),{},{placeholder:p(a),style:be(),disabled:C()}),void 0,void 0,"svelte-1ul7oo4",!0),uo(po,de=>k(de),()=>k());var Qi=ye(Ln,2),Or=ae(Qi),Fn=de=>{var ke=rEe();Bo(ae(ke),e,"loading-icon",{},qe=>{(function(st){oe(st,G$e())})(qe)}),oe(de,ke)};$e(Or,de=>{D()&&de(Fn)});var wn=ye(Or,2),Pr=de=>{var ke=oEe();Bo(ae(ke),e,"clear-icon",{},qe=>{qT(qe)}),Xe("click",ke,Mr),oe(de,ke)};$e(wn,de=>{p(s)&&de(Pr)});var Go=ye(wn,2),Co=de=>{var ke=iEe();Bo(ae(ke),e,"chevron-icon",{get listOpen(){return L()}},qe=>{(function(st){oe(st,K$e())})(qe)}),oe(de,ke)};$e(Go,de=>{pe()&&de(Co)});var ve=ye(Qi,2);Bo(ve,e,"input-hidden",{get value(){return A()}},de=>{var ke=sEe();rt(qe=>{wr(ke,"name",b()),km(ke,qe)},[()=>(E(A()),fe(()=>A()?JSON.stringify(A()):null))]),oe(de,ke)});var Ve=ye(ve,2),et=de=>{var ke=En();Bo(Ct(ke),e,"required",{get value(){return A()}},qe=>{oe(qe,aEe())}),oe(de,ke)};return $e(Ve,de=>{E(M()),E(A()),fe(()=>M()&&(!A()||A().length===0))&&de(et)}),ps(()=>Xe("pointerup",ho,Tf(Sr))),uo(ho,de=>x(de),()=>x()),Gs(ho,de=>So==null?void 0:So(de)),rt(de=>{var ke;oi=mn(ho,1,"svelte-select ".concat((ke=Ne())!==null&&ke!==void 0?ke:""),"svelte-1ul7oo4",oi,de),Ll(ho,H())},[()=>({multi:w(),disabled:C(),focused:j(),"list-open":L(),"show-chevron":pe(),error:K()})]),Xe("keydown",po,ht),Xe("blur",po,mt),Xe("focus",po,dt),I2(po,_),oe(t,ho),on(e,"getFilteredItems",te),on(e,"handleClear",Mr),qt(Jo)}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
table.jse-transform-wizard.svelte-9wqi8y {
  border-collapse: collapse;
  border-spacing: 0;
  width: 100%;
}
table.jse-transform-wizard.svelte-9wqi8y input:where(.svelte-9wqi8y) {
  font-family: inherit;
  font-size: inherit;
}
table.jse-transform-wizard.svelte-9wqi8y tr:where(.svelte-9wqi8y) th:where(.svelte-9wqi8y) {
  font-weight: normal;
  text-align: left;
  width: 60px;
}
table.jse-transform-wizard.svelte-9wqi8y tr:where(.svelte-9wqi8y) td:where(.svelte-9wqi8y) .jse-horizontal:where(.svelte-9wqi8y) {
  width: 100%;
  display: flex;
  flex-direction: row;
  margin-bottom: calc(0.5 * var(--jse-padding, 10px));
}
table.jse-transform-wizard.svelte-9wqi8y tr:where(.svelte-9wqi8y) td:where(.svelte-9wqi8y) .jse-horizontal:where(.svelte-9wqi8y) .svelte-select .multi-item {
  align-items: center;
}
table.jse-transform-wizard.svelte-9wqi8y tr:where(.svelte-9wqi8y) td:where(.svelte-9wqi8y) .jse-horizontal:where(.svelte-9wqi8y) .svelte-select .value-container {
  gap: 0 !important;
}
table.jse-transform-wizard.svelte-9wqi8y tr:where(.svelte-9wqi8y) td:where(.svelte-9wqi8y) .jse-horizontal:where(.svelte-9wqi8y) .svelte-select.jse-filter-path {
  flex: 4;
  margin-right: calc(0.5 * var(--jse-padding, 10px));
}
table.jse-transform-wizard.svelte-9wqi8y tr:where(.svelte-9wqi8y) td:where(.svelte-9wqi8y) .jse-horizontal:where(.svelte-9wqi8y) .svelte-select.jse-filter-relation {
  flex: 1.5;
  margin-right: calc(0.5 * var(--jse-padding, 10px));
}
table.jse-transform-wizard.svelte-9wqi8y tr:where(.svelte-9wqi8y) td:where(.svelte-9wqi8y) .jse-horizontal:where(.svelte-9wqi8y) .svelte-select.jse-sort-path {
  flex: 3;
  margin-right: calc(0.5 * var(--jse-padding, 10px));
}
table.jse-transform-wizard.svelte-9wqi8y tr:where(.svelte-9wqi8y) td:where(.svelte-9wqi8y) .jse-horizontal:where(.svelte-9wqi8y) .svelte-select.jse-sort-direction {
  flex: 1;
}
table.jse-transform-wizard.svelte-9wqi8y tr:where(.svelte-9wqi8y) td:where(.svelte-9wqi8y) .jse-horizontal:where(.svelte-9wqi8y) .svelte-select.jse-projection-paths {
  flex: 1;
}
table.jse-transform-wizard.svelte-9wqi8y tr:where(.svelte-9wqi8y) td:where(.svelte-9wqi8y) .jse-horizontal:where(.svelte-9wqi8y) .svelte-select input {
  box-sizing: border-box;
}
table.jse-transform-wizard.svelte-9wqi8y tr:where(.svelte-9wqi8y) td:where(.svelte-9wqi8y) .jse-horizontal:where(.svelte-9wqi8y) .jse-filter-value:where(.svelte-9wqi8y) {
  flex: 4;
  padding: 4px 8px;
  border: var(--jse-input-border, 1px solid #d8dbdf);
  border-radius: var(--jse-input-radius, 3px);
  outline: none;
  background: var(--jse-input-background, var(--jse-background-color, #fff));
  color: inherit;
}
table.jse-transform-wizard.svelte-9wqi8y tr:where(.svelte-9wqi8y) td:where(.svelte-9wqi8y) .jse-horizontal:where(.svelte-9wqi8y) .jse-filter-value:where(.svelte-9wqi8y):focus {
  border: var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)));
}`);var cEe=Te('<table class="jse-transform-wizard svelte-9wqi8y"><tbody><tr class="svelte-9wqi8y"><th class="svelte-9wqi8y">Filter</th><td class="svelte-9wqi8y"><div class="jse-horizontal svelte-9wqi8y"><!> <!> <input class="jse-filter-value svelte-9wqi8y"/></div></td></tr><tr class="svelte-9wqi8y"><th class="svelte-9wqi8y">Sort</th><td class="svelte-9wqi8y"><div class="jse-horizontal svelte-9wqi8y"><!> <!></div></td></tr><tr class="svelte-9wqi8y"><th class="svelte-9wqi8y">Pick</th><td class="svelte-9wqi8y"><div class="jse-horizontal svelte-9wqi8y"><!></div></td></tr></tbody></table>');function uEe(t,e){var n,r,o,i,s;Ft(e,!1);var a=le(void 0,!0),l=le(void 0,!0),c=le(void 0,!0),u=le(void 0,!0),d=le(void 0,!0),f=le(void 0,!0),h=Ui("jsoneditor:TransformWizard"),m=$(e,"json",9),g=$(e,"queryOptions",29,()=>({})),v=$(e,"onChange",9),y=["==","!=","<","<=",">",">="].map(P=>({value:P,label:P})),b=[{value:"asc",label:"ascending"},{value:"desc",label:"descending"}],x=le((n=g())!==null&&n!==void 0&&(n=n.filter)!==null&&n!==void 0&&n.path?Vf(g().filter.path):void 0,!0),k=le((r=y.find(P=>{var M;return P.value===((M=g().filter)===null||M===void 0?void 0:M.relation)}))!==null&&r!==void 0?r:y[0],!0),w=le(((o=g())===null||o===void 0||(o=o.filter)===null||o===void 0?void 0:o.value)||"",!0),S=le((i=g())!==null&&i!==void 0&&(i=i.sort)!==null&&i!==void 0&&i.path?Vf(g().sort.path):void 0,!0),C=le((s=b.find(P=>{var M;return P.value===((M=g().sort)===null||M===void 0?void 0:M.direction)}))!==null&&s!==void 0?s:b[0],!0);je(()=>E(m()),()=>{O(a,Array.isArray(m()))}),je(()=>(p(a),E(m())),()=>{O(l,p(a)?ZE(m()):[])}),je(()=>(p(a),E(m())),()=>{O(c,p(a)?ZE(m(),!0):[])}),je(()=>(p(l),Vf),()=>{O(u,p(l).map(Vf))}),je(()=>(p(c),Vf),()=>{O(d,p(c)?p(c).map(Vf):[])}),je(()=>(E(g()),p(d),_n),()=>{var P;O(f,(P=g())!==null&&P!==void 0&&(P=P.projection)!==null&&P!==void 0&&P.paths&&p(d)?g().projection.paths.map(M=>p(d).find(N=>_n(N.value,M))).filter(M=>!!M):void 0)}),je(()=>p(x),()=>{var P,M,N;M=(P=p(x))===null||P===void 0?void 0:P.value,_n((N=g())===null||N===void 0||(N=N.filter)===null||N===void 0?void 0:N.path,M)||(h("changeFilterPath",M),g(Ta(g(),["filter","path"],M,!0)),v()(g()))}),je(()=>p(k),()=>{var P,M,N;M=(P=p(k))===null||P===void 0?void 0:P.value,_n((N=g())===null||N===void 0||(N=N.filter)===null||N===void 0?void 0:N.relation,M)||(h("changeFilterRelation",M),g(Ta(g(),["filter","relation"],M,!0)),v()(g()))}),je(()=>p(w),()=>{var P,M;P=p(w),_n((M=g())===null||M===void 0||(M=M.filter)===null||M===void 0?void 0:M.value,P)||(h("changeFilterValue",P),g(Ta(g(),["filter","value"],P,!0)),v()(g()))}),je(()=>p(S),()=>{var P,M,N;M=(P=p(S))===null||P===void 0?void 0:P.value,_n((N=g())===null||N===void 0||(N=N.sort)===null||N===void 0?void 0:N.path,M)||(h("changeSortPath",M),g(Ta(g(),["sort","path"],M,!0)),v()(g()))}),je(()=>p(C),()=>{var P,M,N;M=(P=p(C))===null||P===void 0?void 0:P.value,_n((N=g())===null||N===void 0||(N=N.sort)===null||N===void 0?void 0:N.direction,M)||(h("changeSortDirection",M),g(Ta(g(),["sort","direction"],M,!0)),v()(g()))}),je(()=>p(f),()=>{(function(P){var M;_n((M=g())===null||M===void 0||(M=M.projection)===null||M===void 0?void 0:M.paths,P)||(h("changeProjectionPaths",P),g(Ta(g(),["projection","paths"],P,!0)),v()(g()))})(p(f)?p(f).map(P=>P.value):void 0)}),xr(),gn(!0);var j=cEe(),A=ae(j),_=ae(A),R=ye(ae(_)),T=ae(R),z=ae(T);Ep(z,{class:"jse-filter-path",showChevron:!0,get items(){return p(u)},get value(){return p(x)},set value(P){O(x,P)},$$legacy:!0});var U=ye(z,2);Ep(U,{class:"jse-filter-relation",showChevron:!0,clearable:!1,get items(){return y},get value(){return p(k)},set value(P){O(k,P)},$$legacy:!0});var G=ye(U,2),ce=ye(_),ie=ye(ae(ce)),Z=ae(ie),W=ae(Z);Ep(W,{class:"jse-sort-path",showChevron:!0,get items(){return p(u)},get value(){return p(S)},set value(P){O(S,P)},$$legacy:!0}),Ep(ye(W,2),{class:"jse-sort-direction",showChevron:!0,clearable:!1,get items(){return b},get value(){return p(C)},set value(P){O(C,P)},$$legacy:!0});var B=ye(ce),H=ye(ae(B)),K=ae(H);Ep(ae(K),{class:"jse-projection-paths",multiple:!0,showChevron:!0,get items(){return p(d)},get value(){return p(f)},set value(P){O(f,P)},$$legacy:!0}),I2(G,()=>p(w),P=>O(w,P)),oe(t,j),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-select-query-language.svelte-jrd4q2 {
  position: relative;
  width: 32px;
}
.jse-select-query-language.svelte-jrd4q2 .jse-select-query-language-container:where(.svelte-jrd4q2) {
  position: absolute;
  top: 0;
  right: 0;
  display: flex;
  flex-direction: column;
  box-shadow: var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));
}
.jse-select-query-language.svelte-jrd4q2 .jse-select-query-language-container:where(.svelte-jrd4q2) .jse-query-language:where(.svelte-jrd4q2) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  text-align: left;
  padding: var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));
  white-space: nowrap;
  color: var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));
  background: var(--jse-context-menu-background, #656565);
}
.jse-select-query-language.svelte-jrd4q2 .jse-select-query-language-container:where(.svelte-jrd4q2) .jse-query-language:where(.svelte-jrd4q2):hover {
  background: var(--jse-context-menu-background-highlight, #7a7a7a);
}`);var dEe=Te('<button type="button"><!> </button>'),fEe=Te('<div class="jse-select-query-language svelte-jrd4q2"><div class="jse-select-query-language-container svelte-jrd4q2"></div></div>');function hEe(t,e){Ft(e,!1);var n=$(e,"queryLanguages",8),r=$(e,"queryLanguageId",12),o=$(e,"onChangeQueryLanguage",8);gn();var i=fEe();Wo(ae(i),5,n,ui,(s,a)=>{var l,c=dEe(),u=ae(c),d=m=>{Yn(m,{get data(){return sW}})},f=m=>{Yn(m,{get data(){return aW}})};$e(u,m=>{p(a),E(r()),fe(()=>p(a).id===r())?m(d):m(f,!1)});var h=ye(u);rt(m=>{var g;l=mn(c,1,"jse-query-language svelte-jrd4q2",null,l,m),wr(c,"title",(p(a),fe(()=>"Select ".concat(p(a).name," as query language")))),Ut(h," ".concat((p(a),(g=fe(()=>p(a).name))!==null&&g!==void 0?g:"")))},[()=>({selected:p(a).id===r()})]),Xe("click",c,()=>{return m=p(a).id,r(m),void o()(m);var m}),oe(s,c)}),oe(t,i),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-header.svelte-1k211ye {
  display: flex;
  background: var(--jse-theme-color, #3883fa);
  color: var(--jse-menu-color, var(--jse-text-color-inverse, #fff));
}
.jse-header.svelte-1k211ye .jse-title:where(.svelte-1k211ye) {
  flex: 1;
  padding: 5px;
  vertical-align: middle;
}
.jse-header.svelte-1k211ye button:where(.svelte-1k211ye) {
  border: none;
  background: transparent;
  min-width: 32px;
  color: inherit;
  cursor: pointer;
}
.jse-header.svelte-1k211ye button:where(.svelte-1k211ye):hover {
  background: rgba(255, 255, 255, 0.1);
}`);var pEe=Te('<button type="button" class="jse-fullscreen svelte-1k211ye" title="Toggle full screen"><!></button>'),mEe=Te('<div class="jse-header svelte-1k211ye"><div class="jse-title svelte-1k211ye"> </div> <!> <!> <button type="button" class="jse-close svelte-1k211ye"><!></button></div>');function J2(t,e){Ft(e,!1);var n=$(e,"title",9,"Modal"),r=$(e,"fullScreenButton",9,!1),o=$(e,"fullscreen",13,!1),i=$(e,"onClose",9,void 0);gn(!0);var s=mEe(),a=ae(s),l=ae(a),c=ye(a,2);Bo(c,e,"actions",{},null);var u=ye(c,2),d=h=>{var m=pEe(),g=ae(m),v=jt(()=>o()?Uye:v1e);Yn(g,{get data(){return p(v)}}),Xe("click",m,()=>o(!o())),oe(h,m)};$e(u,h=>{r()&&h(d)});var f=ye(u,2);Yn(ae(f),{get data(){return qj}}),rt(()=>Ut(l,n())),Xe("click",f,()=>{var h;return(h=i())===null||h===void 0?void 0:h()}),oe(t,s),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-config.svelte-5gkegr {
  border: none;
  background: transparent;
  min-width: 32px;
  color: inherit;
  cursor: pointer;
}
.jse-config.svelte-5gkegr:hover {
  background: rgba(255, 255, 255, 0.1);
}
.jse-config.hide.svelte-5gkegr {
  display: none;
}`);var gEe=Te('<button slot="actions" type="button" title="Select a query language"><!></button>'),UT=Ui("jsoneditor:AutoScrollHandler");function UV(t){var e,n;function r(a){return a<20?200:a<50?400:1200}function o(){if(t){var a=.05*(e||0);t.scrollTop+=a}}function i(a){n&&a===e||(s(),UT("startAutoScroll",a),e=a,n=setInterval(o,50))}function s(){n&&(UT("stopAutoScroll"),clearInterval(n),n=void 0,e=void 0)}return UT("createAutoScrollHandler",t),{onDrag:function(a){if(t){var l=a.clientY,{top:c,bottom:u}=t.getBoundingClientRect();l<c?i(-r(c-l)):l>u?i(r(l-u)):s()}},onDragEnd:function(){s()}}}var vEe=(t,e,n,r)=>(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e,ZX=()=>{var t,e,n,r,o,i,s,a,l,c,u,d,f;function h(v){return v.getBoundingClientRect().top-(t.getBoundingClientRect?t.getBoundingClientRect().top:0)+n}function m(v){t.scrollTo?t.scrollTo(t.scrollLeft,v):t.scrollTop=v}function g(v){c||(c=v),m(i(u=v-c,n,a,l)),f=!0,u<l?requestAnimationFrame(g):function(){m(n+a),e&&s&&(e.setAttribute("tabindex","-1"),e.focus()),typeof d=="function"&&d(),c=0,f=!1}()}return function(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(l=1e3,o=y.offset||0,d=y.callback,i=y.easing||vEe,s=y.a11y||!1,typeof y.container){case"object":t=y.container;break;case"string":t=document.querySelector(y.container);break;default:t=window.document.documentElement}switch(n=t.scrollTop,typeof v){case"number":e=void 0,s=!1,r=n+v;break;case"object":r=h(e=v);break;case"string":e=document.querySelector(v),r=h(e)}switch(a=r-n+o,typeof y.duration){case"number":l=y.duration;break;case"function":l=y.duration(a)}f?c=0:requestAnimationFrame(g)}};function Ug(t,e){var n=Date.now(),r=t();return e(Date.now()-n),r}var Og=Ui("validation"),yEe={createObjectDocumentState:()=>({type:"object",properties:{}}),createArrayDocumentState:()=>({type:"array",items:[]}),createValueDocumentState:()=>({type:"value"})};function WV(t,e,n,r){return zI(t,e,n,r,yEe)}function eQ(t,e,n,r){if(Og("validateJSON"),!e)return[];if(n!==r){var o=n.stringify(t);return e(o!==void 0?r.parse(o):void 0)}return e(t)}function bEe(t,e,n,r){if(Og("validateText"),t.length>104857600)return{validationErrors:[{path:[],message:"Validation turned off: the document is too large",severity:xc.info}]};if(t.length!==0)try{var o=Ug(()=>n.parse(t),l=>Og("validate: parsed json in ".concat(l," ms")));if(!e)return;var i=n===r?o:Ug(()=>r.parse(t),l=>Og("validate: parsed json with the validationParser in ".concat(l," ms"))),s=Ug(()=>e(i),l=>Og("validate: validated json in ".concat(l," ms")));return sr(s)?void 0:{validationErrors:s}}catch(l){var a=Ug(()=>function(c,u){if(c.length>KOe)return!1;try{return u.parse(Su(c)),!0}catch{return!1}}(t,n),c=>Og("validate: checked whether repairable in ".concat(c," ms")));return{parseError:Wv(t,l.message||l.toString()),isRepairable:a}}}var Yx=Ui("jsoneditor:FocusTracker");function KI(t){var e,{onMount:n,onDestroy:r,getWindow:o,hasFocus:i,onFocus:s,onBlur:a}=t,l=!1;function c(){var d=i();d&&(clearTimeout(e),l||(Yx("focus"),s(),l=d))}function u(){l&&(clearTimeout(e),e=setTimeout(()=>{i()||(Yx("blur"),l=!1,a())}))}n(()=>{Yx("mount FocusTracker");var d=o();d&&(d.addEventListener("focusin",c,!0),d.addEventListener("focusout",u,!0))}),r(()=>{Yx("destroy FocusTracker");var d=o();d&&(d.removeEventListener("focusin",c,!0),d.removeEventListener("focusout",u,!0))})}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-message.svelte-cbvd26 {
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  padding: var(--jse-padding, 10px);
  display: flex;
  gap: var(--jse-padding, 10px);
  flex-wrap: wrap;
  align-items: stretch;
}
.jse-message.jse-success.svelte-cbvd26 {
  background: var(--message-success-background, #9ac45d);
  color: var(--jse-message-success-color, #fff);
}
.jse-message.svelte-cbvd26 .jse-text:where(.svelte-cbvd26) {
  display: flex;
  flex: 1;
  min-width: 60%;
  align-items: center;
}
.jse-message.svelte-cbvd26 .jse-text.jse-clickable:where(.svelte-cbvd26) {
  cursor: pointer;
}
.jse-message.svelte-cbvd26 .jse-text.jse-clickable:where(.svelte-cbvd26):hover {
  background-color: rgba(255, 255, 255, 0.1);
}
.jse-message.jse-error.svelte-cbvd26 {
  background: var(--jse-message-error-background, var(--jse-error-color, #ee5341));
  color: var(--jse-message-error-color, #fff);
}
.jse-message.jse-warning.svelte-cbvd26 {
  background: var(--jse-message-warning-background, #ffde5c);
  color: var(--jse-message-warning-color, #4d4d4d);
}
.jse-message.jse-info.svelte-cbvd26 {
  background: var(--jse-message-info-background, #4f91ff);
  color: var(--jse-message-info-color, #fff);
}
.jse-message.svelte-cbvd26 .jse-actions:where(.svelte-cbvd26) {
  display: flex;
  gap: var(--jse-padding, 10px);
}
.jse-message.svelte-cbvd26 .jse-actions:where(.svelte-cbvd26) button.jse-action:where(.svelte-cbvd26) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  background: var(--jse-message-action-background, rgba(255, 255, 255, 0.2));
  color: inherit;
  padding: calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);
}
.jse-message.svelte-cbvd26 .jse-actions:where(.svelte-cbvd26) button.jse-action:where(.svelte-cbvd26):hover {
  background: var(--jse-message-action-background-highlight, rgba(255, 255, 255, 0.3));
}`);var wEe=Te('<button type="button" class="jse-button jse-action jse-primary svelte-cbvd26"><!> </button>'),xEe=Te('<div><div role="button" tabindex="-1"><div class="jse-text-centered"><!> </div></div> <div class="jse-actions svelte-cbvd26"></div></div>');function al(t,e){Ft(e,!1);var n=$(e,"type",9,"success"),r=$(e,"icon",9,void 0),o=$(e,"message",9,void 0),i=$(e,"actions",25,()=>[]),s=$(e,"onClick",9,void 0),a=$(e,"onClose",9,void 0);a()&&Ul(a()),gn(!0);var l,c=xEe(),u=ae(c),d=ae(u),f=ae(d),h=g=>{Yn(g,{get data(){return r()}})};$e(f,g=>{r()&&g(h)});var m=ye(f);Wo(ye(u,2),5,i,ui,(g,v)=>{var y=wEe(),b=ae(y),x=w=>{Yn(w,{get data(){return p(v),fe(()=>p(v).icon)}})};$e(b,w=>{p(v),fe(()=>p(v).icon)&&w(x)});var k=ye(b);rt(()=>{var w;wr(y,"title",(p(v),fe(()=>p(v).title))),y.disabled=(p(v),fe(()=>p(v).disabled)),Ut(k," ".concat((p(v),(w=fe(()=>p(v).text))!==null&&w!==void 0?w:"")))}),Xe("click",y,()=>{p(v).onClick&&p(v).onClick()}),Xe("mousedown",y,()=>{p(v).onMouseDown&&p(v).onMouseDown()}),oe(g,y)}),rt(g=>{var v,y;mn(c,1,"jse-message jse-".concat((v=n())!==null&&v!==void 0?v:""),"svelte-cbvd26"),l=mn(u,1,"jse-text svelte-cbvd26",null,l,g),Ut(m," ".concat((y=o())!==null&&y!==void 0?y:""))},[()=>({"jse-clickable":!!s()})]),Xe("click",u,function(){s()&&s()()}),oe(t,c),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-validation-errors-overview.svelte-1342rh4 {
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  overflow: auto;
  max-height: 25%;
}
.jse-validation-errors-overview.svelte-1342rh4 table:where(.svelte-1342rh4) {
  border-collapse: collapse;
  width: 100%;
}
.jse-validation-errors-overview.svelte-1342rh4 table:where(.svelte-1342rh4) tr:where(.svelte-1342rh4) {
  cursor: pointer;
}
.jse-validation-errors-overview.svelte-1342rh4 table:where(.svelte-1342rh4) tr.jse-validation-error:where(.svelte-1342rh4) {
  background: var(--jse-message-error-background, var(--jse-error-color, #ee5341));
  color: var(--jse-message-error-color, #fff);
}
.jse-validation-errors-overview.svelte-1342rh4 table:where(.svelte-1342rh4) tr.jse-validation-warning:where(.svelte-1342rh4) {
  background: var(--jse-message-warning-background, #ffde5c);
  color: var(--jse-message-warning-color, #4d4d4d);
}
.jse-validation-errors-overview.svelte-1342rh4 table:where(.svelte-1342rh4) tr.jse-validation-warning:where(.svelte-1342rh4):hover {
  filter: brightness(105%);
}
.jse-validation-errors-overview.svelte-1342rh4 table:where(.svelte-1342rh4) tr.jse-validation-info:where(.svelte-1342rh4) {
  background: var(--jse-message-info-background, #4f91ff);
  color: var(--jse-message-info-color, #fff);
}
.jse-validation-errors-overview.svelte-1342rh4 table:where(.svelte-1342rh4) tr:where(.svelte-1342rh4):hover {
  filter: brightness(110%);
}
.jse-validation-errors-overview.svelte-1342rh4 table:where(.svelte-1342rh4) tr:where(.svelte-1342rh4) td:where(.svelte-1342rh4) {
  padding: 4px var(--jse-padding, 10px);
  vertical-align: middle;
}
.jse-validation-errors-overview.svelte-1342rh4 table:where(.svelte-1342rh4) tr:where(.svelte-1342rh4) td.jse-validation-error-icon:where(.svelte-1342rh4) {
  width: 36px;
  box-sizing: border-box;
}
.jse-validation-errors-overview.svelte-1342rh4 table:where(.svelte-1342rh4) tr:where(.svelte-1342rh4) td.jse-validation-error-action:where(.svelte-1342rh4) {
  width: 36px;
  box-sizing: border-box;
  padding: 0;
}
.jse-validation-errors-overview.svelte-1342rh4 table:where(.svelte-1342rh4) tr:where(.svelte-1342rh4) td.jse-validation-error-action:where(.svelte-1342rh4) button.jse-validation-errors-collapse:where(.svelte-1342rh4) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  width: 36px;
  height: 26px;
  cursor: pointer;
}
.jse-validation-errors-overview.svelte-1342rh4 table:where(.svelte-1342rh4) tr:where(.svelte-1342rh4) td.jse-validation-error-action:where(.svelte-1342rh4) button.jse-validation-errors-collapse:where(.svelte-1342rh4):hover {
  background-color: rgba(255, 255, 255, 0.2);
}
.jse-validation-errors-overview.svelte-1342rh4 table:where(.svelte-1342rh4) tr:where(.svelte-1342rh4) td:where(.svelte-1342rh4) div.jse-validation-errors-expand:where(.svelte-1342rh4) {
  display: inline-block;
  position: relative;
  top: 3px;
}`);var kEe=Te('<button type="button" class="jse-validation-errors-collapse svelte-1342rh4" title="Collapse validation errors"><!></button>'),SEe=Te('<tr tabindex="0"><td class="jse-validation-error-icon svelte-1342rh4"><!></td><td class="jse-validation-error-path svelte-1342rh4"> </td><td class="jse-validation-error-message svelte-1342rh4"> </td><td class="jse-validation-error-action svelte-1342rh4"><!></td></tr>'),CEe=Te('<tr class="jse-validation-error svelte-1342rh4"><td class="svelte-1342rh4"></td><td class="svelte-1342rh4"></td><td class="svelte-1342rh4"> </td><td class="svelte-1342rh4"></td></tr>'),jEe=Te('<table class="jse-validation-errors-overview-expanded svelte-1342rh4"><tbody><!><!></tbody></table>'),AEe=Te('<table class="jse-validation-errors-overview-collapsed svelte-1342rh4"><tbody><tr><td class="jse-validation-error-icon svelte-1342rh4"><!></td><td class="jse-validation-error-count svelte-1342rh4"> <div class="jse-validation-errors-expand svelte-1342rh4"><!></div></td></tr></tbody></table>'),MEe=Te('<div class="jse-validation-errors-overview svelte-1342rh4"><!></div>');function JI(t,e){Ft(e,!1);var n=le(void 0,!0),r=$(e,"validationErrors",9),o=$(e,"selectError",9),i=le(!0,!0);function s(){O(i,!1)}function a(){O(i,!0)}je(()=>E(r()),()=>{O(n,r().length)}),xr(),gn(!0);var l=En(),c=Ct(l),u=d=>{var f=MEe(),h=ae(f),m=v=>{var y=jEe(),b=ae(y),x=ae(b);Wo(x,1,()=>(E(R2),E(r()),E(qx),fe(()=>R2(r(),qx))),ui,(S,C,j)=>{var A=SEe(),_=ae(A);Yn(ae(_),{get data(){return dm}});var R=ye(_),T=ae(R),z=ye(R),U=ae(z),G=ae(ye(z)),ce=ie=>{var Z=kEe();Yn(ae(Z),{get data(){return f1e}}),Xe("click",Z,ud(s)),oe(ie,Z)};$e(G,ie=>{E(r()),fe(()=>j===0&&r().length>1)&&ie(ce)}),rt(ie=>{var Z;mn(A,1,"jse-validation-".concat((p(C),(Z=fe(()=>p(C).severity))!==null&&Z!==void 0?Z:"")),"svelte-1342rh4"),Ut(T,ie),Ut(U,(p(C),fe(()=>p(C).message)))},[()=>(E(Da),p(C),fe(()=>Da(p(C).path)))]),Xe("click",A,()=>{setTimeout(()=>o()(p(C)))}),oe(S,A)});var k=ye(x),w=S=>{var C=CEe(),j=ye(ae(C),2),A=ae(j);rt(()=>Ut(A,"(and ".concat(p(n)-qx," more errors)"))),oe(S,C)};$e(k,S=>{p(n)>qx&&S(w)}),oe(v,y)},g=v=>{var y=AEe(),b=ae(y),x=ae(b),k=ae(x);Yn(ae(k),{get data(){return dm}});var w=ae(ye(k));Yn(ae(ye(w)),{get data(){return uW}}),rt(S=>{var C;mn(x,1,"jse-validation-".concat(S??""),"svelte-1342rh4"),Ut(w,"".concat((C=p(n))!==null&&C!==void 0?C:""," validation errors "))},[()=>(E(r()),fe(()=>{return S=r(),[xc.error,xc.warning,xc.info].find(C=>S.some(j=>j.severity===C));var S}))]),Xe("click",x,a),oe(v,y)};$e(h,v=>{p(i)||p(n)===1?v(m):v(g,!1)}),oe(d,f)};$e(c,d=>{E(sr),E(r()),fe(()=>!sr(r()))&&d(u)}),oe(t,l),qt()}function G2(t,e){if(t)return t.addEventListener("keydown",n),{destroy(){t.removeEventListener("keydown",n)}};function n(r){r.key==="Escape"&&(r.preventDefault(),r.stopPropagation(),e())}}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
dialog.jse-modal.svelte-2aoco4 {
  border-radius: 3px;
  font-size: var(--jse-padding, 10px);
  border: none;
  padding: 0;
  display: flex;
  min-width: 0;
  margin: auto;
  overflow: visible;
  transition: width 0.1s ease-in-out, height 0.1s ease-in-out;
}
dialog.jse-modal.jse-sort-modal.svelte-2aoco4 {
  width: 400px;
}
dialog.jse-modal.jse-repair-modal.svelte-2aoco4 {
  width: 600px;
  height: 500px;
}
dialog.jse-modal.jse-jsoneditor-modal.svelte-2aoco4 {
  width: 800px;
  height: 600px;
}
dialog.jse-modal.jse-transform-modal.svelte-2aoco4 {
  width: 1200px;
  height: 800px;
}
dialog.jse-modal.jse-fullscreen.svelte-2aoco4 {
  width: 100%;
  height: 100%;
}
dialog.jse-modal.svelte-2aoco4::backdrop {
  background: var(--jse-overlay-background, rgba(0, 0, 0, 0.3));
}
dialog.jse-modal[open].svelte-2aoco4 {
  animation: svelte-2aoco4-zoom 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}
dialog.jse-modal[open].svelte-2aoco4::backdrop {
  animation: svelte-2aoco4-fade 0.2s ease-out;
}
dialog.jse-modal.svelte-2aoco4 .jse-modal-inner:where(.svelte-2aoco4) {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-width: 0;
  min-height: 0;
  padding: 0;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  line-height: normal;
  background: var(--jse-modal-background, #f5f5f5);
  color: var(--jse-text-color, #4d4d4d);
}
@keyframes svelte-2aoco4-zoom {
  from {
    transform: scale(0.95);
  }
  to {
    transform: scale(1);
  }
}
@keyframes svelte-2aoco4-fade {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
dialog.jse-modal.svelte-2aoco4 .svelte-select {
  --border: var(--jse-svelte-select-border, 1px solid #d8dbdf);
  --item-is-active-bg: var(--jse-item-is-active-bg, #3883fa);
  --border-radius: var(--jse-svelte-select-border-radius, 3px);
  --background: var(--jse-svelte-select-background, #fff);
  --padding: var(--jse-svelte-select-padding, 0 10px);
  --multi-select-padding: var(--jse-svelte-select-multi-select-padding, 0 10px);
  --font-size: var(--jse-svelte-select-font-size, var(--jse-font-size, 16px));
  --height: 36px;
  --multi-item-height: 28px;
  --multi-item-margin: 2px;
  --multi-item-padding: 2px 8px;
  --multi-item-border-radius: 6px;
  --indicator-top: 8px;
}`);var TEe=Te('<dialog><div class="jse-modal-inner svelte-2aoco4"><!></div></dialog>');function gb(t,e){Ft(e,!1);var n=$(e,"className",8,void 0),r=$(e,"fullscreen",8,!1),o=$(e,"onClose",8),i=le();function s(){o()()}Ls(()=>p(i).showModal()),Ul(()=>p(i).close()),gn();var a,l=TEe(),c=ae(l);Bo(ae(c),e,"default",{},null),uo(l,u=>O(i,u),()=>p(i)),ps(()=>Xe("close",l,s)),ps(()=>{return Xe("pointerdown",l,(u=s,function(){for(var d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];f[0].target===this&&(u==null||u.apply(this,f))}));var u}),ps(()=>Xe("cancel",l,Tf(function(u){k1.call(this,e,u)}))),Gs(l,(u,d)=>G2==null?void 0:G2(u,d),()=>s),rt((u,d)=>a=mn(l,1,u,"svelte-2aoco4",a,d),[()=>_h((E(Ic),E(n()),fe(()=>Ic("jse-modal",n())))),()=>({"jse-fullscreen":r()})]),oe(t,l),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-modal-contents.svelte-10a6ob6 {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 20px;
  overflow: auto;
  min-width: 0;
  min-height: 0;
}
.jse-modal-contents.svelte-10a6ob6 .jse-actions:where(.svelte-10a6ob6) {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  padding-top: var(--jse-padding, 10px);
}
.jse-modal-contents.svelte-10a6ob6 .jse-actions:where(.svelte-10a6ob6) button.jse-primary:where(.svelte-10a6ob6) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  background: var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));
  color: var(--jse-button-primary-color, #fff);
  padding: var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));
  border-radius: 3px;
}
.jse-modal-contents.svelte-10a6ob6 .jse-actions:where(.svelte-10a6ob6) button.jse-primary:where(.svelte-10a6ob6):hover {
  background: var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff));
}
.jse-modal-contents.svelte-10a6ob6 .jse-actions:where(.svelte-10a6ob6) button.jse-primary:where(.svelte-10a6ob6):disabled {
  background: var(--jse-button-primary-background-disabled, #9d9d9d);
}

.jse-shortcuts.svelte-10a6ob6 {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-around;
  margin: calc(2 * var(--jse-padding, 10px)) 0;
}
.jse-shortcuts.svelte-10a6ob6 .jse-shortcut:where(.svelte-10a6ob6) .jse-key:where(.svelte-10a6ob6) {
  font-size: 200%;
  color: var(--jse-theme-color, #3883fa);
}`);var OEe=Te('<!> <div class="jse-modal-contents svelte-10a6ob6"><div>Clipboard permission is disabled by your browser. You can use:</div> <div class="jse-shortcuts svelte-10a6ob6"><div class="jse-shortcut svelte-10a6ob6"><div class="jse-key svelte-10a6ob6"> </div> for copy</div> <div class="jse-shortcut svelte-10a6ob6"><div class="jse-key svelte-10a6ob6"> </div> for cut</div> <div class="jse-shortcut svelte-10a6ob6"><div class="jse-key svelte-10a6ob6"> </div> for paste</div></div> <div class="jse-actions svelte-10a6ob6"><button type="button" class="jse-primary svelte-10a6ob6">Close</button></div></div>',1);function tQ(t,e){Ft(e,!1);var n=$(e,"onClose",9),r=PI()?"":"Ctrl";gn(!0),gb(t,{get onClose(){return n()},className:"jse-copy-paste",children:(o,i)=>{var s=OEe(),a=Ct(s);J2(a,{title:"Copying and pasting",get onClose(){return n()}});var l=ye(a,2),c=ye(ae(l),2),u=ae(c),d=ae(u),f=ae(d),h=ye(u,2),m=ae(h),g=ae(m),v=ae(ye(h,2)),y=ae(v),b=ae(ye(c,2));rt(()=>{Ut(f,"".concat(r,"+C")),Ut(g,"".concat(r,"+X")),Ut(y,"".concat(r,"+V"))}),Xe("click",b,function(){for(var x,k=arguments.length,w=new Array(k),S=0;S<k;S++)w[S]=arguments[S];(x=n())===null||x===void 0||x.apply(this,w)}),oe(o,s)},$$slots:{default:!0}}),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-menu.svelte-3erbu0 {
  background: var(--jse-theme-color, #3883fa);
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size-main-menu, 14px);
  color: var(--jse-menu-color, var(--jse-text-color-inverse, #fff));
  display: flex;
  flex-wrap: wrap;
  align-items: stretch;
  position: relative;
}
.jse-menu.svelte-3erbu0 .jse-button:where(.svelte-3erbu0) {
  font-family: inherit;
  font-size: inherit;
  line-height: 1.5em;
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  width: var(--jse-menu-button-size, 32px);
  height: var(--jse-menu-button-size, 32px);
  padding: calc(0.5 * var(--jse-padding, 10px));
  margin: 0;
  border-radius: 0;
  display: inline-flex;
  align-items: center;
  text-align: center;
  justify-content: center;
}
.jse-menu.svelte-3erbu0 .jse-button:where(.svelte-3erbu0):hover, .jse-menu.svelte-3erbu0 .jse-button:where(.svelte-3erbu0):focus {
  background: var(--jse-theme-color-highlight, #5f9dff);
}
.jse-menu.svelte-3erbu0 .jse-button:where(.svelte-3erbu0):disabled {
  color: var(--jse-menu-color, var(--jse-text-color-inverse, #fff));
  opacity: 0.5;
  background: transparent;
}
.jse-menu.svelte-3erbu0 .jse-button.jse-group-button:where(.svelte-3erbu0) {
  width: auto;
  height: calc(var(--jse-menu-button-size, 32px) - var(--jse-padding, 10px));
  margin: calc(0.5 * var(--jse-padding, 10px)) 0;
  padding: 0 calc(0.5 * var(--jse-padding, 10px)) 1px;
  border: 1px solid var(--jse-menu-color, var(--jse-text-color-inverse, #fff));
}
.jse-menu.svelte-3erbu0 .jse-button.jse-group-button:where(.svelte-3erbu0):not(.jse-last) {
  border-right: none;
}
.jse-menu.svelte-3erbu0 .jse-button.jse-group-button.jse-first:where(.svelte-3erbu0) {
  margin-left: calc(0.5 * var(--jse-padding, 10px));
}
.jse-menu.svelte-3erbu0 .jse-button.jse-group-button.jse-last:where(.svelte-3erbu0) {
  margin-right: calc(0.5 * var(--jse-padding, 10px));
}
.jse-menu.svelte-3erbu0 .jse-button.jse-group-button:where(.svelte-3erbu0):hover, .jse-menu.svelte-3erbu0 .jse-button.jse-group-button:where(.svelte-3erbu0):focus {
  background: var(--jse-theme-color-highlight, #5f9dff);
}
.jse-menu.svelte-3erbu0 .jse-button.jse-group-button.jse-selected:where(.svelte-3erbu0) {
  background: var(--jse-menu-color, var(--jse-text-color-inverse, #fff));
  color: var(--jse-theme-color, #3883fa);
}
.jse-menu.svelte-3erbu0 .jse-space:where(.svelte-3erbu0) {
  flex: 1;
}
.jse-menu.svelte-3erbu0 .jse-separator:where(.svelte-3erbu0) {
  background: var(--jse-menu-color, var(--jse-text-color-inverse, #fff));
  opacity: 0.3;
  width: 1px;
  margin: 3px;
}`);var $Ee=Te('<div class="jse-separator svelte-3erbu0"></div>'),EEe=Te('<div class="jse-space svelte-3erbu0"></div>'),_Ee=Te('<button type="button"><!> <!></button>'),PEe=Te('<div class="jse-menu svelte-3erbu0"><!> <!> <!></div>');function kA(t,e){Ft(e,!1);var n=$(e,"items",25,()=>[]);gn(!0);var r=PEe(),o=ae(r);Bo(o,e,"left",{},null);var i=ye(o,2);Wo(i,1,n,ui,(s,a)=>{var l=En(),c=Ct(l),u=f=>{oe(f,$Ee())},d=f=>{var h=En(),m=Ct(h),g=y=>{oe(y,EEe())},v=y=>{var b=En(),x=Ct(b),k=S=>{var C=_Ee(),j=ae(C),A=T=>{Yn(T,{get data(){return p(a),fe(()=>p(a).icon)}})};$e(j,T=>{p(a),fe(()=>p(a).icon)&&T(A)});var _=ye(j,2),R=T=>{var z=rs();rt(()=>Ut(z,(p(a),fe(()=>p(a).text)))),oe(T,z)};$e(_,T=>{p(a),fe(()=>p(a).text)&&T(R)}),rt(()=>{var T;mn(C,1,"jse-button ".concat((p(a),(T=fe(()=>p(a).className))!==null&&T!==void 0?T:"")),"svelte-3erbu0"),wr(C,"title",(p(a),fe(()=>p(a).title))),C.disabled=(p(a),fe(()=>p(a).disabled||!1))}),Xe("click",C,function(){for(var T,z=arguments.length,U=new Array(z),G=0;G<z;G++)U[G]=arguments[G];(T=p(a).onClick)===null||T===void 0||T.apply(this,U)}),oe(S,C)},w=S=>{var C=rs();rt(j=>Ut(C,j),[()=>(p(a),fe(()=>function(j){return console.error("Unknown type of menu item",j),"???"}(p(a))))]),oe(S,C)};$e(x,S=>{E(dd),p(a),fe(()=>dd(p(a)))?S(k):S(w,!1)},!0),oe(y,b)};$e(m,y=>{E(r_),p(a),fe(()=>r_(p(a)))?y(g):y(v,!1)},!0),oe(f,h)};$e(c,f=>{E(Df),p(a),fe(()=>Df(p(a)))?f(u):f(d,!1)}),oe(s,l)}),Bo(ye(i,2),e,"right",{},null),oe(t,r),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-json-repair-component.svelte-16jv58j {
  flex: 1;
  display: flex;
  flex-direction: column;
  background: var(--jse-background-color, #fff);
  color: var(--jse-text-color, #4d4d4d);
}
.jse-json-repair-component.svelte-16jv58j .jse-info:where(.svelte-16jv58j) {
  padding: calc(0.5 * var(--jse-padding, 10px));
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  vertical-align: center;
}
.jse-json-repair-component.svelte-16jv58j .jse-json-text:where(.svelte-16jv58j) {
  flex: 1;
  border: none;
  padding: 2px;
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  background: var(--jse-input-background, var(--jse-background-color, #fff));
  color: var(--jse-text-color, #4d4d4d);
  resize: none;
  outline: none;
}`);var IEe=Te('<div slot="left" class="jse-info svelte-16jv58j">Repair invalid JSON, then click apply</div>'),REe=Te('<div class="jse-json-repair-component svelte-16jv58j"><!> <!> <textarea class="jse-json-text svelte-16jv58j" autocomplete="off" autocapitalize="off" spellcheck="false"></textarea></div>');function NEe(t,e){Ft(e,!1);var n=le(void 0,!0),r=le(void 0,!0),o=le(void 0,!0),i=le(void 0,!0),s=le(void 0,!0),a=le(void 0,!0),l=$(e,"text",13,""),c=$(e,"readOnly",9,!1),u=$(e,"onParse",9),d=$(e,"onRepair",9),f=$(e,"onChange",9,void 0),h=$(e,"onApply",9),m=$(e,"onCancel",9),g=Ui("jsoneditor:JSONRepair"),v=le(void 0,!0);function y(){if(p(v)&&p(n)){var R=p(n).position!==void 0?p(n).position:0;p(v).setSelectionRange(R,R),p(v).focus()}}function b(){h()(l())}function x(){try{l(d()(l())),f()&&f()(l())}catch{}}var k=le(void 0,!0);je(()=>E(l()),()=>{O(n,function(R){try{return void u()(R)}catch(T){return Wv(R,T.message)}}(l()))}),je(()=>E(l()),()=>{O(r,function(R){try{return d()(R),!0}catch{return!1}}(l()))}),je(()=>p(n),()=>{g("error",p(n))}),je(()=>E(m()),()=>{O(k,[{type:"space"},{type:"button",icon:qj,title:"Cancel repair",className:"jse-cancel",onClick:m()}])}),je(()=>sL,()=>{O(o,{icon:sL,text:"Show me",title:"Scroll to the error location",onClick:y})}),je(()=>Ch,()=>{O(i,{icon:Ch,text:"Auto repair",title:"Automatically repair JSON",onClick:x})}),je(()=>(p(r),p(o),p(i)),()=>{O(s,p(r)?[p(o),p(i)]:[p(o)])}),je(()=>E(c()),()=>{O(a,[{icon:W4,text:"Apply",title:"Apply fixed JSON",disabled:c(),onClick:b}])}),xr(),gn(!0);var w=REe(),S=ae(w);kA(S,{get items(){return p(k)},$$slots:{left:(R,T)=>{oe(R,IEe())}}});var C=ye(S,2),j=R=>{var T=jt(()=>(p(n),fe(()=>"Cannot parse JSON: ".concat(p(n).message))));al(R,{type:"error",get icon(){return dm},get message(){return p(T)},get actions(){return p(s)}})},A=R=>{al(R,{type:"success",message:"JSON is valid now and can be parsed.",get actions(){return p(a)}})};$e(C,R=>{p(n)?R(j):R(A,!1)});var _=ye(C,2);uo(_,R=>O(v,R),()=>p(v)),rt(()=>{_.readOnly=c(),km(_,l())}),Xe("input",_,function(R){g("handleChange");var T=R.target.value;l()!==T&&(l(T),f()&&f()(l()))}),oe(t,w),qt()}function nQ(t,e){Ft(e,!1);var n=$(e,"text",13),r=$(e,"onParse",9),o=$(e,"onRepair",9),i=$(e,"onApply",9),s=$(e,"onClose",9);function a(c){i()(c),s()()}function l(){s()()}gn(!0),gb(t,{get onClose(){return s()},className:"jse-repair-modal",children:(c,u)=>{NEe(c,{get onParse(){return r()},get onRepair(){return o()},onApply:a,onCancel:l,get text(){return n()},set text(d){n(d)},$$legacy:!0})},$$slots:{default:!0}}),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
div.jse-collapsed-items.svelte-1v6dhm4 {
  margin-left: calc(var(--level) * var(--jse-indent-size, calc(1em + 4px)));
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  color: var(--jse-collapsed-items-link-color, rgba(0, 0, 0, 0.38));
  padding: calc(0.5 * var(--jse-padding, 10px));
  border: 8px solid transparent;
  border-width: 8px 0;
  background-color: var(--jse-contents-background-color, transparent);
  background-image: linear-gradient(var(--jse-collapsed-items-background-color, #f5f5f5), var(--jse-collapsed-items-background-color, #f5f5f5)), linear-gradient(to bottom right, transparent 50.5%, var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%), linear-gradient(to bottom left, transparent 50.5%, var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%), linear-gradient(to top right, transparent 50.5%, var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%), linear-gradient(to top left, transparent 50.5%, var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%);
  background-repeat: repeat, repeat-x, repeat-x, repeat-x, repeat-x;
  background-position: 0 0, 8px 0, 8px 0, 8px 100%, 8px 100%;
  background-size: auto auto, 16px 16px, 16px 16px, 16px 16px, 16px 16px;
  background-clip: padding-box, border-box, border-box, border-box, border-box;
  background-origin: padding-box, border-box, border-box, border-box, border-box;
  display: flex;
}
div.jse-collapsed-items.jse-selected.svelte-1v6dhm4 {
  background-color: var(--jse-selection-background-color, #d3d3d3);
  --jse-collapsed-items-background-color: var(--jse-collapsed-items-selected-background-color, #c2c2c2);
}
div.jse-collapsed-items.svelte-1v6dhm4 div.jse-text:where(.svelte-1v6dhm4),
div.jse-collapsed-items.svelte-1v6dhm4 button.jse-expand-items:where(.svelte-1v6dhm4) {
  margin: 0 calc(0.5 * var(--jse-padding, 10px));
}
div.jse-collapsed-items.svelte-1v6dhm4 div.jse-text:where(.svelte-1v6dhm4) {
  display: inline;
}
div.jse-collapsed-items.svelte-1v6dhm4 button.jse-expand-items:where(.svelte-1v6dhm4) {
  font-family: inherit;
  font-size: inherit;
  color: var(--jse-collapsed-items-link-color, rgba(0, 0, 0, 0.38));
  background: none;
  border: none;
  padding: 0;
  text-decoration: underline;
  cursor: pointer;
}
div.jse-collapsed-items.svelte-1v6dhm4 button.jse-expand-items:where(.svelte-1v6dhm4):hover, div.jse-collapsed-items.svelte-1v6dhm4 button.jse-expand-items:where(.svelte-1v6dhm4):focus {
  color: var(--jse-collapsed-items-link-color-highlight, #ee5341);
}`);var LEe=Te('<button type="button" class="jse-expand-items svelte-1v6dhm4"> </button>'),DEe=Te('<div role="none"><div><div class="jse-text svelte-1v6dhm4"> </div> <!></div></div>');function VEe(t,e){Ft(e,!1);var n=le(void 0,!0),r=le(void 0,!0),o=le(void 0,!0),i=le(void 0,!0),s=le(void 0,!0),a=$(e,"visibleSections",9),l=$(e,"sectionIndex",9),c=$(e,"total",9),u=$(e,"path",9),d=$(e,"selection",9),f=$(e,"onExpandSection",9),h=$(e,"context",9);je(()=>(E(a()),E(l())),()=>{O(n,a()[l()])}),je(()=>p(n),()=>{O(r,p(n).end)}),je(()=>(E(a()),E(l()),E(c())),()=>{O(o,a()[l()+1]?a()[l()+1].start:c())}),je(()=>(E(h()),E(d()),E(u()),p(r)),()=>{O(i,hb(h().getJson(),d(),u().concat(String(p(r)))))}),je(()=>(p(r),p(o)),()=>{O(s,function(k,w){var S={start:k,end:Math.min(n_(k),w)},C=Math.max(L2((k+w)/2),k),j={start:C,end:Math.min(n_(C),w)},A=L2(w),_=A===w?A-cb:A,R={start:Math.max(_,k),end:w},T=[S],z=j.start>=S.end&&j.end<=R.start;return z&&T.push(j),R.start>=(z?j.end:S.end)&&T.push(R),T}(p(r),p(o)))}),xr(),gn(!0);var m,g,v=DEe(),y=ae(v),b=ae(y),x=ae(b);Wo(ye(b,2),1,()=>p(s),ui,(k,w)=>{var S=LEe(),C=ae(S);rt(()=>{var j,A;return Ut(C,"show ".concat((p(w),(j=fe(()=>p(w).start))!==null&&j!==void 0?j:""),"-").concat((p(w),(A=fe(()=>p(w).end))!==null&&A!==void 0?A:"")))}),Xe("click",S,()=>f()(u(),p(w))),oe(k,S)}),rt((k,w)=>{var S,C;m=mn(v,1,"jse-collapsed-items svelte-1v6dhm4",null,m,k),g=Ll(v,"",g,w),Ut(x,"Items ".concat((S=p(r))!==null&&S!==void 0?S:"","-").concat((C=p(o))!==null&&C!==void 0?C:""))},[()=>({"jse-selected":p(i)}),()=>({"--level":(E(u()),fe(()=>u().length+2))})]),Xe("mousemove",v,function(k){k.stopPropagation()}),oe(t,v),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-context-menu-pointer.svelte-10ijtzr {
  position: absolute;
  top: calc(-0.5 * var(--jse-context-menu-pointer-size, calc(1em + 4px)));
  right: calc(-0.5 * var(--jse-context-menu-pointer-size, calc(1em + 4px)));
  width: var(--jse-context-menu-pointer-size, calc(1em + 4px));
  height: var(--jse-context-menu-pointer-size, calc(1em + 4px));
  padding: 0;
  margin: 0;
  cursor: pointer;
  background: transparent;
  border-radius: 2px;
  background: var(--jse-context-menu-pointer-hover-background, #b2b2b2);
  color: var(--jse-context-menu-pointer-color, var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff)));
  border: none;
  box-shadow: var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));
}
.jse-context-menu-pointer.jse-root.svelte-10ijtzr {
  top: 0;
  right: calc(-2px - var(--jse-context-menu-pointer-size, calc(1em + 4px)));
}
.jse-context-menu-pointer.jse-insert.svelte-10ijtzr {
  right: -1px;
}
.jse-context-menu-pointer.svelte-10ijtzr:hover {
  background: var(--jse-context-menu-pointer-background-highlight, var(--jse-context-menu-background-highlight, #7a7a7a));
}
.jse-context-menu-pointer.jse-selected.svelte-10ijtzr {
  background: var(--jse-context-menu-pointer-background, var(--jse-context-menu-background, #656565));
}
.jse-context-menu-pointer.jse-selected.svelte-10ijtzr:hover {
  background: var(--jse-context-menu-pointer-background-highlight, var(--jse-context-menu-background-highlight, #7a7a7a));
}`);var BEe=Te('<button type="button"><!></button>');function Of(t,e){Ft(e,!1);var n=$(e,"root",9,!1),r=$(e,"insert",9,!1),o=$(e,"selected",9),i=$(e,"onContextMenu",9);gn(!0);var s,a=BEe();Yn(ae(a),{get data(){return qd}}),rt(l=>{s=mn(a,1,"jse-context-menu-pointer svelte-10ijtzr",null,s,l),wr(a,"title",RI)},[()=>({"jse-root":n(),"jse-insert":r(),"jse-selected":o()})]),Xe("click",a,function(l){for(var c=l.target;c&&c.nodeName!=="BUTTON";)c=c.parentNode;c&&i()({anchor:c,left:0,top:0,width:xd,height:wd,offsetTop:2,offsetLeft:0,showTip:!0})}),oe(t,a),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-key.svelte-1n4cez4 {
  display: inline-block;
  min-width: 2em;
  padding: 0 5px;
  box-sizing: border-box;
  outline: none;
  border-radius: 1px;
  vertical-align: top;
  color: var(--jse-key-color, #1a1a1a);
  word-break: normal;
  overflow-wrap: normal;
  white-space: pre-wrap;
}
.jse-key.jse-empty.svelte-1n4cez4 {
  min-width: 3em;
  outline: 1px dotted var(--jse-tag-background, rgba(0, 0, 0, 0.2));
  -moz-outline-radius: 2px;
}
.jse-key.jse-empty.svelte-1n4cez4::after {
  pointer-events: none;
  color: var(--jse-tag-background, rgba(0, 0, 0, 0.2));
  content: "key";
}`);var zEe=Te('<div role="none" data-type="selectable-key"><!></div>'),HEe=Te("<!> <!>",1),FEe=Te('<div role="button" tabindex="-1" class="jse-value" data-type="selectable-value"></div>');function rQ(t,e){Ft(e,!0);var n=Na(()=>hr(e.selection)&&Di(e.selection)),r=Na(()=>e.context.onRenderValue({path:e.path,value:e.value,mode:e.context.mode,truncateTextSize:e.context.truncateTextSize,readOnly:e.context.readOnly,enforceString:e.enforceString,isEditing:p(n),parser:e.context.parser,normalization:e.context.normalization,selection:e.selection,searchResultItems:e.searchResultItems,onPatch:e.context.onPatch,onPasteJson:e.context.onPasteJson,onSelect:e.context.onSelect,onFind:e.context.onFind,findNextInside:e.context.findNextInside,focus:e.context.focus})),o=En();Wo(Ct(o),17,()=>p(r),ui,(i,s)=>{var a=En(),l=Ct(a),c=d=>{var f=Na(()=>p(s).action),h=FEe();Gs(h,(m,g)=>{var v;return(v=p(f))===null||v===void 0?void 0:v(m,g)},()=>p(s).props),oe(d,h)},u=d=>{var f=Na(()=>p(s).component),h=En();iX(Ct(h),()=>p(f),(m,g)=>{g(m,ph(()=>p(s).props))}),oe(d,h)};$e(l,d=>{QOe(p(s))?d(c):d(u,!1)}),oe(i,a)}),oe(t,o),qt()}var qEe={selecting:!1,selectionAnchor:void 0,selectionAnchorType:void 0,selectionFocus:void 0,dragging:!1};function WT(t){var{json:e,selection:n,deltaY:r,items:o}=t;if(!n)return{operations:void 0,updatedSelection:void 0,offset:0};var i=r<0?function(u){for(var{json:d,items:f,selection:h,deltaY:m}=u,g=kd(d,h),v=f.findIndex(S=>_n(S.path,g)),y=()=>{var S;return(S=f[b-1])===null||S===void 0?void 0:S.height},b=v,x=0;y()!==void 0&&Math.abs(m)>x+y()/2;)x+=y(),b-=1;var k=f[b].path,w=b-v;return b!==v&&f[b]!==void 0?{beforePath:k,offset:w}:void 0}({json:e,selection:n,deltaY:r,items:o}):function(u){for(var d,{json:f,items:h,selection:m,deltaY:g}=u,v=gh(f,m),y=h.findIndex(_=>_n(_.path,v)),b=0,x=y,k=()=>{var _;return(_=h[x+1])===null||_===void 0?void 0:_.height};k()!==void 0&&Math.abs(g)>b+k()/2;)b+=k(),x+=1;var w=Jn(v),S=xt(f,w),C=Array.isArray(S)?x:x+1,j=(d=h[C])===null||d===void 0?void 0:d.path,A=x-y;return j?{beforePath:j,offset:A}:{append:!0,offset:A}}({json:e,selection:n,deltaY:r,items:o});if(!i||i.offset===0)return{operations:void 0,updatedSelection:void 0,offset:0};var s=function(u,d,f){if(!d)return[];var h="beforePath"in f?f.beforePath:void 0,m="append"in f?f.append:void 0,g=Jn(Et(d)),v=xt(u,g);if(!(m||h&&Mu(h,g)&&h.length>g.length))return[];var y=kd(u,d),b=gh(u,d),x=Nn(y),k=Nn(b),w=h?h[g.length]:void 0;if(!ti(v)){if(Uo(v)){var S=vs(x),C=vs(k),j=w!==void 0?vs(w):v.length;return kye(C-S+1,j<S?z=>({op:"move",from:Wt(g.concat(String(S+z))),path:Wt(g.concat(String(j+z)))}):()=>({op:"move",from:Wt(g.concat(String(S))),path:Wt(g.concat(String(j)))}))}throw new Error("Cannot create move operations: parent must be an Object or Array")}var A=Object.keys(v),_=A.indexOf(x),R=A.indexOf(k),T=m?A.length:w!==void 0?A.indexOf(w):-1;return _!==-1&&R!==-1&&T!==-1?T>_?[...A.slice(_,R+1),...A.slice(T,A.length)].map(z=>Ih(g,z)):[...A.slice(T,_),...A.slice(R+1,A.length)].map(z=>Ih(g,z)):[]}(e,n,i),a=Jn(kd(e,n)),l=xt(e,a);if(Array.isArray(l)){var c=function(u){var d,f,{items:h,json:m,selection:g,offset:v}=u,y=kd(m,g),b=gh(m,g),x=h.findIndex(C=>_n(C.path,y)),k=h.findIndex(C=>_n(C.path,b)),w=(d=h[x+v])===null||d===void 0?void 0:d.path,S=(f=h[k+v])===null||f===void 0?void 0:f.path;return Fs(w,S)}({items:o,json:e,selection:n,offset:i.offset});return{operations:s,updatedSelection:c,offset:i.offset}}return{operations:s,updatedSelection:void 0,offset:i.offset}}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
button.jse-validation-error.svelte-q6a061 {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  padding: 0;
  margin: 0;
  vertical-align: top;
  display: inline-flex;
  color: var(--jse-error-color, #ee5341);
}

button.jse-validation-info.svelte-q6a061 {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  padding: 0;
  margin: 0;
  vertical-align: top;
  display: inline-flex;
  color: var(--jse-info-color, #4f91ff);
}

button.jse-validation-warning.svelte-q6a061 {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  padding: 0;
  margin: 0;
  vertical-align: top;
  display: inline-flex;
  color: var(--jse-warning-color, #fdc539);
}`);var UEe=Te('<button type="button"><!></button>');function mv(t,e){Ft(e,!1);var n=le(),r=Jh("absolute-popup"),o=$(e,"validationError",8),i=$(e,"onExpand",8);je(()=>E(o()),()=>{O(n,XOe(o())&&o().isChildError?"Contains invalid data":o().message)}),xr(),gn();var s=UEe();Yn(ae(s),{get data(){return dm}}),ps(()=>Xe("click",s,function(){for(var a,l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];(a=i())===null||a===void 0||a.apply(this,c)})),Gs(s,(a,l)=>Yv==null?void 0:Yv(a,l),()=>nt({text:p(n)},r)),rt(()=>{var a;return mn(s,1,"jse-validation-".concat((E(o()),(a=fe(()=>o().severity))!==null&&a!==void 0?a:"")),"svelte-q6a061")}),oe(t,s),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-expand.svelte-1qi6rc1 {
  width: var(--jse-indent-size, calc(1em + 4px));
  padding: 0;
  margin: 0;
  border: none;
  cursor: pointer;
  background: transparent;
  color: var(--jse-delimiter-color, rgba(0, 0, 0, 0.38));
  font-size: var(--jse-font-size-mono, 14px);
  height: var(--jse-line-height, calc(1em + 4px));
}
.jse-expand.svelte-1qi6rc1:hover {
  opacity: 0.8;
}

.jse-meta.svelte-1qi6rc1,
.jse-separator.svelte-1qi6rc1,
.jse-index.svelte-1qi6rc1,
.jse-bracket.svelte-1qi6rc1 {
  vertical-align: top;
  color: var(--jse-delimiter-color, rgba(0, 0, 0, 0.38));
}

.jse-index.svelte-1qi6rc1 {
  padding: 0 calc(0.5 * var(--jse-padding, 10px));
}

.jse-bracket.svelte-1qi6rc1 {
  padding: 0 2px;
}
.jse-bracket.jse-expanded.svelte-1qi6rc1 {
  padding-right: var(--jse-padding, 10px);
}

.jse-identifier.svelte-1qi6rc1 {
  vertical-align: top;
  position: relative;
}

.jse-json-node.svelte-1qi6rc1 {
  position: relative;
  color: var(--jse-text-color, #4d4d4d);
}
.jse-json-node.jse-root.svelte-1qi6rc1 {
  min-height: 100%;
  padding-bottom: 2px;
  box-sizing: border-box;
}
.jse-json-node.jse-root.svelte-1qi6rc1 > .jse-contents-outer:where(.svelte-1qi6rc1) > .jse-contents:where(.svelte-1qi6rc1) {
  padding-left: 0;
}
.jse-json-node.svelte-1qi6rc1 .jse-props:where(.svelte-1qi6rc1),
.jse-json-node.svelte-1qi6rc1 .jse-items:where(.svelte-1qi6rc1) {
  position: relative;
}
.jse-json-node.svelte-1qi6rc1 .jse-header-outer:where(.svelte-1qi6rc1),
.jse-json-node.svelte-1qi6rc1 .jse-footer-outer:where(.svelte-1qi6rc1) {
  display: flex;
  margin-left: calc(var(--level) * var(--jse-indent-size, calc(1em + 4px)));
}
.jse-json-node.svelte-1qi6rc1 .jse-header:where(.svelte-1qi6rc1) {
  position: relative;
}
.jse-json-node.svelte-1qi6rc1 .jse-header:where(.svelte-1qi6rc1) .jse-meta:where(.svelte-1qi6rc1) > .jse-meta-inner:where(.svelte-1qi6rc1) {
  display: flex;
  justify-content: center;
}
.jse-json-node.svelte-1qi6rc1 .jse-contents-outer:where(.svelte-1qi6rc1) {
  display: flex;
  margin-left: calc(var(--level) * var(--jse-indent-size, calc(1em + 4px)));
}
.jse-json-node.svelte-1qi6rc1 .jse-header:where(.svelte-1qi6rc1),
.jse-json-node.svelte-1qi6rc1 .jse-contents:where(.svelte-1qi6rc1) {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
}
.jse-json-node.svelte-1qi6rc1 .jse-contents:where(.svelte-1qi6rc1) {
  padding-left: var(--jse-indent-size, calc(1em + 4px));
  cursor: var(--jse-contents-cursor, pointer);
}
.jse-json-node.svelte-1qi6rc1 .jse-contents:where(.svelte-1qi6rc1) .jse-value-outer:where(.svelte-1qi6rc1) {
  display: inline-flex;
}
.jse-json-node.svelte-1qi6rc1 .jse-footer:where(.svelte-1qi6rc1) {
  display: inline-flex;
  padding-left: calc(var(--jse-indent-size, calc(1em + 4px)) + 5px);
}
.jse-json-node.svelte-1qi6rc1 .jse-header:where(.svelte-1qi6rc1),
.jse-json-node.svelte-1qi6rc1 .jse-contents:where(.svelte-1qi6rc1),
.jse-json-node.svelte-1qi6rc1 .jse-footer:where(.svelte-1qi6rc1) {
  background: var(--jse-contents-background-color, transparent);
}
.jse-json-node.svelte-1qi6rc1 .jse-insert-selection-area:where(.svelte-1qi6rc1) {
  padding: 0 calc(0.5 * var(--jse-padding, 10px));
  flex: 1;
}
.jse-json-node.svelte-1qi6rc1 .jse-insert-selection-area.jse-inside:where(.svelte-1qi6rc1) {
  display: inline-flex;
  align-items: center;
}
.jse-json-node.svelte-1qi6rc1 .jse-insert-selection-area.jse-after:where(.svelte-1qi6rc1) {
  display: flex;
  align-items: flex-end;
}
.jse-json-node.svelte-1qi6rc1 .jse-context-menu-pointer-anchor:where(.svelte-1qi6rc1) {
  position: relative;
}
.jse-json-node.svelte-1qi6rc1 .jse-insert-area:where(.svelte-1qi6rc1) {
  display: flex;
  position: relative;
  z-index: 1;
  margin-left: calc(var(--level) * var(--jse-indent-size, calc(1em + 4px)));
  max-width: 250px;
  min-width: 100px;
  height: 0;
  margin-right: calc(0.5 * var(--jse-padding, 10px));
  outline: 1px solid;
}
.jse-json-node.svelte-1qi6rc1 .jse-insert-area.jse-hovered:where(.svelte-1qi6rc1) {
  outline-color: var(--jse-context-menu-pointer-hover-background, #b2b2b2);
}
.jse-json-node.svelte-1qi6rc1 .jse-key-outer:where(.svelte-1qi6rc1) {
  position: relative;
}
.jse-json-node.svelte-1qi6rc1 .jse-key-outer:where(.svelte-1qi6rc1):hover,
.jse-json-node.svelte-1qi6rc1 .jse-value-outer:where(.svelte-1qi6rc1):hover,
.jse-json-node.svelte-1qi6rc1 .jse-meta:where(.svelte-1qi6rc1):hover,
.jse-json-node.svelte-1qi6rc1 .jse-footer:where(.svelte-1qi6rc1):hover {
  background: var(--jse-hover-background-color, rgba(0, 0, 0, 0.06));
  cursor: var(--jse-contents-cursor, pointer);
}
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-value-outer,
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-meta,
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-header,
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-contents,
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-header,
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-contents,
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-footer {
  background: var(--jse-hover-background-color, rgba(0, 0, 0, 0.06));
  cursor: var(--jse-contents-cursor, pointer);
}
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-value-outer .jse-value-outer,
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-value-outer .jse-meta,
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-meta .jse-value-outer,
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-meta .jse-meta,
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-header .jse-value-outer,
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-header .jse-meta,
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-contents .jse-value-outer,
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-contents .jse-meta,
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-header .jse-value-outer,
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-header .jse-meta,
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-contents .jse-value-outer,
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-contents .jse-meta,
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-footer .jse-value-outer,
.jse-json-node.jse-hovered.svelte-1qi6rc1:not(.jse-selected):not(.jse-selected-value) .jse-footer .jse-meta {
  background: none;
}
.jse-json-node.jse-selected.svelte-1qi6rc1 .jse-header:where(.svelte-1qi6rc1),
.jse-json-node.jse-selected.svelte-1qi6rc1 .jse-contents:where(.svelte-1qi6rc1),
.jse-json-node.jse-selected.svelte-1qi6rc1 .jse-footer:where(.svelte-1qi6rc1) {
  background: var(--jse-selection-background-color, #d3d3d3);
  cursor: var(--jse-contents-selected-cursor, grab);
}
.jse-json-node.jse-selected.svelte-1qi6rc1 .jse-key-outer:where(.svelte-1qi6rc1):hover,
.jse-json-node.jse-selected.svelte-1qi6rc1 .jse-value-outer:where(.svelte-1qi6rc1):hover,
.jse-json-node.jse-selected.svelte-1qi6rc1 .jse-meta:where(.svelte-1qi6rc1):hover,
.jse-json-node.jse-selected.svelte-1qi6rc1 .jse-footer:where(.svelte-1qi6rc1):hover {
  background: inherit;
  cursor: inherit;
}
.jse-json-node.svelte-1qi6rc1 .jse-key-outer.jse-selected-key:where(.svelte-1qi6rc1) {
  background: var(--jse-selection-background-color, #d3d3d3);
  cursor: var(--jse-contents-selected-cursor, grab);
}
.jse-json-node.jse-selected-value.svelte-1qi6rc1 .jse-value-outer,
.jse-json-node.jse-selected-value.svelte-1qi6rc1 .jse-meta,
.jse-json-node.jse-selected-value.svelte-1qi6rc1 .jse-items .jse-header,
.jse-json-node.jse-selected-value.svelte-1qi6rc1 .jse-items .jse-contents,
.jse-json-node.jse-selected-value.svelte-1qi6rc1 .jse-props .jse-header,
.jse-json-node.jse-selected-value.svelte-1qi6rc1 .jse-props .jse-contents,
.jse-json-node.jse-selected-value.svelte-1qi6rc1 .jse-footer {
  background: var(--jse-selection-background-color, #d3d3d3);
  cursor: var(--jse-contents-selected-cursor, grab);
}
.jse-json-node.jse-selected-value.svelte-1qi6rc1 .jse-value-outer .jse-key-outer:hover,
.jse-json-node.jse-selected-value.svelte-1qi6rc1 .jse-meta .jse-key-outer:hover,
.jse-json-node.jse-selected-value.svelte-1qi6rc1 .jse-items .jse-header .jse-key-outer:hover,
.jse-json-node.jse-selected-value.svelte-1qi6rc1 .jse-items .jse-contents .jse-key-outer:hover,
.jse-json-node.jse-selected-value.svelte-1qi6rc1 .jse-props .jse-header .jse-key-outer:hover,
.jse-json-node.jse-selected-value.svelte-1qi6rc1 .jse-props .jse-contents .jse-key-outer:hover,
.jse-json-node.jse-selected-value.svelte-1qi6rc1 .jse-footer .jse-key-outer:hover {
  background: inherit;
  cursor: inherit;
}
.jse-json-node.jse-readonly.svelte-1qi6rc1 {
  --jse-contents-selected-cursor: pointer;
}
.jse-json-node.svelte-1qi6rc1 .jse-insert-area.jse-selected:where(.svelte-1qi6rc1) {
  outline-color: var(--jse-context-menu-pointer-background, var(--jse-context-menu-background, #656565));
}`);var oo=pA(()=>qEe),WEe=Te('<div class="jse-separator svelte-1qi6rc1">:</div>'),KEe=Te('<div class="jse-bracket svelte-1qi6rc1">[</div> <!> &nbsp;',1),JEe=Te('<div class="jse-bracket svelte-1qi6rc1">[</div> <!> <div class="jse-bracket svelte-1qi6rc1">]</div>',1),GEe=Te('<div class="jse-context-menu-pointer-anchor svelte-1qi6rc1"><!></div>'),YEe=Te('<div role="none" class="jse-insert-selection-area jse-inside svelte-1qi6rc1" data-type="insert-selection-area-inside"></div>'),XEe=Te('<div role="none" class="jse-insert-selection-area jse-after svelte-1qi6rc1" data-type="insert-selection-area-after"></div>'),QEe=Te('<div data-type="insert-selection-area-inside"><!></div>'),ZEe=Te('<div slot="identifier" class="jse-identifier svelte-1qi6rc1"><div class="jse-index svelte-1qi6rc1"> </div></div>'),e_e=Te("<!> <!>",1),t_e=Te('<div role="none" class="jse-insert-selection-area jse-after svelte-1qi6rc1" data-type="insert-selection-area-after"></div>'),n_e=Te('<div class="jse-items svelte-1qi6rc1"><!> <!></div> <div class="jse-footer-outer svelte-1qi6rc1"><div data-type="selectable-value" class="jse-footer svelte-1qi6rc1"><span class="jse-bracket svelte-1qi6rc1">]</span></div> <!></div>',1),r_e=Te('<div class="jse-header-outer svelte-1qi6rc1"><div class="jse-header svelte-1qi6rc1"><button type="button" class="jse-expand svelte-1qi6rc1" title="Expand or collapse this array (Ctrl+Click to expand/collapse recursively)"><!></button> <!> <!> <div class="jse-meta svelte-1qi6rc1"><div class="jse-meta-inner svelte-1qi6rc1" data-type="selectable-value"><!></div></div> <!></div> <!> <!></div> <!>',1),o_e=Te('<div class="jse-separator svelte-1qi6rc1">:</div>'),i_e=Te('<div class="jse-bracket jse-expanded svelte-1qi6rc1">&lbrace;</div>'),s_e=Te('<div class="jse-bracket svelte-1qi6rc1">&lbrace;</div> <!> <div class="jse-bracket svelte-1qi6rc1">&rbrace;</div>',1),a_e=Te('<div class="jse-context-menu-pointer-anchor svelte-1qi6rc1"><!></div>'),l_e=Te('<div role="none" class="jse-insert-selection-area jse-inside svelte-1qi6rc1" data-type="insert-selection-area-inside"></div>'),c_e=Te('<div role="none" class="jse-insert-selection-area jse-after svelte-1qi6rc1" data-type="insert-selection-area-after"></div>'),u_e=Te('<div data-type="insert-selection-area-inside"><!></div>'),d_e=Te('<div slot="identifier"><!></div>'),f_e=Te('<div role="none" class="jse-insert-selection-area jse-after svelte-1qi6rc1" data-type="insert-selection-area-after"></div>'),h_e=Te('<div class="jse-props svelte-1qi6rc1"><!> <!></div> <div class="jse-footer-outer svelte-1qi6rc1"><div data-type="selectable-value" class="jse-footer svelte-1qi6rc1"><div class="jse-bracket svelte-1qi6rc1">&rbrace;</div></div> <!></div>',1),p_e=Te('<div class="jse-header-outer svelte-1qi6rc1"><div class="jse-header svelte-1qi6rc1"><button type="button" class="jse-expand svelte-1qi6rc1" title="Expand or collapse this object (Ctrl+Click to expand/collapse recursively)"><!></button> <!> <!> <div class="jse-meta svelte-1qi6rc1" data-type="selectable-value"><div class="jse-meta-inner svelte-1qi6rc1"><!></div></div> <!></div> <!> <!></div> <!>',1),m_e=Te('<div class="jse-separator svelte-1qi6rc1">:</div>'),g_e=Te('<div class="jse-context-menu-pointer-anchor svelte-1qi6rc1"><!></div>'),v_e=Te('<div role="none" class="jse-insert-selection-area jse-after svelte-1qi6rc1" data-type="insert-selection-area-after"></div>'),y_e=Te('<div class="jse-contents-outer svelte-1qi6rc1"><div class="jse-contents svelte-1qi6rc1"><!> <!> <div class="jse-value-outer svelte-1qi6rc1"><!></div> <!></div> <!> <!></div>'),b_e=Te('<div data-type="insert-selection-area-after"><!></div>'),w_e=Te('<div role="treeitem" tabindex="-1"><!> <!></div>');function p_(t,e){Ft(e,!1);var n=le(void 0,!0),r=le(void 0,!0),o=$(e,"pointer",9),i=$(e,"value",9),s=$(e,"state",9),a=$(e,"validationErrors",9),l=$(e,"searchResults",9),c=$(e,"selection",9),u=$(e,"context",9),d=$(e,"onDragSelectionStart",9),f=Ui("jsoneditor:JSONNode"),h=le(void 0,!0),m=void 0,g=le(void 0,!0),v=le(void 0,!0),y=le(void 0,!0),b=le(void 0,!0),x=le(void 0,!0),k=le(void 0,!0),w=le(void 0,!0);function S(te){te.stopPropagation();var ee=II(te);u().onExpand(p(v),!p(y),ee)}function C(){u().onExpand(p(v),!0)}function j(te,ee){var be=Pw(p(v),Object.keys(i()),te,ee);return u().onPatch(be),Nn(Ba(be[0].path))}function A(te){u().onDrag(te)}function _(te){oo().selecting&&(oo(oo().selecting=!1),te.stopPropagation()),u().onDragEnd(),document.removeEventListener("mousemove",A,!0),document.removeEventListener("mouseup",_)}function R(){var te;return((te=u().findElement([]))===null||te===void 0||(te=te.getBoundingClientRect())===null||te===void 0?void 0:te.top)||0}function T(te,ee){var be=R()-te.initialContentTop;return ee.clientY-te.initialClientY-be}function z(te){if(!u().readOnly&&c()){var ee=Jn(Et(c()));if(_n(p(v),ee)){var be=function(Y,q){var Ae=[];function Ee(V){var J=p(v).concat(V),se=u().findElement(J);se!==void 0&&Ae.push({path:J,height:se.clientHeight})}if(Array.isArray(i())){var pe=u().getJson();if(pe===void 0)return;var Pe=kd(pe,Y),we=gh(pe,Y),Re=parseInt(Nn(Pe),10),Ne=parseInt(Nn(we),10),_e=q.find(V=>Re>=V.start&&Ne<=V.end);if(!_e)return;var{start:Qe,end:I}=_e;dX(Qe,Math.min(i().length,I),V=>Ee(String(V)))}else Object.keys(i()).forEach(Ee);return Ae}(c(),p(x)||fv);if(f("dragSelectionStart",{selection:c(),items:be}),be){var ne=u().getJson();if(ne!==void 0){var D=kd(ne,c()),L=be.findIndex(Y=>_n(Y.path,D)),{offset:re}=WT({json:ne,selection:u().getSelection(),deltaY:0,items:be});O(g,{initialTarget:te.target,initialClientY:te.clientY,initialContentTop:R(),selectionStartIndex:L,selectionItemsCount:Ph(ne,c()).length,items:be,offset:re,didMoveItems:!1}),oo(oo().dragging=!0),document.addEventListener("mousemove",U,!0),document.addEventListener("mouseup",G)}}else f("Cannot drag the current selection (probably spread over multiple sections)")}else d()(te)}}function U(te){if(p(g)){var ee=u().getJson();if(ee===void 0)return;var be=T(p(g),te),{offset:ne}=WT({json:ee,selection:u().getSelection(),deltaY:be,items:p(g).items});ne!==p(g).offset&&(f("drag selection",ne,be),O(g,nt(nt({},p(g)),{},{offset:ne,didMoveItems:!0})))}}function G(te){if(p(g)){var ee=u().getJson();if(ee===void 0)return;var be=T(p(g),te),{operations:ne,updatedSelection:D}=WT({json:ee,selection:u().getSelection(),deltaY:be,items:p(g).items});if(ne)u().onPatch(ne,(Y,q)=>({state:q,selection:D??c()}));else if(te.target===p(g).initialTarget&&!p(g).didMoveItems){var L=PT(te.target),re=SX(te.target);re&&u().onSelect(MV(L,re))}O(g,void 0),oo(oo().dragging=!1),document.removeEventListener("mousemove",U,!0),document.removeEventListener("mouseup",G)}}function ce(te){te.shiftKey||(te.stopPropagation(),te.preventDefault(),u().onSelect(Xd(p(v))))}function ie(te){te.shiftKey||(te.stopPropagation(),te.preventDefault(),u().onSelect(Pd(p(v))))}function Z(te){u().onSelect(Xd(p(v))),Qr(),u().onContextMenu(te)}function W(te){u().onSelect(Pd(p(v))),Qr(),u().onContextMenu(te)}je(()=>E(o()),()=>{O(v,Ba(o()))}),je(()=>E(o()),()=>{O(n,encodeURIComponent(o()))}),je(()=>E(s()),()=>{O(y,!!Sm(s())&&s().expanded)}),je(()=>(E(i()),E(s())),()=>{O(b,bu(i(),s(),[]))}),je(()=>E(s()),()=>{O(x,Bi(s())?s().visibleSections:void 0)}),je(()=>E(a()),()=>{var te;O(k,(te=a())===null||te===void 0?void 0:te.validationError)}),je(()=>(E(u()),E(c()),p(v)),()=>{O(w,hb(u().getJson(),c(),p(v)))}),je(()=>p(v),()=>{O(r,p(v).length===0)}),xr(),gn(!0);var B,H,K=w_e(),P=ae(K),M=te=>{var ee=r_e(),be=Ct(ee),ne=ae(be),D=ae(ne),L=ae(D),re=Ce=>{Yn(Ce,{get data(){return qd}})},Y=Ce=>{Yn(Ce,{get data(){return B0}})};$e(L,Ce=>{p(y)?Ce(re):Ce(Y,!1)});var q=ye(D,2);Bo(q,e,"identifier",{},null);var Ae=ye(q,2),Ee=Ce=>{oe(Ce,WEe())};$e(Ae,Ce=>{p(r)||Ce(Ee)});var pe=ye(Ae,2),Pe=ae(pe),we=ae(Pe),Re=Ce=>{var Me=KEe();iS(ye(Ct(Me),2),{children:(kt,ht)=>{var dt=rs();rt(()=>{var mt,Sn;return Ut(dt,"".concat((E(i()),(mt=fe(()=>i().length))!==null&&mt!==void 0?mt:""),`
                `).concat((E(i()),(Sn=fe(()=>i().length===1?"item":"items"))!==null&&Sn!==void 0?Sn:"")))}),oe(kt,dt)},$$slots:{default:!0}}),oe(Ce,Me)},Ne=Ce=>{var Me=JEe();iS(ye(Ct(Me),2),{onclick:C,children:(kt,ht)=>{var dt=rs();rt(()=>{var mt,Sn;return Ut(dt,"".concat((E(i()),(mt=fe(()=>i().length))!==null&&mt!==void 0?mt:""),`
                `).concat((E(i()),(Sn=fe(()=>i().length===1?"item":"items"))!==null&&Sn!==void 0?Sn:"")))}),oe(kt,dt)},$$slots:{default:!0}}),oe(Ce,Me)};$e(we,Ce=>{p(y)?Ce(Re):Ce(Ne,!1)});var _e=ye(pe,2),Qe=Ce=>{var Me=GEe();Of(ae(Me),{get root(){return p(r)},selected:!0,get onContextMenu(){return E(u()),fe(()=>u().onContextMenu)}}),oe(Ce,Me)};$e(_e,Ce=>{E(u()),p(w),E(c()),E(hr),E(Dr),E(Di),E(_n),E(Et),p(v),fe(()=>!u().readOnly&&p(w)&&c()&&(hr(c())||Dr(c()))&&!Di(c())&&_n(Et(c()),p(v)))&&Ce(Qe)});var I=ye(ne,2),V=Ce=>{mv(Ce,{get validationError(){return p(k)},onExpand:C})};$e(I,Ce=>{p(k),p(y),fe(()=>p(k)&&(!p(y)||!p(k).isChildError))&&Ce(V)});var J=ye(I,2),se=Ce=>{var Me=YEe();Xe("click",Me,ce),oe(Ce,Me)},xe=Ce=>{var Me=XEe();Xe("click",Me,ie),oe(Ce,Me)};$e(J,Ce=>{p(y)?Ce(se):Ce(xe,!1)});var Fe=ye(be,2),Je=Ce=>{var Me=n_e(),kt=Ct(Me),ht=ae(kt),dt=Mr=>{var An,cr,Pn=QEe(),Bn=ae(Pn),or=jt(()=>(p(w),E(Pi),E(c()),fe(()=>p(w)&&Pi(c()))));Of(Bn,{insert:!0,get selected(){return p(or)},onContextMenu:Z}),rt((Kt,Qn)=>{An=mn(Pn,1,"jse-insert-area jse-inside svelte-1qi6rc1",null,An,Kt),wr(Pn,"title",NT),cr=Ll(Pn,"",cr,Qn)},[()=>({"jse-hovered":p(h)===pp,"jse-selected":p(w)&&Pi(c())}),()=>({"--level":(p(v),fe(()=>p(v).length+1))})]),oe(Mr,Pn)};$e(ht,Mr=>{E(u()),p(h),E(pp),p(w),E(Pi),E(c()),fe(()=>!u().readOnly&&(p(h)===pp||p(w)&&Pi(c())))&&Mr(dt)}),Wo(ye(ht,2),1,()=>p(x)||fv,ui,(Mr,An,cr)=>{var Pn=e_e(),Bn=Ct(Pn);Wo(Bn,1,()=>(E(i()),p(An),p(g),fe(()=>function(Qn,un,St){var In=un.start,kn=Math.min(un.end,Qn.length),Tr=ZU(In,kn);return St&&St.offset!==0?aV(Tr,St.selectionStartIndex,St.selectionItemsCount,St.offset).map((Yr,Fr)=>({index:Yr,gutterIndex:Fr})):Tr.map(Yr=>({index:Yr,gutterIndex:Yr}))}(i(),p(An),p(g)))),Qn=>Qn.index,(Qn,un)=>{var St=jt(()=>(E(Bi),E(a()),p(un),fe(()=>Bi(a())?a().items[p(un).index]:void 0))),In=jt(()=>(E(Kx),E(u()),E(c()),p(v),p(un),fe(()=>Kx(u().getJson(),c(),p(v).concat(String(p(un).index)))))),kn=En(),Tr=Ct(kn),Yr=jt(()=>(E(Qw),E(o()),p(un),fe(()=>Qw(o(),p(un).index)))),Fr=jt(()=>(E(Bi),E(s()),p(un),fe(()=>Bi(s())?s().items[p(un).index]:void 0))),Ro=jt(()=>(E(Bi),E(l()),p(un),fe(()=>Bi(l())?l().items[p(un).index]:void 0)));p_(Tr,{get value(){return E(i()),p(un),fe(()=>i()[p(un).index])},get pointer(){return p(Yr)},get state(){return p(Fr)},get validationErrors(){return p(St)},get searchResults(){return p(Ro)},get selection(){return p(In)},get context(){return u()},onDragSelectionStart:z,$$slots:{identifier:(eo,So)=>{var Ko=ZEe(),fo=ae(Ko),mi=ae(fo);rt(()=>Ut(mi,(p(un),fe(()=>p(un).gutterIndex)))),oe(eo,Ko)}}}),oe(Qn,kn)});var or=ye(Bn,2),Kt=Qn=>{var un=jt(()=>p(x)||fv);VEe(Qn,{get visibleSections(){return p(un)},sectionIndex:cr,get total(){return E(i()),fe(()=>i().length)},get path(){return p(v)},get onExpandSection(){return E(u()),fe(()=>u().onExpandSection)},get selection(){return c()},get context(){return u()}})};$e(or,Qn=>{p(An),E(i()),fe(()=>p(An).end<i().length)&&Qn(Kt)}),oe(Mr,Pn)});var mt=ye(kt,2),Sn=ye(ae(mt),2),Sr=Mr=>{var An=t_e();Xe("click",An,ie),oe(Mr,An)};$e(Sn,Mr=>{p(r)||Mr(Sr)}),oe(Ce,Me)};$e(Fe,Ce=>{p(y)&&Ce(Je)}),Xe("click",D,S),oe(te,ee)},N=te=>{var ee=En(),be=Ct(ee),ne=L=>{var re=p_e(),Y=Ct(re),q=ae(Y),Ae=ae(q),Ee=ae(Ae),pe=mt=>{Yn(mt,{get data(){return qd}})},Pe=mt=>{Yn(mt,{get data(){return B0}})};$e(Ee,mt=>{p(y)?mt(pe):mt(Pe,!1)});var we=ye(Ae,2);Bo(we,e,"identifier",{},null);var Re=ye(we,2),Ne=mt=>{oe(mt,o_e())};$e(Re,mt=>{p(r)||mt(Ne)});var _e=ye(Re,2),Qe=ae(_e),I=ae(Qe),V=mt=>{oe(mt,i_e())},J=mt=>{var Sn=s_e();iS(ye(Ct(Sn),2),{onclick:C,children:(Sr,Mr)=>{var An=rs();rt((cr,Pn)=>Ut(An,"".concat(cr??"",`
                `).concat(Pn??"")),[()=>(E(i()),fe(()=>Object.keys(i()).length)),()=>(E(i()),fe(()=>Object.keys(i()).length===1?"prop":"props"))]),oe(Sr,An)},$$slots:{default:!0}}),oe(mt,Sn)};$e(I,mt=>{p(y)?mt(V):mt(J,!1)});var se=ye(_e,2),xe=mt=>{var Sn=a_e();Of(ae(Sn),{get root(){return p(r)},selected:!0,get onContextMenu(){return E(u()),fe(()=>u().onContextMenu)}}),oe(mt,Sn)};$e(se,mt=>{E(u()),p(w),E(c()),E(hr),E(Dr),E(Di),E(_n),E(Et),p(v),fe(()=>!u().readOnly&&p(w)&&c()&&(hr(c())||Dr(c()))&&!Di(c())&&_n(Et(c()),p(v)))&&mt(xe)});var Fe=ye(q,2),Je=mt=>{mv(mt,{get validationError(){return p(k)},onExpand:C})};$e(Fe,mt=>{p(k),p(y),fe(()=>p(k)&&(!p(y)||!p(k).isChildError))&&mt(Je)});var Ce=ye(Fe,2),Me=mt=>{var Sn=l_e();Xe("click",Sn,ce),oe(mt,Sn)},kt=mt=>{var Sn=En(),Sr=Ct(Sn),Mr=An=>{var cr=c_e();Xe("click",cr,ie),oe(An,cr)};$e(Sr,An=>{p(r)||An(Mr)},!0),oe(mt,Sn)};$e(Ce,mt=>{p(y)?mt(Me):mt(kt,!1)});var ht=ye(Y,2),dt=mt=>{var Sn=h_e(),Sr=Ct(Sn),Mr=ae(Sr),An=or=>{var Kt,Qn,un=u_e(),St=ae(un),In=jt(()=>(p(w),E(Pi),E(c()),fe(()=>p(w)&&Pi(c()))));Of(St,{insert:!0,get selected(){return p(In)},onContextMenu:Z}),rt((kn,Tr)=>{Kt=mn(un,1,"jse-insert-area jse-inside svelte-1qi6rc1",null,Kt,kn),wr(un,"title",NT),Qn=Ll(un,"",Qn,Tr)},[()=>({"jse-hovered":p(h)===pp,"jse-selected":p(w)&&Pi(c())}),()=>({"--level":(p(v),fe(()=>p(v).length+1))})]),oe(or,un)};$e(Mr,or=>{E(u()),p(h),E(pp),p(w),E(Pi),E(c()),fe(()=>!u().readOnly&&(p(h)===pp||p(w)&&Pi(c())))&&or(An)}),Wo(ye(Mr,2),1,()=>(E(i()),p(g),fe(()=>function(or,Kt){var Qn=Object.keys(or);return Kt&&Kt.offset!==0?aV(Qn,Kt.selectionStartIndex,Kt.selectionItemsCount,Kt.offset):Qn}(i(),p(g)))),ui,(or,Kt)=>{var Qn=jt(()=>(E(Qw),E(o()),p(Kt),fe(()=>Qw(o(),p(Kt))))),un=jt(()=>(E(_a),E(l()),p(Kt),fe(()=>_a(l())?l().properties[p(Kt)]:void 0))),St=jt(()=>(E(_a),E(a()),p(Kt),fe(()=>_a(a())?a().properties[p(Kt)]:void 0))),In=jt(()=>(p(v),p(Kt),fe(()=>p(v).concat(p(Kt))))),kn=jt(()=>(E(Kx),E(u()),E(c()),E(p(In)),fe(()=>Kx(u().getJson(),c(),p(In))))),Tr=En(),Yr=Ct(Tr),Fr=jt(()=>(E(_a),E(s()),p(Kt),fe(()=>_a(s())?s().properties[p(Kt)]:void 0)));p_(Yr,{get value(){return E(i()),p(Kt),fe(()=>i()[p(Kt)])},get pointer(){return p(Qn)},get state(){return p(Fr)},get validationErrors(){return p(St)},get searchResults(){return p(un)},get selection(){return p(kn)},get context(){return u()},onDragSelectionStart:z,$$slots:{identifier:(Ro,eo)=>{var So,Ko=d_e(),fo=ae(Ko),mi=jt(()=>(E(IV),E(p(un)),fe(()=>IV(p(un)))));(function(Jo,oi){Ft(oi,!1);var ho=le(void 0,!0),Ue=le(void 0,!0),Cn=$(oi,"pointer",9),yr=$(oi,"key",9),Nr=$(oi,"selection",9),No=$(oi,"searchResultItems",9),Mi=$(oi,"onUpdateKey",9),Ln=$(oi,"context",9),ii=le(void 0,!0);function is(ve){p(Ue)||Ln().readOnly||(ve.preventDefault(),Ln().onSelect(qI(p(ii))))}function po(ve,Ve){var et=Mi()(yr(),Ln().normalization.unescapeValue(ve)),de=Jn(p(ii)).concat(et);Ln().onSelect(Ve===mh.nextInside?Vn(de):Yd(de)),Ve!==mh.self&&Ln().focus()}function Qi(){Ln().onSelect(Yd(p(ii))),Ln().focus()}je(()=>E(Cn()),()=>{O(ii,Ba(Cn()))}),je(()=>(E(Nr()),p(ii)),()=>{O(ho,zi(Nr())&&_n(Nr().path,p(ii)))}),je(()=>(p(ho),E(Nr())),()=>{O(Ue,p(ho)&&Di(Nr()))}),xr(),gn(!0);var Or=HEe(),Fn=Ct(Or),wn=ve=>{var Ve=jt(()=>(E(Ln()),E(yr()),fe(()=>Ln().normalization.escapeValue(yr())))),et=jt(()=>(E(Di),E(Nr()),fe(()=>Di(Nr())?Nr().initialValue:void 0)));IX(ve,{get value(){return p(Ve)},get initialValue(){return p(et)},label:"Edit key",shortText:!0,onChange:po,onCancel:Qi,get onFind(){return E(Ln()),fe(()=>Ln().onFind)}})},Pr=ve=>{var Ve,et=zEe(),de=ae(et),ke=st=>{var Ot=jt(()=>(E(Ln()),E(yr()),fe(()=>Ln().normalization.escapeValue(yr()))));zX(st,{get text(){return p(Ot)},get searchResultItems(){return No()}})},qe=st=>{var Ot=rs();rt($t=>Ut(Ot,$t),[()=>(E(Kv),E(Ln()),E(yr()),fe(()=>Kv(Ln().normalization.escapeValue(yr()))))]),oe(st,Ot)};$e(de,st=>{No()?st(ke):st(qe,!1)}),rt(st=>Ve=mn(et,1,"jse-key svelte-1n4cez4",null,Ve,st),[()=>({"jse-empty":yr()===""})]),Xe("dblclick",et,is),oe(ve,et)};$e(Fn,ve=>{E(Ln()),p(Ue),fe(()=>!Ln().readOnly&&p(Ue))?ve(wn):ve(Pr,!1)});var Go=ye(Fn,2),Co=ve=>{Of(ve,{selected:!0,get onContextMenu(){return E(Ln()),fe(()=>Ln().onContextMenu)}})};$e(Go,ve=>{E(Ln()),p(ho),p(Ue),fe(()=>!Ln().readOnly&&p(ho)&&!p(Ue))&&ve(Co)}),oe(Jo,Or),qt()})(fo,{get pointer(){return p(Qn)},get key(){return p(Kt)},get selection(){return p(kn)},get searchResultItems(){return p(mi)},get context(){return u()},onUpdateKey:j}),rt(Jo=>So=mn(Ko,1,"jse-key-outer svelte-1qi6rc1",null,So,Jo),[()=>({"jse-selected-key":zi(p(kn))&&_n(p(kn).path,p(In))})]),oe(Ro,Ko)}}}),oe(or,Tr)});var cr=ye(Sr,2),Pn=ye(ae(cr),2),Bn=or=>{var Kt=f_e();Xe("click",Kt,ie),oe(or,Kt)};$e(Pn,or=>{p(r)||or(Bn)}),oe(mt,Sn)};$e(ht,mt=>{p(y)&&mt(dt)}),Xe("click",Ae,S),oe(L,re)},D=L=>{var re=y_e(),Y=ae(re),q=ae(Y);Bo(q,e,"identifier",{},null);var Ae=ye(q,2),Ee=se=>{oe(se,m_e())};$e(Ae,se=>{p(r)||se(Ee)});var pe=ye(Ae,2),Pe=ae(pe),we=jt(()=>p(w)?c():void 0),Re=jt(()=>(E(RV),E(l()),fe(()=>RV(l()))));rQ(Pe,{get path(){return p(v)},get value(){return i()},get enforceString(){return p(b)},get selection(){return p(we)},get searchResultItems(){return p(Re)},get context(){return u()}});var Ne=ye(pe,2),_e=se=>{var xe=g_e();Of(ae(xe),{get root(){return p(r)},selected:!0,get onContextMenu(){return E(u()),fe(()=>u().onContextMenu)}}),oe(se,xe)};$e(Ne,se=>{E(u()),p(w),E(c()),E(hr),E(Dr),E(Di),E(_n),E(Et),p(v),fe(()=>!u().readOnly&&p(w)&&c()&&(hr(c())||Dr(c()))&&!Di(c())&&_n(Et(c()),p(v)))&&se(_e)});var Qe=ye(Y,2),I=se=>{mv(se,{get validationError(){return p(k)},onExpand:C})};$e(Qe,se=>{p(k)&&se(I)});var V=ye(Qe,2),J=se=>{var xe=v_e();Xe("click",xe,ie),oe(se,xe)};$e(V,se=>{p(r)||se(J)}),oe(L,re)};$e(be,L=>{E(vr),E(i()),fe(()=>vr(i()))?L(ne):L(D,!1)},!0),oe(te,ee)};$e(P,te=>{E(i()),fe(()=>Array.isArray(i()))?te(M):te(N,!1)});var he=ye(P,2),ge=te=>{var ee,be=b_e(),ne=ae(be),D=jt(()=>(p(w),E(La),E(c()),fe(()=>p(w)&&La(c()))));Of(ne,{insert:!0,get selected(){return p(D)},onContextMenu:W}),rt(L=>{ee=mn(be,1,"jse-insert-area jse-after svelte-1qi6rc1",null,ee,L),wr(be,"title",NT)},[()=>({"jse-hovered":p(h)===Ux,"jse-selected":p(w)&&La(c())})]),oe(te,be)};$e(he,te=>{E(u()),p(h),E(Ux),p(w),E(La),E(c()),fe(()=>!u().readOnly&&(p(h)===Ux||p(w)&&La(c())))&&te(ge)}),rt((te,ee,be)=>{B=mn(K,1,te,"svelte-1qi6rc1",B,ee),wr(K,"data-path",p(n)),wr(K,"aria-selected",p(w)),H=Ll(K,"",H,be)},[()=>_h((E(Ic),p(y),E(u()),p(v),E(i()),fe(()=>Ic("jse-json-node",{"jse-expanded":p(y)},u().onClassName(p(v),i()))))),()=>({"jse-root":p(r),"jse-selected":p(w)&&Dr(c()),"jse-selected-value":p(w)&&hr(c()),"jse-readonly":u().readOnly,"jse-hovered":p(h)===dV}),()=>({"--level":(p(v),fe(()=>p(v).length))})]),Xe("mousedown",K,function(te){if((te.buttons===1||te.buttons===2)&&!((ee=te.target).nodeName==="DIV"&&ee.contentEditable==="true"||te.buttons===1&&xX(te.target,"BUTTON"))){var ee;te.stopPropagation(),te.preventDefault(),u().focus(),document.addEventListener("mousemove",A,!0),document.addEventListener("mouseup",_);var be=PT(te.target),ne=u().getJson(),D=u().getDocumentState();if(!c()||be===Rr.after||be===Rr.inside||c().type!==be&&c().type!==Rr.multi||!hb(ne,c(),p(v)))if(oo(oo().selecting=!0),oo(oo().selectionAnchor=p(v)),oo(oo().selectionAnchorType=be),oo(oo().selectionFocus=p(v)),te.shiftKey){var L=u().getSelection();L&&u().onSelect(Fs(Jp(L),p(v)))}else if(be===Rr.multi)if(p(r)&&te.target.hasAttribute("data-path")){var re=Nn(OX(i(),D));u().onSelect(s_(re))}else u().onSelect(Fs(p(v),p(v)));else ne!==void 0&&u().onSelect(MV(be,p(v)));else te.button===0&&d()(te)}}),Xe("mousemove",K,function(te){if(oo().selecting){te.preventDefault(),te.stopPropagation(),oo().selectionFocus===void 0&&window.getSelection&&window.getSelection().empty();var ee=PT(te.target);_n(p(v),oo().selectionFocus)&&ee===oo().selectionAnchorType||(oo(oo().selectionFocus=p(v)),oo(oo().selectionAnchorType=ee),u().onSelect(Fs(oo().selectionAnchor||oo().selectionFocus,oo().selectionFocus)))}}),Xe("mouseover",K,function(te){oo().selecting||oo().dragging||(te.stopPropagation(),nh(te.target,"data-type","selectable-value")?O(h,dV):nh(te.target,"data-type","selectable-key")?O(h,void 0):nh(te.target,"data-type","insert-selection-area-inside")?O(h,pp):nh(te.target,"data-type","insert-selection-area-after")&&O(h,Ux),clearTimeout(m))}),Xe("mouseout",K,function(te){te.stopPropagation(),m=window.setTimeout(()=>O(h,void 0))}),oe(t,K),qt()}var oQ={prefix:"fas",iconName:"jsoneditor-expand",icon:[512,512,[],"","M 0,448 V 512 h 512 v -64 z M 0,0 V 64 H 512 V 0 Z M 256,96 128,224 h 256 z M 256,416 384,288 H 128 Z"]},iQ={prefix:"fas",iconName:"jsoneditor-collapse",icon:[512,512,[],"","m 0,224 v 64 h 512 v -64 z M 256,192 384,64 H 128 Z M 256,320 128,448 h 256 z"]},KV={prefix:"fas",iconName:"jsoneditor-format",icon:[512,512,[],"","M 0,32 v 64 h 416 v -64 z M 160,160 v 64 h 352 v -64 z M 160,288 v 64 h 288 v -64 z M 0,416 v 64 h 320 v -64 z"]},x_e={prefix:"fas",iconName:"jsoneditor-compact",icon:[512,512,[],"","M 0,32 v 64 h 512 v -64 z M 0,160 v 64 h 512 v -64 z M 0,288 v 64 h 352 v -64 z"]};function k_e(t,e){t.stopPropagation(),e.onCreateObject()}function S_e(t,e){t.stopPropagation(),e.onCreateArray()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-welcome.svelte-1lhnan {
  flex: 1;
  overflow: auto;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  display: flex;
  flex-direction: column;
  align-items: center;
  border-left: var(--jse-main-border, 1px solid #d7d7d7);
  border-right: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-welcome.svelte-1lhnan:last-child {
  border-bottom: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-welcome.svelte-1lhnan .jse-space.jse-before:where(.svelte-1lhnan) {
  flex: 1;
}
.jse-welcome.svelte-1lhnan .jse-space.jse-after:where(.svelte-1lhnan) {
  flex: 2;
}
.jse-welcome.svelte-1lhnan .jse-contents:where(.svelte-1lhnan) {
  display: flex;
  flex-direction: column;
  max-width: 300px;
  margin: 2em var(--jse-padding, 10px);
  gap: var(--jse-padding, 10px);
}
.jse-welcome.svelte-1lhnan .jse-contents:where(.svelte-1lhnan) .jse-welcome-info:where(.svelte-1lhnan) {
  color: var(--jse-panel-color-readonly, #b2b2b2);
}
.jse-welcome.svelte-1lhnan .jse-contents:where(.svelte-1lhnan) button:where(.svelte-1lhnan) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  background: var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));
  color: var(--jse-button-primary-color, #fff);
  padding: var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));
  border-radius: 3px;
}
.jse-welcome.svelte-1lhnan .jse-contents:where(.svelte-1lhnan) button:where(.svelte-1lhnan):hover {
  background: var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff));
}
.jse-welcome.svelte-1lhnan .jse-contents:where(.svelte-1lhnan) button:where(.svelte-1lhnan):disabled {
  background: var(--jse-button-primary-background-disabled, #9d9d9d);
}`);var C_e=(t,e)=>e.onClick(),j_e=Te('<div class="jse-welcome-info svelte-1lhnan">You can paste clipboard data using <b>Ctrl+V</b>, or use the following options:</div> <button class="svelte-1lhnan">Create object</button> <button class="svelte-1lhnan">Create array</button>',1),A_e=Te('<div class="jse-welcome svelte-1lhnan" role="none"><div class="jse-space jse-before svelte-1lhnan"></div> <div class="jse-contents svelte-1lhnan"><div class="jse-welcome-title">Empty document</div> <!></div> <div class="jse-space jse-after svelte-1lhnan"></div></div>');function m_(t,e){var n=typeof t=="string"?t.toLowerCase():t,r=typeof e=="string"?e.toLowerCase():e;return w1e(n,r)}function sQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=xt(t,e);if(Uo(o)){if(n===void 0)throw new Error("Cannot sort: no property selected by which to sort the array");return function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,c=function(d,f){var h={boolean:0,number:1,string:2,undefined:4},m=3;return function(g,v){var y=xt(g,d),b=xt(v,d);if(typeof y!=typeof b){var x,k,w=(x=h[typeof y])!==null&&x!==void 0?x:m,S=(k=h[typeof b])!==null&&k!==void 0?k:m;return w>S?f:w<S?-f:0}return typeof y=="number"||typeof y=="boolean"?y>b?f:y<b?-f:0:$o(y)?0:f*m_(y,b)}}(a,l),u=xt(i,s);return[{op:"replace",path:Wt(s),value:u.slice(0).sort(c)}]}(t,e,n,r)}if(vr(o))return function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=xt(i,s),c=Object.keys(l).slice();c.sort((d,f)=>a*m_(d,f));var u={};return c.forEach(d=>u[d]=l[d]),[{op:"replace",path:Wt(s),value:u}]}(t,e,r);throw new Error("Cannot sort: no array or object")}Mw(["click"]);cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-navigation-bar-dropdown.svelte-1k47orx {
  position: absolute;
  top: 100%;
  left: 0;
  z-index: 3;
  background: var(--jse-navigation-bar-background, var(--jse-background-color, #fff));
  color: var(--jse-navigation-bar-dropdown-color, #656565);
  box-shadow: var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));
  display: flex;
  flex-direction: column;
  max-height: 300px;
  overflow: auto;
  min-width: 80px;
}
.jse-navigation-bar-dropdown.svelte-1k47orx button.jse-navigation-bar-dropdown-item:where(.svelte-1k47orx) {
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  outline: none;
  text-align: left;
  white-space: nowrap;
  box-sizing: border-box;
  padding: calc(0.5 * var(--jse-padding, 10px)) 36px;
}
.jse-navigation-bar-dropdown.svelte-1k47orx button.jse-navigation-bar-dropdown-item:where(.svelte-1k47orx):focus, .jse-navigation-bar-dropdown.svelte-1k47orx button.jse-navigation-bar-dropdown-item:where(.svelte-1k47orx):hover {
  background: var(--jse-navigation-bar-background-highlight, #e5e5e5);
}
.jse-navigation-bar-dropdown.svelte-1k47orx button.jse-navigation-bar-dropdown-item.jse-selected:where(.svelte-1k47orx) {
  background: var(--jse-navigation-bar-dropdown-color, #656565);
  color: var(--jse-navigation-bar-background, var(--jse-background-color, #fff));
}`);var M_e=Te('<button type="button"> </button>'),T_e=Te('<button type="button" class="jse-navigation-bar-dropdown-item svelte-1k47orx">...</button>'),O_e=Te('<div class="jse-navigation-bar-dropdown svelte-1k47orx"><!> <!></div>');function $_e(t,e){Ft(e,!1);var n=$(e,"items",9),r=$(e,"selectedItem",9),o=$(e,"onSelect",9);gn(!0);var i=O_e(),s=ae(i);Wo(s,1,()=>(E(R2),E(n()),fe(()=>R2(n(),100))),c=>c,(c,u)=>{var d,f=M_e(),h=ae(f);rt((m,g,v)=>{d=mn(f,1,"jse-navigation-bar-dropdown-item svelte-1k47orx",null,d,m),wr(f,"title",g),Ut(h,v)},[()=>({"jse-selected":p(u)===r()}),()=>(p(u),fe(()=>p(u).toString())),()=>(E(bd),p(u),fe(()=>bd(p(u).toString(),30)))]),Xe("click",f,ud(()=>o()(p(u)))),oe(c,f)});var a=ye(s,2),l=c=>{var u=T_e();wr(u,"title","Limited to 100 items"),oe(c,u)};$e(a,c=>{E(n()),fe(()=>n().length>100)&&c(l)}),oe(t,i),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-navigation-bar-item.svelte-13sijxb {
  position: relative;
  display: flex;
}
.jse-navigation-bar-item.svelte-13sijxb button.jse-navigation-bar-button:where(.svelte-13sijxb) {
  font-family: inherit;
  font-size: inherit;
  padding: calc(0.5 * var(--jse-padding, 10px)) 2px;
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  outline: none;
  min-width: 2em;
  white-space: nowrap;
}
.jse-navigation-bar-item.svelte-13sijxb button.jse-navigation-bar-button:where(.svelte-13sijxb):focus, .jse-navigation-bar-item.svelte-13sijxb button.jse-navigation-bar-button:where(.svelte-13sijxb):hover {
  background: var(--jse-panel-button-background-highlight, #e0e0e0);
  color: var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));
}
.jse-navigation-bar-item.svelte-13sijxb button.jse-navigation-bar-button.jse-navigation-bar-arrow:where(.svelte-13sijxb) {
  padding: 2px var(--jse-padding, 10px) 0;
}
.jse-navigation-bar-item.svelte-13sijxb button.jse-navigation-bar-button.jse-navigation-bar-arrow.jse-open:where(.svelte-13sijxb) {
  background: var(--jse-navigation-bar-background, var(--jse-background-color, #fff));
  color: var(--jse-navigation-bar-dropdown-color, #656565);
}
.jse-navigation-bar-item.svelte-13sijxb:last-child {
  padding-right: var(--jse-padding, 10px);
}`);var E_e=Te('<button type="button" class="jse-navigation-bar-button svelte-13sijxb"> </button>'),__e=Te('<div class="jse-navigation-bar-item svelte-13sijxb"><button type="button"><!></button> <!></div>');function JV(t,e){Ft(e,!1);var n,r=le(void 0,!0),o=le(void 0,!0),{openAbsolutePopup:i,closeAbsolutePopup:s}=Jh("absolute-popup"),a=$(e,"path",9),l=$(e,"index",9),c=$(e,"onSelect",9),u=$(e,"getItems",9),d=le(void 0,!0),f=le(!1,!0);function h(x){s(n),c()(p(r).concat(x))}je(()=>(E(a()),E(l())),()=>{O(r,a().slice(0,l()))}),je(()=>(E(a()),E(l())),()=>{O(o,a()[l()])}),xr(),gn(!0);var m,g=__e(),v=ae(g);Yn(ae(v),{get data(){return uW}});var y=ye(v,2),b=x=>{var k=E_e(),w=ae(k);rt(()=>Ut(w,p(o))),Xe("click",k,()=>h(p(o))),oe(x,k)};$e(y,x=>{p(o)!==void 0&&x(b)}),uo(g,x=>O(d,x),()=>p(d)),rt(x=>m=mn(v,1,"jse-navigation-bar-button jse-navigation-bar-arrow svelte-13sijxb",null,m,x),[()=>({"jse-open":p(f)})]),Xe("click",v,function(){if(p(d)){O(f,!0);var x={items:u()(p(r)),selectedItem:p(o),onSelect:h};n=i($_e,x,{anchor:p(d),closeOnOuterClick:!0,onClose:()=>{O(f,!1)}})}}),oe(t,g),qt()}function GI(t){var e,n;if(navigator.clipboard)return navigator.clipboard.writeText(t);if((e=(n=document).queryCommandSupported)!==null&&e!==void 0&&e.call(n,"copy")){var r=document.createElement("textarea");r.value=t,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select();try{document.execCommand("copy")}catch(o){console.error(o)}finally{document.body.removeChild(r)}return Promise.resolve()}return console.error("Copy failed."),Promise.resolve()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-navigation-bar-path-editor.svelte-uyexy4 {
  flex: 1;
  display: flex;
  border: var(--jse-edit-outline, 2px solid #656565);
  background: var(--jse-background-color, #fff);
}
.jse-navigation-bar-path-editor.svelte-uyexy4 input.jse-navigation-bar-text:where(.svelte-uyexy4) {
  flex: 1;
  font-family: inherit;
  font-size: inherit;
  padding: 0 5px 1px;
  background: var(--jse-background-color, #fff);
  color: var(--jse-text-color, #4d4d4d);
  border: none;
  outline: none;
}
.jse-navigation-bar-path-editor.svelte-uyexy4 button:where(.svelte-uyexy4) {
  border: none;
  background: var(--jse-background-color, #fff);
  cursor: pointer;
  font-family: inherit;
  font-size: 80%;
  color: inherit;
}
.jse-navigation-bar-path-editor.svelte-uyexy4 button.jse-navigation-bar-copy.copied:where(.svelte-uyexy4) {
  color: var(--message-success-background, #9ac45d);
}
.jse-navigation-bar-path-editor.svelte-uyexy4 button.jse-navigation-bar-validation-error:where(.svelte-uyexy4) {
  color: var(--jse-error-color, #ee5341);
}
.jse-navigation-bar-path-editor.error.svelte-uyexy4 {
  border-color: var(--jse-error-color, #ee5341);
}
.jse-navigation-bar-path-editor.error.svelte-uyexy4 input.jse-navigation-bar-text:where(.svelte-uyexy4) {
  color: var(--jse-error-color, #ee5341);
}
.jse-navigation-bar-path-editor.svelte-uyexy4 .jse-copied-text:where(.svelte-uyexy4) {
  background: var(--message-success-background, #9ac45d);
  color: var(--jse-message-success-color, #fff);
  position: relative;
  margin: 2px;
  padding: 0 5px;
  border-radius: 3px;
}`);var P_e=Te('<button type="button" class="jse-navigation-bar-validation-error svelte-uyexy4"><!></button>'),I_e=Te('<div class="jse-copied-text svelte-uyexy4">Copied!</div>'),R_e=Te('<div><input type="text" class="jse-navigation-bar-text svelte-uyexy4"/> <!> <!> <button type="button" title="Copy selected path to the clipboard"><!></button></div>');function N_e(t,e){Ft(e,!1);var n=le(),r=Jh("absolute-popup"),o=$(e,"path",8),i=$(e,"pathParser",8),s=$(e,"onChange",8),a=$(e,"onClose",8),l=$(e,"onError",8),c=$(e,"pathExists",8),u=le(),d=le(),f=le(!1),h=void 0,m=le(!1);function g(){p(u).focus()}function v(_){try{var R=i().parse(_);return function(T){if(!c()(T))throw new Error("Path does not exist in current document")}(R),{path:R,error:void 0}}catch(T){return{path:void 0,error:T}}}Ls(()=>{g()}),Ul(()=>{clearTimeout(h)}),je(()=>(E(i()),E(o())),()=>{O(d,i().stringify(o()))}),je(()=>(p(f),p(d)),()=>{O(n,p(f)?v(p(d)).error:void 0)}),xr(),gn();var y,b=R_e(),x=ae(b);uo(x,_=>O(u,_),()=>p(u));var k=ye(x,2),w=_=>{var R=P_e();Yn(ae(R),{get data(){return dm}}),Gs(R,(T,z)=>Yv==null?void 0:Yv(T,z),()=>nt({text:String(p(n)||"")},r)),oe(_,R)};$e(k,_=>{p(n)&&_(w)});var S=ye(k,2),C=_=>{oe(_,I_e())};$e(S,_=>{p(m)&&_(C)});var j,A=ye(S,2);Yn(ae(A),{get data(){return Gf}}),rt((_,R)=>{y=mn(b,1,"jse-navigation-bar-path-editor svelte-uyexy4",null,y,_),km(x,p(d)),j=mn(A,1,"jse-navigation-bar-copy svelte-uyexy4",null,j,R)},[()=>({error:p(n)}),()=>({copied:p(m)})]),Xe("keydown",x,ud(function(_){var R=Gd(_);if(R==="Escape"&&(_.preventDefault(),a()()),R==="Enter"){_.preventDefault(),O(f,!0);var T=v(p(d));T.path!==void 0?s()(T.path):l()(T.error)}})),Xe("input",x,function(_){O(d,_.currentTarget.value)}),Xe("click",A,function(){GI(p(d)),O(m,!0),h=window.setTimeout(()=>O(m,!1),1e3),g()}),oe(t,b),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-navigation-bar.svelte-hjhal6 {
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  background: var(--jse-panel-background, #ebebeb);
  color: var(--jse-panel-button-color, inherit);
  padding: 0;
  margin: 0;
  display: flex;
  overflow: auto;
  border-left: var(--jse-main-border, 1px solid #d7d7d7);
  border-right: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-navigation-bar.svelte-hjhal6 .jse-navigation-bar-edit:where(.svelte-hjhal6) {
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  padding: calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);
  color: var(--jse-panel-color-readonly, #b2b2b2);
  background: transparent;
  border: none;
  display: flex;
  cursor: pointer;
  outline: none;
  align-items: center;
}
.jse-navigation-bar.svelte-hjhal6 .jse-navigation-bar-edit.flex:where(.svelte-hjhal6) {
  flex: 1;
}
.jse-navigation-bar.svelte-hjhal6 .jse-navigation-bar-edit:where(.svelte-hjhal6):focus, .jse-navigation-bar.svelte-hjhal6 .jse-navigation-bar-edit:where(.svelte-hjhal6):hover, .jse-navigation-bar.svelte-hjhal6 .jse-navigation-bar-edit.editing:where(.svelte-hjhal6) {
  background: var(--jse-panel-button-background-highlight, #e0e0e0);
  color: var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));
  transition: color 0.2s ease-in, background 0.2s ease-in;
}
.jse-navigation-bar.svelte-hjhal6 .jse-navigation-bar-edit:where(.svelte-hjhal6) .jse-navigation-bar-space:where(.svelte-hjhal6) {
  flex: 1;
  text-align: left;
}`);var L_e=Te("<!> <!>",1),D_e=Te('<div class="jse-navigation-bar svelte-hjhal6"><!> <button type="button"><span class="jse-navigation-bar-space svelte-hjhal6"> </span> <!></button></div>');function V_e(t,e){Ft(e,!1);var n=le(void 0,!0),r=le(void 0,!0),o=Ui("jsoneditor:NavigationBar"),i=$(e,"json",9),s=$(e,"selection",9),a=$(e,"onSelect",9),l=$(e,"onError",9),c=$(e,"pathParser",9),u=le(void 0,!0),d=le(!1,!0);function f(R){o("get items for path",R);var T=xt(i(),R);if(Array.isArray(T))return ZU(0,T.length).map(String);if(vr(T)){var z=Object.keys(T).slice(0);return z.sort(m_),z}return[]}function h(R){return Va(i(),R)}function m(R){o("select path",JSON.stringify(R)),a()(Fs(R,R))}function g(){O(d,!1)}function v(R){g(),m(R)}je(()=>(E(s()),Et),()=>{O(n,s()?Et(s()):[])}),je(()=>(E(i()),p(n)),()=>{O(r,$o(xt(i(),p(n))))}),je(()=>p(n),()=>{p(n),setTimeout(()=>{if(p(u)&&p(u).scrollTo){var R=p(u).scrollWidth-p(u).clientWidth;R>0&&(o("scrollTo ",R),p(u).scrollTo({left:R,behavior:"smooth"}))}})}),xr(),gn(!0);var y=D_e(),b=ae(y),x=R=>{var T=L_e(),z=Ct(T);Wo(z,1,()=>p(n),ui,(ce,ie,Z)=>{JV(ce,{getItems:f,get path(){return p(n)},index:Z,onSelect:m})});var U=ye(z,2),G=ce=>{JV(ce,{getItems:f,get path(){return p(n)},get index(){return p(n),fe(()=>p(n).length)},onSelect:m})};$e(U,ce=>{p(r)&&ce(G)}),oe(R,T)},k=R=>{N_e(R,{get path(){return p(n)},onClose:g,onChange:v,get onError(){return l()},pathExists:h,get pathParser(){return c()}})};$e(b,R=>{p(d)?R(k,!1):R(x)});var w,S=ye(b,2),C=ae(S),j=ae(C),A=ye(C,2),_=jt(()=>p(d)?m1e:Zye);Yn(A,{get data(){return p(_)}}),uo(y,R=>O(u,R),()=>p(u)),rt((R,T)=>{w=mn(S,1,"jse-navigation-bar-edit svelte-hjhal6",null,w,R),wr(S,"title",p(d)?"Cancel editing the selected path":"Edit the selected path"),Ut(j,T)},[()=>({flex:!p(d),editing:p(d)}),()=>(E($o),E(i()),p(d),fe(()=>$o(i())||p(d)?"":"Navigation bar"))]),Xe("click",S,function(){O(d,!p(d))}),oe(t,y),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-search-box.svelte-1x1x8q0 {
  border: var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));
  border-radius: 3px;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  background: var(--jse-panel-background, #ebebeb);
  color: var(--jse-panel-color-readonly, #b2b2b2);
  box-shadow: var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));
  display: inline-block;
  width: 400px;
  max-width: 100%;
  overflow: auto;
}
.jse-search-box.svelte-1x1x8q0 .jse-search-form:where(.svelte-1x1x8q0) {
  display: flex;
  align-items: stretch;
}
.jse-search-box.svelte-1x1x8q0 .jse-search-form:where(.svelte-1x1x8q0) button:where(.svelte-1x1x8q0),
.jse-search-box.svelte-1x1x8q0 .jse-search-form:where(.svelte-1x1x8q0) input:where(.svelte-1x1x8q0) {
  font-family: inherit;
  font-size: inherit;
}
.jse-search-box.svelte-1x1x8q0 .jse-search-form:where(.svelte-1x1x8q0) button:where(.svelte-1x1x8q0) {
  display: block;
  text-align: center;
  border: none;
  padding: 0 5px;
  margin: 0;
  cursor: pointer;
  color: var(--jse-panel-button-color, inherit);
  background: var(--jse-panel-button-background, transparent);
}
.jse-search-box.svelte-1x1x8q0 .jse-search-form:where(.svelte-1x1x8q0) button:where(.svelte-1x1x8q0):hover {
  color: var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));
  background: var(--jse-panel-button-background-highlight, #e0e0e0);
}
.jse-search-box.svelte-1x1x8q0 .jse-search-form:where(.svelte-1x1x8q0) input:where(.svelte-1x1x8q0) {
  color: var(--jse-panel-color, var(--jse-text-color, #4d4d4d));
  border: var(--jse-input-border, 1px solid #d8dbdf);
  border-radius: 3px;
  background: var(--jse-input-background, var(--jse-background-color, #fff));
  height: 28px;
  padding: 0 5px;
  margin: 0;
  flex: 1;
  width: 0;
  min-width: 50px;
  outline: none;
}
.jse-search-box.svelte-1x1x8q0 .jse-search-form:where(.svelte-1x1x8q0) .jse-replace-toggle:where(.svelte-1x1x8q0) {
  padding: var(--jse-padding, 10px) calc(0.5 * var(--jse-padding, 10px));
  min-width: 20px;
  background: var(--jse-panel-button-background-highlight, #e0e0e0);
}
.jse-search-box.svelte-1x1x8q0 .jse-search-form:where(.svelte-1x1x8q0) .jse-search-contents:where(.svelte-1x1x8q0) {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: calc(0.5 * var(--jse-padding, 10px));
  gap: calc(0.5 * var(--jse-padding, 10px));
}
.jse-search-box.svelte-1x1x8q0 .jse-search-form:where(.svelte-1x1x8q0) .jse-search-contents:where(.svelte-1x1x8q0) .jse-search-section:where(.svelte-1x1x8q0) {
  flex: 1;
  display: flex;
  align-items: center;
  position: relative;
}
.jse-search-box.svelte-1x1x8q0 .jse-search-form:where(.svelte-1x1x8q0) .jse-search-contents:where(.svelte-1x1x8q0) .jse-search-section:where(.svelte-1x1x8q0) .jse-search-icon:where(.svelte-1x1x8q0) {
  color: inherit;
  cursor: inherit;
  background: inherit;
  width: 32px;
  text-align: center;
}
.jse-search-box.svelte-1x1x8q0 .jse-search-form:where(.svelte-1x1x8q0) .jse-search-contents:where(.svelte-1x1x8q0) .jse-search-section:where(.svelte-1x1x8q0) label.jse-search-input-label:where(.svelte-1x1x8q0) {
  flex: 1;
  display: flex;
}
.jse-search-box.svelte-1x1x8q0 .jse-search-form:where(.svelte-1x1x8q0) .jse-search-contents:where(.svelte-1x1x8q0) .jse-search-section:where(.svelte-1x1x8q0) .jse-search-count:where(.svelte-1x1x8q0) {
  color: inherit;
  font-size: 80%;
  visibility: hidden;
  padding: 0 5px;
  min-width: 36px;
  text-align: center;
}
.jse-search-box.svelte-1x1x8q0 .jse-search-form:where(.svelte-1x1x8q0) .jse-search-contents:where(.svelte-1x1x8q0) .jse-search-section:where(.svelte-1x1x8q0) .jse-search-count.jse-visible:where(.svelte-1x1x8q0) {
  visibility: visible;
}
.jse-search-box.svelte-1x1x8q0 .jse-search-form:where(.svelte-1x1x8q0) .jse-search-contents:where(.svelte-1x1x8q0) .jse-replace-section:where(.svelte-1x1x8q0) {
  flex: 1;
  display: flex;
  padding-left: 32px;
}
.jse-search-box.svelte-1x1x8q0 .jse-search-form:where(.svelte-1x1x8q0) .jse-search-contents:where(.svelte-1x1x8q0) .jse-replace-section:where(.svelte-1x1x8q0) button:where(.svelte-1x1x8q0) {
  width: auto;
}`);var B_e=Te('<button type="button" class="jse-replace-toggle svelte-1x1x8q0" title="Toggle visibility of replace options (Ctrl+H)"><!></button>'),z_e=Te('<div class="jse-replace-section svelte-1x1x8q0"><input class="jse-replace-input svelte-1x1x8q0" title="Enter replacement text" type="text" placeholder="Replace"/> <button type="button" title="Replace current occurrence (Ctrl+Enter)" class="svelte-1x1x8q0">Replace</button> <button type="button" title="Replace all occurrences" class="svelte-1x1x8q0">All</button></div>'),H_e=Te('<div class="jse-search-box svelte-1x1x8q0"><form class="jse-search-form svelte-1x1x8q0"><!> <div class="jse-search-contents svelte-1x1x8q0"><div class="jse-search-section svelte-1x1x8q0"><div class="jse-search-icon svelte-1x1x8q0"><!></div> <label class="jse-search-input-label svelte-1x1x8q0" about="jse-search input"><input class="jse-search-input svelte-1x1x8q0" title="Enter text to search" type="text" placeholder="Find"/></label> <div> </div> <button type="button" class="jse-search-next svelte-1x1x8q0" title="Go to next search result (Enter)"><!></button> <button type="button" class="jse-search-previous svelte-1x1x8q0" title="Go to previous search result (Shift+Enter)"><!></button> <button type="button" class="jse-search-clear svelte-1x1x8q0" title="Close search box (Esc)"><!></button></div> <!></div></form></div>');function aQ(t,e){Ft(e,!1);var n=le(void 0,!0),r=le(void 0,!0),o=le(void 0,!0),i=Ui("jsoneditor:SearchBox"),s=$(e,"json",9),a=$(e,"documentState",9),l=$(e,"parser",9),c=$(e,"showSearch",9),u=$(e,"showReplace",13),d=$(e,"readOnly",9),f=$(e,"columns",9),h=$(e,"onSearch",9),m=$(e,"onFocus",9),g=$(e,"onPatch",9),v=$(e,"onClose",9),y=le("",!0),b="",x=le("",!0),k=le(!1,!0),w=le(void 0,!0),S=QS(function(L){return N.apply(this,arguments)},300),C=QS(function(L){return he.apply(this,arguments)},300);function j(){u(!u()&&!d())}function A(L){L.stopPropagation();var re=Gd(L);re==="Enter"&&(L.preventDefault(),p(y)!==b?S.flush():Z()),re==="Shift+Enter"&&(L.preventDefault(),B()),re==="Ctrl+Enter"&&(L.preventDefault(),u()?z():Z()),re==="Ctrl+H"&&(L.preventDefault(),j()),re==="Escape"&&(L.preventDefault(),ee())}function _(L){Gd(L)==="Enter"&&(L.preventDefault(),L.stopPropagation(),z())}function R(){return T.apply(this,arguments)}function T(){return(T=Xt(function*(){Qr(),yield S.flush()})).apply(this,arguments)}function z(){return U.apply(this,arguments)}function U(){return(U=Xt(function*(){var L;if(!d()){var re=(L=p(w))===null||L===void 0?void 0:L.activeItem;if(i("handleReplace",{replaceText:p(x),activeItem:re}),p(w)&&re&&s()!==void 0){O(w,nt(nt({},OV(p(w))),{},{activeIndex:p(r)}));var{operations:Y,newSelection:q}=n$e(s(),a(),p(x),re,l());g()(Y,(Ae,Ee)=>({state:Ee,selection:q})),Qr(),yield C.flush(),yield K()}}})).apply(this,arguments)}function G(){return ce.apply(this,arguments)}function ce(){return(ce=Xt(function*(){if(!d()){i("handleReplaceAll",{text:p(y),replaceText:p(x)});var{operations:L,newSelection:re}=function(Y,q,Ae,Ee,pe){for(var Pe=$V(Ae,Y,{maxResults:1/0}),we=[],Re=0;Re<Pe.length;Re++){var Ne=Pe[Re-1],_e=Pe[Re];Re!==0&&_e.field===Ne.field&&_n(_e.path,Ne.path)?Nn(we).items.push(_e):we.push({path:_e.path,field:_e.field,items:[_e]})}we.sort((V,J)=>V.field!==J.field?V.field===kc.key?1:-1:J.path.length-V.path.length);var Qe,I=[];return we.forEach(V=>{var{field:J,path:se,items:xe}=V;if(J===kc.key){var Fe=Jn(se),Je=xt(Y,Fe),Ce=Nn(se),Me=Pw(Fe,Object.keys(Je),Ce,_V(Ce,Ee,xe));I=I.concat(Me),Qe=Gv(Y,Me)}else{if(J!==kc.value)throw new Error("Cannot replace: unknown type of search result field ".concat(J));var kt=xt(Y,se);if(kt===void 0)throw new Error("Cannot replace: path not found ".concat(Wt(se)));var ht=typeof kt=="string"?kt:String(kt),dt=bu(Y,q,se),mt=_V(ht,Ee,xe),Sn=[{op:"replace",path:Wt(se),value:dt?mt:Ty(mt,pe)}];I=I.concat(Sn),Qe=Gv(Y,Sn)}}),{operations:I,newSelection:Qe}}(s(),a(),p(y),p(x),l());g()(L,(Y,q)=>({state:q,selection:re})),yield K()}})).apply(this,arguments)}function ie(L){L.select()}function Z(){return W.apply(this,arguments)}function W(){return(W=Xt(function*(){O(w,p(w)?OV(p(w)):void 0),yield K()})).apply(this,arguments)}function B(){return H.apply(this,arguments)}function H(){return H=Xt(function*(){O(w,p(w)?function(L){var re=L.activeIndex>0?L.activeIndex-1:L.items.length-1,Y=L.items[re],q=L.items.map((Ae,Ee)=>nt(nt({},Ae),{},{active:Ee===re}));return nt(nt({},L),{},{items:q,activeItem:Y,activeIndex:re})}(p(w)):void 0),yield K()}),H.apply(this,arguments)}function K(){return P.apply(this,arguments)}function P(){return(P=Xt(function*(){var L;i("handleFocus",p(w));var re=(L=p(w))===null||L===void 0?void 0:L.activeItem;re&&s()!==void 0&&(yield m()(re.path,re.resultIndex))})).apply(this,arguments)}function M(){return M=Xt(function*(L){yield ge(L,p(y),s())}),M.apply(this,arguments)}function N(){return N=Xt(function*(L){yield ge(c(),L,s()),yield K()}),N.apply(this,arguments)}function he(){return he=Xt(function*(L){yield ge(c(),p(y),L)}),he.apply(this,arguments)}function ge(L,re,Y){return te.apply(this,arguments)}function te(){return te=Xt(function*(L,re,Y){return L?(i("applySearch",{showSearch:L,text:re}),re===""?(i("clearing search result"),p(w)!==void 0&&O(w,void 0),Promise.resolve()):(b=re,O(k,!0),new Promise(q=>{setTimeout(()=>{var Ae=$V(re,Y,{maxResults:IT,columns:f()});O(w,function(Ee,pe){var Pe=pe!=null&&pe.activeItem?PV(pe.activeItem):void 0,we=Ee.findIndex(_e=>_n(Pe,PV(_e))),Re=we!==-1?we:(pe==null?void 0:pe.activeIndex)!==void 0&&(pe==null?void 0:pe.activeIndex)<Ee.length?pe==null?void 0:pe.activeIndex:Ee.length>0?0:-1,Ne=Ee.map((_e,Qe)=>nt(nt({resultIndex:Qe},_e),{},{active:Qe===Re}));return{items:Ne,activeItem:Ne[Re],activeIndex:Re}}(Ae,p(w))),O(k,!1),q()})}))):(p(w)&&O(w,void 0),Promise.resolve())}),te.apply(this,arguments)}function ee(){i("handleClose"),S.cancel(),C.cancel(),ge(!1,p(y),s()),v()()}je(()=>p(w),()=>{var L;O(n,((L=p(w))===null||L===void 0||(L=L.items)===null||L===void 0?void 0:L.length)||0)}),je(()=>p(w),()=>{var L;O(r,((L=p(w))===null||L===void 0?void 0:L.activeIndex)||0)}),je(()=>(p(n),IT),()=>{O(o,p(n)>=IT?"".concat(999,"+"):String(p(n)))}),je(()=>(E(h()),p(w)),()=>{h()(p(w))}),je(()=>E(c()),()=>{(function(L){M.apply(this,arguments)})(c())}),je(()=>p(y),()=>{S(p(y))}),je(()=>E(s()),()=>{C(s())}),xr(),gn(!0);var be=En(),ne=Ct(be),D=L=>{var re=H_e(),Y=ae(re),q=ae(Y),Ae=Ce=>{var Me=B_e(),kt=ae(Me),ht=jt(()=>u()?qd:B0);Yn(kt,{get data(){return p(ht)}}),Xe("click",Me,j),oe(Ce,Me)};$e(q,Ce=>{d()||Ce(Ae)});var Ee=ae(ye(q,2)),pe=ae(Ee),Pe=ae(pe),we=Ce=>{Yn(Ce,{get data(){return Wye},spin:!0})},Re=Ce=>{Yn(Ce,{get data(){return Fj}})};$e(Pe,Ce=>{p(k)?Ce(we):Ce(Re,!1)});var Ne=ye(pe,2),_e=ae(Ne);ps(()=>I2(_e,()=>p(y),Ce=>O(y,Ce))),Gs(_e,Ce=>ie==null?void 0:ie(Ce)),ps(()=>Xe("paste",_e,R));var Qe,I=ye(Ne,2),V=ae(I),J=ye(I,2);Yn(ae(J),{get data(){return p1e}});var se=ye(J,2);Yn(ae(se),{get data(){return e1e}});var xe=ye(se,2);Yn(ae(xe),{get data(){return qj}});var Fe=ye(Ee,2),Je=Ce=>{var Me=z_e(),kt=ae(Me),ht=ye(kt,2),dt=ye(ht,2);I2(kt,()=>p(x),mt=>O(x,mt)),Xe("keydown",kt,_),Xe("click",ht,z),Xe("click",dt,G),oe(Ce,Me)};$e(Fe,Ce=>{u()&&!d()&&Ce(Je)}),rt(Ce=>{var Me;Qe=mn(I,1,"jse-search-count svelte-1x1x8q0",null,Qe,Ce),Ut(V,"".concat(p(r)!==-1&&p(r)<p(n)?"".concat(p(r)+1,"/"):"").concat((Me=p(o))!==null&&Me!==void 0?Me:""))},[()=>({"jse-visible":p(y)!==""})]),Xe("click",J,Z),Xe("click",se,B),Xe("click",xe,ee),Xe("keydown",Y,A),oe(L,re)};$e(ne,L=>{c()&&L(D)}),oe(t,be),qt()}var vb=Symbol("path");function F_e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1/0,r={};Array.isArray(t)&&function(i,s,a){if(i.length<s)i.forEach(a);else for(var l=s>1?(i.length-1)/(s-1):i.length,c=0;c<s;c++){var u=Math.floor(c*l);a(i[u],u,i)}}(t,n,i=>{vr(i)?lQ(i,r,e):r[vb]=!0});var o=[];return vb in r&&o.push([]),cQ(r,[],o,e),o}function lQ(t,e,n){for(var r in t){var o=t[r],i=e[r]||(e[r]={});vr(o)&&n?lQ(o,i,n):i[vb]===void 0&&(i[vb]=!0)}}function cQ(t,e,n,r){for(var o in t){var i=e.concat(o),s=t[o];s&&s[vb]===!0&&n.push(i),ti(s)&&r&&cQ(s,i,n,r)}}function q_e(t,e,n,r,o,i){for(var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:80,a=Uo(n)?n.length:0,l=function(b,x){var k=Object.values(b);if(sr(k))return x;var w=(S,C)=>S+C;return k.reduce(w)/k.length}(r,o),c=t-s,u=e+2*s,d=b=>r[b]||o,f=0,h=i;h<c&&f<a;)h+=d(f),f++;f>0&&(h-=d(--f));for(var m=f,g=0;g<u&&m<a;)g+=d(m),m++;for(var v=0,y=m;y<a;y++)v+=d(y);return{startIndex:f,endIndex:m,startHeight:h,endHeight:v,averageItemHeight:l,visibleHeight:g,visibleItems:Uo(n)?n.slice(f,m):[]}}function GV(t,e,n,r){for(var{rowIndex:o}=xl(t,e),i=0,s=0;s<o;s++)i+=n[s]||r;return i}function xl(t,e){var[n,...r]=t,o=parseInt(n,10);return{rowIndex:isNaN(o)?-1:o,columnIndex:e.findIndex(i=>Mu(r,i))}}function mp(t,e){var{rowIndex:n,columnIndex:r}=t;return[String(n),...e[r]]}function U_e(t,e){var[n,r]=pye(t,s=>TI(s.path[0])),o=nye(n,W_e),i=lye(o,s=>{var a={row:[],columns:{}};return s.forEach(l=>{var c=function(u,d){var f=xl(u.path,d);return f.columnIndex!==-1?f.columnIndex:-1}(l,e);c!==-1?(a.columns[c]===void 0&&(a.columns[c]=[]),a.columns[c].push(l)):a.row.push(l)}),a});return{root:r,rows:i}}function mg(t,e){if(e&&e.length!==0)return e.length===1?e[0]:{path:t,message:"Multiple validation issues: "+e.map(n=>Da(n.path)+" "+n.message).join(", "),severity:xc.warning}}function W_e(t){return parseInt(t.path[0],10)}function K_e(t,e,n){var r=e.some(o=>function(i,s,a){if(!i)return!1;if(s.op==="replace"){var l=Ba(s.path),{rowIndex:c,columnIndex:u}=xl(l,a),d=a.findIndex(f=>_n(f,i.path));if(c!==-1&&u!==-1&&u!==d)return!1}return!0}(t,o,n));return r?void 0:t}var Ws=Ui("jsoneditor:actions");function uQ(t){return g_.apply(this,arguments)}function g_(){return g_=Xt(function*(t){var{json:e,selection:n,indentation:r,readOnly:o,parser:i,onPatch:s}=t;if(!o&&e!==void 0&&n&&Fg(n)){var a=_X(e,n,r,i);if(a!==void 0){Ws("cut",{selection:n,clipboard:a,indentation:r}),yield GI(a);var{operations:l,newSelection:c}=DX(e,n);s(l,(u,d)=>({state:d,selection:c}))}}}),g_.apply(this,arguments)}function dQ(t){return v_.apply(this,arguments)}function v_(){return v_=Xt(function*(t){var{json:e,selection:n,indentation:r,parser:o}=t,i=_X(e,n,r,o);i!==void 0&&(Ws("copy",{clipboard:i,indentation:r}),yield GI(i))}),v_.apply(this,arguments)}function fQ(t){var{clipboardText:e,json:n,selection:r,readOnly:o,parser:i,onPatch:s,onChangeText:a,onPasteMultilineText:l,openRepairModal:c}=t;if(!o)try{u(e)}catch{c(e,f=>{Ws("repaired pasted text: ",f),u(f)})}function u(d){if(n!==void 0){var f=r||Vn([]),h=LX(n,f,d,i),m=function(g,v,y){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:JOe;if(g.length>b)return!1;var x=/\n/.test(g);if(!x)return!1;var k=v.some(S=>S.op==="replace"&&Array.isArray(S.value)),w=v.filter(S=>S.op==="add").length>1;if(!k&&!w)return!1;try{return Ow(g,y.parse),!1}catch{return!0}}(e,h,i);Ws("paste",{pastedText:d,operations:h,ensureSelection:f,pasteMultilineText:m}),s(h,(g,v)=>{var y=v;return h.filter(b=>(hU(b)||O4(b))&&$o(b.value)).forEach(b=>{var x=yc(n,b.path);y=Cm(g,y,x)}),{state:y}}),m&&l(d)}else Ws("paste text",{pastedText:d}),a(e,(g,v)=>{if(g)return{state:Cm(g,v,[])}})}}function hQ(t){var{json:e,text:n,selection:r,keepSelection:o,readOnly:i,onChange:s,onPatch:a}=t;if(!i&&r){var l=e!==void 0&&(zi(r)||hr(r))?Fs(r.path,r.path):r;if(sr(Et(r)))Ws("remove root",{selection:r}),s&&s({text:"",json:void 0},e!==void 0?{text:void 0,json:e}:{text:n||"",json:e},{contentErrors:void 0,patchResult:void 0});else if(e!==void 0){var{operations:c,newSelection:u}=DX(e,l);Ws("remove",{operations:c,selection:r,newSelection:u}),a(c,(d,f)=>({state:f,selection:o?r:u}))}}}function Y2(t){var{insertType:e,selectInside:n,initialValue:r,json:o,selection:i,readOnly:s,parser:a,onPatch:l,onReplaceJson:c}=t;if(!s){var u=function(g,v,y){if(y==="object")return{};if(y==="array")return[];if(y==="structure"&&g!==void 0){var b=v?$X(v):[],x=xt(g,b);if(Array.isArray(x)&&!sr(x)){var k=jd(x);return $o(k)?Xge(k,w=>Array.isArray(w)?[]:vr(w)?void 0:""):""}}return""}(o,i,e);if(o!==void 0){var d=a.stringify(u),f=LX(o,i,d,a);Ws("onInsert",{insertType:e,operations:f,newValue:u,data:d});var h=Nn(f.filter(g=>g.op==="add"||g.op==="replace"));l(f,(g,v,y)=>{if(h){var b=yc(g,h.path);if($o(u))return{state:ic(g,v,b,FI),selection:n?Xd(b):y};if(u===""){var x=sr(b)?void 0:xt(g,Jn(b));return{state:ic(g,v,b,rS),selection:vr(x)?qI(b,r):B2(b,r)}}}}),Ws("after patch")}else{Ws("onInsert",{insertType:e,newValue:u});var m=[];c(u,(g,v)=>({state:Cm(g,v,m),selection:$o(u)?Xd(m):B2(m)}))}}}function pQ(t){return y_.apply(this,arguments)}function y_(){return y_=Xt(function*(t){var{char:e,selectInside:n,json:r,selection:o,readOnly:i,parser:s,onPatch:a,onReplaceJson:l,onSelect:c}=t;i||(zi(o)?c(nt(nt({},o),{},{edit:!0,initialValue:e})):e==="{"?Y2({insertType:"object",selectInside:n,initialValue:void 0,json:r,selection:o,readOnly:i,parser:s,onPatch:a,onReplaceJson:l}):e==="["?Y2({insertType:"array",selectInside:n,initialValue:void 0,json:r,selection:o,readOnly:i,parser:s,onPatch:a,onReplaceJson:l}):hr(o)&&r!==void 0?$o(xt(r,o.path))||c(nt(nt({},o),{},{edit:!0,initialValue:e})):(Ws("onInsertValueWithCharacter",{char:e}),yield function(u){return b_.apply(this,arguments)}({char:e,json:r,selection:o,readOnly:i,parser:s,onPatch:a,onReplaceJson:l})))}),y_.apply(this,arguments)}function b_(){return b_=Xt(function*(t){var{char:e,json:n,selection:r,readOnly:o,parser:i,onPatch:s,onReplaceJson:a}=t;o||Y2({insertType:"value",selectInside:!1,initialValue:e,json:n,selection:r,readOnly:o,parser:i,onPatch:s,onReplaceJson:a})}),b_.apply(this,arguments)}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-json-preview.svelte-25xmyd {
  flex: 1;
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  color: var(--jse-panel-color-readonly, #b2b2b2);
  overflow: auto;
  white-space: pre-wrap;
  padding: 2px;
  border-left: var(--jse-main-border, 1px solid #d7d7d7);
  border-right: var(--jse-main-border, 1px solid #d7d7d7);
  border-bottom: var(--jse-main-border, 1px solid #d7d7d7);
}`);var J_e=Te('<div class="jse-json-preview svelte-25xmyd"> </div>');function mQ(t,e){Ft(e,!1);var n=le(),r=le(),o=$(e,"text",8),i=$(e,"json",8),s=$(e,"indentation",8),a=$(e,"parser",8);je(()=>(E(i()),E(o())),()=>{O(n,i()!==void 0?{json:i()}:{text:o()||""})}),je(()=>(p(n),E(s()),E(a()),N2),()=>{O(r,bd(e_(p(n),s(),a()),N2))}),xr(),gn();var l=J_e(),c=ae(l);rt(()=>Ut(c,p(r))),oe(t,l),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
button.jse-context-menu-button.svelte-16jz6ui {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  flex: 1;
  white-space: nowrap;
  padding: var(--jse-padding, 10px);
  color: inherit;
}
button.jse-context-menu-button.svelte-16jz6ui:hover {
  background: var(--jse-context-menu-background-highlight, #7a7a7a);
}
button.jse-context-menu-button.svelte-16jz6ui:focus {
  background: var(--jse-context-menu-background-highlight, #7a7a7a);
  z-index: 1;
}
button.jse-context-menu-button.svelte-16jz6ui:disabled {
  color: var(--jse-context-menu-color-disabled, #9d9d9d);
  background: unset;
}
button.jse-context-menu-button.left.svelte-16jz6ui {
  text-align: left;
}
button.jse-context-menu-button.svelte-16jz6ui svg {
  width: 16px;
}`);var G_e=Te('<button type="button"><!> <!></button>');function KT(t,e){Ft(e,!1);var n=$(e,"item",8),r=$(e,"className",8,void 0),o=$(e,"onRequestClose",8);gn();var i=G_e(),s=ae(i),a=u=>{Yn(u,{get data(){return E(n()),fe(()=>n().icon)}})};$e(s,u=>{E(n()),fe(()=>n().icon)&&u(a)});var l=ye(s,2),c=u=>{var d=rs();rt(()=>Ut(d,(E(n()),fe(()=>n().text)))),oe(u,d)};$e(l,u=>{E(n()),fe(()=>n().text)&&u(c)}),rt(u=>{mn(i,1,u,"svelte-16jz6ui"),wr(i,"title",(E(n()),fe(()=>n().title))),i.disabled=(E(n()),fe(()=>n().disabled||!1))},[()=>_h((E(Ic),E(r()),E(n()),fe(()=>Ic("jse-context-menu-button",r(),n().className))))]),Xe("click",i,u=>{o()(),n().onClick(u)}),oe(t,i),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-dropdown-button.svelte-bov1j6 {
  flex: 1;
  line-height: normal;
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  position: relative;
  padding: 0;
  display: flex;
}
.jse-dropdown-button.svelte-bov1j6 ul:where(.svelte-bov1j6) {
  margin: 0;
  padding: 0;
}
.jse-dropdown-button.svelte-bov1j6 ul:where(.svelte-bov1j6) li:where(.svelte-bov1j6) {
  margin: 0;
  padding: 0;
  list-style-type: none;
}
.jse-dropdown-button.svelte-bov1j6 button.jse-open-dropdown:where(.svelte-bov1j6) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  width: 2em;
  background: var(--jse-context-menu-background, #656565);
  color: var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));
  border-radius: 0;
}
.jse-dropdown-button.svelte-bov1j6 button.jse-open-dropdown.jse-visible:where(.svelte-bov1j6) {
  background: var(--jse-context-menu-background, #656565);
}
.jse-dropdown-button.svelte-bov1j6 button.jse-open-dropdown:where(.svelte-bov1j6):hover {
  background: var(--jse-context-menu-background-highlight, #7a7a7a);
}
.jse-dropdown-button.svelte-bov1j6 button.jse-open-dropdown:where(.svelte-bov1j6):focus {
  z-index: 1;
}
.jse-dropdown-button.svelte-bov1j6 button.jse-open-dropdown:where(.svelte-bov1j6):disabled {
  color: var(--jse-context-menu-color-disabled, #9d9d9d);
  background: unset;
}
.jse-dropdown-button.svelte-bov1j6 .jse-dropdown-items:where(.svelte-bov1j6) {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  z-index: 1;
  background: var(--jse-context-menu-background, #656565);
  color: var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));
  box-shadow: var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));
}
.jse-dropdown-button.svelte-bov1j6 .jse-dropdown-items.jse-visible:where(.svelte-bov1j6) {
  display: block;
}
.jse-dropdown-button.svelte-bov1j6 .jse-dropdown-items:where(.svelte-bov1j6) button:where(.svelte-bov1j6) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  width: 100%;
  text-align: left;
  padding: var(--jse-padding, 10px);
  margin: 0;
}
.jse-dropdown-button.svelte-bov1j6 .jse-dropdown-items:where(.svelte-bov1j6) button:where(.svelte-bov1j6):hover {
  background: var(--jse-context-menu-background-highlight, #7a7a7a);
}
.jse-dropdown-button.svelte-bov1j6 .jse-dropdown-items:where(.svelte-bov1j6) button:where(.svelte-bov1j6):disabled {
  color: var(--jse-context-menu-color-disabled, #9d9d9d);
  background: unset;
}`);var Y_e=Te('<li class="svelte-bov1j6"><button type="button"><!> </button></li>'),X_e=Te('<div role="button" tabindex="0" class="jse-dropdown-button svelte-bov1j6"><!> <button type="button" data-type="jse-open-dropdown"><!></button> <div><ul class="svelte-bov1j6"></ul></div></div>');cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
button.jse-context-menu-button.svelte-1y5l9l1 {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  flex: 1;
  white-space: nowrap;
  padding: var(--jse-padding, 10px);
  color: inherit;
}
button.jse-context-menu-button.svelte-1y5l9l1:hover {
  background: var(--jse-context-menu-background-highlight, #7a7a7a);
}
button.jse-context-menu-button.svelte-1y5l9l1:focus {
  background: var(--jse-context-menu-background-highlight, #7a7a7a);
  z-index: 1;
}
button.jse-context-menu-button.svelte-1y5l9l1:disabled {
  color: var(--jse-context-menu-color-disabled, #9d9d9d);
  background: unset;
}
button.jse-context-menu-button.left.svelte-1y5l9l1 {
  text-align: left;
}
button.jse-context-menu-button.svelte-1y5l9l1 svg {
  width: 16px;
}`);var Q_e=Te('<button type="button" slot="defaultItem"><!> </button>');function JT(t,e){Ft(e,!1);var n=le(),r=$(e,"item",8),o=$(e,"className",8,void 0),i=$(e,"onRequestClose",8);je(()=>(E(r()),E(i())),()=>{O(n,r().items.map(s=>nt(nt({},s),{},{onClick:a=>{i()(),s.onClick(a)}})))}),xr(),gn(),function(s,a){Ft(a,!1);var l=le(void 0,!0),c=$(a,"items",25,()=>[]),u=$(a,"title",9,void 0),d=$(a,"width",9,"120px"),f=le(!1,!0);function h(){O(f,!1)}function m(w){Gd(w)==="Escape"&&(w.preventDefault(),O(f,!1))}Ls(()=>{document.addEventListener("click",h),document.addEventListener("keydown",m)}),Ul(()=>{document.removeEventListener("click",h),document.removeEventListener("keydown",m)}),je(()=>E(c()),()=>{O(l,c().every(w=>w.disabled===!0))}),xr(),gn(!0);var g=X_e(),v=ae(g);Bo(v,a,"defaultItem",{},null);var y,b=ye(v,2);Yn(ae(b),{get data(){return qd}});var x,k=ye(b,2);Wo(ae(k),5,c,ui,(w,S)=>{var C=Y_e(),j=ae(C),A=ae(j),_=T=>{Yn(T,{get data(){return p(S),fe(()=>p(S).icon)}})};$e(A,T=>{p(S),fe(()=>p(S).icon)&&T(_)});var R=ye(A);rt(()=>{var T;wr(j,"title",(p(S),fe(()=>p(S).title))),j.disabled=(p(S),fe(()=>p(S).disabled)),mn(j,1,_h((p(S),fe(()=>p(S).className))),"svelte-bov1j6"),Ut(R," ".concat((p(S),(T=fe(()=>p(S).text))!==null&&T!==void 0?T:"")))}),Xe("click",j,T=>p(S).onClick(T)),oe(w,C)}),rt((w,S)=>{var C;wr(g,"title",u()),y=mn(b,1,"jse-open-dropdown svelte-bov1j6",null,y,w),b.disabled=p(l),x=mn(k,1,"jse-dropdown-items svelte-bov1j6",null,x,S),Ll(k,"width: ".concat((C=d())!==null&&C!==void 0?C:"",";"))},[()=>({"jse-visible":p(f)}),()=>({"jse-visible":p(f)})]),Xe("click",b,function(){var w=p(f);setTimeout(()=>O(f,!w))}),Xe("click",g,h),oe(s,g),qt()}(t,{get width(){return E(r()),fe(()=>r().width)},get items(){return p(n)},$$slots:{defaultItem:(s,a)=>{var l=Q_e(),c=ae(l),u=f=>{Yn(f,{get data(){return E(r()),fe(()=>r().main.icon)}})};$e(c,f=>{E(r()),fe(()=>r().main.icon)&&f(u)});var d=ye(c);rt(f=>{var h;mn(l,1,f,"svelte-1y5l9l1"),wr(l,"title",(E(r()),fe(()=>r().main.title))),l.disabled=(E(r()),fe(()=>r().main.disabled||!1)),Ut(d," ".concat((E(r()),(h=fe(()=>r().main.text))!==null&&h!==void 0?h:"")))},[()=>_h((E(Ic),E(o()),E(r()),fe(()=>Ic("jse-context-menu-button",o(),r().main.className))))]),Xe("click",l,f=>{i()(),r().main.onClick(f)}),oe(s,l)}}}),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-contextmenu.svelte-1shjn02 {
  box-shadow: var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  background: var(--jse-context-menu-background, #656565);
  color: var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));
}
.jse-contextmenu.svelte-1shjn02 .jse-row:where(.svelte-1shjn02) {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: stretch;
}
.jse-contextmenu.svelte-1shjn02 .jse-row:where(.svelte-1shjn02) div.jse-label:where(.svelte-1shjn02) {
  flex: 1;
  white-space: nowrap;
  padding: var(--jse-padding, 10px);
  color: var(--jse-context-menu-color-disabled, #9d9d9d);
  line-height: normal;
}
.jse-contextmenu.svelte-1shjn02 .jse-row:where(.svelte-1shjn02) div.jse-tip:where(.svelte-1shjn02) {
  flex: 1;
  background: var(--jse-context-menu-tip-background, rgba(255, 255, 255, 0.2));
  color: var(--context-menu-tip-color, inherit);
  margin: calc(0.5 * var(--jse-padding, 10px));
  padding: calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);
  font-size: 80%;
  line-height: 1.3em;
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  gap: var(--jse-padding, 10px);
  border-radius: 3px;
}
.jse-contextmenu.svelte-1shjn02 .jse-row:where(.svelte-1shjn02) div.jse-tip:where(.svelte-1shjn02) div.jse-tip-icon:where(.svelte-1shjn02) {
  padding-top: calc(0.5 * var(--jse-padding, 10px));
}
.jse-contextmenu.svelte-1shjn02 .jse-column:where(.svelte-1shjn02) {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
.jse-contextmenu.svelte-1shjn02 .jse-column:where(.svelte-1shjn02):not(:last-child) {
  border-right: 1px solid var(--jse-context-menu-separator-color, #7a7a7a);
}
.jse-contextmenu.svelte-1shjn02 .jse-separator:where(.svelte-1shjn02) {
  width: 100%;
  height: 1px;
  background: var(--jse-context-menu-separator-color, #7a7a7a);
}`);var Z_e=Te('<div class="jse-separator svelte-1shjn02"></div>'),e3e=Te('<div class="jse-label svelte-1shjn02"> </div>'),t3e=Te('<div class="jse-column svelte-1shjn02"></div>'),n3e=Te('<div class="jse-separator svelte-1shjn02"></div>'),r3e=Te('<div class="jse-row svelte-1shjn02"></div>'),o3e=Te('<div class="jse-separator svelte-1shjn02"></div>'),i3e=Te('<div class="jse-row svelte-1shjn02"><div class="jse-tip svelte-1shjn02"><div class="jse-tip-icon svelte-1shjn02"><!></div> <div class="jse-tip-text"> </div></div></div>'),s3e=Te('<div role="menu" tabindex="-1" class="jse-contextmenu svelte-1shjn02"><!> <!></div>');function gQ(t,e){Ft(e,!1);var n=$(e,"items",9),r=$(e,"onRequestClose",9),o=$(e,"tip",9),i=le(void 0,!0);Ls(()=>{var f=Array.from(p(i).querySelectorAll("button")).find(h=>!h.disabled);f&&f.focus()});var s={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};function a(f){return console.error("Unknown type of context menu item",f),"???"}gn(!0);var l=s3e(),c=ae(l);Wo(c,1,n,ui,(f,h)=>{var m=En(),g=Ct(m),v=b=>{KT(b,{get item(){return p(h)},get onRequestClose(){return r()}})},y=b=>{var x=En(),k=Ct(x),w=C=>{JT(C,{get item(){return p(h)},get onRequestClose(){return r()}})},S=C=>{var j=En(),A=Ct(j),_=T=>{var z=r3e();Wo(z,5,()=>(p(h),fe(()=>p(h).items)),ui,(U,G)=>{var ce=En(),ie=Ct(ce),Z=B=>{KT(B,{get item(){return p(G)},get onRequestClose(){return r()}})},W=B=>{var H=En(),K=Ct(H),P=N=>{JT(N,{get item(){return p(G)},get onRequestClose(){return r()}})},M=N=>{var he=En(),ge=Ct(he),te=be=>{var ne=t3e();Wo(ne,5,()=>(p(G),fe(()=>p(G).items)),ui,(D,L)=>{var re=En(),Y=Ct(re),q=Ee=>{KT(Ee,{className:"left",get item(){return p(L)},get onRequestClose(){return r()}})},Ae=Ee=>{var pe=En(),Pe=Ct(pe),we=Ne=>{JT(Ne,{className:"left",get item(){return p(L)},get onRequestClose(){return r()}})},Re=Ne=>{var _e=En(),Qe=Ct(_e),I=J=>{oe(J,Z_e())},V=J=>{var se=En(),xe=Ct(se),Fe=Ce=>{var Me=e3e(),kt=ae(Me);rt(()=>Ut(kt,(p(L),fe(()=>p(L).text)))),oe(Ce,Me)},Je=Ce=>{var Me=rs();rt(kt=>Ut(Me,kt),[()=>(p(L),fe(()=>a(p(L))))]),oe(Ce,Me)};$e(xe,Ce=>{E(pV),p(L),fe(()=>pV(p(L)))?Ce(Fe):Ce(Je,!1)},!0),oe(J,se)};$e(Qe,J=>{E(Df),p(L),fe(()=>Df(p(L)))?J(I):J(V,!1)},!0),oe(Ne,_e)};$e(Pe,Ne=>{E(hg),p(L),fe(()=>hg(p(L)))?Ne(we):Ne(Re,!1)},!0),oe(Ee,pe)};$e(Y,Ee=>{E(dd),p(L),fe(()=>dd(p(L)))?Ee(q):Ee(Ae,!1)}),oe(D,re)}),oe(be,ne)},ee=be=>{var ne=En(),D=Ct(ne),L=Y=>{oe(Y,n3e())},re=Y=>{var q=rs();rt(Ae=>Ut(q,Ae),[()=>(p(G),fe(()=>a(p(G))))]),oe(Y,q)};$e(D,Y=>{E(Df),p(G),fe(()=>Df(p(G)))?Y(L):Y(re,!1)},!0),oe(be,ne)};$e(ge,be=>{E(gV),p(G),fe(()=>gV(p(G)))?be(te):be(ee,!1)},!0),oe(N,he)};$e(K,N=>{E(hg),p(G),fe(()=>hg(p(G)))?N(P):N(M,!1)},!0),oe(B,H)};$e(ie,B=>{E(dd),p(G),fe(()=>dd(p(G)))?B(Z):B(W,!1)}),oe(U,ce)}),oe(T,z)},R=T=>{var z=En(),U=Ct(z),G=ie=>{oe(ie,o3e())},ce=ie=>{var Z=rs();rt(W=>Ut(Z,W),[()=>(p(h),fe(()=>a(p(h))))]),oe(ie,Z)};$e(U,ie=>{E(Df),p(h),fe(()=>Df(p(h)))?ie(G):ie(ce,!1)},!0),oe(T,z)};$e(A,T=>{E(mV),p(h),fe(()=>mV(p(h)))?T(_):T(R,!1)},!0),oe(C,j)};$e(k,C=>{E(hg),p(h),fe(()=>hg(p(h)))?C(w):C(S,!1)},!0),oe(b,x)};$e(g,b=>{E(dd),p(h),fe(()=>dd(p(h)))?b(v):b(y,!1)}),oe(f,m)});var u=ye(c,2),d=f=>{var h=i3e(),m=ae(h),g=ae(m);Yn(ae(g),{get data(){return qye}});var v=ae(ye(g,2));rt(()=>Ut(v,o())),oe(f,h)};$e(u,f=>{o()&&f(d)}),uo(l,f=>O(i,f),()=>p(i)),Xe("keydown",l,function(f){var h=Gd(f),m=s[h];if(m&&f.target){f.preventDefault();var g=MOe({allElements:Array.from(p(i).querySelectorAll("button:not([disabled])")),currentElement:f.target,direction:m,hasPrio:v=>v.getAttribute("data-type")!=="jse-open-dropdown"});g&&g.focus()}}),oe(t,l),qt()}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-value.jse-string.svelte-1htmvf1 {
  color: var(--jse-value-color-string, #008000);
}
.jse-value.jse-object.svelte-1htmvf1, .jse-value.jse-array.svelte-1htmvf1 {
  min-width: 16px;
  color: var(--jse-delimiter-color, rgba(0, 0, 0, 0.38));
}
.jse-value.jse-number.svelte-1htmvf1 {
  color: var(--jse-value-color-number, #ee422e);
}
.jse-value.jse-boolean.svelte-1htmvf1 {
  color: var(--jse-value-color-boolean, #ff8c00);
}
.jse-value.jse-null.svelte-1htmvf1 {
  color: var(--jse-value-color-null, #004ed0);
}
.jse-value.jse-invalid.svelte-1htmvf1 {
  color: var(--jse-text-color, #4d4d4d);
}
.jse-value.jse-url.svelte-1htmvf1 {
  color: var(--jse-value-color-url, #008000);
  text-decoration: underline;
}

.jse-enum-value.svelte-1htmvf1 {
  background: var(--jse-hover-background-color, rgba(0, 0, 0, 0.06));
  border: none;
  padding: 0;
  font-family: inherit;
  font-size: inherit;
  cursor: pointer;
  outline: none;
}
.jse-enum-value.jse-selected.svelte-1htmvf1 {
  background: var(--jse-selection-background-color, #d3d3d3);
  color: inherit;
}
.jse-enum-value.jse-value.svelte-1htmvf1:focus {
  color: var(--jse-text-color, #4d4d4d);
}`);Te("<option> </option>");Te("<select></select>");var Xx,Qx;function Zx(t,e){return Xx||(Qx=new WeakMap,Xx=new ResizeObserver(n=>{for(var r of n){var o=Qx.get(r.target);o&&o(r.target)}})),Qx.set(t,e),Xx.observe(t),{destroy:()=>{Qx.delete(t),Xx.unobserve(t)}}}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-tree-mode.svelte-10mlrw4 {
  flex: 1;
  display: flex;
  flex-direction: column;
  position: relative;
  background: var(--jse-background-color, #fff);
  min-width: 0;
  min-height: 0;
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  color: var(--jse-text-color, #4d4d4d);
  line-height: var(--jse-line-height, calc(1em + 4px));
}
.jse-tree-mode.svelte-10mlrw4 .jse-hidden-input-label:where(.svelte-10mlrw4) .jse-hidden-input:where(.svelte-10mlrw4) {
  position: fixed;
  top: -10px;
  left: -10px;
  width: 1px;
  height: 1px;
  padding: 0;
  border: 0;
  outline: none;
}
.jse-tree-mode.no-main-menu.svelte-10mlrw4 {
  border-top: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-tree-mode.svelte-10mlrw4 .jse-search-box-container:where(.svelte-10mlrw4) {
  position: relative;
  height: 0;
  top: var(--jse-padding, 10px);
  margin-right: calc(var(--jse-padding, 10px) + 20px);
  margin-left: var(--jse-padding, 10px);
  text-align: right;
  z-index: 3;
}
.jse-tree-mode.svelte-10mlrw4 .jse-contents:where(.svelte-10mlrw4) {
  flex: 1;
  overflow: auto;
  position: relative;
  padding: 2px;
  display: flex;
  flex-direction: column;
  border-left: var(--jse-main-border, 1px solid #d7d7d7);
  border-right: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-tree-mode.svelte-10mlrw4 .jse-contents:where(.svelte-10mlrw4):last-child {
  border-bottom: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-tree-mode.svelte-10mlrw4 .jse-contents:where(.svelte-10mlrw4) .jse-loading-space:where(.svelte-10mlrw4) {
  flex: 1;
}
.jse-tree-mode.svelte-10mlrw4 .jse-contents:where(.svelte-10mlrw4) .jse-loading:where(.svelte-10mlrw4) {
  flex: 2;
  text-align: center;
  color: var(--jse-panel-color-readonly, #b2b2b2);
  box-sizing: border-box;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
}
.jse-tree-mode.svelte-10mlrw4 .jse-contents:where(.svelte-10mlrw4) .jse-search-box-background:where(.svelte-10mlrw4) {
  border: 50px solid var(--jse-modal-background, #f5f5f5);
  margin: -2px;
  margin-bottom: 2px;
  display: inline-block;
}`);var a3e=Te("<!> <!>",1),l3e=Te('<div class="jse-search-box-background svelte-10mlrw4"></div>'),c3e=Te('<div class="jse-search-box-container svelte-10mlrw4"><!></div> <div class="jse-contents svelte-10mlrw4"><!> <!></div> <!> <!> <!> <!>',1),u3e=Te('<label class="jse-hidden-input-label svelte-10mlrw4"><input type="text" tabindex="-1" class="jse-hidden-input svelte-10mlrw4"/></label> <!>',1),d3e=Te('<div class="jse-contents svelte-10mlrw4"><div class="jse-loading-space svelte-10mlrw4"></div> <div class="jse-loading svelte-10mlrw4">loading...</div></div>'),f3e=Te('<div role="tree" tabindex="-1"><!> <!> <!></div> <!> <!>',1);function w_(t,e){Ft(e,!1);var n=le(void 0,!0),r=Ui("jsoneditor:TreeMode"),o=typeof window>"u";r("isSSR:",o);var i=Ev(),s=Ev(),{openAbsolutePopup:a,closeAbsolutePopup:l}=Jh("absolute-popup"),c=le(void 0,!0),u=le(void 0,!0),d=le(void 0,!0),f=!1,h=ZX(),m=$(e,"readOnly",9),g=$(e,"externalContent",9),v=$(e,"externalSelection",9),y=$(e,"history",9),b=$(e,"truncateTextSize",9),x=$(e,"mainMenuBar",9),k=$(e,"navigationBar",9),w=$(e,"escapeControlCharacters",9),S=$(e,"escapeUnicodeCharacters",9),C=$(e,"parser",9),j=$(e,"parseMemoizeOne",9),A=$(e,"validator",9),_=$(e,"validationParser",9),R=$(e,"pathParser",9),T=$(e,"indentation",9),z=$(e,"onError",9),U=$(e,"onChange",9),G=$(e,"onChangeMode",9),ce=$(e,"onSelect",9),ie=$(e,"onUndo",9),Z=$(e,"onRedo",9),W=$(e,"onRenderValue",9),B=$(e,"onRenderMenu",9),H=$(e,"onRenderContextMenu",9),K=$(e,"onClassName",9),P=$(e,"onFocus",9),M=$(e,"onBlur",9),N=$(e,"onSortModal",9),he=$(e,"onTransformModal",9),ge=$(e,"onJSONEditorModal",9),te=!1,ee=le(!1,!0),be=le(void 0,!0);KI({onMount:Ls,onDestroy:Ul,getWindow:()=>$w(p(d)),hasFocus:()=>te&&document.hasFocus()||_I(p(d)),onFocus:()=>{f=!0,P()&&P()()},onBlur:()=>{f=!1,M()&&M()()}});var ne=le(void 0,!0),D=le(void 0,!0),L=void 0,re=!1,Y=le(o_({json:p(ne)}),!0),q=le(fb(v())?v():void 0,!0);function Ae(X){O(q,X)}Ls(()=>{if(p(q)){var X=Et(p(q));O(Y,ic(p(ne),p(Y),X,rS)),setTimeout(()=>Co(X))}});var Ee,pe=le(void 0,!0),Pe=le(void 0,!0),we=le(void 0,!0),Re=le(void 0,!0),Ne=le(!1,!0),_e=le(!1,!0);function Qe(X){O(Re,(Ee=X)?BX(p(ne),Ee.items):void 0)}function I(X,me){return V.apply(this,arguments)}function V(){return(V=Xt(function*(X,me){O(Y,ic(p(ne),p(Y),X,rS));var ze=Go(me);yield Fn(X,{element:ze})})).apply(this,arguments)}function J(){O(Ne,!1),O(_e,!1),sn()}function se(X){r("select validation error",X),O(q,Vn(X.path)),Fn(X.path)}function xe(X){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i_;r("expand"),O(Y,ic(p(ne),p(Y),X,me))}function Fe(X,me){O(Y,wV(p(ne),p(Y),X,me)),p(q)&&function(ze,ft){return Mu(Et(ze),ft)&&(Et(ze).length>ft.length||Pi(ze))}(p(q),X)&&O(q,void 0)}var Je=le(!1,!0),Ce=le([],!0),Me=le(void 0,!0),kt=z0(eQ);function ht(X,me,ze,ft){Ug(()=>{var at;try{at=kt(X,me,ze,ft)}catch(it){at=[{path:[],message:"Failed to validate: "+it.message,severity:xc.warning}]}_n(at,p(Ce))||(r("validationErrors changed:",at),O(Ce,at),O(Me,function(it,an){var ln;return an.forEach(Rn=>{ln=WV(it,ln,Rn.path,(jr,Wn)=>nt(nt({},Wn),{},{validationError:Rn}))}),an.forEach(Rn=>{for(var jr=Rn.path;jr.length>0;)jr=Jn(jr),ln=WV(it,ln,jr,(Wn,qr)=>qr.validationError?qr:nt(nt({},qr),{},{validationError:{isChildError:!0,path:jr,message:"Contains invalid data",severity:xc.warning}}))}),ln}(X,p(Ce))))},at=>r("validationErrors updated in ".concat(at," ms")))}function dt(){return r("validate"),L?{parseError:L,isRepairable:!1}:(ht(p(ne),A(),C(),_()),sr(p(Ce))?void 0:{validationErrors:p(Ce)})}function mt(){return p(ne)}function Sn(){return p(Y)}function Sr(){return p(q)}function Mr(X){r("applyExternalContent",{updatedContent:X}),lb(X)?function(me){if(me!==void 0){var ze=!_n(p(ne),me);if(r("update external json",{isChanged:ze,currentlyText:p(ne)===void 0}),!!ze){var ft={documentState:p(Y),selection:p(q),json:p(ne),text:p(D),textIsRepaired:p(Je)};O(ne,me),O(Y,Xa(me,p(Y))),An(p(ne)),O(D,void 0),O(Je,!1),L=void 0,cr(p(ne)),Pn(ft)}}}(X.json):ab(X)&&function(me){if(!(me===void 0||lb(g()))){var ze=me!==p(D);if(r("update external text",{isChanged:ze}),!!ze){var ft={documentState:p(Y),selection:p(q),json:p(ne),text:p(D),textIsRepaired:p(Je)};try{O(ne,j()(me)),O(Y,Xa(p(ne),p(Y))),An(p(ne)),O(D,me),O(Je,!1),L=void 0}catch(at){try{O(ne,j()(Su(me))),O(Y,Xa(p(ne),p(Y))),An(p(ne)),O(D,me),O(Je,!0),L=void 0,cr(p(ne))}catch{O(ne,void 0),O(Y,void 0),O(D,g().text),O(Je,!1),L=p(D)!==void 0&&p(D)!==""?Wv(p(D),at.message||String(at)):void 0}}cr(p(ne)),Pn(ft)}}}(X.text)}function An(X){re||(re=!0,O(Y,Cm(X,p(Y),[])))}function cr(X){p(q)&&(Va(X,Jp(p(q)))&&Va(X,Et(p(q)))||(r("clearing selection: path does not exist anymore",p(q)),O(q,pg(X,p(Y)))))}function Pn(X){if(X.json!==void 0||X.text!==void 0){var me=p(ne)!==void 0&&X.json!==void 0;y().add({type:"tree",undo:{patch:me?[{op:"replace",path:"",value:X.json}]:void 0,json:X.json,text:X.text,documentState:X.documentState,textIsRepaired:X.textIsRepaired,selection:hu(X.selection),sortedColumn:void 0},redo:{patch:me?[{op:"replace",path:"",value:p(ne)}]:void 0,json:p(ne),text:p(D),documentState:p(Y),textIsRepaired:p(Je),selection:hu(p(q)),sortedColumn:void 0}})}}function Bn(X,me){var ze;if(r("patch",X,me),p(ne)===void 0)throw new Error("Cannot apply patch: no JSON");var ft=p(ne),at={json:void 0,text:p(D),documentState:p(Y),selection:hu(p(q)),textIsRepaired:p(Je),sortedColumn:void 0},it=VX(p(ne),X),an=MX(p(ne),p(Y),X),ln=(ze=Gv(p(ne),X))!==null&&ze!==void 0?ze:p(q),Rn=typeof me=="function"?me(an.json,an.documentState,ln):void 0;return O(ne,(Rn==null?void 0:Rn.json)!==void 0?Rn.json:an.json),O(Y,(Rn==null?void 0:Rn.state)!==void 0?Rn.state:an.documentState),O(q,(Rn==null?void 0:Rn.selection)!==void 0?Rn.selection:ln),O(D,void 0),O(Je,!1),O(Pe,void 0),O(we,void 0),L=void 0,cr(p(ne)),y().add({type:"tree",undo:nt({patch:it},at),redo:{patch:X,json:void 0,text:p(D),documentState:p(Y),selection:hu(p(q)),sortedColumn:void 0,textIsRepaired:p(Je)}}),{json:p(ne),previousJson:ft,undo:it,redo:X}}function or(){!m()&&p(q)&&O(q,qI(Et(p(q))))}function Kt(){if(!m()&&p(q)){var X=Et(p(q)),me=xt(p(ne),X);$o(me)?function(ze,ft){r("openJSONEditorModal",{path:ze,value:ft}),te=!0,ge()({content:{json:ft},path:ze,onPatch:p(Cr).onPatch,onClose:()=>{te=!1,setTimeout(sn)}})}(X,me):O(q,B2(X))}}function Qn(){if(!m()&&hr(p(q))){var X=Et(p(q)),me=Wt(X),ze=xt(p(ne),X),ft=!bu(p(ne),p(Y),X),at=ft?String(ze):Ty(String(ze),C());r("handleToggleEnforceString",{enforceString:ft,value:ze,updatedValue:at}),Ve([{op:"replace",path:me,value:at}],(it,an)=>({state:gA(p(ne),an,X,{type:"value",enforceString:ft})}))}}function un(){return p(Je)&&p(ne)!==void 0&&et(p(ne)),p(ne)!==void 0?{json:p(ne)}:{text:p(D)||""}}function St(){return In.apply(this,arguments)}function In(){return In=Xt(function*(){var X=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];yield uQ({json:p(ne),selection:p(q),indentation:X?T():void 0,readOnly:m(),parser:C(),onPatch:Ve})}),In.apply(this,arguments)}function kn(){return Tr.apply(this,arguments)}function Tr(){return Tr=Xt(function*(){var X=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];p(ne)!==void 0&&(yield dQ({json:p(ne),selection:p(q),indentation:X?T():void 0,parser:C()}))}),Tr.apply(this,arguments)}function Yr(X){var me;X.preventDefault(),eo((me=X.clipboardData)===null||me===void 0?void 0:me.getData("text/plain"))}function Fr(){return Ro.apply(this,arguments)}function Ro(){return(Ro=Xt(function*(){try{eo(yield navigator.clipboard.readText())}catch(X){console.error(X),O(ee,!0)}})).apply(this,arguments)}function eo(X){X!==void 0&&fQ({clipboardText:X,json:p(ne),selection:p(q),readOnly:m(),parser:C(),onPatch:Ve,onChangeText:de,onPasteMultilineText:Lr,openRepairModal:So})}function So(X,me){O(be,{text:X,onParse:ze=>Ow(ze,ft=>Tw(ft,C())),onRepair:hX,onApply:me,onClose:sn})}function Ko(){hQ({json:p(ne),text:p(D),selection:p(q),keepSelection:!1,readOnly:m(),onChange:U(),onPatch:Ve})}function fo(){!m()&&p(ne)!==void 0&&p(q)&&Fg&&!sr(Et(p(q)))&&(r("duplicate",{selection:p(q)}),Ve(RX(p(ne),Ph(p(ne),p(q)))))}function mi(){m()||!p(q)||!Dr(p(q))&&!hr(p(q))||sr(Et(p(q)))||(r("extract",{selection:p(q)}),Ve(NX(p(ne),p(q)),(X,me)=>{if($o(X))return{state:VT(X,me,[])}}))}function Jo(X){Y2({insertType:X,selectInside:!0,initialValue:void 0,json:p(ne),selection:p(q),readOnly:m(),parser:C(),onPatch:Ve,onReplaceJson:et})}function oi(X){zi(p(q))&&O(q,Vn(p(q).path)),p(q)||O(q,pg(p(ne),p(Y))),Jo(X)}function ho(X){if(!m()&&p(q))if(Wx(p(q)))try{var me=Jp(p(q)),ze=xt(p(ne),me),ft=function(it,an,ln){if(an==="array"){if(Array.isArray(it))return it;if(vr(it))return sV(it);if(typeof it=="string")try{var Rn=ln.parse(it);if(Array.isArray(Rn))return Rn;if(vr(Rn))return sV(Rn)}catch{return[it]}return[it]}if(an==="object"){if(Array.isArray(it))return iV(it);if(vr(it))return it;if(typeof it=="string")try{var jr=ln.parse(it);if(vr(jr))return jr;if(Array.isArray(jr))return iV(jr)}catch{return{value:it}}return{value:it}}if(an==="value")return $o(it)?ln.stringify(it):it;throw new Error("Cannot convert ".concat(OI(it,ln)," to ").concat(an))}(ze,X,C());if(ft===ze)return;var at=[{op:"replace",path:Wt(me),value:ft}];r("handleConvert",{selection:p(q),path:me,type:X,operations:at}),Ve(at,(it,an)=>({state:p(q)?Cm(it,an,Et(p(q))):p(Y)}))}catch(it){z()(it)}else z()(new Error("Cannot convert current selection to ".concat(X)))}function Ue(){if(p(q)){var X=CV(p(ne),p(Y),p(q),!1),me=Jn(Et(p(q)));X&&!sr(Et(X))&&_n(me,Jn(Et(X)))?O(q,Pd(Et(X))):O(q,Xd(me)),r("insert before",{selection:p(q),selectionBefore:X,parentPath:me}),Qr(),Zn()}}function Cn(){if(p(q)){var X=gh(p(ne),p(q));r("insert after",X),O(q,Pd(X)),Qr(),Zn()}}function yr(X){return Nr.apply(this,arguments)}function Nr(){return(Nr=Xt(function*(X){yield pQ({char:X,selectInside:!0,json:p(ne),selection:p(q),readOnly:m(),parser:C(),onPatch:Ve,onReplaceJson:et,onSelect:Ae})})).apply(this,arguments)}function No(){if(!m()&&y().canUndo){var X=y().undo();if(D2(X)){var me={json:p(ne),text:p(D)};O(ne,X.undo.patch?vc(p(ne),X.undo.patch):X.undo.json),O(Y,X.undo.documentState),O(q,X.undo.selection),O(D,X.undo.text),O(Je,X.undo.textIsRepaired),L=void 0,r("undo",{item:X,json:p(ne),documentState:p(Y),selection:p(q)}),ve(me,X.undo.patch&&X.redo.patch?{json:p(ne),previousJson:me.json,redo:X.undo.patch,undo:X.redo.patch}:void 0),sn(),p(q)&&Fn(Et(p(q)),{scrollToWhenVisible:!1})}else ie()(X)}}function Mi(){if(!m()&&y().canRedo){var X=y().redo();if(D2(X)){var me={json:p(ne),text:p(D)};O(ne,X.redo.patch?vc(p(ne),X.redo.patch):X.redo.json),O(Y,X.redo.documentState),O(q,X.redo.selection),O(D,X.redo.text),O(Je,X.redo.textIsRepaired),L=void 0,r("redo",{item:X,json:p(ne),documentState:p(Y),selection:p(q)}),ve(me,X.undo.patch&&X.redo.patch?{json:p(ne),previousJson:me.json,redo:X.redo.patch,undo:X.undo.patch}:void 0),sn(),p(q)&&Fn(Et(p(q)),{scrollToWhenVisible:!1})}else Z()(X)}}function Ln(X){var me;m()||p(ne)===void 0||(te=!0,N()({id:i,json:p(ne),rootPath:X,onSort:(me=Xt(function*(ze){var{operations:ft}=ze;r("onSort",X,ft),Ve(ft,(at,it)=>({state:VT(at,it,X),selection:Vn(X)}))}),function(ze){return me.apply(this,arguments)}),onClose:()=>{te=!1,setTimeout(sn)}}))}function ii(){p(q)&&Ln(AV(p(ne),p(q)))}function is(){Ln([])}function po(X){if(p(ne)!==void 0){var{id:me,onTransform:ze,onClose:ft}=X,at=X.rootPath||[];te=!0,he()({id:me||s,json:p(ne),rootPath:at,onTransform:it=>{ze?ze({operations:it,json:p(ne),transformedJson:vc(p(ne),it)}):(r("onTransform",at,it),Ve(it,(an,ln)=>({state:VT(an,ln,at),selection:Vn(at)})))},onClose:()=>{te=!1,setTimeout(sn),ft&&ft()}})}}function Qi(){p(q)&&po({rootPath:AV(p(ne),p(q))})}function Or(){po({rootPath:[]})}function Fn(X){return wn.apply(this,arguments)}function wn(){return wn=Xt(function*(X){var{scrollToWhenVisible:me=!0,element:ze}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};O(Y,ic(p(ne),p(Y),X,rS));var ft=ze??Pr(X);if(r("scrollTo",{path:X,elem:ft,refContents:p(c)}),!ft||!p(c))return Promise.resolve();var at=p(c).getBoundingClientRect(),it=ft.getBoundingClientRect();if(!me&&it.bottom>at.top&&it.top<at.bottom)return Promise.resolve();var an=-at.height/4;return new Promise(ln=>{h(ft,{container:p(c),offset:an,duration:300,callback:()=>ln()})})}),wn.apply(this,arguments)}function Pr(X){var me,ze;return Qr(),(me=(ze=p(c))===null||ze===void 0?void 0:ze.querySelector('div[data-path="'.concat(nS(X),'"]')))!==null&&me!==void 0?me:void 0}function Go(X){var me,ze;return Qr(),(me=(ze=p(c))===null||ze===void 0?void 0:ze.querySelector('span[data-search-result-index="'.concat(X,'"]')))!==null&&me!==void 0?me:void 0}function Co(X){var me=Pr(X);if(me&&p(c)){var ze=p(c).getBoundingClientRect(),ft=me.getBoundingClientRect(),at=$o(xt(p(ne),X))?20:ft.height;ft.top<ze.top+20?h(me,{container:p(c),offset:-20,duration:0}):ft.top+at>ze.bottom-20&&h(me,{container:p(c),offset:-(ze.height-at-20),duration:0})}}function ve(X,me){if(X.json!==void 0||(X==null?void 0:X.text)!==void 0){if(p(D)!==void 0){var ze,ft={text:p(D),json:void 0};(ze=U())===null||ze===void 0||ze(ft,X,{contentErrors:dt(),patchResult:me})}else if(p(ne)!==void 0){var at,it={text:void 0,json:p(ne)};(at=U())===null||at===void 0||at(it,X,{contentErrors:dt(),patchResult:me})}}}function Ve(X,me){r("handlePatch",X,me);var ze={json:p(ne),text:p(D)},ft=Bn(X,me);return ve(ze,ft),ft}function et(X,me){var ze={json:p(ne),text:p(D)},ft={documentState:p(Y),selection:p(q),json:p(ne),text:p(D),textIsRepaired:p(Je)},at=ic(p(ne),Xa(X,p(Y)),[],C1),it=typeof me=="function"?me(X,at,p(q)):void 0;O(ne,(it==null?void 0:it.json)!==void 0?it.json:X),O(Y,(it==null?void 0:it.state)!==void 0?it.state:at),O(q,(it==null?void 0:it.selection)!==void 0?it.selection:p(q)),O(D,void 0),O(Je,!1),L=void 0,cr(p(ne)),Pn(ft),ve(ze,void 0)}function de(X,me){r("handleChangeText");var ze={json:p(ne),text:p(D)},ft={documentState:p(Y),selection:p(q),json:p(ne),text:p(D),textIsRepaired:p(Je)};try{O(ne,j()(X)),O(Y,ic(p(ne),Xa(p(ne),p(Y)),[],C1)),O(D,void 0),O(Je,!1),L=void 0}catch(it){try{O(ne,j()(Su(X))),O(Y,ic(p(ne),Xa(p(ne),p(Y)),[],C1)),O(D,X),O(Je,!0),L=void 0}catch{O(ne,void 0),O(Y,o_({json:p(ne),expand:C1})),O(D,X),O(Je,!1),L=p(D)!==""?Wv(p(D),it.message||String(it)):void 0}}if(typeof me=="function"){var at=me(p(ne),p(Y),p(q));O(ne,(at==null?void 0:at.json)!==void 0?at.json:p(ne)),O(Y,(at==null?void 0:at.state)!==void 0?at.state:p(Y)),O(q,(at==null?void 0:at.selection)!==void 0?at.selection:p(q))}cr(p(ne)),Pn(ft),ve(ze,void 0)}function ke(X,me){var ze=arguments.length>2&&arguments[2]!==void 0&&arguments[2];r("handleExpand",{path:X,expanded:me,recursive:ze}),me?xe(X,ze?FI:i_):Fe(X,ze),sn()}function qe(){ke([],!0,!0)}function st(){ke([],!1,!0)}function Ot(X){r("openFind",{findAndReplace:X}),O(Ne,!1),O(_e,!1),Qr(),O(Ne,!0),O(_e,X)}function $t(X,me){r("handleExpandSection",X,me),O(Y,function(ze,ft,at,it){return Jv(ze,ft,at,(an,ln)=>{if(!Bi(ln))return ln;var Rn=CX(ln.visibleSections.concat(it));return nt(nt({},ln),{},{visibleSections:Rn})})}(p(ne),p(Y),X,me))}function Ht(X){r("pasted json as text",X),O(Pe,X)}function Lr(X){r("pasted multiline text",{pastedText:X}),O(we,X)}function Dn(X){var me,{anchor:ze,left:ft,top:at,width:it,height:an,offsetTop:ln,offsetLeft:Rn,showTip:jr}=X,Wn=function(Ir){var{json:no,documentState:mr,selection:nn,readOnly:tr,onEditKey:rn,onEditValue:Nt,onToggleEnforceString:jn,onCut:mo,onCopy:ro,onPaste:ai,onRemove:Xo,onDuplicate:ss,onExtract:Yu,onInsertBefore:qa,onInsert:ec,onConvert:Gc,onInsertAfter:tc,onSort:as,onTransform:ls}=Ir,Ua=no!==void 0,Xu=!!nn,Wa=!!nn&&sr(Et(nn)),Ar=nn?xt(no,Et(nn)):void 0,vi=Array.isArray(Ar)?"Edit array":vr(Ar)?"Edit object":"Edit value",Qo=Ua&&(Dr(nn)||zi(nn)||hr(nn)),tp=nn&&!Wa?xt(no,Jn(Et(nn))):void 0,tg=!tr&&Ua&&V2(nn)&&!Wa&&!Array.isArray(tp),np=!tr&&Ua&&nn!==void 0&&V2(nn),Ry=np&&!$o(Ar),ng=!tr&&Qo,Ny=Qo,cM=!tr&&Xu,uM=!tr&&Ua&&Qo&&!Wa,dM=!tr&&Ua&&nn!==void 0&&(Dr(nn)||hr(nn))&&!Wa,Yc=Qo,rp=Yc?"Convert to:":"Insert:",yi=!tr&&(Pi(nn)&&Array.isArray(Ar)||La(nn)&&Array.isArray(tp)),ja=!tr&&(Yc?Wx(nn)&&!vr(Ar):Xu),Ly=!tr&&(Yc?Wx(nn)&&!Array.isArray(Ar):Xu),Dy=!tr&&(Yc?Wx(nn)&&$o(Ar):Xu),op=nn!==void 0&&bu(no,mr,Et(nn));function Ss(Vy){Qo?Vy!=="structure"&&Gc(Vy):ec(Vy)}return[{type:"row",items:[{type:"button",onClick:()=>rn(),icon:ev,text:"Edit key",title:"Edit the key (Double-click on the key)",disabled:!tg},{type:"dropdown-button",main:{type:"button",onClick:()=>Nt(),icon:ev,text:vi,title:"Edit the value (Double-click on the value)",disabled:!np},width:"11em",items:[{type:"button",icon:ev,text:vi,title:"Edit the value (Double-click on the value)",onClick:()=>Nt(),disabled:!np},{type:"button",icon:op?cW:dW,text:"Enforce string",title:"Enforce keeping the value as string when it contains a numeric value",onClick:()=>jn(),disabled:!Ry}]}]},{type:"separator"},{type:"row",items:[{type:"dropdown-button",main:{type:"button",onClick:()=>mo(!0),icon:Zg,text:"Cut",title:"Cut selected contents, formatted with indentation (Ctrl+X)",disabled:!ng},width:"10em",items:[{type:"button",icon:Zg,text:"Cut formatted",title:"Cut selected contents, formatted with indentation (Ctrl+X)",onClick:()=>mo(!0),disabled:!ng},{type:"button",icon:Zg,text:"Cut compacted",title:"Cut selected contents, without indentation (Ctrl+Shift+X)",onClick:()=>mo(!1),disabled:!ng}]},{type:"dropdown-button",main:{type:"button",onClick:()=>ro(!0),icon:Gf,text:"Copy",title:"Copy selected contents, formatted with indentation (Ctrl+C)",disabled:!Ny},width:"12em",items:[{type:"button",icon:Gf,text:"Copy formatted",title:"Copy selected contents, formatted with indentation (Ctrl+C)",onClick:()=>ro(!0),disabled:!Ny},{type:"button",icon:Gf,text:"Copy compacted",title:"Copy selected contents, without indentation (Ctrl+Shift+C)",onClick:()=>ro(!1),disabled:!Ny}]},{type:"button",onClick:()=>ai(),icon:lW,text:"Paste",title:"Paste clipboard contents (Ctrl+V)",disabled:!cM}]},{type:"separator"},{type:"row",items:[{type:"column",items:[{type:"button",onClick:()=>ss(),icon:pW,text:"Duplicate",title:"Duplicate selected contents (Ctrl+D)",disabled:!uM},{type:"button",onClick:()=>Yu(),icon:a1e,text:"Extract",title:"Extract selected contents",disabled:!dM},{type:"button",onClick:()=>as(),icon:t2,text:"Sort",title:"Sort array or object contents",disabled:tr||!Qo},{type:"button",onClick:()=>ls(),icon:ZS,text:"Transform",title:"Transform array or object contents (filter, sort, project)",disabled:tr||!Qo},{type:"button",onClick:()=>Xo(),icon:$$,text:"Remove",title:"Remove selected contents (Delete)",disabled:tr||!Qo}]},{type:"column",items:[{type:"label",text:rp},{type:"button",onClick:()=>Ss("structure"),icon:Yc?ix:Ng,text:"Structure",title:rp+" structure like the first item in the array",disabled:!yi},{type:"button",onClick:()=>Ss("object"),icon:Yc?ix:Ng,text:"Object",title:rp+" object",disabled:!ja},{type:"button",onClick:()=>Ss("array"),icon:Yc?ix:Ng,text:"Array",title:rp+" array",disabled:!Ly},{type:"button",onClick:()=>Ss("value"),icon:Yc?ix:Ng,text:"Value",title:rp+" value",disabled:!Dy}]}]},{type:"separator"},{type:"row",items:[{type:"button",onClick:()=>qa(),icon:n1e,text:"Insert before",title:"Select area before current entry to insert or paste contents",disabled:tr||!Qo||Wa},{type:"button",onClick:()=>tc(),icon:Gye,text:"Insert after",title:"Select area after current entry to insert or paste contents",disabled:tr||!Qo||Wa}]}]}({json:p(ne),documentState:p(Y),selection:p(q),readOnly:m(),onEditKey:or,onEditValue:Kt,onToggleEnforceString:Qn,onCut:St,onCopy:kn,onPaste:Fr,onRemove:Ko,onDuplicate:fo,onExtract:mi,onInsertBefore:Ue,onInsert:oi,onInsertAfter:Cn,onConvert:ho,onSort:ii,onTransform:Qi}),qr=(me=H()(Wn))!==null&&me!==void 0?me:Wn;if(qr!==!1){var dn={left:ft,top:at,offsetTop:ln,offsetLeft:Rn,width:it,height:an,anchor:ze,closeOnOuterClick:!0,onClose:()=>{te=!1,sn()}};te=!0;var jo=a(gQ,{tip:jr?"Tip: you can open this context menu via right-click or with Ctrl+Q":void 0,items:qr,onRequestClose:()=>l(jo)},dn)}}function Zn(X){if(!Di(p(q)))if(X&&(X.stopPropagation(),X.preventDefault()),X&&X.type==="contextmenu"&&X.target!==p(u))Dn({left:X.clientX,top:X.clientY,width:xd,height:wd,showTip:!1});else{var me,ze=(me=p(c))===null||me===void 0?void 0:me.querySelector(".jse-context-menu-pointer.jse-selected");if(ze)Dn({anchor:ze,offsetTop:2,width:xd,height:wd,showTip:!1});else{var ft,at=(ft=p(c))===null||ft===void 0?void 0:ft.getBoundingClientRect();at&&Dn({top:at.top+2,left:at.left+2,width:xd,height:wd,showTip:!1})}}}function pn(X){Dn({anchor:kX(X.target,"BUTTON"),offsetTop:0,width:xd,height:wd,showTip:!0})}function qn(){return Ti.apply(this,arguments)}function Ti(){return(Ti=Xt(function*(){if(r("apply pasted json",p(Pe)),p(Pe)){var{onPasteAsJson:X}=p(Pe);O(Pe,void 0),X(),setTimeout(sn)}})).apply(this,arguments)}function tn(){return pr.apply(this,arguments)}function pr(){return(pr=Xt(function*(){r("apply pasted multiline text",p(we)),p(we)&&(eo(JSON.stringify(p(we))),setTimeout(sn))})).apply(this,arguments)}function zn(){r("clear pasted json"),O(Pe,void 0),sn()}function ur(){r("clear pasted multiline text"),O(we,void 0),sn()}function Xr(){G()(li.text)}function $r(X){O(q,X),sn(),Fn(Et(X))}function sn(){r("focus"),p(u)&&(p(u).focus(),p(u).select())}function gi(X){return function(me,ze,ft){var at=Jn(ft),it=[Nn(ft)],an=xt(me,at),ln=an?DT(an,ze,it):void 0;return ln?Vn(at.concat(ln)):Pd(ft)}(p(ne),p(Y),X)}function Yo(X){p(n)&&p(n).onDrag(X)}function Oi(){p(n)&&p(n).onDragEnd()}var Cr=le(void 0,!0);je(()=>p(q),()=>{var X;X=p(q),_n(X,v())||(r("onSelect",X),ce()(X))}),je(()=>(E(w()),E(S())),()=>{O(pe,$I({escapeControlCharacters:w(),escapeUnicodeCharacters:S()}))}),je(()=>p(Ne),()=>{(function(X){p(c)&&X&&p(c).scrollTop===0&&(Za(c,p(c).style.overflowAnchor="none"),Za(c,p(c).scrollTop+=S1),setTimeout(()=>{p(c)&&Za(c,p(c).style.overflowAnchor="")}))})(p(Ne))}),je(()=>E(g()),()=>{Mr(g())}),je(()=>E(v()),()=>{(function(X){_n(p(q),X)||(r("applyExternalSelection",{selection:p(q),externalSelection:X}),fb(X)&&O(q,X))})(v())}),je(()=>(p(ne),E(A()),E(C()),E(_())),()=>{ht(p(ne),A(),C(),_())}),je(()=>(p(c),UV),()=>{O(n,p(c)?UV(p(c)):void 0)}),je(()=>(E(m()),E(b()),E(C()),p(pe),E(W()),E(K())),()=>{O(Cr,{mode:li.tree,readOnly:m(),truncateTextSize:b(),parser:C(),normalization:p(pe),getJson:mt,getDocumentState:Sn,getSelection:Sr,findElement:Pr,findNextInside:gi,focus:sn,onPatch:Ve,onInsert:Jo,onExpand:ke,onSelect:Ae,onFind:Ot,onExpandSection:$t,onPasteJson:Ht,onRenderValue:W(),onContextMenu:Dn,onClassName:K()||(()=>{}),onDrag:Yo,onDragEnd:Oi})}),je(()=>p(Cr),()=>{r("context changed",p(Cr))}),xr();var Er={expand:xe,collapse:Fe,validate:dt,getJson:mt,patch:Bn,acceptAutoRepair:un,openTransformModal:po,scrollTo:Fn,findElement:Pr,findSearchResult:Go,focus:sn};gn(!0);var si=f3e();Xe("mousedown",Ed,function(X){!Oy(X.target,me=>me===p(d))&&Di(p(q))&&(r("click outside the editor, exit edit mode"),O(q,hu(p(q))),f&&p(u)&&(p(u).focus(),p(u).blur()),r("blur (outside editor)"),p(u)&&p(u).blur())});var Q,Se=Ct(si),Ke=ae(Se),lt=X=>{(function(me,ze){Ft(ze,!1);var ft=le(void 0,!0),at=le(void 0,!0),it=le(void 0,!0),an=$(ze,"json",9),ln=$(ze,"selection",9),Rn=$(ze,"readOnly",9),jr=$(ze,"showSearch",13,!1),Wn=$(ze,"history",9),qr=$(ze,"onExpandAll",9),dn=$(ze,"onCollapseAll",9),jo=$(ze,"onUndo",9),Ir=$(ze,"onRedo",9),no=$(ze,"onSort",9),mr=$(ze,"onTransform",9),nn=$(ze,"onContextMenu",9),tr=$(ze,"onCopy",9),rn=$(ze,"onRenderMenu",9);function Nt(){jr(!jr())}var jn=le(void 0,!0),mo=le(void 0,!0),ro=le(void 0,!0),ai=le(void 0,!0);je(()=>E(an()),()=>{O(ft,an()!==void 0)}),je(()=>(p(ft),E(ln()),hr),()=>{O(at,p(ft)&&(Dr(ln())||zi(ln())||hr(ln())))}),je(()=>(E(qr()),E(an())),()=>{O(jn,{type:"button",icon:oQ,title:"Expand all",className:"jse-expand-all",onClick:qr(),disabled:!$o(an())})}),je(()=>(E(dn()),E(an())),()=>{O(mo,{type:"button",icon:iQ,title:"Collapse all",className:"jse-collapse-all",onClick:dn(),disabled:!$o(an())})}),je(()=>E(an()),()=>{O(ro,{type:"button",icon:Fj,title:"Search (Ctrl+F)",className:"jse-search",onClick:Nt,disabled:an()===void 0})}),je(()=>(E(Rn()),p(jn),p(mo),E(no()),E(an()),E(mr()),p(ro),E(nn()),E(jo()),E(Wn()),E(Ir()),E(tr()),p(at)),()=>{O(ai,Rn()?[p(jn),p(mo),{type:"separator"},{type:"button",icon:Gf,title:"Copy (Ctrl+C)",className:"jse-copy",onClick:tr(),disabled:!p(at)},{type:"separator"},p(ro),{type:"space"}]:[p(jn),p(mo),{type:"separator"},{type:"button",icon:t2,title:"Sort",className:"jse-sort",onClick:no(),disabled:Rn()||an()===void 0},{type:"button",icon:ZS,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:mr(),disabled:Rn()||an()===void 0},p(ro),{type:"button",icon:fW,title:RI,className:"jse-contextmenu",onClick:nn()},{type:"separator"},{type:"button",icon:U4,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:jo(),disabled:!Wn().canUndo},{type:"button",icon:q4,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:Ir(),disabled:!Wn().canRedo},{type:"space"}])}),je(()=>(E(rn()),p(ai)),()=>{O(it,rn()(p(ai))||p(ai))}),xr(),gn(!0),kA(me,{get items(){return p(it)}}),qt()})(X,{get json(){return p(ne)},get selection(){return p(q)},get readOnly(){return m()},get history(){return y()},onExpandAll:qe,onCollapseAll:st,onUndo:No,onRedo:Mi,onSort:is,onTransform:Or,onContextMenu:pn,onCopy:kn,get onRenderMenu(){return B()},get showSearch(){return p(Ne)},set showSearch(me){O(Ne,me)},$$legacy:!0})};$e(Ke,X=>{x()&&X(lt)});var Be=ye(Ke,2),pt=X=>{V_e(X,{get json(){return p(ne)},get selection(){return p(q)},onSelect:$r,get onError(){return z()},get pathParser(){return R()}})};$e(Be,X=>{k()&&X(pt)});var bt=ye(Be,2),yt=X=>{var me=u3e(),ze=Ct(me),ft=ae(ze);ft.readOnly=!0,uo(ft,ln=>O(u,ln),()=>p(u));var at=ye(ze,2),it=ln=>{var Rn=En(),jr=Ct(Rn),Wn=dn=>{(function(jo,Ir){Ft(Ir,!0);var no=A_e();no.__click=[C_e,Ir];var mr=ye(ae(no),2),nn=ye(ae(mr),2),tr=rn=>{var Nt=j_e(),jn=ye(Ct(Nt),2);wr(jn,"title","Create an empty JSON object (press '{')"),jn.__click=[k_e,Ir];var mo=ye(jn,2);wr(mo,"title","Create an empty JSON array (press '[')"),mo.__click=[S_e,Ir],oe(rn,Nt)};$e(nn,rn=>{Ir.readOnly||rn(tr)}),oe(jo,no),qt()})(dn,{get readOnly(){return m()},onCreateObject:()=>{sn(),yr("{")},onCreateArray:()=>{sn(),yr("[")},onClick:()=>{sn()}})},qr=dn=>{var jo=a3e(),Ir=Ct(jo),no=jt(()=>m()?[]:[{icon:e2,text:"Repair manually",title:'Open the document in "code" mode and repair it manually',onClick:Xr}]);al(Ir,{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",get actions(){return p(no)}}),mQ(ye(Ir,2),{get text(){return p(D)},get json(){return p(ne)},get indentation(){return T()},get parser(){return C()}}),oe(dn,jo)};$e(jr,dn=>{p(D)===""||p(D)===void 0?dn(Wn):dn(qr,!1)}),oe(ln,Rn)},an=ln=>{var Rn=c3e(),jr=Ct(Rn);aQ(ae(jr),{get json(){return p(ne)},get documentState(){return p(Y)},get parser(){return C()},get showSearch(){return p(Ne)},get showReplace(){return p(_e)},get readOnly(){return m()},columns:void 0,onSearch:Qe,onFocus:I,onPatch:Ve,onClose:J});var Wn=ye(jr,2);wr(Wn,"data-jsoneditor-scrollable-contents",!0);var qr=ae(Wn),dn=rn=>{oe(rn,l3e())};$e(qr,rn=>{p(Ne)&&rn(dn)}),p_(ye(qr,2),{get value(){return p(ne)},pointer:"",get state(){return p(Y)},get validationErrors(){return p(Me)},get searchResults(){return p(Re)},get selection(){return p(q)},get context(){return p(Cr)},get onDragSelectionStart(){return wi}}),uo(Wn,rn=>O(c,rn),()=>p(c));var jo=ye(Wn,2),Ir=rn=>{var Nt=jt(()=>(p(Pe),fe(()=>"You pasted a JSON ".concat(Array.isArray(p(Pe).contents)?"array":"object"," as text")))),jn=jt(()=>[{icon:Ch,text:"Paste as JSON instead",title:"Replace the value with the pasted JSON",onMouseDown:qn},{text:"Leave as is",title:"Keep the JSON embedded in the value",onClick:zn}]);al(rn,{type:"info",get message(){return p(Nt)},get actions(){return p(jn)}})};$e(jo,rn=>{p(Pe)&&rn(Ir)});var no=ye(jo,2),mr=rn=>{var Nt=jt(()=>[{icon:Ch,text:"Paste as string instead",title:"Paste the clipboard data as a single string value instead of an array",onClick:tn},{text:"Leave as is",title:"Keep the pasted array",onClick:ur}]);al(rn,{type:"info",message:"Multiline text was pasted as array",get actions(){return p(Nt)}})};$e(no,rn=>{p(we)&&rn(mr)});var nn=ye(no,2),tr=rn=>{var Nt=jt(()=>m()?[]:[{icon:W4,text:"Ok",title:"Accept the repaired document",onClick:un},{icon:e2,text:"Repair manually instead",title:"Leave the document unchanged and repair it manually instead",onClick:Xr}]);al(rn,{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",get actions(){return p(Nt)},onClose:sn})};$e(nn,rn=>{p(Je)&&rn(tr)}),JI(ye(nn,2),{get validationErrors(){return p(Ce)},selectError:se}),oe(ln,Rn)};$e(at,ln=>{p(ne)===void 0?ln(it):ln(an,!1)}),Xe("paste",ft,Yr),oe(X,me)},$n=X=>{oe(X,d3e())};$e(bt,X=>{o?X($n,!1):X(yt)}),uo(Se,X=>O(d,X),()=>p(d));var er=ye(Se,2),Un=X=>{tQ(X,{onClose:()=>O(ee,!1)})};$e(er,X=>{p(ee)&&X(Un)});var to=ye(er,2),$i=X=>{nQ(X,ph(()=>p(be),{onClose:()=>{var me;(me=p(be))===null||me===void 0||me.onClose(),O(be,void 0)}}))};return $e(to,X=>{p(be)&&X($i)}),rt(X=>Q=mn(Se,1,"jse-tree-mode svelte-10mlrw4",null,Q,X),[()=>({"no-main-menu":!x()})]),Xe("keydown",Se,function(X){var me=Gd(X),ze=X.shiftKey;if(r("keydown",{combo:me,key:X.key}),me==="Ctrl+X"&&(X.preventDefault(),St(!0)),me==="Ctrl+Shift+X"&&(X.preventDefault(),St(!1)),me==="Ctrl+C"&&(X.preventDefault(),kn(!0)),me==="Ctrl+Shift+C"&&(X.preventDefault(),kn(!1)),me==="Ctrl+D"&&(X.preventDefault(),fo()),me!=="Delete"&&me!=="Backspace"||(X.preventDefault(),Ko()),me==="Insert"&&(X.preventDefault(),Jo("structure")),me==="Ctrl+A"&&(X.preventDefault(),O(q,Vn([]))),me==="Ctrl+Q"&&Zn(X),me==="ArrowUp"||me==="Shift+ArrowUp"){X.preventDefault();var ft=p(q)?CV(p(ne),p(Y),p(q),ze)||p(q):pg(p(ne),p(Y));O(q,ft),Co(Et(ft))}if(me==="ArrowDown"||me==="Shift+ArrowDown"){X.preventDefault();var at=p(q)?function(Wn,qr,dn){var jo=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(dn){var Ir=jo?Et(dn):gh(Wn,dn),no=$o(xt(Wn,Ir))?wV(Wn,qr,Ir,!0):qr,mr=DT(Wn,qr,Ir),nn=DT(Wn,no,Ir);if(jo)return Pi(dn)?mr!==void 0?Fs(mr,mr):void 0:La(dn)?nn!==void 0?Fs(nn,nn):void 0:nn!==void 0?Fs(Jp(dn),nn):void 0;if(La(dn))return nn!==void 0?Vn(nn):void 0;if(Pi(dn)||hr(dn))return mr!==void 0?Vn(mr):void 0;if(zi(dn)){if(mr===void 0||mr.length===0)return;var tr=Jn(mr),rn=xt(Wn,tr);return Array.isArray(rn)?Vn(mr):Yd(mr)}return Dr(dn)?nn!==void 0?Vn(nn):mr!==void 0?Vn(mr):void 0:void 0}}(p(ne),p(Y),p(q),ze)||p(q):pg(p(ne),p(Y));O(q,at),Co(Et(at))}if(me==="ArrowLeft"||me==="Shift+ArrowLeft"){X.preventDefault();var it=p(q)?function(Wn,qr,dn){var jo=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Ir=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(dn){var{caret:no,previous:mr}=jV(Wn,qr,dn,Ir);if(jo)return Dr(dn)?void 0:Fs(dn.path,dn.path);if(no&&mr)return s_(mr);var nn=Jn(Et(dn)),tr=xt(Wn,nn);return hr(dn)&&Array.isArray(tr)?Fs(dn.path,dn.path):Dr(dn)&&!Array.isArray(tr)?Yd(dn.focusPath):void 0}}(p(ne),p(Y),p(q),ze,!m())||p(q):pg(p(ne),p(Y));O(q,it),Co(Et(it))}if(me==="ArrowRight"||me==="Shift+ArrowRight"){X.preventDefault();var an=p(q)&&p(ne)!==void 0?function(Wn,qr,dn){var jo=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Ir=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(dn){var{caret:no,next:mr}=jV(Wn,qr,dn,Ir);return jo?Dr(dn)?void 0:Fs(dn.path,dn.path):no&&mr?s_(mr):Dr(dn)?Vn(dn.focusPath):void 0}}(p(ne),p(Y),p(q),ze,!m())||p(q):pg(p(ne),p(Y));O(q,an),Co(Et(an))}if(me==="Enter"&&p(q)){if(vA(p(q))){var ln=p(q).focusPath,Rn=xt(p(ne),Jn(ln));Array.isArray(Rn)&&(X.preventDefault(),O(q,Vn(ln)))}zi(p(q))&&(X.preventDefault(),O(q,nt(nt({},p(q)),{},{edit:!0}))),hr(p(q))&&(X.preventDefault(),$o(xt(p(ne),p(q).path))?ke(p(q).path,!0):O(q,nt(nt({},p(q)),{},{edit:!0})))}if(me.replace(/^Shift\+/,"").length===1&&p(q))return X.preventDefault(),void yr(X.key);if(me==="Enter"&&(La(p(q))||Pi(p(q))))return X.preventDefault(),void yr("");if(me==="Ctrl+Enter"&&hr(p(q))){var jr=xt(p(ne),p(q).path);mA(jr)&&window.open(String(jr),"_blank")}me==="Escape"&&p(q)&&(X.preventDefault(),O(q,void 0)),me==="Ctrl+F"&&(X.preventDefault(),Ot(!1)),me==="Ctrl+H"&&(X.preventDefault(),Ot(!0)),me==="Ctrl+Z"&&(X.preventDefault(),No()),me==="Ctrl+Shift+Z"&&(X.preventDefault(),Mi())}),Xe("mousedown",Se,function(X){r("handleMouseDown",X);var me=X.target;xX(me,"BUTTON")||me.isContentEditable||(sn(),p(q)||p(ne)!==void 0||p(D)!==""&&p(D)!==void 0||(r("createDefaultSelection"),O(q,Vn([]))))}),Xe("contextmenu",Se,Zn),oe(t,si),on(e,"expand",xe),on(e,"collapse",Fe),on(e,"validate",dt),on(e,"getJson",mt),on(e,"patch",Bn),on(e,"acceptAutoRepair",un),on(e,"openTransformModal",po),on(e,"scrollTo",Fn),on(e,"findElement",Pr),on(e,"findSearchResult",Go),on(e,"focus",sn),qt(Er)}function vQ(t){return typeof(e=t)!="object"||e===null?t:new Proxy(t,{get:(n,r,o)=>vQ(Reflect.get(n,r,o)),set:()=>!1,deleteProperty:()=>!1});var e}var ek=Ui("jsoneditor:History");function yQ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.maxItems||1e3,n=[],r=0;function o(){return r<n.length}function i(){return r>0}function s(){return{canUndo:o(),canRedo:i(),items:()=>n.slice().reverse(),add:l,undo:u,redo:d,clear:c}}function a(){t.onChange&&t.onChange(s())}function l(f){ek("add",f),n=[f].concat(n.slice(r)).slice(0,e),r=0,a()}function c(){ek("clear"),n=[],r=0,a()}function u(){if(o()){var f=n[r];return r+=1,ek("undo",f),a(),f}}function d(){if(i())return ek("redo",n[r-=1]),a(),n[r]}return{get:s}}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-transform-modal-inner.svelte-lta8xm {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-width: 0;
  min-height: 0;
}
.jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) {
  color: inherit;
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 0;
  overflow: auto;
  min-width: 0;
  min-height: 0;
}
.jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-actions:where(.svelte-lta8xm) {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  padding-top: var(--jse-padding, 10px);
}
.jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-actions:where(.svelte-lta8xm) button.jse-primary:where(.svelte-lta8xm) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  background: var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));
  color: var(--jse-button-primary-color, #fff);
  padding: var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));
  border-radius: 3px;
}
.jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-actions:where(.svelte-lta8xm) button.jse-primary:where(.svelte-lta8xm):hover {
  background: var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff));
}
.jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-actions:where(.svelte-lta8xm) button.jse-primary:where(.svelte-lta8xm):disabled {
  background: var(--jse-button-primary-background-disabled, #9d9d9d);
}
.jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-main-contents:where(.svelte-lta8xm) {
  flex: 1;
  display: flex;
  gap: calc(2 * var(--jse-padding, 10px));
  min-height: 0;
  box-sizing: border-box;
  padding: 0 calc(2 * var(--jse-padding, 10px)) var(--jse-padding, 10px);
}
.jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-main-contents:where(.svelte-lta8xm) .jse-query-contents:where(.svelte-lta8xm) {
  flex: 1;
  display: flex;
  flex-direction: column;
}
.jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-main-contents:where(.svelte-lta8xm) .jse-query-contents:where(.svelte-lta8xm) .jse-description:where(.svelte-lta8xm) p {
  margin: var(--jse-padding, 10px) 0;
}
.jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-main-contents:where(.svelte-lta8xm) .jse-query-contents:where(.svelte-lta8xm) .jse-description:where(.svelte-lta8xm) p:first-child {
  margin-top: 0;
}
.jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-main-contents:where(.svelte-lta8xm) .jse-query-contents:where(.svelte-lta8xm) .jse-description:where(.svelte-lta8xm) p:last-child {
  margin-bottom: 0;
}
.jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-main-contents:where(.svelte-lta8xm) .jse-query-contents:where(.svelte-lta8xm) .jse-description:where(.svelte-lta8xm) code {
  background: var(--jse-modal-code-background, rgba(0, 0, 0, 0.05));
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
}
.jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-main-contents:where(.svelte-lta8xm) .jse-query-contents:where(.svelte-lta8xm) .query-error:where(.svelte-lta8xm) {
  color: var(--jse-error-color, #ee5341);
}
.jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-main-contents:where(.svelte-lta8xm) .jse-query-contents:where(.svelte-lta8xm) textarea.jse-query:where(.svelte-lta8xm) {
  flex: 1;
  outline: none;
  resize: vertical;
}
.jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-main-contents:where(.svelte-lta8xm) .jse-data-contents:where(.svelte-lta8xm) {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: calc(2 * var(--jse-padding, 10px));
}
.jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-main-contents:where(.svelte-lta8xm) .jse-data-contents:where(.svelte-lta8xm) .jse-original-data:where(.svelte-lta8xm) {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  box-sizing: border-box;
}
.jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-main-contents:where(.svelte-lta8xm) .jse-data-contents:where(.svelte-lta8xm) .jse-original-data.jse-hide:where(.svelte-lta8xm) {
  flex: none;
}
.jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-main-contents:where(.svelte-lta8xm) .jse-data-contents:where(.svelte-lta8xm) .jse-preview-data:where(.svelte-lta8xm) {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  box-sizing: border-box;
}
.jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-main-contents:where(.svelte-lta8xm) .jse-data-contents.jse-hide-original-data:where(.svelte-lta8xm) {
  flex-direction: column;
  gap: 0;
  margin-bottom: 0;
}
.jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-actions:where(.svelte-lta8xm) {
  padding: var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px)) calc(2 * var(--jse-padding, 10px));
}
@media screen and (max-width: 1200px) {
  .jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-main-contents:where(.svelte-lta8xm) {
    flex-direction: column;
    overflow: auto;
  }
  .jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-main-contents:where(.svelte-lta8xm) .jse-query-contents:where(.svelte-lta8xm) textarea.jse-query:where(.svelte-lta8xm) {
    min-height: 150px;
    flex: none;
  }
  .jse-transform-modal-inner.svelte-lta8xm .jse-modal-contents:where(.svelte-lta8xm) .jse-main-contents:where(.svelte-lta8xm) .jse-data-contents:where(.svelte-lta8xm) .jse-tree-mode {
    height: 300px;
    flex: none;
  }
}
.jse-transform-modal-inner.svelte-lta8xm .jse-label:where(.svelte-lta8xm) {
  font-weight: bold;
  display: block;
  box-sizing: border-box;
}
.jse-transform-modal-inner.svelte-lta8xm .jse-label:where(.svelte-lta8xm) .jse-label-inner:where(.svelte-lta8xm) {
  margin-top: calc(2 * var(--jse-padding, 10px));
  margin-bottom: calc(0.5 * var(--jse-padding, 10px));
  box-sizing: border-box;
}
.jse-transform-modal-inner.svelte-lta8xm .jse-label:where(.svelte-lta8xm) .jse-label-inner:where(.svelte-lta8xm) button:where(.svelte-lta8xm) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  font-weight: bold;
  padding: 0;
}
.jse-transform-modal-inner.svelte-lta8xm .jse-tree-mode {
  flex: 1;
  background: var(--jse-input-background-readonly, transparent);
  box-shadow: none;
  box-sizing: border-box;
  --jse-main-border: var(--jse-input-border, 1px solid #d8dbdf);
}
.jse-transform-modal-inner.svelte-lta8xm input:where(.svelte-lta8xm),
.jse-transform-modal-inner.svelte-lta8xm textarea:where(.svelte-lta8xm) {
  border: var(--jse-input-border, 1px solid #d8dbdf);
  outline: none;
  box-sizing: border-box;
  padding: calc(0.5 * var(--jse-padding, 10px));
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  color: inherit;
  background: var(--jse-input-background, var(--jse-background-color, #fff));
}
.jse-transform-modal-inner.svelte-lta8xm input:where(.svelte-lta8xm):focus,
.jse-transform-modal-inner.svelte-lta8xm textarea:where(.svelte-lta8xm):focus {
  border: var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)));
}
.jse-transform-modal-inner.svelte-lta8xm input:where(.svelte-lta8xm):read-only,
.jse-transform-modal-inner.svelte-lta8xm textarea:where(.svelte-lta8xm):read-only {
  background: var(--jse-input-background-readonly, transparent);
}
.jse-transform-modal-inner.svelte-lta8xm .jse-preview.jse-error:where(.svelte-lta8xm) {
  flex: 1;
  background: var(--jse-input-background-readonly, transparent);
  border: var(--jse-input-border, 1px solid #d8dbdf);
  color: var(--jse-error-color, #ee5341);
  padding: calc(0.5 * var(--jse-padding, 10px));
}
.jse-transform-modal-inner.svelte-lta8xm a {
  color: var(--jse-a-color, #156fc5);
}
.jse-transform-modal-inner.svelte-lta8xm a:hover {
  color: var(--jse-a-color-highlight, #0f508d);
}`);var i1=pA(()=>v$e),gg=pA(()=>y$e),h3e=Te('<div class="query-error svelte-lta8xm"> </div>'),p3e=Te("<!> <!>",1),m3e=Te('<div class="jse-preview jse-error svelte-lta8xm"> </div>'),g3e=Te('<!> <div class="jse-modal-contents svelte-lta8xm"><div class="jse-main-contents svelte-lta8xm"><div class="jse-query-contents svelte-lta8xm"><div class="jse-label svelte-lta8xm"><div class="jse-label-inner svelte-lta8xm">Language</div></div> <div class="jse-description svelte-lta8xm"><!></div> <div class="jse-label svelte-lta8xm"><div class="jse-label-inner svelte-lta8xm">Path</div></div> <input class="jse-path svelte-lta8xm" type="text" readonly="" title="Selected path"/> <div class="jse-label svelte-lta8xm"><div class="jse-label-inner svelte-lta8xm"><button type="button" class="svelte-lta8xm"><!> Wizard</button></div></div> <!> <div class="jse-label svelte-lta8xm"><div class="jse-label-inner svelte-lta8xm">Query</div></div> <textarea class="jse-query svelte-lta8xm" spellcheck="false"></textarea></div> <div><div><div class="jse-label svelte-lta8xm"><div class="jse-label-inner svelte-lta8xm"><button type="button" class="svelte-lta8xm"><!> Original</button></div></div> <!></div> <div class="jse-preview-data svelte-lta8xm"><div class="jse-label svelte-lta8xm"><div class="jse-label-inner svelte-lta8xm">Preview</div></div> <!></div></div></div> <div class="jse-actions svelte-lta8xm"><button type="button" class="jse-primary svelte-lta8xm">Transform</button></div></div>',1),v3e=Te('<div class="jse-transform-modal-inner svelte-lta8xm"><!></div>');function y3e(t,e){var n,r,o;Ft(e,!1);var i=Ui("jsoneditor:TransformModal"),s=$(e,"id",25,()=>"transform-modal-"+Hg()),a=$(e,"json",9),l=$(e,"rootPath",25,()=>[]),c=$(e,"indentation",9),u=$(e,"truncateTextSize",9),d=$(e,"escapeControlCharacters",9),f=$(e,"escapeUnicodeCharacters",9),h=$(e,"parser",9),m=$(e,"parseMemoizeOne",9),g=$(e,"validationParser",9),v=$(e,"pathParser",9),y=$(e,"queryLanguages",9),b=$(e,"queryLanguageId",13),x=$(e,"onChangeQueryLanguage",9),k=$(e,"onRenderValue",9),w=$(e,"onRenderMenu",9),S=$(e,"onRenderContextMenu",9),C=$(e,"onClassName",9),j=$(e,"onTransform",9),A=$(e,"onClose",9),_=le(void 0,!0),R=le(yQ({onChange:Y=>O(R,Y)}).get(),!0),T=le(void 0,!0),z=le(void 0,!0),U=le(!1,!0),G="".concat(s(),":").concat(Wt(l())),ce=(n=i1()[G])!==null&&n!==void 0?n:{},ie=le(gg().showWizard!==!1,!0),Z=le(gg().showOriginal!==!1,!0),W=le((r=ce.queryOptions)!==null&&r!==void 0?r:{},!0),B=le(b()===ce.queryLanguageId&&ce.query?ce.query:"",!0),H=le((o=ce.isManual)!==null&&o!==void 0&&o,!0),K=le(void 0,!0),P=le(void 0,!0),M=le({text:""},!0);function N(Y){var q;return(q=y().find(Ae=>Ae.id===Y))!==null&&q!==void 0?q:y()[0]}function he(Y){try{O(W,Y),O(B,N(b()).createQuery(p(T),Y)),O(K,void 0),O(H,!1),i("updateQueryByWizard",{queryOptions:p(W),query:p(B),isManual:p(H)})}catch(q){O(K,String(q))}}function ge(Y){O(B,Y.target.value),O(H,!0),i("handleChangeQuery",{query:p(B),isManual:p(H)})}p(H)||he(p(W)),Ls(()=>{var Y;(Y=p(_))===null||Y===void 0||Y.focus()});var te=QS(function(Y,q){if(Y===void 0)return O(M,{text:""}),void O(P,"Error: No JSON");if(q.trim()!=="")try{i("previewTransform",{query:q});var Ae=N(b()).executeQuery(Y,q,h());O(M,{json:Ae}),O(P,void 0)}catch(Ee){O(M,{text:""}),O(P,String(Ee))}else O(M,{json:Y})},300);function ee(){if(p(T)===void 0)return O(M,{text:""}),void O(P,"Error: No JSON");try{i("handleTransform",{query:p(B)});var Y=N(b()).executeQuery(p(T),p(B),h());j()([{op:"replace",path:Wt(l()),value:Y}]),A()()}catch(q){console.error(q),O(M,{text:""}),O(P,String(q))}}function be(){O(ie,!p(ie)),gg(gg().showWizard=p(ie))}function ne(){O(Z,!p(Z)),gg(gg().showOriginal=p(Z))}function D(Y){Y.focus()}function L(Y){i("handleChangeQueryLanguage",Y),b(Y),x()(Y),he(p(W))}function re(){p(U)?O(U,!p(U)):A()()}je(()=>(E(a()),E(l())),()=>{O(T,vQ(xt(a(),l())))}),je(()=>p(T),()=>{O(z,p(T)?{json:p(T)}:{text:""})}),je(()=>(p(T),p(B)),()=>{te(p(T),p(B))}),je(()=>(i1(),p(W),p(B),E(b()),p(H)),()=>{i1(i1()[G]={queryOptions:p(W),query:p(B),queryLanguageId:b(),isManual:p(H)}),i("store state in memory",G,i1()[G])}),xr(),gn(!0),gb(t,{get onClose(){return A()},className:"jse-transform-modal",get fullscreen(){return p(U)},children:(Y,q)=>{var Ae=v3e();t_(ae(Ae),{children:(Ee,pe)=>{var Pe=g3e(),we=Ct(Pe);(function(St,In){Ft(In,!1);var kn,Tr=$(In,"queryLanguages",9),Yr=$(In,"queryLanguageId",9),Fr=$(In,"fullscreen",13),Ro=$(In,"onChangeQueryLanguage",9),eo=$(In,"onClose",9),So=le(void 0,!0),{openAbsolutePopup:Ko,closeAbsolutePopup:fo}=Jh("absolute-popup");function mi(){var Jo={queryLanguages:Tr(),queryLanguageId:Yr(),onChangeQueryLanguage:oi=>{fo(kn),Ro()(oi)}};kn=Ko(hEe,Jo,{offsetTop:-2,offsetLeft:0,anchor:p(So),closeOnOuterClick:!0})}gn(!0),J2(St,{title:"Transform",fullScreenButton:!0,get onClose(){return eo()},get fullscreen(){return Fr()},set fullscreen(Jo){Fr(Jo)},$$slots:{actions:(Jo,oi)=>{var ho,Ue=gEe();Yn(ae(Ue),{get data(){return c1e}}),uo(Ue,Cn=>O(So,Cn),()=>p(So)),rt(Cn=>ho=mn(Ue,1,"jse-config svelte-5gkegr",null,ho,Cn),[()=>({hide:Tr().length<=1})]),Xe("click",Ue,mi),oe(Jo,Ue)}},$$legacy:!0}),qt()})(we,{get queryLanguages(){return y()},get queryLanguageId(){return b()},onChangeQueryLanguage:L,get onClose(){return A()},get fullscreen(){return p(U)},set fullscreen(St){O(U,St)},$$legacy:!0});var Re=ae(ye(we,2)),Ne=ae(Re),_e=ye(ae(Ne),2);oX(ae(_e),()=>(E(b()),fe(()=>N(b()).description)));var Qe=ye(_e,4),I=ye(Qe,2),V=ae(I),J=ae(V),se=ae(J),xe=jt(()=>p(ie)?qd:B0);Yn(se,{get data(){return p(xe)}});var Fe=ye(I,2),Je=St=>{var In=En(),kn=Ct(In),Tr=Fr=>{var Ro=p3e(),eo=Ct(Ro);uEe(eo,{get queryOptions(){return p(W)},get json(){return p(T)},onChange:he});var So=ye(eo,2),Ko=fo=>{var mi=h3e(),Jo=ae(mi);rt(()=>Ut(Jo,p(K))),oe(fo,mi)};$e(So,fo=>{p(K)&&fo(Ko)}),oe(Fr,Ro)},Yr=Fr=>{oe(Fr,rs("(Only available for arrays, not for objects)"))};$e(kn,Fr=>{p(T),fe(()=>Array.isArray(p(T)))?Fr(Tr):Fr(Yr,!1)}),oe(St,In)};$e(Fe,St=>{p(ie)&&St(Je)});var Ce=ye(Fe,4);uo(Ce,St=>O(_,St),()=>p(_));var Me,kt,ht=ye(Ne,2),dt=ae(ht),mt=ae(dt),Sn=ae(mt),Sr=ae(Sn),Mr=ae(Sr),An=jt(()=>p(Z)?qd:B0);Yn(Mr,{get data(){return p(An)}});var cr=ye(mt,2),Pn=St=>{w_(St,{get externalContent(){return p(z)},externalSelection:void 0,get history(){return p(R)},readOnly:!0,get truncateTextSize(){return u()},mainMenuBar:!1,navigationBar:!1,get indentation(){return c()},get escapeControlCharacters(){return d()},get escapeUnicodeCharacters(){return f()},get parser(){return h()},get parseMemoizeOne(){return m()},get onRenderValue(){return k()},get onRenderMenu(){return w()},get onRenderContextMenu(){return S()},onError:fe(()=>console.error),get onChange(){return wi},get onChangeMode(){return wi},get onSelect(){return wi},get onUndo(){return wi},get onRedo(){return wi},get onFocus(){return wi},get onBlur(){return wi},get onSortModal(){return wi},get onTransformModal(){return wi},get onJSONEditorModal(){return wi},get onClassName(){return C()},validator:void 0,get validationParser(){return g()},get pathParser(){return v()}})};$e(cr,St=>{p(Z)&&St(Pn)});var Bn=ye(dt,2),or=ye(ae(Bn),2),Kt=St=>{w_(St,{get externalContent(){return p(M)},externalSelection:void 0,get history(){return p(R)},readOnly:!0,get truncateTextSize(){return u()},mainMenuBar:!1,navigationBar:!1,get indentation(){return c()},get escapeControlCharacters(){return d()},get escapeUnicodeCharacters(){return f()},get parser(){return h()},get parseMemoizeOne(){return m()},get onRenderValue(){return k()},get onRenderMenu(){return w()},get onRenderContextMenu(){return S()},onError:fe(()=>console.error),get onChange(){return wi},get onChangeMode(){return wi},get onSelect(){return wi},get onUndo(){return wi},get onRedo(){return wi},get onFocus(){return wi},get onBlur(){return wi},get onSortModal(){return wi},get onTransformModal(){return wi},get onJSONEditorModal(){return wi},get onClassName(){return C()},validator:void 0,get validationParser(){return g()},get pathParser(){return v()}})},Qn=St=>{var In=m3e(),kn=ae(In);rt(()=>Ut(kn,p(P))),oe(St,In)};$e(or,St=>{p(P)?St(Qn,!1):St(Kt)});var un=ae(ye(Re,2));ps(()=>Xe("click",un,ee)),Gs(un,St=>D==null?void 0:D(St)),rt((St,In,kn)=>{km(Qe,St),km(Ce,p(B)),Me=mn(ht,1,"jse-data-contents svelte-lta8xm",null,Me,In),kt=mn(dt,1,"jse-original-data svelte-lta8xm",null,kt,kn),un.disabled=!!p(P)},[()=>(E(sr),E(l()),E(Da),fe(()=>sr(l())?"(document root)":Da(l()))),()=>({"jse-hide-original-data":!p(Z)}),()=>({"jse-hide":!p(Z)})]),Xe("click",J,be),Xe("input",Ce,ge),Xe("click",Sr,ne),oe(Ee,Pe)},$$slots:{default:!0}}),Gs(Ae,(Ee,pe)=>G2==null?void 0:G2(Ee,pe),()=>re),oe(Y,Ae)},$$slots:{default:!0}}),qt()}function kl(){}var b3e=0;let js=class{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.id=b3e++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=x_.match(e)),n=>{var r=e(n);return r===void 0?null:[this,r]}}};js.closedBy=new js({deserialize:t=>t.split(" ")}),js.openedBy=new js({deserialize:t=>t.split(" ")}),js.group=new js({deserialize:t=>t.split(" ")}),js.isolate=new js({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),js.contextHash=new js({perNode:!0}),js.lookAhead=new js({perNode:!0}),js.mounted=new js({perNode:!0});var YV,w3e=Object.create(null);let x_=class bQ{constructor(e,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.name=e,this.props=n,this.id=r,this.flags=o}static define(e){var n=e.props&&e.props.length?Object.create(null):w3e,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),o=new bQ(e.name||"",n,e.id,r);if(e.props){for(var i of e.props)if(Array.isArray(i)||(i=i(o)),i){if(i[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[i[0].id]=i[1]}}return o}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;var n=this.prop(js.group);return!!n&&n.indexOf(e)>-1}return this.id==e}static match(e){var n=Object.create(null);for(var r in e)for(var o of r.split(" "))n[o]=e[r];return i=>{for(var s=i.prop(js.group),a=-1;a<(s?s.length:0);a++){var l=n[a<0?i.name:s[a]];if(l)return l}}}};x_.none=new x_("",Object.create(null),0,8),function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(YV||(YV={})),new js({perNode:!0});cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-status-bar.svelte-1pmgv9j {
  background: var(--jse-panel-background, #ebebeb);
  color: var(--jse-panel-color-readonly, #b2b2b2);
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  margin: 0;
  border-top: var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));
  border-left: var(--jse-main-border, 1px solid #d7d7d7);
  border-right: var(--jse-main-border, 1px solid #d7d7d7);
  display: flex;
  gap: var(--jse-padding, 10px);
}
.jse-status-bar.svelte-1pmgv9j:last-child {
  border-bottom: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-status-bar.svelte-1pmgv9j .jse-status-bar-info:where(.svelte-1pmgv9j) {
  padding: 2px;
}`);var x3e=Te('<div class="jse-status-bar-info svelte-1pmgv9j"> </div>'),k3e=Te('<div class="jse-status-bar-info svelte-1pmgv9j"> </div>'),S3e=Te('<div class="jse-status-bar-info svelte-1pmgv9j"> </div>'),C3e=Te('<div class="jse-status-bar svelte-1pmgv9j"><!> <!> <!></div>'),YI=vw.define([{tag:ct.propertyName,color:"var(--internal-key-color)"},{tag:ct.number,color:"var(--internal-value-color-number)"},{tag:ct.bool,color:"var(--internal-value-color-boolean)"},{tag:ct.string,color:"var(--internal-value-color-string)"},{tag:ct.keyword,color:"var(--internal-value-color-null)"}]),j3e=dG(YI),A3e=YI.style;YI.style=t=>A3e(t||[]);var M3e=[di.fromClass(class{constructor(t){this.view=t,this.indentUnit=Eh(t.state),this.initialPaddingLeft=null,this.isChrome=window==null?void 0:window.navigator.userAgent.includes("Chrome"),this.generate(t.state)}update(t){var e=Eh(t.state);(e!==this.indentUnit||t.docChanged||t.viewportChanged)&&(this.indentUnit=e,this.generate(t.state))}generate(t){var e=new Ec;this.initialPaddingLeft?this.addStyleToBuilder(e,t,this.initialPaddingLeft):this.view.requestMeasure({read:n=>{var r=n.contentDOM.querySelector(".cm-line");r&&(this.initialPaddingLeft=window.getComputedStyle(r).getPropertyValue("padding-left"),this.addStyleToBuilder(e,n.state,this.initialPaddingLeft)),this.decorations=e.finish()}}),this.decorations=e.finish()}addStyleToBuilder(t,e,n){var r=this.getVisibleLines(e);for(var o of r){var{numColumns:i,containsTab:s}=this.numColumns(o.text,e.tabSize),a="calc(".concat(i+this.indentUnit,"ch + ").concat(n,")"),l=this.isChrome?"calc(-".concat(i+this.indentUnit,"ch - ").concat(s?1:0,"px)"):"-".concat(i+this.indentUnit,"ch");t.add(o.from,o.from,bn.line({attributes:{style:"padding-left: ".concat(a,"; text-indent: ").concat(l,";")}}))}}getVisibleLines(t){var e=new Set,n=null;for(var{from:r,to:o}of this.view.visibleRanges)for(var i=r;i<=o;){var s=t.doc.lineAt(i);n!==s&&(e.add(s),n=s),i=s.to+1}return e}numColumns(t,e){var n=0,r=!1;e:for(var o=0;o<t.length;o++)switch(t[o]){case" ":n+=1;continue e;case"	":n+=e-n%e,r=!0;continue e;case"\r":continue e;default:break e}return{numColumns:n,containsTab:r}}},{decorations:t=>t.decorations})];cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-text-mode.svelte-k2b9e6 {
  --internal-key-color: var(--jse-key-color, #1a1a1a);
  --internal-value-color-number: var(--jse-value-color-number, #ee422e);
  --internal-value-color-boolean: var(--jse-value-color-boolean, #ff8c00);
  --internal-value-color-string: var(--jse-value-color-string, #008000);
  --internal-value-color-null: var(--jse-value-color-null, #004ed0);
  flex: 1;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  background: var(--jse-background-color, #fff);
}
.jse-text-mode.no-main-menu.svelte-k2b9e6 {
  border-top: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) {
  flex: 1;
  display: flex;
  position: relative;
  flex-direction: column;
  overflow: hidden;
  min-width: 0;
  min-height: 0;
  border-left: var(--jse-main-border, 1px solid #d7d7d7);
  border-right: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6):last-child {
  border-bottom: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-text-mode.svelte-k2b9e6 .jse-contents.jse-hidden:where(.svelte-k2b9e6) {
  visibility: hidden;
  position: absolute;
  top: 0;
  left: 0;
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor {
  flex: 1;
  overflow: hidden;
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor .cm-scroller {
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  line-height: var(--jse-line-height, calc(1em + 4px));
  color: var(--jse-delimiter-color, rgba(0, 0, 0, 0.38));
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor .cm-gutters {
  background: var(--jse-panel-background, #ebebeb);
  color: var(--jse-panel-color-readonly, #b2b2b2);
  border-right: var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor .cm-activeLine,
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor .cm-activeLineGutter {
  background: var(--jse-active-line-background-color, rgba(0, 0, 0, 0.06));
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor .cm-selectionBackground {
  background: var(--jse-selection-background-color, #d3d3d3);
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor .cm-searchMatch {
  background-color: var(--jse-search-match-color, #ffe665);
  outline: var(--jse-search-match-outline, none);
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor .cm-searchMatch.cm-searchMatch-selected {
  background-color: var(--jse-search-match-active-color, var(--jse-search-match-color, #ffe665));
  outline: var(--jse-search-match-outline, 2px solid #e0be00);
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor .cm-selectionMatch {
  background-color: var(--jse-search-match-background-color, rgba(153, 255, 119, 0.5019607843));
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor .cm-foldPlaceholder {
  background: var(--jse-tag-background, rgba(0, 0, 0, 0.2));
  color: var(--jse-tag-color, var(--jse-text-color-inverse, #fff));
  border: none;
  padding: 0 var(--jse-padding, 10px);
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor .cm-tooltip {
  font-size: var(--jse-font-size, 16px);
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  color: var(--jse-tooltip-color, var(--jse-text-color, #4d4d4d));
  background: var(--jse-tooltip-background, var(--jse-modal-background, #f5f5f5));
  border: var(--jse-tooltip-border, var(--jse-main-border, 1px solid #d7d7d7));
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor .cm-diagnosticAction {
  background: var(--jse-tooltip-action-button-color, var(--jse-text-color-inverse, #fff));
  background: var(--jse-tooltip-action-button-background, #4d4d4d);
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor .cm-panels {
  border-bottom: var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor .cm-search {
  background: var(--jse-panel-background, #ebebeb);
  color: var(--jse-panel-color, var(--jse-text-color, #4d4d4d));
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor .cm-search input {
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size-text-mode-search, 80%);
  color: var(--jse-input-color, var(--jse-text-color, #4d4d4d));
  border: var(--jse-input-border, 1px solid #d8dbdf);
  background: var(--jse-input-background, var(--jse-background-color, #fff));
  margin-right: 2px;
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor .cm-search button {
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size-text-mode-search, 80%);
  color: var(--jse-panel-button-color, inherit);
  background: var(--jse-panel-button-background, transparent);
  border: none;
  cursor: pointer;
  text-transform: capitalize;
  padding: calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);
  margin: 0;
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor .cm-search button:hover {
  color: var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));
  background: var(--jse-panel-button-background-highlight, #e0e0e0);
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor .cm-search label {
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size-text-mode-search, 80%);
  padding-left: var(--jse-padding, 10px);
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor .cm-search label input {
  margin-right: 2px;
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor .cm-search button[name="close"] {
  width: 32px;
  height: 32px;
  font-size: 24px;
  line-height: 24px;
  padding: 0;
  right: 0;
  top: -4px;
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .cm-editor .cm-cursor-primary {
  border-color: var(--jse-text-color, #4d4d4d);
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .jse-loading-space:where(.svelte-k2b9e6) {
  flex: 1;
}
.jse-text-mode.svelte-k2b9e6 .jse-contents:where(.svelte-k2b9e6) .jse-loading:where(.svelte-k2b9e6) {
  flex: 2;
  text-align: center;
  color: var(--jse-panel-color-readonly, #b2b2b2);
  box-sizing: border-box;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
}
.jse-text-mode.svelte-k2b9e6 .jse-contents.jse-preview:where(.svelte-k2b9e6) {
  flex: 1;
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  color: var(--jse-panel-color-readonly, #b2b2b2);
  overflow: auto;
  white-space: pre-wrap;
  word-break: break-word;
  padding: 2px;
}
.jse-text-mode.svelte-k2b9e6 .jse-fold-progress:where(.svelte-k2b9e6) {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  background: var(--jse-background-color, #fff);
  border-top: var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));
  border-bottom: var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));
}
.jse-text-mode.svelte-k2b9e6 .jse-fold-progress:where(.svelte-k2b9e6) .jse-fold-tip:where(.svelte-k2b9e6) {
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size-mono, 14px);
  color: var(--jse-panel-color-readonly, #b2b2b2);
}
.jse-text-mode.svelte-k2b9e6 .jse-fold-progress:where(.svelte-k2b9e6) .jse-fold-progress-track:where(.svelte-k2b9e6) {
  flex: 1;
  height: 6px;
  background: var(--jse-panel-background, #ebebeb);
  border-radius: 3px;
  overflow: hidden;
  border: 1px solid var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));
}
.jse-text-mode.svelte-k2b9e6 .jse-fold-progress:where(.svelte-k2b9e6) .jse-fold-progress-fill:where(.svelte-k2b9e6) {
  height: 100%;
  background: linear-gradient(90deg, var(--jse-theme-color, #3883fa), var(--jse-theme-color-highlight, #5f9dff));
  border-radius: 2px;
  transition: width 0.1s ease;
  min-width: 2px;
}
.jse-text-mode.svelte-k2b9e6 .jse-fold-progress:where(.svelte-k2b9e6) .jse-fold-cancel-button:where(.svelte-k2b9e6) {
  padding: 4px 12px;
  font-size: 12px;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  background: var(--jse-theme-color, #3883fa);
  color: #fff;
  border-radius: 3px;
  cursor: pointer;
  transition: background-color 0.2s ease;
  flex-shrink: 0;
  border: 1px solid var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-text-mode.svelte-k2b9e6 .jse-fold-progress:where(.svelte-k2b9e6) .jse-fold-cancel-button:where(.svelte-k2b9e6):hover {
  background: var(--jse-theme-color-highlight, #5f9dff);
  color: #fff;
}`);var T3e=Te('<div class="jse-fold-progress svelte-k2b9e6"><span class="jse-fold-tip svelte-k2b9e6">Collapsing</span> <div class="jse-fold-progress-track svelte-k2b9e6"><div class="jse-fold-progress-fill svelte-k2b9e6"></div></div> <button class="jse-fold-cancel-button svelte-k2b9e6" type="button" title="Cancel folding">Cancel</button></div>'),O3e=Te('<!> <div class="jse-contents jse-preview svelte-k2b9e6"> </div>',1),$3e=Te("<!> <!> <!> <!>",1),E3e=Te("<div></div> <!> <!>",1),_3e=Te('<div class="jse-contents svelte-k2b9e6"><div class="jse-loading-space svelte-k2b9e6"></div> <div class="jse-loading svelte-k2b9e6">loading...</div></div>'),P3e=Te("<div><!> <!> <!></div>");function I3e(t,e){Ft(e,!1);var n=le(void 0,!0),r=le(void 0,!0),o=$(e,"readOnly",9),i=$(e,"mainMenuBar",9),s=$(e,"statusBar",9),a=$(e,"askToFormat",9),l=$(e,"externalContent",9),c=$(e,"externalSelection",9),u=$(e,"history",9),d=$(e,"indentation",9),f=$(e,"tabSize",9),h=$(e,"escapeUnicodeCharacters",9),m=$(e,"parser",9),g=$(e,"validator",9),v=$(e,"validationParser",9),y=$(e,"onChange",9),b=$(e,"onChangeMode",9),x=$(e,"onSelect",9),k=$(e,"onUndo",9),w=$(e,"onRedo",9),S=$(e,"onError",9),C=$(e,"onFocus",9),j=$(e,"onBlur",9),A=$(e,"onRenderMenu",9),_=$(e,"onSortModal",9),R=$(e,"onTransformModal",9),T=Ui("jsoneditor:TextMode"),z={key:"Mod-i",run:Je,shift:Ce,preventDefault:!0},U=typeof window>"u";T("isSSR:",U);var G,ce=le(void 0,!0),ie=le(void 0,!0),Z=le(void 0,!0),W=le(!1,!0),B=le(a(),!0),H=le([],!0),K=le(!1,!0),P=le(0,!0),M=le(0,!0),N=null,he=new pd,ge=new pd,te=new pd,ee=new pd,be=new pd,ne=l(),D=le(e_(ne,d(),m()),!0),L=qh.define(),re=null;function Y(){if(!re||re.length===0)return!1;var ve=re[0].startState,Ve=re[re.length-1].state,et=re.map(ke=>ke.changes).reduce((ke,qe)=>ke.compose(qe)),de={type:"text",undo:{changes:et.invert(ve.doc).toJSON(),selection:oi(ve.selection)},redo:{changes:et.toJSON(),selection:oi(Ve.selection)}};return T("add history item",de),u().add(de),re=null,!0}var q=le(h(),!0);Ls(Xt(function*(){if(!U)try{G=function(ve){var{target:Ve,initialText:et,readOnly:de,indentation:ke}=ve;T("Create CodeMirror editor",{readOnly:de,indentation:ke});var qe=function(Ot,$t){return BT(Ot)?Ot.ranges.every(Ht=>Ht.anchor<$t.length&&Ht.head<$t.length):!1}(c(),et)?Tr(c()):void 0,st=fr.create({doc:et,selection:qe,extensions:[p2.of([AAe,z]),he.of(Kt()),qAe(),vCe(),wCe(),D2e(),lje(),we(),M2e(),_2e(),fr.allowMultipleSelections.of(!0),XCe(),dG(fje,{fallback:!0}),bje(),iTe(),gTe(),Y2e(),Z2e(),q2e(),cMe(),p2.of([...cTe,...jAe,...OMe,{key:"Mod-z",run:Sn,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Sr,preventDefault:!0},{key:"Ctrl-Shift-z",run:Sr,preventDefault:!0},...oje,...mY,..._Ae]),j3e,STe({hideFirstIndent:!0}),Mt.domEventHandlers({dblclick:or}),Mt.updateListener.of(Ot=>{O(Z,Ot.state),Ot.docChanged&&(Ot.transactions.some($t=>!!$t.annotation(L))||(re=[...re??[],Ot]),Ko()),Ot.selectionSet&&Jo()}),rMe(),yMe({top:!0}),Mt.lineWrapping,ge.of(fr.readOnly.of(de)),ee.of(fr.tabSize.of(f())),te.of(So(ke)),be.of(Mt.theme({},{dark:Qn()}))]});return G=new Mt({state:st,parent:Ve}),qe&&G.dispatch(G.state.update({selection:qe.main,scrollIntoView:!0})),G}({target:p(ce),initialText:ho(p(D),p(W))?"":p(n).escapeValue(p(D)),readOnly:o(),indentation:d()})}catch(ve){console.error(ve)}})),Ul(()=>{fo(),G&&(T("Destroy CodeMirror editor"),G.destroy()),Qe()});var Ae=Ev(),Ee=Ev();function pe(){G&&(T("focus"),G.focus())}function Pe(ve,Ve){if(G)try{(function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],de=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],ke=G.state,qe=ke.doc.length,st=WD(ke,qe,1/0);if(st){var Ot=[];if(et.length===0)Ot=Ne(st,ke,void 0,de);else{var{from:$t}=ET(p(n).escapeValue(p(D)),et);$t!==void 0&&$t!==0&&(Ot=Ne(st,ke,$t,de))}Ot.length>0&&function(Ht){_e.apply(this,arguments)}(Ot)}})(ve,Ve)}catch(et){S()(et)}}function we(){return eG.of((ve,Ve,et)=>{var de=WD(ve,ve.doc.length,1/0);if(!de||de.length<et)return null;for(var ke=null,qe=de.resolveStack(et,1);qe;qe=qe.next){var st=qe.node;if(!(st.to<=et||st.from>et)){if(ke&&st.from<Ve)break;var Ot=st.type.prop(oI);if(Ot&&(st.to<de.length-50||de.length==ve.doc.length||!Re(st))){var $t=Ot(st,ve);$t&&$t.from<=et&&$t.from>=Ve&&$t.to>et&&(ke=$t)}}}return ke})}function Re(ve){var Ve=ve.lastChild;return Ve&&Ve.to==ve.to&&Ve.type.isError}function Ne(ve,Ve,et){var de=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],ke=[],qe=new Set;return ve.iterate({enter(st){if(et===void 0||st.from>=et){var Ot=tb(Ve,st.from,st.to);if(Ot){var $t="".concat(Ot.from,"-").concat(Ot.to);if(!qe.has($t))if(de)ke.push({from:Ot.from,to:Ot.to}),qe.add($t);else{var Ht=ke.some(Lr=>Lr.from<=Ot.from&&Lr.to>=Ot.to);Ht||(ke.push({from:Ot.from,to:Ot.to}),qe.add($t))}}}}}),ke}function _e(){return _e=Xt(function*(ve){if(ve.length!==0){var Ve=ve.length>5e3;Ve&&(O(K,!0),O(P,0),O(M,ve.length),N=new AbortController);var et=de=>new Promise(ke=>{var qe;Ve&&(qe=N)!==null&&qe!==void 0&&qe.signal.aborted?ke():requestAnimationFrame(()=>{var st=Math.min(de+100,ve.length),Ot=ve.slice(de,st);G.dispatch({effects:Ot.map($t=>mw.of({from:$t.from,to:$t.to}))}),Ve&&O(P,st),st<ve.length?et(st).then(ke):ke()})});yield et(0),Ve&&(O(K,!1),O(P,0),O(M,0),N=null)}}),_e.apply(this,arguments)}function Qe(){N&&N.abort()}function I(ve){var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i_;if(G)try{if(ve&&ve.length>0){var{from:et}=ET(p(n).escapeValue(p(D)),ve);et!==void 0&&(G.dispatch({selection:{anchor:et,head:et}}),oG(G))}else sG(G);Ve==null||Ve(ve)}catch(de){S()(de)}}function V(){I([],()=>!0)}function J(){Pe([],!0)}var se=!1;function xe(ve){return Fe(ve,!1)}function Fe(ve,Ve){T("handlePatch",ve,Ve);var et=m().parse(p(D)),de=vc(et,ve),ke=yU(et,ve);return kn({text:m().stringify(de,null,d())},Ve,!1),{json:de,previousJson:et,undo:ke,redo:ve}}function Je(){if(T("format"),o())return!1;try{var ve=m().parse(p(D));return kn({text:m().stringify(ve,null,d())},!0,!1),O(B,a()),!0}catch(Ve){S()(Ve)}return!1}function Ce(){if(T("compact"),o())return!1;try{var ve=m().parse(p(D));return kn({text:m().stringify(ve)},!0,!1),O(B,!1),!0}catch(Ve){S()(Ve)}return!1}function Me(){if(T("repair"),!o())try{kn({text:Su(p(D))},!0,!1),O(Ue,LT),O(Cn,void 0)}catch(ve){S()(ve)}}function kt(){var ve;if(!o())try{var Ve=m().parse(p(D));se=!0,_()({id:Ae,json:Ve,rootPath:[],onSort:(ve=Xt(function*(et){var{operations:de}=et;T("onSort",de),Fe(de,!0)}),function(et){return ve.apply(this,arguments)}),onClose:()=>{se=!1,pe()}})}catch(et){S()(et)}}function ht(ve){var{id:Ve,rootPath:et,onTransform:de,onClose:ke}=ve;try{var qe=m().parse(p(D));se=!0,R()({id:Ve||Ee,json:qe,rootPath:et||[],onTransform:st=>{de?de({operations:st,json:qe,transformedJson:vc(qe,st)}):(T("onTransform",st),Fe(st,!0))},onClose:()=>{se=!1,pe(),ke&&ke()}})}catch(st){S()(st)}}function dt(){o()||ht({rootPath:[]})}function mt(){G&&(p(ce)&&p(ce).querySelector(".cm-search")?pI(G):hI(G))}function Sn(){if(o())return!1;fo();var ve=u().undo();return T("undo",ve),yV(ve)?(G.dispatch({annotations:L.of("undo"),changes:Vi.fromJSON(ve.undo.changes),selection:We.fromJSON(ve.undo.selection),scrollIntoView:!0}),!0):(k()(ve),!1)}function Sr(){if(o())return!1;fo();var ve=u().redo();return T("redo",ve),yV(ve)?(G.dispatch({annotations:L.of("redo"),changes:Vi.fromJSON(ve.redo.changes),selection:We.fromJSON(ve.redo.selection),scrollIntoView:!0}),!0):(w()(ve),!1)}function Mr(){O(W,!0),kn(l(),!0,!0)}function An(){b()(li.tree)}function cr(){Ro()}function Pn(ve){T("select validation error",ve);var{from:Ve,to:et}=un(ve);Ve!==void 0&&et!==void 0&&(Bn(Ve,et),pe())}function Bn(ve,Ve){T("setSelection",{anchor:ve,head:Ve}),G&&G.dispatch(G.state.update({selection:{anchor:ve,head:Ve},scrollIntoView:!0}))}function or(ve,Ve){if(Ve.state.selection.ranges.length===1){var et=Ve.state.selection.ranges[0],de=p(D).slice(et.from,et.to);if(de==="{"||de==="["){var ke=Ij.parse(p(D)),qe=Object.keys(ke.pointers).find(Ot=>{var $t;return(($t=ke.pointers[Ot].value)===null||$t===void 0?void 0:$t.pos)===et.from}),st=ke.pointers[qe];qe&&st&&st.value&&st.valueEnd&&(T("pointer found, selecting inner contents of path:",qe,st),Bn(st.value.pos+1,st.valueEnd.pos-1))}}}function Kt(){return RAe(yr,{delay:300})}function Qn(){return!!p(ce)&&getComputedStyle(p(ce)).getPropertyValue("--jse-theme").includes("dark")}function un(ve){var{path:Ve,message:et,severity:de}=ve,{line:ke,column:qe,from:st,to:Ot}=ET(p(n).escapeValue(p(D)),Ve);return{path:Ve,line:ke,column:qe,from:st,to:Ot,message:et,severity:de,actions:[]}}function St(ve,Ve){var{line:et,column:de,position:ke,message:qe}=ve;return{path:[],line:et,column:de,from:ke,to:ke,severity:xc.error,message:qe,actions:Ve&&!o()?[{name:"Auto repair",apply:()=>Me()}]:void 0}}function In(ve){return{from:ve.from||0,to:ve.to||0,message:ve.message||"",actions:ve.actions,severity:ve.severity}}function kn(ve,Ve,et){var de=e_(ve,d(),m()),ke=!_n(ve,ne),qe=ne;T("setCodeMirrorContent",{isChanged:ke,emitChange:Ve,forceUpdate:et}),G&&(ke||et)&&(ne=ve,O(D,de),ho(p(D),p(W))||G.dispatch({changes:{from:0,to:G.state.doc.length,insert:p(n).escapeValue(p(D))}}),Y(),ke&&Ve&&mi(ne,qe))}function Tr(ve){return BT(ve)?We.fromJSON(ve):void 0}function Yr(){return Fr.apply(this,arguments)}function Fr(){return Fr=Xt(function*(){T("refresh"),yield function(){return eo.apply(this,arguments)}()}),Fr.apply(this,arguments)}function Ro(){if(G){var ve=G?p(n).unescapeValue(G.state.doc.toString()):"",Ve=ve!==p(D);if(T("onChangeCodeMirrorValue",{isChanged:Ve}),Ve){var et=ne;O(D,ve),ne={text:p(D)},Y(),mi(ne,et),Qr(),Jo()}}}function eo(){return(eo=Xt(function*(){if(Qr(),G){var ve=Qn();return T("updateTheme",{dark:ve}),G.dispatch({effects:[be.reconfigure(Mt.theme({},{dark:ve}))]}),new Promise(Ve=>setTimeout(Ve))}return Promise.resolve()})).apply(this,arguments)}function So(ve){var Ve=nA.of(typeof ve=="number"?" ".repeat(ve):ve);return ve==="	"?[Ve]:[Ve,M3e]}KI({onMount:Ls,onDestroy:Ul,getWindow:()=>$w(p(ie)),hasFocus:()=>se&&document.hasFocus()||_I(p(ie)),onFocus:C(),onBlur:()=>{fo(),j()()}});var Ko=QS(Ro,300);function fo(){Ko.flush()}function mi(ve,Ve){y()&&y()(ve,Ve,{contentErrors:Nr(),patchResult:void 0})}function Jo(){x()(oi(p(Z).selection))}function oi(ve){return nt({type:Rr.text},ve.toJSON())}function ho(ve,Ve){return!!ve&&ve.length>RT&&!Ve}var Ue=le(LT,!0),Cn=le(void 0,!0);function yr(){if(ho(p(D),p(W)))return[];var ve=Nr();if(vV(ve)){var{parseError:Ve,isRepairable:et}=ve;return[In(St(Ve,et))]}return GOe(ve)?ve.validationErrors.map(un).map(In):[]}function Nr(){T("validate:start"),fo();var ve=No(p(n).escapeValue(p(D)),g(),m(),v());return vV(ve)?(O(Ue,ve.isRepairable?fV:"invalid"),O(Cn,ve.parseError),O(H,[])):(O(Ue,LT),O(Cn,void 0),O(H,(ve==null?void 0:ve.validationErrors)||[])),T("validate:end"),ve}var No=z0(bEe);function Mi(){p(Cn)&&function(ve){T("select parse error",ve);var Ve=St(ve,!1);Bn(Ve.from!=null?Ve.from:0,Ve.to!=null?Ve.to:0),pe()}(p(Cn))}var Ln={icon:r1e,text:"Show me",title:"Move to the parse error location",onClick:Mi};je(()=>E(h()),()=>{O(n,$I({escapeControlCharacters:!1,escapeUnicodeCharacters:h()}))}),je(()=>E(l()),()=>{kn(l(),!1,!1)}),je(()=>E(c()),()=>{(function(ve){if(BT(ve)){var Ve=Tr(ve);!G||!Ve||p(Z)&&p(Z).selection.eq(Ve)||(T("applyExternalSelection",Ve),G.dispatch({selection:Ve}))}})(c())}),je(()=>E(g()),()=>{(function(ve){T("updateLinter",ve),G&&G.dispatch({effects:he.reconfigure(Kt())})})(g())}),je(()=>E(d()),()=>{(function(ve){G&&(T("updateIndentation",ve),G.dispatch({effects:te.reconfigure(So(ve))}))})(d())}),je(()=>E(f()),()=>{(function(ve){G&&(T("updateTabSize",ve),G.dispatch({effects:ee.reconfigure(fr.tabSize.of(ve))}))})(f())}),je(()=>E(o()),()=>{(function(ve){G&&(T("updateReadOnly",ve),G.dispatch({effects:[ge.reconfigure(fr.readOnly.of(ve))]}))})(o())}),je(()=>(p(q),E(h())),()=>{p(q)!==h()&&(O(q,h()),T("forceUpdateText",{escapeUnicodeCharacters:h()}),G&&G.dispatch({changes:{from:0,to:G.state.doc.length,insert:p(n).escapeValue(p(D))}}))}),je(()=>(p(Ue),E(o()),Ch),()=>{O(r,p(Ue)!==fV||o()?[Ln]:[{icon:Ch,text:"Auto repair",title:"Automatically repair JSON",onClick:Me},Ln])}),xr();var ii={focus:pe,collapse:Pe,expand:I,patch:xe,handlePatch:Fe,openTransformModal:ht,refresh:Yr,flush:fo,validate:Nr};gn(!0);var is,po=P3e(),Qi=ae(po),Or=ve=>{var Ve=jt(()=>(p(D),fe(()=>p(D).length===0))),et=jt(()=>!p(Ve)),de=jt(()=>!p(Ve)),ke=jt(()=>!p(Ve)),qe=jt(()=>!p(Ve)),st=jt(()=>!p(Ve)),Ot=jt(()=>!p(Ve));(function($t,Ht){Ft(Ht,!1);var Lr=le(void 0,!0),Dn=$(Ht,"readOnly",9,!1),Zn=$(Ht,"onExpandAll",9),pn=$(Ht,"onCollapseAll",9),qn=$(Ht,"onFormat",9),Ti=$(Ht,"onCompact",9),tn=$(Ht,"onSort",9),pr=$(Ht,"onTransform",9),zn=$(Ht,"onToggleSearch",9),ur=$(Ht,"onUndo",9),Xr=$(Ht,"onRedo",9),$r=$(Ht,"canExpandAll",9),sn=$(Ht,"canCollapseAll",9),gi=$(Ht,"canUndo",9),Yo=$(Ht,"canRedo",9),Oi=$(Ht,"canFormat",9),Cr=$(Ht,"canCompact",9),Er=$(Ht,"canSort",9),si=$(Ht,"canTransform",9),Q=$(Ht,"onRenderMenu",9),Se=le(void 0,!0),Ke=le(void 0,!0),lt={type:"button",icon:Fj,title:"Search (Ctrl+F)",className:"jse-search",onClick:zn()},Be=le(void 0,!0);je(()=>(E(Zn()),E($r())),()=>{O(Se,{type:"button",icon:oQ,title:"Expand all",className:"jse-expand-all",onClick:Zn(),disabled:!$r()})}),je(()=>(E(pn()),E(sn())),()=>{O(Ke,{type:"button",icon:iQ,title:"Collapse all",className:"jse-collapse-all",onClick:pn(),disabled:!sn()})}),je(()=>(E(Dn()),p(Se),p(Ke),E(qn()),E(Oi()),E(Ti()),E(Cr()),E(tn()),E(Er()),E(pr()),E(si()),E(ur()),E(gi()),E(Xr()),E(Yo())),()=>{O(Be,Dn()?[p(Se),p(Ke),{type:"separator"},lt,{type:"space"}]:[p(Se),p(Ke),{type:"separator"},{type:"button",icon:KV,title:"Format JSON: add proper indentation and new lines (Ctrl+I)",className:"jse-format",onClick:qn(),disabled:Dn()||!Oi()},{type:"button",icon:x_e,title:"Compact JSON: remove all white spacing and new lines (Ctrl+Shift+I)",className:"jse-compact",onClick:Ti(),disabled:Dn()||!Cr()},{type:"separator"},{type:"button",icon:t2,title:"Sort",className:"jse-sort",onClick:tn(),disabled:Dn()||!Er()},{type:"button",icon:ZS,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:pr(),disabled:Dn()||!si()},lt,{type:"separator"},{type:"button",icon:U4,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:ur(),disabled:!gi()},{type:"button",icon:q4,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:Xr(),disabled:!Yo()},{type:"space"}])}),je(()=>(E(Q()),p(Be)),()=>{O(Lr,Q()(p(Be))||p(Be))}),xr(),gn(!0),kA($t,{get items(){return p(Lr)}}),qt()})(ve,{get readOnly(){return o()},onExpandAll:V,onCollapseAll:J,onFormat:Je,onCompact:Ce,onSort:kt,onTransform:dt,onToggleSearch:mt,onUndo:Sn,onRedo:Sr,get canExpandAll(){return p(et)},get canCollapseAll(){return p(de)},get canFormat(){return p(ke)},get canCompact(){return p(qe)},get canSort(){return p(st)},get canTransform(){return p(Ot)},get canUndo(){return E(u()),fe(()=>u().canUndo)},get canRedo(){return E(u()),fe(()=>u().canRedo)},get onRenderMenu(){return A()}})};$e(Qi,ve=>{i()&&ve(Or)});var Fn=ye(Qi,2),wn=ve=>{var Ve=T3e(),et=ye(ae(Ve),2),de=ae(et),ke=ye(et,2);rt(()=>Ll(de,"width: ".concat(p(M)>0?p(P)/p(M)*100:0,"%"))),Xe("click",ke,Qe),oe(ve,Ve)};$e(Fn,ve=>{p(K)&&ve(wn)});var Pr=ye(Fn,2),Go=ve=>{var Ve,et=jt(()=>(p(D),p(W),fe(()=>ho(p(D),p(W))))),de=E3e(),ke=Ct(de);uo(ke,Ht=>O(ce,Ht),()=>p(ce));var qe=ye(ke,2),st=Ht=>{var Lr=O3e(),Dn=Ct(Lr),Zn=jt(()=>(E(oS),E(RT),p(D),fe(()=>"The JSON document is larger than ".concat(oS(RT),", ")+"and may crash your browser when loading it in text mode. Actual size: ".concat(oS(p(D).length),"."))));al(Dn,{get icon(){return dm},type:"error",get message(){return p(Zn)},actions:[{text:"Open anyway",title:"Open the document in text mode. This may freeze or crash your browser.",onClick:Mr},{text:"Open in tree mode",title:"Open the document in tree mode. Tree mode can handle large documents.",onClick:An},{text:"Cancel",title:"Cancel opening this large document.",onClick:cr}],onClose:pe});var pn=ae(ye(Dn,2));rt(qn=>Ut(pn,qn),[()=>(E(bd),p(D),E(N2),fe(()=>bd(p(D)||"",N2)))]),oe(Ht,Lr)};$e(qe,Ht=>{p(et)&&Ht(st)});var Ot=ye(qe,2),$t=Ht=>{var Lr=$3e(),Dn=Ct(Lr),Zn=pr=>{(function(zn,ur){Ft(ur,!1);var Xr=$(ur,"editorState",8),$r=le(),sn=le(),gi=le(),Yo=le(),Oi=le();je(()=>E(Xr()),()=>{var Be;O($r,(Be=Xr())===null||Be===void 0||(Be=Be.selection)===null||Be===void 0||(Be=Be.main)===null||Be===void 0?void 0:Be.head)}),je(()=>(p($r),E(Xr())),()=>{var Be;O(sn,p($r)!==void 0?(Be=Xr())===null||Be===void 0||(Be=Be.doc)===null||Be===void 0?void 0:Be.lineAt(p($r)):void 0)}),je(()=>p(sn),()=>{O(gi,p(sn)!==void 0?p(sn).number:void 0)}),je(()=>(p(sn),p($r)),()=>{O(Yo,p(sn)!==void 0&&p($r)!==void 0?p($r)-p(sn).from+1:void 0)}),je(()=>E(Xr()),()=>{var Be;O(Oi,(Be=Xr())===null||Be===void 0||(Be=Be.selection)===null||Be===void 0||(Be=Be.ranges)===null||Be===void 0?void 0:Be.reduce((pt,bt)=>pt+bt.to-bt.from,0))}),xr(),gn();var Cr=C3e(),Er=ae(Cr),si=Be=>{var pt=x3e(),bt=ae(pt);rt(()=>{var yt;return Ut(bt,"Line: ".concat((yt=p(gi))!==null&&yt!==void 0?yt:""))}),oe(Be,pt)};$e(Er,Be=>{p(gi)!==void 0&&Be(si)});var Q=ye(Er,2),Se=Be=>{var pt=k3e(),bt=ae(pt);rt(()=>{var yt;return Ut(bt,"Column: ".concat((yt=p(Yo))!==null&&yt!==void 0?yt:""))}),oe(Be,pt)};$e(Q,Be=>{p(Yo)!==void 0&&Be(Se)});var Ke=ye(Q,2),lt=Be=>{var pt=S3e(),bt=ae(pt);rt(()=>{var yt;return Ut(bt,"Selection: ".concat((yt=p(Oi))!==null&&yt!==void 0?yt:""," characters"))}),oe(Be,pt)};$e(Ke,Be=>{p(Oi)!==void 0&&p(Oi)>0&&Be(lt)}),oe(zn,Cr),qt()})(pr,{get editorState(){return p(Z)}})};$e(Dn,pr=>{s()&&pr(Zn)});var pn=ye(Dn,2),qn=pr=>{al(pr,{type:"error",get icon(){return dm},get message(){return p(Cn),fe(()=>p(Cn).message)},get actions(){return p(r)},onClick:Mi,onClose:pe})};$e(pn,pr=>{p(Cn)&&pr(qn)});var Ti=ye(pn,2),tn=pr=>{var zn=jt(()=>[{icon:KV,text:"Format",title:"Format JSON: add proper indentation and new lines (Ctrl+I)",onClick:Je},{icon:qj,text:"No thanks",title:"Close this message",onClick:()=>O(B,!1)}]);al(pr,{type:"success",message:"Do you want to format the JSON?",get actions(){return p(zn)},onClose:pe})};$e(Ti,pr=>{p(Cn),p(B),E(uV),p(D),fe(()=>!p(Cn)&&p(B)&&uV(p(D)))&&pr(tn)}),JI(ye(Ti,2),{get validationErrors(){return p(H)},selectError:Pn}),oe(Ht,Lr)};$e(Ot,Ht=>{p(et)||Ht($t)}),rt(Ht=>Ve=mn(ke,1,"jse-contents svelte-k2b9e6",null,Ve,Ht),[()=>({"jse-hidden":p(et)})]),oe(ve,de)},Co=ve=>{oe(ve,_3e())};return $e(Pr,ve=>{U?ve(Co,!1):ve(Go)}),uo(po,ve=>O(ie,ve),()=>p(ie)),rt(ve=>is=mn(po,1,"jse-text-mode svelte-k2b9e6",null,is,ve),[()=>({"no-main-menu":!i()})]),oe(t,po),on(e,"focus",pe),on(e,"collapse",Pe),on(e,"expand",I),on(e,"patch",xe),on(e,"handlePatch",Fe),on(e,"openTransformModal",ht),on(e,"refresh",Yr),on(e,"flush",fo),on(e,"validate",Nr),qt(ii)}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-inline-value.svelte-1jv89ui {
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  line-height: var(--jse-line-height, calc(1em + 4px));
  border: none;
  padding: 0 calc(0.5 * var(--jse-padding, 10px));
  background: transparent;
  color: inherit;
  cursor: inherit;
}
.jse-inline-value.jse-highlight.svelte-1jv89ui {
  background-color: var(--jse-search-match-color, #ffe665);
  outline: var(--jse-search-match-outline, none);
}
.jse-inline-value.jse-highlight.jse-active.svelte-1jv89ui {
  background-color: var(--jse-search-match-active-color, var(--jse-search-match-color, #ffe665));
  outline: var(--jse-search-match-outline, 2px solid #e0be00);
}`);var R3e=Te('<button type="button"> </button>');cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-column-header.svelte-5pxwfq {
  background: none;
  border: none;
  font-family: inherit;
  font-size: inherit;
  color: inherit;
  display: flex;
  gap: var(--jse-padding, 10px);
  padding: calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(0.5 * var(--jse-padding, 10px)) calc(0.5 * var(--jse-padding, 10px));
  width: 100%;
}
.jse-column-header.svelte-5pxwfq:hover {
  background: var(--jse-table-header-background-highlight, #e8e8e8);
}
.jse-column-header.svelte-5pxwfq:not(.jse-column-header.jse-readonly) {
  cursor: pointer;
}
.jse-column-header.svelte-5pxwfq span.jse-column-sort-icon:where(.svelte-5pxwfq) {
  height: 1em;
}`);var N3e=Te('<span class="jse-column-sort-icon svelte-5pxwfq"><!></span>'),L3e=Te('<button type="button"><span class="jse-column-name"> </span> <!></button>');cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-table-mode-welcome.svelte-1b9gnk8 {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: auto;
  align-items: center;
  border-left: var(--jse-main-border, 1px solid #d7d7d7);
  border-right: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-table-mode-welcome.svelte-1b9gnk8:last-child {
  border-bottom: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-table-mode-welcome.svelte-1b9gnk8 .jse-space.jse-before:where(.svelte-1b9gnk8) {
  flex: 1;
}
.jse-table-mode-welcome.svelte-1b9gnk8 .jse-nested-arrays:where(.svelte-1b9gnk8) {
  display: flex;
  flex-direction: column;
  gap: var(--jse-padding, 10px);
  max-width: 400px;
  margin: 2em var(--jse-padding, 10px);
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
}
.jse-table-mode-welcome.svelte-1b9gnk8 .jse-nested-arrays:where(.svelte-1b9gnk8) .jse-nested-arrays-info:where(.svelte-1b9gnk8) {
  color: var(--jse-panel-color-readonly, #b2b2b2);
}
.jse-table-mode-welcome.svelte-1b9gnk8 .jse-nested-arrays:where(.svelte-1b9gnk8) .jse-nested-property:where(.svelte-1b9gnk8) {
  display: flex;
  align-items: center;
  gap: var(--jse-padding, 10px);
}
.jse-table-mode-welcome.svelte-1b9gnk8 .jse-nested-arrays:where(.svelte-1b9gnk8) .jse-nested-property:where(.svelte-1b9gnk8) .jse-nested-property-path:where(.svelte-1b9gnk8) {
  flex: 1;
}
.jse-table-mode-welcome.svelte-1b9gnk8 .jse-nested-arrays:where(.svelte-1b9gnk8) .jse-nested-property:where(.svelte-1b9gnk8) .jse-nested-property-path:where(.svelte-1b9gnk8) .jse-nested-property-count:where(.svelte-1b9gnk8) {
  opacity: 0.5;
  white-space: nowrap;
}
.jse-table-mode-welcome.svelte-1b9gnk8 .jse-nested-arrays:where(.svelte-1b9gnk8) button.jse-nested-array-action:where(.svelte-1b9gnk8) {
  text-align: left;
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  background: var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));
  color: var(--jse-button-primary-color, #fff);
  padding: var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));
  border-radius: 3px;
}
.jse-table-mode-welcome.svelte-1b9gnk8 .jse-nested-arrays:where(.svelte-1b9gnk8) button.jse-nested-array-action:where(.svelte-1b9gnk8):hover {
  background: var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff));
}
.jse-table-mode-welcome.svelte-1b9gnk8 .jse-nested-arrays:where(.svelte-1b9gnk8) button.jse-nested-array-action:where(.svelte-1b9gnk8):disabled {
  background: var(--jse-button-primary-background-disabled, #9d9d9d);
}
.jse-table-mode-welcome.svelte-1b9gnk8 .jse-space.jse-after:where(.svelte-1b9gnk8) {
  flex: 2;
}`);var D3e=(t,e)=>e.onClick(),V3e=Te(`An empty document cannot be opened in table mode. You can go to tree mode instead, or paste
        a JSON Array using <b>Ctrl+V</b>.`,1),B3e=(t,e,n)=>e.openJSONEditorModal(p(n)),z3e=(t,e,n)=>e.extractPath(p(n)),H3e=Te('<button type="button" class="jse-nested-array-action svelte-1b9gnk8">Extract</button>'),F3e=Te('<div class="jse-nested-property svelte-1b9gnk8"><div class="jse-nested-property-path svelte-1b9gnk8"> <span class="jse-nested-property-count svelte-1b9gnk8"> </span></div> <button type="button" class="jse-nested-array-action svelte-1b9gnk8"> </button> <!></div>'),q3e=(t,e)=>e.onChangeMode(li.tree),U3e=Te('<div class="jse-table-mode-welcome svelte-1b9gnk8" role="none"><div class="jse-space jse-before svelte-1b9gnk8"></div> <div class="jse-nested-arrays svelte-1b9gnk8"><div class="jse-nested-arrays-title"> </div> <div class="jse-nested-arrays-info svelte-1b9gnk8"><!></div> <!> <button type="button" class="jse-nested-array-action svelte-1b9gnk8">Switch to tree mode</button></div> <div class="jse-space jse-after svelte-1b9gnk8"></div></div>');function W3e(t,e){Ft(e,!0);var n=Na(()=>e.json?function(g){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,y=[];return function b(x,k){ti(x)&&k.length<v&&Object.keys(x).forEach(w=>{b(x[w],k.concat(w))}),Uo(x)&&y.push(k)}(g,[]),y}(e.json).slice(0,99).filter(g=>g.length>0):[]),r=Na(()=>!sr(p(n))),o=Na(()=>e.json===void 0&&(e.text===""||e.text===void 0)),i=Na(()=>p(r)?"Object with nested arrays":p(o)?"An empty document":ti(e.json)?"An object":Uo(e.json)?"An empty array":"A ".concat(OI(e.json,e.parser))),s=U3e();s.__click=[D3e,e];var a=ye(ae(s),2),l=ae(a),c=ae(l),u=ye(l,2),d=ae(u),f=g=>{oe(g,rs(`An object cannot be opened in table mode. You can open a nested array instead, or open the
        document in tree mode.`))},h=g=>{var v=En(),y=Ct(v),b=k=>{oe(k,V3e())},x=k=>{var w=rs();rt(()=>{var S;return Ut(w,"".concat((S=p(i))!==null&&S!==void 0?S:""," cannot be opened in table mode. You can open the document in tree mode instead."))}),oe(k,w)};$e(y,k=>{p(o)&&!e.readOnly?k(b):k(x,!1)},!0),oe(g,v)};$e(d,g=>{p(r)?g(f):g(h,!1)});var m=ye(u,2);Wo(m,17,()=>p(n),ui,(g,v)=>{var y=Na(()=>function(_){return xt(e.json,_).length}(p(v))),b=F3e(),x=ae(b),k=ae(x),w=ae(ye(k)),S=ye(x,2);S.__click=[B3e,e,v];var C=ae(S),j=ye(S,2),A=_=>{var R=H3e();R.__click=[z3e,e,v],oe(_,R)};$e(j,_=>{e.readOnly||_(A)}),rt(_=>{var R;Ut(k,'"'.concat(_??"",'" ')),Ut(w,"(".concat((R=p(y))!==null&&R!==void 0?R:""," ").concat(p(y)!==1?"items":"item",")")),Ut(C,e.readOnly?"View":"Edit")},[()=>Da(p(v))]),oe(g,b)}),ye(m,2).__click=[q3e,e],rt(()=>Ut(c,p(i))),oe(t,s),qt()}Mw(["click"]);cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-column-header.svelte-1wgrwv3 {
  background: none;
  border: none;
  font-family: inherit;
  font-size: inherit;
  color: inherit;
  display: flex;
  gap: var(--jse-padding, 10px);
  padding: calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(0.5 * var(--jse-padding, 10px)) calc(0.5 * var(--jse-padding, 10px));
  width: 100%;
}
.jse-column-header.svelte-1wgrwv3:hover {
  background: var(--jse-table-header-background-highlight, #e8e8e8);
}
.jse-column-header.svelte-1wgrwv3:not(.jse-column-header.jse-readonly) {
  cursor: pointer;
}`);var K3e=Te('<button type="button"><!></button>');cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-table-mode.svelte-1p86y3c {
  flex: 1;
  display: flex;
  flex-direction: column;
  position: relative;
  background: var(--jse-background-color, #fff);
  min-width: 0;
  min-height: 0;
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  color: var(--jse-text-color, #4d4d4d);
  line-height: var(--jse-line-height, calc(1em + 4px));
}
.jse-table-mode.no-main-menu.svelte-1p86y3c {
  border-top: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-table-mode.svelte-1p86y3c .jse-search-box-container:where(.svelte-1p86y3c) {
  position: relative;
  height: 0;
  top: calc(var(--jse-line-height, calc(1em + 4px)) + 2 * var(--jse-padding, 10px));
  margin-right: calc(var(--jse-padding, 10px) + 20px);
  margin-left: var(--jse-padding, 10px);
  text-align: right;
  z-index: 3;
}
.jse-table-mode.svelte-1p86y3c .jse-hidden-input-label:where(.svelte-1p86y3c) {
  position: fixed;
  right: 0;
  top: 0;
  width: 0;
  height: 0;
}
.jse-table-mode.svelte-1p86y3c .jse-hidden-input-label:where(.svelte-1p86y3c) .jse-hidden-input:where(.svelte-1p86y3c) {
  width: 0;
  height: 0;
  padding: 0;
  border: 0;
  outline: none;
}
.jse-table-mode.svelte-1p86y3c .jse-contents:where(.svelte-1p86y3c) {
  flex: 1;
  align-items: flex-start;
  flex-direction: column;
  display: flex;
  overflow: auto;
  overflow-anchor: none;
  scrollbar-gutter: stable;
  border-left: var(--jse-main-border, 1px solid #d7d7d7);
  border-right: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-table-mode.svelte-1p86y3c .jse-contents:where(.svelte-1p86y3c):last-child {
  border-bottom: var(--jse-main-border, 1px solid #d7d7d7);
}
.jse-table-mode.svelte-1p86y3c .jse-contents:where(.svelte-1p86y3c) table.jse-table-main:where(.svelte-1p86y3c) {
  border-collapse: collapse;
  border-spacing: 0;
}
.jse-table-mode.svelte-1p86y3c .jse-contents:where(.svelte-1p86y3c) table.jse-table-main:where(.svelte-1p86y3c) .jse-table-invisible-start-section:where(.svelte-1p86y3c) td:where(.svelte-1p86y3c),
.jse-table-mode.svelte-1p86y3c .jse-contents:where(.svelte-1p86y3c) table.jse-table-main:where(.svelte-1p86y3c) .jse-table-invisible-end-section:where(.svelte-1p86y3c) td:where(.svelte-1p86y3c) {
  margin: 0;
  padding: 0;
}
.jse-table-mode.svelte-1p86y3c .jse-contents:where(.svelte-1p86y3c) table.jse-table-main:where(.svelte-1p86y3c) .jse-search-box-background:where(.svelte-1p86y3c) {
  background: var(--jse-table-header-background, #f5f5f5);
}
.jse-table-mode.svelte-1p86y3c .jse-contents:where(.svelte-1p86y3c) table.jse-table-main:where(.svelte-1p86y3c) .jse-table-invisible-end-section:where(.svelte-1p86y3c) td:where(.svelte-1p86y3c) {
  padding-bottom: var(--jse-padding, 10px);
}
.jse-table-mode.svelte-1p86y3c .jse-contents:where(.svelte-1p86y3c) table.jse-table-main:where(.svelte-1p86y3c) .jse-table-row:where(.svelte-1p86y3c):hover {
  background-color: var(--jse-table-row-odd-background, rgba(0, 0, 0, 0.05));
}
.jse-table-mode.svelte-1p86y3c .jse-contents:where(.svelte-1p86y3c) table.jse-table-main:where(.svelte-1p86y3c) .jse-table-row:where(.svelte-1p86y3c) .jse-table-cell:where(.svelte-1p86y3c) {
  padding: 0 var(--jse-padding, 10px) 0 0;
  vertical-align: top;
  white-space: nowrap;
  height: var(--jse-line-height, calc(1em + 4px));
}
.jse-table-mode.svelte-1p86y3c .jse-contents:where(.svelte-1p86y3c) table.jse-table-main:where(.svelte-1p86y3c) .jse-table-row:where(.svelte-1p86y3c) .jse-table-cell.jse-table-cell-header:where(.svelte-1p86y3c), .jse-table-mode.svelte-1p86y3c .jse-contents:where(.svelte-1p86y3c) table.jse-table-main:where(.svelte-1p86y3c) .jse-table-row:where(.svelte-1p86y3c) .jse-table-cell.jse-table-cell-gutter:where(.svelte-1p86y3c) {
  font-weight: normal;
  text-align: left;
  color: var(--jse-text-readonly, #8d8d8d);
  background: var(--jse-table-header-background, #f5f5f5);
}
.jse-table-mode.svelte-1p86y3c .jse-contents:where(.svelte-1p86y3c) table.jse-table-main:where(.svelte-1p86y3c) .jse-table-row:where(.svelte-1p86y3c) .jse-table-cell.jse-table-cell-header:where(.svelte-1p86y3c) {
  padding: 0;
  position: sticky;
  top: 0;
}
.jse-table-mode.svelte-1p86y3c .jse-contents:where(.svelte-1p86y3c) table.jse-table-main:where(.svelte-1p86y3c) .jse-table-row:where(.svelte-1p86y3c) .jse-table-cell.jse-table-cell-header:where(.svelte-1p86y3c) .jse-table-root-error:where(.svelte-1p86y3c) {
  padding: calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(0.5 * var(--jse-padding, 10px)) calc(0.5 * var(--jse-padding, 10px));
}
.jse-table-mode.svelte-1p86y3c .jse-contents:where(.svelte-1p86y3c) table.jse-table-main:where(.svelte-1p86y3c) .jse-table-row:where(.svelte-1p86y3c) .jse-table-cell.jse-table-cell-gutter:where(.svelte-1p86y3c) {
  padding: 0 var(--jse-padding, 10px) 0 calc(0.5 * var(--jse-padding, 10px));
}
.jse-table-mode.svelte-1p86y3c .jse-contents:where(.svelte-1p86y3c) table.jse-table-main:where(.svelte-1p86y3c) .jse-table-row:where(.svelte-1p86y3c) .jse-table-cell:where(.svelte-1p86y3c) .jse-value-outer:where(.svelte-1p86y3c) {
  display: inline-block;
  cursor: var(--jse-contents-cursor, pointer);
}
.jse-table-mode.svelte-1p86y3c .jse-contents:where(.svelte-1p86y3c) table.jse-table-main:where(.svelte-1p86y3c) .jse-table-row:where(.svelte-1p86y3c) .jse-table-cell:where(.svelte-1p86y3c) .jse-value-outer:where(.svelte-1p86y3c):hover {
  background: var(--jse-hover-background-color, rgba(0, 0, 0, 0.06));
}
.jse-table-mode.svelte-1p86y3c .jse-contents:where(.svelte-1p86y3c) table.jse-table-main:where(.svelte-1p86y3c) .jse-table-row:where(.svelte-1p86y3c) .jse-table-cell:where(.svelte-1p86y3c) .jse-value-outer.jse-selected-value:where(.svelte-1p86y3c) {
  background: var(--jse-selection-background-color, #d3d3d3);
}
.jse-table-mode.svelte-1p86y3c .jse-contents:where(.svelte-1p86y3c) table.jse-table-main:where(.svelte-1p86y3c) .jse-table-row:where(.svelte-1p86y3c) .jse-table-cell:where(.svelte-1p86y3c) .jse-context-menu-anchor:where(.svelte-1p86y3c) {
  display: inline-flex;
  position: relative;
  vertical-align: top;
}
.jse-table-mode.svelte-1p86y3c .jse-contents.jse-contents-loading:where(.svelte-1p86y3c) {
  align-items: unset;
}
.jse-table-mode.svelte-1p86y3c .jse-contents.jse-contents-loading:where(.svelte-1p86y3c) .jse-loading-space:where(.svelte-1p86y3c) {
  flex: 1;
}
.jse-table-mode.svelte-1p86y3c .jse-contents.jse-contents-loading:where(.svelte-1p86y3c) .jse-loading:where(.svelte-1p86y3c) {
  flex: 2;
  text-align: center;
  color: var(--jse-panel-color-readonly, #b2b2b2);
  box-sizing: border-box;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
}`);var J3e=Te('<div class="jse-table-root-error svelte-1p86y3c"><!></div>'),G3e=Te('<th class="jse-table-cell jse-table-cell-header svelte-1p86y3c"><!></th>'),Y3e=Te('<th class="jse-table-cell jse-table-cell-header svelte-1p86y3c"><!></th>'),X3e=Te('<th class="jse-table-cell jse-table-cell-gutter svelte-1p86y3c"> <!></th>'),Q3e=Te('<div class="jse-context-menu-anchor svelte-1p86y3c"><!></div>'),Z3e=Te('<td class="jse-table-cell svelte-1p86y3c"><div><!><!></div> <!></td>'),e4e=Te('<td class="jse-table-cell svelte-1p86y3c"></td>'),t4e=Te('<tr class="jse-table-row svelte-1p86y3c"><!><!><!></tr>'),n4e=Te('<div class="jse-search-box-container svelte-1p86y3c"><!></div> <div class="jse-contents svelte-1p86y3c"><table class="jse-table-main svelte-1p86y3c"><tbody><tr class="jse-table-row jse-table-row-header svelte-1p86y3c"><th class="jse-table-cell jse-table-cell-header svelte-1p86y3c"><!></th><!><!></tr><tr><td class="svelte-1p86y3c"></td></tr><!><tr class="jse-table-invisible-end-section svelte-1p86y3c"><td class="svelte-1p86y3c"></td></tr></tbody></table></div> <!> <!> <!> <!>',1),r4e=Te("<!> <!>",1),o4e=Te('<label class="jse-hidden-input-label svelte-1p86y3c"><input type="text" tabindex="-1" class="jse-hidden-input svelte-1p86y3c"/></label> <!>',1),i4e=Te('<div class="jse-contents jse-contents-loading svelte-1p86y3c"><div class="jse-loading-space svelte-1p86y3c"></div> <div class="jse-loading svelte-1p86y3c">loading...</div></div>'),s4e=Te('<div role="table"><!> <!></div> <!> <!>',1);function a4e(t,e){Ft(e,!1);var n=le(void 0,!0),r=le(void 0,!0),o=le(void 0,!0),i=Ui("jsoneditor:TableMode"),{openAbsolutePopup:s,closeAbsolutePopup:a}=Jh("absolute-popup"),l=ZX(),c=Ev(),u=Ev(),d=typeof window>"u";i("isSSR:",d);var f=$(e,"readOnly",9),h=$(e,"externalContent",9),m=$(e,"externalSelection",9),g=$(e,"history",9),v=$(e,"truncateTextSize",9),y=$(e,"mainMenuBar",9),b=$(e,"escapeControlCharacters",9),x=$(e,"escapeUnicodeCharacters",9),k=$(e,"flattenColumns",9),w=$(e,"parser",9),S=$(e,"parseMemoizeOne",9),C=$(e,"validator",9),j=$(e,"validationParser",9),A=$(e,"indentation",9),_=$(e,"onChange",9),R=$(e,"onChangeMode",9),T=$(e,"onSelect",9),z=$(e,"onUndo",9),U=$(e,"onRedo",9),G=$(e,"onRenderValue",9),ce=$(e,"onRenderMenu",9),ie=$(e,"onRenderContextMenu",9),Z=$(e,"onFocus",9),W=$(e,"onBlur",9),B=$(e,"onSortModal",9),H=$(e,"onTransformModal",9),K=$(e,"onJSONEditorModal",9),P=le(void 0,!0),M=le(void 0,!0),N=le(void 0,!0),he=le(void 0,!0),ge=le(void 0,!0);KI({onMount:Ls,onDestroy:Ul,getWindow:()=>$w(p(M)),hasFocus:()=>_e&&document.hasFocus()||_I(p(M)),onFocus:()=>{Qe=!0,Z()&&Z()()},onBlur:()=>{Qe=!1,W()&&W()()}});var te,ee=le(void 0,!0),be=le(void 0,!0),ne=le(void 0,!0),D=le(void 0,!0),L=le(void 0,!0),re=le(void 0,!0),Y=le(!1,!0),q=le(!1,!0);function Ae(Q){O(re,(te=Q)?BX(p(ee),te.items):void 0)}function Ee(Q){return pe.apply(this,arguments)}function pe(){return(pe=Xt(function*(Q){O(Me,void 0),yield Yr(Q)})).apply(this,arguments)}function Pe(){O(Y,!1),O(q,!1),St()}var we=le(1e4,!0),Re=le([],!0),Ne=le(void 0,!0),_e=!1,Qe=!1,I=le(!1,!0),V=le({},!0),J=le(600,!0),se=le(0,!0),xe=18;function Fe(Q){O(Me,Q)}function Je(Q){p(Me)&&Q!==void 0&&(Va(Q,Jp(p(Me)))&&Va(Q,Et(p(Me)))||(i("clearing selection: path does not exist anymore",p(Me)),O(Me,void 0)))}var Ce=le(p(ee)!==void 0?o_({json:p(ee)}):void 0,!0),Me=le(fb(m())?m():void 0,!0),kt=le(void 0,!0),ht=le(!1,!0);function dt(Q){if(!f()){i("onSortByHeader",Q);var Se=Q.sortDirection===jl.desc?-1:1;Bn(sQ(p(ee),[],Q.path,Se),(Ke,lt)=>({state:lt,sortedColumn:Q}))}}Ls(()=>{p(Me)&&Ro(Et(p(Me)))});var mt=le(void 0,!0);function Sn(Q){if(Q.json!==void 0||Q.text!==void 0){var Se=p(ee)!==void 0&&Q.json!==void 0;g().add({type:"tree",undo:{patch:Se?[{op:"replace",path:"",value:Q.json}]:void 0,json:Q.json,text:Q.text,documentState:Q.documentState,textIsRepaired:Q.textIsRepaired,selection:hu(Q.selection),sortedColumn:Q.sortedColumn},redo:{patch:Se?[{op:"replace",path:"",value:p(ee)}]:void 0,json:p(ee),text:p(be),documentState:p(Ce),textIsRepaired:p(ht),selection:hu(p(Me)),sortedColumn:p(kt)}})}}var Sr=le([],!0),Mr=z0(eQ);function An(Q,Se,Ke,lt){Ug(()=>{var Be;try{Be=Mr(Q,Se,Ke,lt)}catch(pt){Be=[{path:[],message:"Failed to validate: "+pt.message,severity:xc.warning}]}_n(Be,p(Sr))||(i("validationErrors changed:",Be),O(Sr,Be))},Be=>i("validationErrors updated in ".concat(Be," ms")))}function cr(){return i("validate"),p(ne)?{parseError:p(ne),isRepairable:!1}:(An(p(ee),C(),w(),j()),sr(p(Sr))?void 0:{validationErrors:p(Sr)})}function Pn(Q,Se){if(i("patch",Q,Se),p(ee)===void 0)throw new Error("Cannot apply patch: no JSON");var Ke=p(ee),lt={json:void 0,text:p(be),documentState:p(Ce),selection:hu(p(Me)),sortedColumn:p(kt),textIsRepaired:p(ht)},Be=VX(p(ee),Q),pt=MX(p(ee),p(Ce),Q),bt=K_e(p(kt),Q,p(Re)),yt=typeof Se=="function"?Se(pt.json,pt.documentState,p(Me)):void 0;return O(ee,(yt==null?void 0:yt.json)!==void 0?yt.json:pt.json),O(Ce,(yt==null?void 0:yt.state)!==void 0?yt.state:pt.documentState),O(Me,(yt==null?void 0:yt.selection)!==void 0?yt.selection:p(Me)),O(kt,(yt==null?void 0:yt.sortedColumn)!==void 0?yt.sortedColumn:bt),O(be,void 0),O(ht,!1),O(D,void 0),O(L,void 0),O(ne,void 0),g().add({type:"tree",undo:nt({patch:Be},lt),redo:{patch:Q,json:void 0,text:void 0,documentState:p(Ce),selection:hu(p(Me)),sortedColumn:p(kt),textIsRepaired:p(ht)}}),{json:p(ee),previousJson:Ke,undo:Be,redo:Q}}function Bn(Q,Se){i("handlePatch",Q,Se);var Ke={json:p(ee),text:p(be)},lt=Pn(Q,Se);return or(Ke,lt),lt}function or(Q,Se){if((Q.json!==void 0||(Q==null?void 0:Q.text)!==void 0)&&_()){if(p(be)!==void 0){var Ke={text:p(be),json:void 0};_()(Ke,Q,{contentErrors:cr(),patchResult:Se})}else if(p(ee)!==void 0){var lt={text:void 0,json:p(ee)};_()(lt,Q,{contentErrors:cr(),patchResult:Se})}}}function Kt(Q){i("pasted json as text",Q),O(D,Q)}function Qn(Q){i("pasted multiline text",{pastedText:Q}),O(L,Q)}function un(Q){var Se=parseInt(Q[0],10),Ke=[String(Se+1),...Q.slice(1)];return Va(p(ee),Ke)?Vn(Ke):Vn(Q)}function St(){i("focus"),p(he)&&(p(he).focus(),p(he).select())}function In(Q){O(se,Q.target.scrollTop)}function kn(){p(Me)||O(Me,function(){if(Uo(p(ee))&&!sr(p(ee))&&!sr(p(Re)))return Vn(["0",...p(Re)[0]])}())}function Tr(){if(p(ht)&&p(ee)!==void 0){var Q={json:p(ee),text:p(be)},Se={json:p(ee),documentState:p(Ce),selection:p(Me),sortedColumn:p(kt),text:p(be),textIsRepaired:p(ht)};O(be,void 0),O(ht,!1),Je(p(ee)),Sn(Se),or(Q,void 0)}return{json:p(ee),text:p(be)}}function Yr(Q){var{scrollToWhenVisible:Se=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ke=p(Y)?S1:0,lt=GV(Q,p(Re),V,xe),Be=lt-p(se)+Ke+xe,pt=eo(Q);if(i("scrollTo",{path:Q,top:lt,scrollTop:p(se),elem:pt}),!p(N))return Promise.resolve();var bt=p(N).getBoundingClientRect();if(pt&&!Se){var yt=pt.getBoundingClientRect();if(yt.bottom>bt.top&&yt.top<bt.bottom)return Promise.resolve()}var $n=-Math.max(Ke+2*xe,bt.height/4);return new Promise(pt?er=>{l(pt,{container:p(N),offset:$n,duration:300,callback:()=>{Fr(Q),er()}})}:er=>{l(Be,{container:p(N),offset:$n,duration:300,callback:()=>{Qr(),Fr(Q),er()}})})}function Fr(Q){var Se=eo(Q);if(Se&&p(N)){var Ke=p(N).getBoundingClientRect(),lt=Se.getBoundingClientRect();if(lt.right>Ke.right){var Be=lt.right-Ke.right;Za(N,p(N).scrollLeft+=Be)}if(lt.left<Ke.left){var pt=Ke.left-lt.left;Za(N,p(N).scrollLeft-=pt)}}}function Ro(Q){(function(Se){if(p(N)){var{rowIndex:Ke}=xl(Se,p(Re)),lt=GV(Se,p(Re),V,xe),Be=lt+(V[Ke]||xe),pt=xe,bt=p(N).getBoundingClientRect(),yt=p(se),$n=p(se)+bt.height-pt;if(Be>$n){var er=Be-$n;Za(N,p(N).scrollTop+=er)}if(lt<yt){var Un=yt-lt;Za(N,p(N).scrollTop-=Un)}}})(Q),Fr(Q)}function eo(Q){var Se,Ke,lt=p(Re).find(pt=>Mu(Q.slice(1),pt)),Be=lt?Q.slice(0,1).concat(lt):Q;return(Se=(Ke=p(N))===null||Ke===void 0?void 0:Ke.querySelector('td[data-path="'.concat(nS(Be),'"]')))!==null&&Se!==void 0?Se:void 0}function So(Q){var Se,{anchor:Ke,left:lt,top:Be,width:pt,height:bt,offsetTop:yt,offsetLeft:$n,showTip:er}=Q,Un=function(me){var{json:ze,documentState:ft,selection:at,readOnly:it,onEditValue:an,onEditRow:ln,onToggleEnforceString:Rn,onCut:jr,onCopy:Wn,onPaste:qr,onRemove:dn,onDuplicateRow:jo,onInsertBeforeRow:Ir,onInsertAfterRow:no,onRemoveRow:mr}=me,nn=ze!==void 0,tr=!!at,rn=ze!==void 0&&at?xt(ze,Et(at)):void 0,Nt=nn&&(Dr(at)||zi(at)||hr(at)),jn=!it&&nn&&at!==void 0&&V2(at),mo=jn&&!$o(rn),ro=!it&&Nt,ai=at!==void 0&&bu(ze,ft,Et(at));return[{type:"separator"},{type:"row",items:[{type:"column",items:[{type:"label",text:"Table cell:"},{type:"dropdown-button",main:{type:"button",onClick:()=>an(),icon:ev,text:"Edit",title:"Edit the value (Double-click on the value)",disabled:!jn},width:"11em",items:[{type:"button",icon:ev,text:"Edit",title:"Edit the value (Double-click on the value)",onClick:()=>an(),disabled:!jn},{type:"button",icon:ai?cW:dW,text:"Enforce string",title:"Enforce keeping the value as string when it contains a numeric value",onClick:()=>Rn(),disabled:!mo}]},{type:"dropdown-button",main:{type:"button",onClick:()=>jr(!0),icon:Zg,text:"Cut",title:"Cut selected contents, formatted with indentation (Ctrl+X)",disabled:!ro},width:"10em",items:[{type:"button",icon:Zg,text:"Cut formatted",title:"Cut selected contents, formatted with indentation (Ctrl+X)",onClick:()=>jr(!0),disabled:it||!Nt},{type:"button",icon:Zg,text:"Cut compacted",title:"Cut selected contents, without indentation (Ctrl+Shift+X)",onClick:()=>jr(!1),disabled:it||!Nt}]},{type:"dropdown-button",main:{type:"button",onClick:()=>Wn(!0),icon:Gf,text:"Copy",title:"Copy selected contents, formatted with indentation (Ctrl+C)",disabled:!Nt},width:"12em",items:[{type:"button",icon:Gf,text:"Copy formatted",title:"Copy selected contents, formatted with indentation (Ctrl+C)",onClick:()=>Wn(!1),disabled:!Nt},{type:"button",icon:Gf,text:"Copy compacted",title:"Copy selected contents, without indentation (Ctrl+Shift+C)",onClick:()=>Wn(!1),disabled:!Nt}]},{type:"button",onClick:()=>qr(),icon:lW,text:"Paste",title:"Paste clipboard contents (Ctrl+V)",disabled:it||!tr},{type:"button",onClick:()=>dn(),icon:$$,text:"Remove",title:"Remove selected contents (Delete)",disabled:it||!Nt}]},{type:"column",items:[{type:"label",text:"Table row:"},{type:"button",onClick:()=>ln(),icon:ev,text:"Edit row",title:"Edit the current row",disabled:it||!tr||!nn},{type:"button",onClick:()=>jo(),icon:pW,text:"Duplicate row",title:"Duplicate the current row (Ctrl+D)",disabled:it||!tr||!nn},{type:"button",onClick:()=>Ir(),icon:Ng,text:"Insert before",title:"Insert a row before the current row",disabled:it||!tr||!nn},{type:"button",onClick:()=>no(),icon:Ng,text:"Insert after",title:"Insert a row after the current row",disabled:it||!tr||!nn},{type:"button",onClick:()=>mr(),icon:$$,text:"Remove row",title:"Remove current row",disabled:it||!tr||!nn}]}]}]}({json:p(ee),documentState:p(Ce),selection:p(Me),readOnly:f(),onEditValue:mi,onEditRow:Jo,onToggleEnforceString:oi,onCut:is,onCopy:Qi,onPaste:Cn,onRemove:Fn,onDuplicateRow:Pr,onInsertBeforeRow:Go,onInsertAfterRow:Co,onRemoveRow:ve}),to=(Se=ie()(Un))!==null&&Se!==void 0?Se:Un;if(to!==!1){var $i={left:lt,top:Be,offsetTop:yt,offsetLeft:$n,width:pt,height:bt,anchor:Ke,closeOnOuterClick:!0,onClose:()=>{_e=!1,St()}};_e=!0;var X=s(gQ,{tip:er?"Tip: you can open this context menu via right-click or with Ctrl+Q":void 0,items:to,onRequestClose(){a(X),St()}},$i)}}function Ko(Q){if(!Di(p(Me)))if(Q&&(Q.stopPropagation(),Q.preventDefault()),Q&&Q.type==="contextmenu"&&Q.target!==p(he))So({left:Q.clientX,top:Q.clientY,width:xd,height:wd,showTip:!1});else{var Se,Ke=(Se=p(N))===null||Se===void 0?void 0:Se.querySelector(".jse-table-cell.jse-selected-value");if(Ke)So({anchor:Ke,offsetTop:2,width:xd,height:wd,showTip:!1});else{var lt,Be=(lt=p(N))===null||lt===void 0?void 0:lt.getBoundingClientRect();Be&&So({top:Be.top+2,left:Be.left+2,width:xd,height:wd,showTip:!1})}}}function fo(Q){So({anchor:kX(Q.target,"BUTTON"),offsetTop:0,width:xd,height:wd,showTip:!0})}function mi(){if(!f()&&p(Me)){var Q=Et(p(Me));$o(xt(p(ee),Q))?$t(Q):O(Me,Vn(Q))}}function Jo(){!f()&&p(Me)&&$t(Et(p(Me)).slice(0,1))}function oi(){if(!f()&&hr(p(Me))){var Q=p(Me).path,Se=Wt(Q),Ke=xt(p(ee),Q),lt=!bu(p(ee),p(Ce),Q),Be=lt?String(Ke):Ty(String(Ke),w());i("handleToggleEnforceString",{enforceString:lt,value:Ke,updatedValue:Be}),Bn([{op:"replace",path:Se,value:Be}],(pt,bt)=>({state:gA(p(ee),bt,Q,{type:"value",enforceString:lt})}))}}function ho(){return Ue.apply(this,arguments)}function Ue(){return(Ue=Xt(function*(){if(i("apply pasted json",p(D)),p(D)){var{onPasteAsJson:Q}=p(D);Q(),setTimeout(St)}})).apply(this,arguments)}function Cn(){return yr.apply(this,arguments)}function yr(){return(yr=Xt(function*(){try{de(yield navigator.clipboard.readText())}catch(Q){console.error(Q),O(I,!0)}})).apply(this,arguments)}function Nr(){return No.apply(this,arguments)}function No(){return(No=Xt(function*(){i("apply pasted multiline text",p(L)),p(L)&&(de(JSON.stringify(p(L))),setTimeout(St))})).apply(this,arguments)}function Mi(){i("clear pasted json"),O(D,void 0),St()}function Ln(){i("clear pasted multiline text"),O(L,void 0),St()}function ii(){R()(li.text)}function is(Q){return po.apply(this,arguments)}function po(){return(po=Xt(function*(Q){yield uQ({json:p(ee),selection:p(Me),indentation:Q?A():void 0,readOnly:f(),parser:w(),onPatch:Bn})})).apply(this,arguments)}function Qi(){return Or.apply(this,arguments)}function Or(){return Or=Xt(function*(){var Q=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];p(ee)!==void 0&&(yield dQ({json:p(ee),selection:p(Me),indentation:Q?A():void 0,parser:w()}))}),Or.apply(this,arguments)}function Fn(){hQ({json:p(ee),text:p(be),selection:p(Me),keepSelection:!0,readOnly:f(),onChange:_(),onPatch:Bn})}function wn(Q){f()||(i("extract",{path:Q}),Bn(NX(p(ee),Vn(Q))))}function Pr(){(function(Q){var{json:Se,selection:Ke,columns:lt,readOnly:Be,onPatch:pt}=Q;if(!Be&&Se!==void 0&&Ke&&Fg(Ke)){var{rowIndex:bt,columnIndex:yt}=xl(Et(Ke),lt);Ws("duplicate row",{rowIndex:bt});var $n=[String(bt)];pt(RX(Se,[$n]),(er,Un)=>({state:Un,selection:Vn(mp({rowIndex:bt<Se.length?bt+1:bt,columnIndex:yt},lt))}))}})({json:p(ee),selection:p(Me),columns:p(Re),readOnly:f(),onPatch:Bn})}function Go(){(function(Q){var{json:Se,selection:Ke,columns:lt,readOnly:Be,onPatch:pt}=Q;if(!Be&&Se!==void 0&&Ke&&Fg(Ke)){var{rowIndex:bt}=xl(Et(Ke),lt);Ws("insert before row",{rowIndex:bt}),pt(qg(Se,[String(bt)],[{key:"",value:ti(Se[0])?{}:""}]))}})({json:p(ee),selection:p(Me),columns:p(Re),readOnly:f(),onPatch:Bn})}function Co(){(function(Q){var{json:Se,selection:Ke,columns:lt,readOnly:Be,onPatch:pt}=Q;if(!Be&&Se!==void 0&&Ke&&Fg(Ke)){var{rowIndex:bt,columnIndex:yt}=xl(Et(Ke),lt);Ws("insert after row",{rowIndex:bt});var $n=bt+1,er=[String($n)],Un=[{key:"",value:ti(Se[0])?{}:""}];pt($n<Se.length?qg(Se,er,Un):a_(Se,[],Un),(to,$i)=>({state:$i,selection:Vn(mp({rowIndex:$n,columnIndex:yt},lt))}))}})({json:p(ee),selection:p(Me),columns:p(Re),readOnly:f(),onPatch:Bn})}function ve(){(function(Q){var{json:Se,selection:Ke,columns:lt,readOnly:Be,onPatch:pt}=Q;if(!Be&&Se!==void 0&&Ke&&Fg(Ke)){var{rowIndex:bt,columnIndex:yt}=xl(Et(Ke),lt);Ws("remove row",{rowIndex:bt}),pt(z2([[String(bt)]]),($n,er)=>{var Un=bt<$n.length?bt:bt>0?bt-1:void 0,to=Un!==void 0?Vn(mp({rowIndex:Un,columnIndex:yt},lt)):void 0;return Ws("remove row new selection",{rowIndex:bt,newRowIndex:Un,newSelection:to}),{state:er,selection:to}})}})({json:p(ee),selection:p(Me),columns:p(Re),readOnly:f(),onPatch:Bn})}function Ve(){return(Ve=Xt(function*(Q){yield pQ({char:Q,selectInside:!1,json:p(ee),selection:p(Me),readOnly:f(),parser:w(),onPatch:Bn,onReplaceJson:ke,onSelect:Fe})})).apply(this,arguments)}function et(Q){var Se;Q.preventDefault(),de((Se=Q.clipboardData)===null||Se===void 0?void 0:Se.getData("text/plain"))}function de(Q){Q!==void 0&&fQ({clipboardText:Q,json:p(ee),selection:p(Me),readOnly:f(),parser:w(),onPatch:Bn,onChangeText:qe,onPasteMultilineText:Qn,openRepairModal:Ht})}function ke(Q,Se){var Ke={json:p(ee),text:p(be)},lt={json:p(ee),documentState:p(Ce),selection:p(Me),sortedColumn:p(kt),text:p(be),textIsRepaired:p(ht)},Be=Xa(Q,p(Ce)),pt=typeof Se=="function"?Se(Q,Be,p(Me)):void 0;O(ee,(pt==null?void 0:pt.json)!==void 0?pt.json:Q),O(Ce,(pt==null?void 0:pt.state)!==void 0?pt.state:Be),O(Me,(pt==null?void 0:pt.selection)!==void 0?pt.selection:p(Me)),O(kt,void 0),O(be,void 0),O(ht,!1),O(ne,void 0),Je(p(ee)),Sn(lt),or(Ke,void 0)}function qe(Q,Se){i("handleChangeText");var Ke={json:p(ee),text:p(be)},lt={json:p(ee),documentState:p(Ce),selection:p(Me),sortedColumn:p(kt),text:p(be),textIsRepaired:p(ht)};try{O(ee,S()(Q)),O(Ce,Xa(p(ee),p(Ce))),O(be,void 0),O(ht,!1),O(ne,void 0)}catch(pt){try{O(ee,S()(Su(Q))),O(Ce,Xa(p(ee),p(Ce))),O(be,Q),O(ht,!0),O(ne,void 0)}catch{O(ee,void 0),O(Ce,void 0),O(be,Q),O(ht,!1),O(ne,p(be)!==""?Wv(p(be),pt.message||String(pt)):void 0)}}if(typeof Se=="function"){var Be=Se(p(ee),p(Ce),p(Me));O(ee,(Be==null?void 0:Be.json)!==void 0?Be.json:p(ee)),O(Ce,(Be==null?void 0:Be.state)!==void 0?Be.state:p(Ce)),O(Me,(Be==null?void 0:Be.selection)!==void 0?Be.selection:p(Me))}Je(p(ee)),Sn(lt),or(Ke,void 0)}function st(Q){i("select validation error",Q),O(Me,Vn(Q.path)),Yr(Q.path)}function Ot(Q){if(p(ee)!==void 0){var{id:Se,onTransform:Ke,onClose:lt}=Q,Be=Q.rootPath||[];_e=!0,H()({id:Se||u,json:p(ee),rootPath:Be||[],onTransform:pt=>{Ke?Ke({operations:pt,json:p(ee),transformedJson:vc(p(ee),pt)}):(i("onTransform",Be,pt),Bn(pt))},onClose:()=>{_e=!1,setTimeout(St),lt&&lt()}})}}function $t(Q){i("openJSONEditorModal",{path:Q}),_e=!0,K()({content:{json:xt(p(ee),Q)},path:Q,onPatch:Bn,onClose:()=>{_e=!1,setTimeout(St)}})}function Ht(Q,Se){O(ge,{text:Q,onParse:Ke=>Ow(Ke,lt=>Tw(lt,w())),onRepair:hX,onApply:Se,onClose:St})}function Lr(){(function(Q){f()||p(ee)===void 0||(_e=!0,B()({id:c,json:p(ee),rootPath:Q,onSort:Se=>{var{operations:Ke,itemPath:lt,direction:Be}=Se;i("onSort",Ke,Q,lt,Be),Bn(Ke,(pt,bt)=>({state:bt,sortedColumn:{path:lt,sortDirection:Be===-1?jl.desc:jl.asc}}))},onClose:()=>{_e=!1,setTimeout(St)}}))})([])}function Dn(){Ot({rootPath:[]})}function Zn(Q){i("openFind",{findAndReplace:Q}),O(Y,!1),O(q,!1),Qr(),O(Y,!0),O(q,Q)}function pn(){if(!f()&&g().canUndo){var Q=g().undo();if(D2(Q)){var Se={json:p(ee),text:p(be)};O(ee,Q.undo.patch?vc(p(ee),Q.undo.patch):Q.undo.json),O(Ce,Q.undo.documentState),O(Me,Q.undo.selection),O(kt,Q.undo.sortedColumn),O(be,Q.undo.text),O(ht,Q.undo.textIsRepaired),O(ne,void 0),i("undo",{item:Q,json:p(ee)}),or(Se,Q.undo.patch&&Q.redo.patch?{json:p(ee),previousJson:Se.json,redo:Q.undo.patch,undo:Q.redo.patch}:void 0),St(),p(Me)&&Yr(Et(p(Me)),{scrollToWhenVisible:!1})}else z()(Q)}}function qn(){if(!f()&&g().canRedo){var Q=g().redo();if(D2(Q)){var Se={json:p(ee),text:p(be)};O(ee,Q.redo.patch?vc(p(ee),Q.redo.patch):Q.redo.json),O(Ce,Q.redo.documentState),O(Me,Q.redo.selection),O(kt,Q.redo.sortedColumn),O(be,Q.redo.text),O(ht,Q.redo.textIsRepaired),O(ne,void 0),i("redo",{item:Q,json:p(ee)}),or(Se,Q.undo.patch&&Q.redo.patch?{json:p(ee),previousJson:Se.json,redo:Q.redo.patch,undo:Q.undo.patch}:void 0),St(),p(Me)&&Yr(Et(p(Me)),{scrollToWhenVisible:!1})}else U()(Q)}}function Ti(Q){O(J,Q.getBoundingClientRect().height)}je(()=>(E(b()),E(x())),()=>{O(P,$I({escapeControlCharacters:b(),escapeUnicodeCharacters:x()}))}),je(()=>p(Y),()=>{(function(Q){if(p(N)){var Se=Q?S1:-100;p(N).scrollTo({top:Za(N,p(N).scrollTop+=Se),left:p(N).scrollLeft})}})(p(Y))}),je(()=>E(h()),()=>{(function(Q){var Se={json:p(ee)},Ke=ab(Q)?Q.text!==p(be):!_n(Se.json,Q.json);if(i("update external content",{isChanged:Ke}),Ke){var lt={json:p(ee),documentState:p(Ce),selection:p(Me),sortedColumn:p(kt),text:p(be),textIsRepaired:p(ht)};if(ab(Q))try{O(ee,S()(Q.text)),O(Ce,Xa(p(ee),p(Ce))),O(be,Q.text),O(ht,!1),O(ne,void 0)}catch(Be){try{O(ee,S()(Su(Q.text))),O(Ce,Xa(p(ee),p(Ce))),O(be,Q.text),O(ht,!0),O(ne,void 0)}catch{O(ee,void 0),O(Ce,void 0),O(be,Q.text),O(ht,!1),O(ne,p(be)!==""?Wv(p(be),Be.message||String(Be)):void 0)}}else O(ee,Q.json),O(Ce,Xa(p(ee),p(Ce))),O(be,void 0),O(ht,!1),O(ne,void 0);Je(p(ee)),O(kt,void 0),Sn(lt)}})(h())}),je(()=>E(m()),()=>{(function(Q){_n(p(Me),Q)||(i("applyExternalSelection",{selection:p(Me),externalSelection:Q}),fb(Q)&&O(Me,Q))})(m())}),je(()=>(p(Re),p(ee),E(k()),p(we)),()=>{O(Re,Uo(p(ee))?function(Q,Se){var Ke=new Set(Se.map(Wt)),lt=new Set(Q.map(Wt));for(var Be of Ke)lt.has(Be)||Ke.delete(Be);for(var pt of lt)Ke.has(pt)||Ke.add(pt);return[...Ke].map(Ba)}(F_e(p(ee),k(),p(we)),p(Re)):[])}),je(()=>(p(ee),p(Re)),()=>{O(Ne,!(!p(ee)||sr(p(Re))))}),je(()=>(p(ee),p(we)),()=>{O(n,Array.isArray(p(ee))&&p(ee).length>p(we))}),je(()=>(p(se),p(J),p(ee),p(Y),S1),()=>{O(r,q_e(p(se),p(J),p(ee),V,xe,p(Y)?S1:0))}),je(()=>p(ee),()=>{p(ee),p(N)&&p(N).scrollTo({top:p(N).scrollTop,left:p(N).scrollLeft})}),je(()=>p(Me),()=>{var Q;Q=p(Me),_n(Q,m())||(i("onSelect",Q),T()(Q))}),je(()=>(E(f()),E(v()),E(w()),p(P),p(ee),p(Ce),E(G())),()=>{O(mt,{mode:li.table,readOnly:f(),truncateTextSize:v(),parser:w(),normalization:p(P),getJson:()=>p(ee),getDocumentState:()=>p(Ce),findElement:eo,findNextInside:un,focus:St,onPatch:(Q,Se)=>Bn(function(Ke,lt){return Ke.flatMap(Be=>{if(O4(Be)){var pt=Ba(Be.path);if(pt.length>0){for(var bt=[Be],yt=Jn(pt);yt.length>0&&!Va(lt,yt);)bt.unshift({op:"add",path:Wt(yt),value:{}}),yt=Jn(yt);return bt}}return Be})}(Q,p(ee)),Se),onSelect:Fe,onFind:Zn,onPasteJson:Kt,onRenderValue:G()})}),je(()=>(p(ee),E(C()),E(w()),E(j())),()=>{An(p(ee),C(),w(),j())}),je(()=>(p(Sr),p(Re)),()=>{O(o,U_e(p(Sr),p(Re)))}),xr();var tn={validate:cr,patch:Pn,focus:St,acceptAutoRepair:Tr,scrollTo:Yr,findElement:eo,openTransformModal:Ot};gn(!0);var pr=s4e();Xe("mousedown",Ed,function(Q){!Oy(Q.target,Se=>Se===p(M))&&Di(p(Me))&&(i("click outside the editor, exit edit mode"),O(Me,hu(p(Me))),Qe&&p(he)&&(p(he).focus(),p(he).blur()),i("blur (outside editor)"),p(he)&&p(he).blur())});var zn,ur=Ct(pr),Xr=ae(ur),$r=Q=>{(function(Se,Ke){Ft(Ke,!1);var lt=$(Ke,"containsValidArray",9),Be=$(Ke,"readOnly",9),pt=$(Ke,"showSearch",13,!1),bt=$(Ke,"history",9),yt=$(Ke,"onSort",9),$n=$(Ke,"onTransform",9),er=$(Ke,"onContextMenu",9),Un=$(Ke,"onUndo",9),to=$(Ke,"onRedo",9),$i=$(Ke,"onRenderMenu",9);function X(){pt(!pt())}var me=le(void 0,!0),ze=le(void 0,!0);je(()=>(E(Be()),E(yt()),E(lt()),E($n()),E(er()),E(Un()),E(bt()),E(to())),()=>{O(me,Be()?[{type:"space"}]:[{type:"button",icon:t2,title:"Sort",className:"jse-sort",onClick:yt(),disabled:Be()||!lt()},{type:"button",icon:ZS,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:$n(),disabled:Be()||!lt()},{type:"button",icon:Fj,title:"Search (Ctrl+F)",className:"jse-search",onClick:X,disabled:!lt()},{type:"button",icon:fW,title:RI,className:"jse-contextmenu",onClick:er()},{type:"separator"},{type:"button",icon:U4,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:Un(),disabled:!bt().canUndo},{type:"button",icon:q4,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:to(),disabled:!bt().canRedo},{type:"space"}])}),je(()=>(E($i()),p(me)),()=>{O(ze,$i()(p(me))||p(me))}),xr(),gn(!0),kA(Se,{get items(){return p(ze)}}),qt()})(Q,{get containsValidArray(){return p(Ne)},get readOnly(){return f()},get history(){return g()},onSort:Lr,onTransform:Dn,onUndo:pn,onRedo:qn,onContextMenu:fo,get onRenderMenu(){return ce()},get showSearch(){return p(Y)},set showSearch(Se){O(Y,Se)},$$legacy:!0})};$e(Xr,Q=>{y()&&Q($r)});var sn=ye(Xr,2),gi=Q=>{var Se=o4e(),Ke=Ct(Se),lt=ae(Ke);lt.readOnly=!0,uo(lt,yt=>O(he,yt),()=>p(he));var Be=ye(Ke,2),pt=yt=>{var $n=n4e(),er=Ct($n);aQ(ae(er),{get json(){return p(ee)},get documentState(){return p(Ce)},get parser(){return w()},get showSearch(){return p(Y)},get showReplace(){return p(q)},get readOnly(){return f()},get columns(){return p(Re)},onSearch:Ae,onFocus:Ee,onPatch:Bn,onClose:Pe});var Un=ye(er,2),to=ae(Un),$i=ae(to),X=ae($i),me=ae(X),ze=ae(me),ft=Nt=>{var jn=jt(()=>(E(mg),p(o),fe(()=>{var Xo;return mg([],(Xo=p(o))===null||Xo===void 0?void 0:Xo.root)}))),mo=En(),ro=Ct(mo),ai=Xo=>{var ss=J3e();mv(ae(ss),{get validationError(){return p(jn)},get onExpand(){return kl}}),oe(Xo,ss)};$e(ro,Xo=>{p(jn)&&Xo(ai)}),oe(Nt,mo)};$e(ze,Nt=>{E(sr),p(o),fe(()=>{var jn;return!sr((jn=p(o))===null||jn===void 0?void 0:jn.root)})&&Nt(ft)});var at=ye(me);Wo(at,1,()=>p(Re),ui,(Nt,jn)=>{var mo=G3e();(function(ro,ai){Ft(ai,!1);var Xo=le(void 0,!0),ss=le(void 0,!0),Yu=le(void 0,!0),qa=$(ai,"path",9),ec=$(ai,"sortedColumn",9),Gc=$(ai,"readOnly",9),tc=$(ai,"onSort",9);je(()=>(E(qa()),Da),()=>{O(Xo,sr(qa())?"values":Da(qa()))}),je(()=>(E(ec()),E(qa())),()=>{var vi;O(ss,ec()&&_n(qa(),(vi=ec())===null||vi===void 0?void 0:vi.path)?ec().sortDirection:void 0)}),je(()=>(p(ss),hV),()=>{O(Yu,p(ss)?hV[p(ss)]:void 0)}),xr(),gn(!0);var as,ls=L3e(),Ua=ae(ls),Xu=ae(Ua),Wa=ye(Ua,2),Ar=vi=>{var Qo=N3e(),tp=ae(Qo),tg=jt(()=>(p(ss),E(jl),E(qd),E(iL),fe(()=>p(ss)===jl.asc?qd:iL)));Yn(tp,{get data(){return p(tg)}}),rt(()=>wr(Qo,"title","Currently sorted in ".concat(p(Yu)," order"))),oe(vi,Qo)};$e(Wa,vi=>{p(ss)!==void 0&&vi(Ar)}),rt((vi,Qo)=>{as=mn(ls,1,"jse-column-header svelte-5pxwfq",null,as,vi),wr(ls,"title",Gc()?p(Xo):p(Xo)+" (Click to sort the data by this column)"),Ut(Xu,Qo)},[()=>({"jse-readonly":Gc()}),()=>(E(bd),p(Xo),E(50),fe(()=>bd(p(Xo),50)))]),Xe("click",ls,function(){Gc()||tc()({path:qa(),sortDirection:p(ss)===jl.asc?jl.desc:jl.asc})}),oe(ro,ls),qt()})(ae(mo),{get path(){return p(jn)},get sortedColumn(){return p(kt)},get readOnly(){return f()},onSort:dt}),oe(Nt,mo)});var it=ye(at),an=Nt=>{var jn=Y3e(),mo=ae(jn),ro=jt(()=>(p(ee),fe(()=>Array.isArray(p(ee))?p(ee).length:0)));(function(ai,Xo){Ft(Xo,!1);var ss=$(Xo,"count",9),Yu=$(Xo,"maxSampleCount",9),qa=$(Xo,"readOnly",9),ec=$(Xo,"onRefresh",9);gn(!0);var Gc,tc=K3e();Yn(ae(tc),{get data(){return g1e}}),rt(as=>{Gc=mn(tc,1,"jse-column-header svelte-1wgrwv3",null,Gc,as),wr(tc,"title","The Columns are created by sampling ".concat(Yu()," items out of ").concat(ss(),". ")+"If you're missing a column, click here to sample all of the items instead of a subset. This is slower.")},[()=>({"jse-readonly":qa()})]),Xe("click",tc,()=>ec()()),oe(ai,tc),qt()})(mo,{get count(){return p(ro)},get maxSampleCount(){return p(we)},get readOnly(){return f()},onRefresh:()=>O(we,1/0)}),oe(Nt,jn)};$e(it,Nt=>{p(n)&&Nt(an)});var ln,Rn,jr=ye(X),Wn=ae(jr),qr=ye(jr);Wo(qr,1,()=>(p(r),fe(()=>p(r).visibleItems)),ui,(Nt,jn,mo)=>{var ro=jt(()=>(p(r),fe(()=>p(r).startIndex+mo))),ai=jt(()=>(p(o),E(p(ro)),fe(()=>p(o).rows[p(ro)]))),Xo=jt(()=>(E(mg),E(p(ro)),E(p(ai)),fe(()=>{var as;return mg([String(p(ro))],(as=p(ai))===null||as===void 0?void 0:as.row)}))),ss=jt(()=>(E(cu),p(ee),p(re),E(p(ro)),fe(()=>cu(p(ee),p(re),[String(p(ro))])))),Yu=t4e(),qa=ae(Yu);rX(qa,()=>p(ro),as=>{var ls=X3e(),Ua=ae(ls),Xu=ye(Ua),Wa=Ar=>{mv(Ar,{get validationError(){return p(Xo)},get onExpand(){return kl}})};$e(Xu,Ar=>{p(Xo)&&Ar(Wa)}),Gs(ls,(Ar,vi)=>Zx==null?void 0:Zx(Ar,vi),()=>Ar=>function(vi,Qo){V[Qo]=vi.getBoundingClientRect().height}(Ar,p(ro))),rt(()=>{var Ar;return Ut(Ua,"".concat((Ar=p(ro))!==null&&Ar!==void 0?Ar:""," "))}),oe(as,ls)});var ec=ye(qa);Wo(ec,1,()=>p(Re),ui,(as,ls,Ua,Xu)=>{var Wa,Ar=jt(()=>(E(p(ro)),p(ls),fe(()=>[String(p(ro))].concat(p(ls))))),vi=jt(()=>(E(xt),p(jn),p(ls),fe(()=>xt(p(jn),p(ls))))),Qo=jt(()=>(E(hr),p(Me),E(Mu),E(p(Ar)),fe(()=>hr(p(Me))&&Mu(p(Me).path,p(Ar))))),tp=jt(()=>(E(p(ai)),fe(()=>{var yi;return(yi=p(ai))===null||yi===void 0?void 0:yi.columns[Ua]}))),tg=jt(()=>(E(mg),E(p(Ar)),E(p(tp)),fe(()=>mg(p(Ar),p(tp))))),np=Z3e(),Ry=ae(np),ng=ae(Ry),Ny=yi=>{var ja=jt(()=>(E(H2),E(cu),p(jn),E(p(ss)),p(ls),fe(()=>H2(cu(p(jn),p(ss),p(ls)))))),Ly=jt(()=>(E(p(ja)),fe(()=>!!p(ja)&&p(ja).some(op=>op.active)))),Dy=jt(()=>(E(sr),E(p(ja)),fe(()=>!sr(p(ja)))));(function(op,Ss){Ft(Ss,!1);var Vy=$(Ss,"path",9),ON=$(Ss,"value",9),$N=$(Ss,"parser",9),moe=$(Ss,"isSelected",9),goe=$(Ss,"containsSearchResult",9),voe=$(Ss,"containsActiveSearchResult",9),yoe=$(Ss,"onEdit",9);gn(!0);var EN,Hw=R3e(),boe=ae(Hw);rt((By,woe)=>{EN=mn(Hw,1,"jse-inline-value svelte-1jv89ui",null,EN,By),Ut(boe,woe)},[()=>({"jse-selected":moe(),"jse-highlight":goe(),"jse-active":voe()}),()=>(E(bd),E($N()),E(ON()),E(50),fe(()=>{var By;return bd((By=$N().stringify(ON()))!==null&&By!==void 0?By:"",50)}))]),Xe("dblclick",Hw,()=>yoe()(Vy())),oe(op,Hw),qt()})(yi,{get path(){return p(Ar)},get value(){return p(vi)},get parser(){return w()},get isSelected(){return p(Qo)},get containsSearchResult(){return p(Dy)},get containsActiveSearchResult(){return p(Ly)},onEdit:$t})},cM=yi=>{var ja=jt(()=>(E(cu),p(ee),p(re),E(p(Ar)),fe(()=>{var Ss;return(Ss=cu(p(ee),p(re),p(Ar)))===null||Ss===void 0?void 0:Ss.searchResults}))),Ly=jt(()=>p(vi)!==void 0?p(vi):""),Dy=jt(()=>(E(bu),p(ee),p(Ce),E(p(Ar)),fe(()=>bu(p(ee),p(Ce),p(Ar))))),op=jt(()=>p(Qo)?p(Me):void 0);rQ(yi,{get path(){return p(Ar)},get value(){return p(Ly)},get enforceString(){return p(Dy)},get selection(){return p(op)},get searchResultItems(){return p(ja)},get context(){return p(mt)}})};$e(ng,yi=>{E($o),E(p(vi)),fe(()=>$o(p(vi)))?yi(Ny):yi(cM,!1)});var uM=ye(ng),dM=yi=>{var ja=Q3e();Of(ae(ja),{selected:!0,onContextMenu:So}),oe(yi,ja)};$e(uM,yi=>{E(f()),E(p(Qo)),E(Di),p(Me),fe(()=>!f()&&p(Qo)&&!Di(p(Me)))&&yi(dM)});var Yc=ye(Ry,2),rp=yi=>{mv(yi,{get validationError(){return p(tg)},get onExpand(){return kl}})};$e(Yc,yi=>{p(tg)&&yi(rp)}),rt((yi,ja)=>{wr(np,"data-path",yi),Wa=mn(Ry,1,"jse-value-outer svelte-1p86y3c",null,Wa,ja)},[()=>(E(nS),E(p(Ar)),fe(()=>nS(p(Ar)))),()=>({"jse-selected-value":p(Qo)})]),oe(as,np)});var Gc=ye(ec),tc=as=>{oe(as,e4e())};$e(Gc,as=>{p(n)&&as(tc)}),oe(Nt,Yu)});var dn,jo=ae(ye(qr));uo(Un,Nt=>O(N,Nt),()=>p(N)),Gs(Un,(Nt,jn)=>Zx==null?void 0:Zx(Nt,jn),()=>Ti),ps(()=>Xe("scroll",Un,In));var Ir=ye(Un,2),no=Nt=>{var jn=jt(()=>(p(D),fe(()=>"You pasted a JSON ".concat(Array.isArray(p(D).contents)?"array":"object"," as text")))),mo=jt(()=>[{icon:Ch,text:"Paste as JSON instead",title:"Paste the text as JSON instead of a single value",onMouseDown:ho},{text:"Leave as is",title:"Keep the pasted content as a single value",onClick:Mi}]);al(Nt,{type:"info",get message(){return p(jn)},get actions(){return p(mo)}})};$e(Ir,Nt=>{p(D)&&Nt(no)});var mr=ye(Ir,2),nn=Nt=>{var jn=jt(()=>[{icon:Ch,text:"Paste as string instead",title:"Paste the clipboard data as a single string value instead of an array",onClick:Nr},{text:"Leave as is",title:"Keep the pasted array",onClick:Ln}]);al(Nt,{type:"info",message:"Multiline text was pasted as array",get actions(){return p(jn)}})};$e(mr,Nt=>{p(L)&&Nt(nn)});var tr=ye(mr,2),rn=Nt=>{var jn=jt(()=>f()?[]:[{icon:W4,text:"Ok",title:"Accept the repaired document",onClick:Tr},{icon:e2,text:"Repair manually instead",title:"Leave the document unchanged and repair it manually instead",onClick:ii}]);al(Nt,{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",get actions(){return p(jn)},onClose:St})};$e(tr,Nt=>{p(ht)&&Nt(rn)}),JI(ye(tr,2),{get validationErrors(){return p(Sr)},selectError:st}),rt((Nt,jn,mo)=>{ln=mn(jr,1,"jse-table-invisible-start-section svelte-1p86y3c",null,ln,Nt),wr(Wn,"colspan",(p(Re),fe(()=>p(Re).length))),Rn=Ll(Wn,"",Rn,jn),wr(jo,"colspan",(p(Re),fe(()=>p(Re).length))),dn=Ll(jo,"",dn,mo)},[()=>({"jse-search-box-background":p(Y)}),()=>({height:(p(r),fe(()=>p(r).startHeight+"px"))}),()=>({height:(p(r),fe(()=>p(r).endHeight+"px"))})]),oe(yt,$n)},bt=yt=>{var $n=En(),er=Ct($n),Un=$i=>{var X=r4e(),me=Ct(X),ze=jt(()=>f()?[]:[{icon:e2,text:"Repair manually",title:'Open the document in "code" mode and repair it manually',onClick:ii}]);al(me,{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",get actions(){return p(ze)}}),mQ(ye(me,2),{get text(){return p(be)},get json(){return p(ee)},get indentation(){return A()},get parser(){return w()}}),oe($i,X)},to=$i=>{W3e($i,{get text(){return p(be)},get json(){return p(ee)},get readOnly(){return f()},get parser(){return w()},openJSONEditorModal:$t,extractPath:wn,get onChangeMode(){return R()},onClick:()=>{St()}})};$e(er,$i=>{p(ne)&&p(be)!==void 0&&p(be)!==""?$i(Un):$i(to,!1)},!0),oe(yt,$n)};$e(Be,yt=>{p(Ne)?yt(pt):yt(bt,!1)}),Xe("paste",lt,et),oe(Q,Se)},Yo=Q=>{oe(Q,i4e())};$e(sn,Q=>{d?Q(Yo,!1):Q(gi)}),uo(ur,Q=>O(M,Q),()=>p(M));var Oi=ye(ur,2),Cr=Q=>{tQ(Q,{onClose:()=>O(I,!1)})};$e(Oi,Q=>{p(I)&&Q(Cr)});var Er=ye(Oi,2),si=Q=>{nQ(Q,ph(()=>p(ge),{onClose:()=>{var Se;(Se=p(ge))===null||Se===void 0||Se.onClose(),O(ge,void 0)}}))};return $e(Er,Q=>{p(ge)&&Q(si)}),rt(Q=>zn=mn(ur,1,"jse-table-mode svelte-1p86y3c",null,zn,Q),[()=>({"no-main-menu":!y()})]),Xe("mousedown",ur,function(Q){if(Q.buttons===1||Q.buttons===2){var Se=Q.target;Se.isContentEditable||St();var Ke=SX(Se);if(Ke){if(Di(p(Me))&&hb(p(ee),p(Me),Ke))return;O(Me,Vn(Ke)),Q.preventDefault()}}}),Xe("keydown",ur,function(Q){var Se=Gd(Q);if(i("keydown",{combo:Se,key:Q.key}),Se==="Ctrl+X"&&(Q.preventDefault(),is(!0)),Se==="Ctrl+Shift+X"&&(Q.preventDefault(),is(!1)),Se==="Ctrl+C"&&(Q.preventDefault(),Qi(!0)),Se==="Ctrl+Shift+C"&&(Q.preventDefault(),Qi(!1)),Se==="Ctrl+D"&&(Q.preventDefault(),Pr()),Se!=="Delete"&&Se!=="Backspace"||(Q.preventDefault(),Fn()),Se==="Insert"&&Q.preventDefault(),Se==="Ctrl+A"&&Q.preventDefault(),Se==="Ctrl+Q"&&Ko(Q),Se==="ArrowLeft"&&(Q.preventDefault(),kn(),p(Me))){var Ke=function($n,er){var{rowIndex:Un,columnIndex:to}=xl(Et(er),$n);return to>0?Vn(mp({rowIndex:Un,columnIndex:to-1},$n)):er}(p(Re),p(Me));O(Me,Ke),Ro(Et(Ke))}if(Se==="ArrowRight"&&(Q.preventDefault(),kn(),p(Me))){var lt=function($n,er){var{rowIndex:Un,columnIndex:to}=xl(Et(er),$n);return to<$n.length-1?Vn(mp({rowIndex:Un,columnIndex:to+1},$n)):er}(p(Re),p(Me));O(Me,lt),Ro(Et(lt))}if(Se==="ArrowUp"&&(Q.preventDefault(),kn(),p(Me))){var Be=function($n,er){var{rowIndex:Un,columnIndex:to}=xl(Et(er),$n);return Un>0?Vn(mp({rowIndex:Un-1,columnIndex:to},$n)):er}(p(Re),p(Me));O(Me,Be),Ro(Et(Be))}if(Se==="ArrowDown"&&(Q.preventDefault(),kn(),p(Me))){var pt=function($n,er,Un){var{rowIndex:to,columnIndex:$i}=xl(Et(Un),er);return to<$n.length-1?Vn(mp({rowIndex:to+1,columnIndex:$i},er)):Un}(p(ee),p(Re),p(Me));O(Me,pt),Ro(Et(pt))}if(Se==="Enter"&&p(Me)&&hr(p(Me))){Q.preventDefault();var bt=p(Me).path;$o(xt(p(ee),bt))?$t(bt):f()||O(Me,nt(nt({},p(Me)),{},{edit:!0}))}if(Se.replace(/^Shift\+/,"").length===1&&p(Me))return Q.preventDefault(),void function($n){Ve.apply(this,arguments)}(Q.key);if(Se==="Ctrl+Enter"&&hr(p(Me))){Q.preventDefault();var yt=xt(p(ee),p(Me).path);mA(yt)&&window.open(String(yt),"_blank")}Se==="Escape"&&p(Me)&&(Q.preventDefault(),O(Me,void 0)),Se==="Ctrl+F"&&(Q.preventDefault(),Zn(!1)),Se==="Ctrl+H"&&(Q.preventDefault(),Zn(!0)),Se==="Ctrl+Z"&&(Q.preventDefault(),pn()),Se==="Ctrl+Shift+Z"&&(Q.preventDefault(),qn())}),Xe("contextmenu",ur,Ko),oe(t,pr),on(e,"validate",cr),on(e,"patch",Pn),on(e,"focus",St),on(e,"acceptAutoRepair",Tr),on(e,"scrollTo",Yr),on(e,"findElement",eo),on(e,"openTransformModal",Ot),qt(tn)}function XV(t,e){Ft(e,!1);var n=$(e,"content",8),r=$(e,"selection",12),o=$(e,"readOnly",8),i=$(e,"indentation",8),s=$(e,"tabSize",8),a=$(e,"truncateTextSize",8),l=$(e,"externalMode",8),c=$(e,"mainMenuBar",8),u=$(e,"navigationBar",8),d=$(e,"statusBar",8),f=$(e,"askToFormat",8),h=$(e,"escapeControlCharacters",8),m=$(e,"escapeUnicodeCharacters",8),g=$(e,"flattenColumns",8),v=$(e,"parser",8),y=$(e,"parseMemoizeOne",8),b=$(e,"validator",8),x=$(e,"validationParser",8),k=$(e,"pathParser",8),w=$(e,"insideModal",8),S=$(e,"onChange",8),C=$(e,"onChangeMode",8),j=$(e,"onSelect",8),A=$(e,"onRenderValue",8),_=$(e,"onClassName",8),R=$(e,"onRenderMenu",8),T=$(e,"onRenderContextMenu",8),z=$(e,"onError",8),U=$(e,"onFocus",8),G=$(e,"onBlur",8),ce=$(e,"onSortModal",8),ie=$(e,"onTransformModal",8),Z=$(e,"onJSONEditorModal",8),W=le(),B=le(),H=le(),K=Ui("jsoneditor:JSONEditorRoot"),P=le(yQ({onChange:V=>O(P,V)}).get()),M=le(l());function N(V){if(bV(V)){O(M,V.undo.mode);var J=p(P).items(),se=J.findIndex(Fe=>Fe===V),xe=se!==-1?J[se-1]:void 0;K("handleUndo",{index:se,item:V,items:J,prevItem:xe}),xe&&r(xe.redo.selection),C()(p(M))}}function he(V){if(bV(V)){O(M,V.redo.mode);var J=p(P).items(),se=J.findIndex(Fe=>Fe===V),xe=se!==-1?J[se+1]:void 0;K("handleRedo",{index:se,item:V,items:J,nextItem:xe}),xe&&r(xe.undo.selection),C()(p(M))}}var ge=le(),te={type:"separator"},ee=le(),be=le();function ne(V){if(p(W))return p(W).patch(V);if(p(B))return p(B).patch(V);if(p(H))return p(H).patch(V);throw new Error('Method patch is not available in mode "'.concat(p(M),'"'))}function D(V,J){if(p(W))return p(W).expand(V,J);if(p(H))return p(H).expand(V,J);throw new Error('Method expand is not available in mode "'.concat(p(M),'"'))}function L(V,J){if(p(W))return p(W).collapse(V,J);if(p(H))return p(H).collapse(V,J);throw new Error('Method collapse is not available in mode "'.concat(p(M),'"'))}function re(V){if(p(H))p(H).openTransformModal(V);else if(p(W))p(W).openTransformModal(V);else{if(!p(B))throw new Error('Method transform is not available in mode "'.concat(p(M),'"'));p(B).openTransformModal(V)}}function Y(){if(p(H))return p(H).validate();if(p(W))return p(W).validate();if(p(B))return p(B).validate();throw new Error('Method validate is not available in mode "'.concat(p(M),'"'))}function q(){return p(W)?p(W).acceptAutoRepair():n()}function Ae(V){if(p(W))return p(W).scrollTo(V);if(p(B))return p(B).scrollTo(V);throw new Error('Method scrollTo is not available in mode "'.concat(p(M),'"'))}function Ee(V){if(p(W))return p(W).findElement(V);if(p(B))return p(B).findElement(V);throw new Error('Method findElement is not available in mode "'.concat(p(M),'"'))}function pe(){p(H)?p(H).focus():p(W)?p(W).focus():p(B)&&p(B).focus()}function Pe(){return we.apply(this,arguments)}function we(){return(we=Xt(function*(){p(H)&&(yield p(H).refresh())})).apply(this,arguments)}je(()=>E(l()),()=>{(function(V){if(V!==p(M)){var J={type:"mode",undo:{mode:p(M),selection:void 0},redo:{mode:V,selection:void 0}};p(M)==="text"&&p(H)&&p(H).flush(),K("add history item",J),p(P).add(J),O(M,V)}})(l())}),je(()=>(p(M),E(C())),()=>{O(ge,[{type:"button",text:"text",title:"Switch to text mode (current mode: ".concat(p(M),")"),className:"jse-group-button jse-first"+(p(M)===li.text?" jse-selected":""),onClick:()=>C()(li.text)},{type:"button",text:"tree",title:"Switch to tree mode (current mode: ".concat(p(M),")"),className:"jse-group-button "+(p(M)===li.tree?" jse-selected":""),onClick:()=>C()(li.tree)},{type:"button",text:"table",title:"Switch to table mode (current mode: ".concat(p(M),")"),className:"jse-group-button jse-last"+(p(M)===li.table?" jse-selected":""),onClick:()=>C()(li.table)}])}),je(()=>(p(ge),E(R()),p(M),E(w()),E(o())),()=>{O(ee,V=>{var J=r_(V[0])?p(ge).concat(V):p(ge).concat(te,V),se=T$(J);return R()(J,{mode:p(M),modal:w(),readOnly:o()})||se})}),je(()=>(E(T()),p(M),E(w()),E(o()),E(r())),()=>{O(be,V=>{var J,se=T$(V);return(J=T()(V,{mode:p(M),modal:w(),readOnly:o(),selection:r()}))!==null&&J!==void 0?J:!o()&&se})}),xr();var Re={patch:ne,expand:D,collapse:L,transform:re,validate:Y,acceptAutoRepair:q,scrollTo:Ae,findElement:Ee,focus:pe,refresh:Pe};gn();var Ne=En(),_e=Ct(Ne),Qe=V=>{uo(I3e(V,{get externalContent(){return n()},get externalSelection(){return r()},get history(){return p(P)},get readOnly(){return o()},get indentation(){return i()},get tabSize(){return s()},get mainMenuBar(){return c()},get statusBar(){return d()},get askToFormat(){return f()},get escapeUnicodeCharacters(){return m()},get parser(){return v()},get validator(){return b()},get validationParser(){return x()},get onChange(){return S()},get onChangeMode(){return C()},get onSelect(){return j()},onUndo:N,onRedo:he,get onError(){return z()},get onFocus(){return U()},get onBlur(){return G()},get onRenderMenu(){return p(ee)},get onSortModal(){return ce()},get onTransformModal(){return ie()},$$legacy:!0}),J=>O(H,J),()=>p(H))},I=V=>{var J=En(),se=Ct(J),xe=Je=>{uo(a4e(Je,{get externalContent(){return n()},get externalSelection(){return r()},get history(){return p(P)},get readOnly(){return o()},get truncateTextSize(){return a()},get mainMenuBar(){return c()},get escapeControlCharacters(){return h()},get escapeUnicodeCharacters(){return m()},get flattenColumns(){return g()},get parser(){return v()},get parseMemoizeOne(){return y()},get validator(){return b()},get validationParser(){return x()},get indentation(){return i()},get onChange(){return S()},get onChangeMode(){return C()},get onSelect(){return j()},onUndo:N,onRedo:he,get onRenderValue(){return A()},get onFocus(){return U()},get onBlur(){return G()},get onRenderMenu(){return p(ee)},get onRenderContextMenu(){return p(be)},get onSortModal(){return ce()},get onTransformModal(){return ie()},get onJSONEditorModal(){return Z()},$$legacy:!0}),Ce=>O(B,Ce),()=>p(B))},Fe=Je=>{uo(w_(Je,{get externalContent(){return n()},get externalSelection(){return r()},get history(){return p(P)},get readOnly(){return o()},get indentation(){return i()},get truncateTextSize(){return a()},get mainMenuBar(){return c()},get navigationBar(){return u()},get escapeControlCharacters(){return h()},get escapeUnicodeCharacters(){return m()},get parser(){return v()},get parseMemoizeOne(){return y()},get validator(){return b()},get validationParser(){return x()},get pathParser(){return k()},get onError(){return z()},get onChange(){return S()},get onChangeMode(){return C()},get onSelect(){return j()},onUndo:N,onRedo:he,get onRenderValue(){return A()},get onClassName(){return _()},get onFocus(){return U()},get onBlur(){return G()},get onRenderMenu(){return p(ee)},get onRenderContextMenu(){return p(be)},get onSortModal(){return ce()},get onTransformModal(){return ie()},get onJSONEditorModal(){return Z()},$$legacy:!0}),Ce=>O(W,Ce),()=>p(W))};$e(se,Je=>{p(M),E(li),fe(()=>p(M)===li.table)?Je(xe):Je(Fe,!1)},!0),oe(V,J)};return $e(_e,V=>{p(M),E(li),fe(()=>p(M)===li.text||String(p(M))==="code")?V(Qe):V(I,!1)}),oe(t,Ne),on(e,"patch",ne),on(e,"expand",D),on(e,"collapse",L),on(e,"transform",re),on(e,"validate",Y),on(e,"acceptAutoRepair",q),on(e,"scrollTo",Ae),on(e,"findElement",Ee),on(e,"focus",pe),on(e,"refresh",Pe),qt(Re)}cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-modal-wrapper.svelte-t4zsk3 {
  flex: 1;
  display: flex;
  min-width: 0;
  min-height: 0;
  flex-direction: column;
}
.jse-modal-wrapper.svelte-t4zsk3 .jse-modal-contents:where(.svelte-t4zsk3) {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 20px;
  overflow: auto;
  min-width: 0;
  min-height: 0;
}
.jse-modal-wrapper.svelte-t4zsk3 .jse-modal-contents:where(.svelte-t4zsk3) .jse-actions:where(.svelte-t4zsk3) {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  padding-top: var(--jse-padding, 10px);
}
.jse-modal-wrapper.svelte-t4zsk3 .jse-modal-contents:where(.svelte-t4zsk3) .jse-actions:where(.svelte-t4zsk3) button.jse-primary:where(.svelte-t4zsk3) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  background: var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));
  color: var(--jse-button-primary-color, #fff);
  padding: var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));
  border-radius: 3px;
}
.jse-modal-wrapper.svelte-t4zsk3 .jse-modal-contents:where(.svelte-t4zsk3) .jse-actions:where(.svelte-t4zsk3) button.jse-primary:where(.svelte-t4zsk3):hover {
  background: var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff));
}
.jse-modal-wrapper.svelte-t4zsk3 .jse-modal-contents:where(.svelte-t4zsk3) .jse-actions:where(.svelte-t4zsk3) button.jse-primary:where(.svelte-t4zsk3):disabled {
  background: var(--jse-button-primary-background-disabled, #9d9d9d);
}
.jse-modal-wrapper.svelte-t4zsk3 .jse-modal-contents:where(.svelte-t4zsk3) .jse-label:where(.svelte-t4zsk3) {
  font-weight: bold;
  display: block;
  box-sizing: border-box;
}
.jse-modal-wrapper.svelte-t4zsk3 .jse-modal-contents:where(.svelte-t4zsk3) .jse-label:where(.svelte-t4zsk3) .jse-label-inner:where(.svelte-t4zsk3) {
  margin-top: calc(2 * var(--jse-padding, 10px));
  margin-bottom: calc(0.5 * var(--jse-padding, 10px));
  box-sizing: border-box;
}
.jse-modal-wrapper.svelte-t4zsk3 .jse-modal-contents:where(.svelte-t4zsk3) .jse-modal-inline-editor:where(.svelte-t4zsk3) {
  flex: 1;
  min-height: 150px;
  min-width: 0;
  max-width: 100%;
  display: flex;
  --jse-theme-color: var(--jse-modal-editor-theme-color, #707070);
  --jse-theme-color-highlight: var(--jse-modal-editor-theme-color-highlight, #646464);
}
.jse-modal-wrapper.svelte-t4zsk3 .jse-actions:where(.svelte-t4zsk3) {
  gap: var(--jse-padding, 10px);
  align-items: center;
}
.jse-modal-wrapper.svelte-t4zsk3 .jse-actions:where(.svelte-t4zsk3) .jse-error:where(.svelte-t4zsk3) {
  flex: 1;
  color: var(--jse-error-color, #ee5341);
}
.jse-modal-wrapper.svelte-t4zsk3 .jse-actions:where(.svelte-t4zsk3) button.jse-secondary:where(.svelte-t4zsk3) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  background: var(--jse-button-secondary-background, #d3d3d3);
  color: var(--jse-button-secondary-color, var(--jse-text-color, #4d4d4d));
  padding: var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));
  border-radius: 3px;
}
.jse-modal-wrapper.svelte-t4zsk3 .jse-actions:where(.svelte-t4zsk3) button.jse-secondary:where(.svelte-t4zsk3):hover {
  background: var(--jse-button-secondary-background-highlight, #e1e1e1);
}
.jse-modal-wrapper.svelte-t4zsk3 .jse-actions:where(.svelte-t4zsk3) button.jse-secondary:where(.svelte-t4zsk3):disabled {
  background: var(--jse-button-secondary-background-disabled, #9d9d9d);
}
.jse-modal-wrapper.svelte-t4zsk3 input:where(.svelte-t4zsk3) {
  border: var(--jse-input-border, 1px solid #d8dbdf);
  outline: none;
  box-sizing: border-box;
  padding: calc(0.5 * var(--jse-padding, 10px));
  font-family: var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);
  font-size: var(--jse-font-size-mono, 14px);
  color: inherit;
  background: var(--jse-input-background, var(--jse-background-color, #fff));
}
.jse-modal-wrapper.svelte-t4zsk3 input:where(.svelte-t4zsk3):focus {
  border: var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)));
}
.jse-modal-wrapper.svelte-t4zsk3 input:where(.svelte-t4zsk3):read-only {
  background: var(--jse-input-background-readonly, transparent);
}`);var l4e=Te('<div class="jse-error svelte-t4zsk3"> </div>'),c4e=Te('<button type="button" class="jse-secondary svelte-t4zsk3"><!> Back</button>'),u4e=Te('<button type="button" class="jse-primary svelte-t4zsk3">Apply</button>'),d4e=Te('<button type="button" class="jse-primary svelte-t4zsk3">Close</button>'),f4e=Te('<!> <div class="jse-modal-contents svelte-t4zsk3"><div class="jse-label svelte-t4zsk3"><div class="jse-label-inner svelte-t4zsk3">Path</div></div> <input class="jse-path svelte-t4zsk3" type="text" readonly="" title="Selected path"/> <div class="jse-label svelte-t4zsk3"><div class="jse-label-inner svelte-t4zsk3">Contents</div></div> <div class="jse-modal-inline-editor svelte-t4zsk3"><!></div> <div class="jse-actions svelte-t4zsk3"><!> <!> <!></div></div>',1),h4e=Te('<div class="jse-modal-wrapper svelte-t4zsk3"><!></div>'),p4e={};cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-modal-contents.svelte-lwzlls {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 20px;
  overflow: auto;
  min-width: 0;
  min-height: 0;
}
.jse-modal-contents.svelte-lwzlls .jse-actions:where(.svelte-lwzlls) {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  padding-top: var(--jse-padding, 10px);
}
.jse-modal-contents.svelte-lwzlls .jse-actions:where(.svelte-lwzlls) button.jse-primary:where(.svelte-lwzlls) {
  border: none;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  padding: 5px;
  margin: 0;
  background: var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));
  color: var(--jse-button-primary-color, #fff);
  padding: var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));
  border-radius: 3px;
}
.jse-modal-contents.svelte-lwzlls .jse-actions:where(.svelte-lwzlls) button.jse-primary:where(.svelte-lwzlls):hover {
  background: var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff));
}
.jse-modal-contents.svelte-lwzlls .jse-actions:where(.svelte-lwzlls) button.jse-primary:where(.svelte-lwzlls):disabled {
  background: var(--jse-button-primary-background-disabled, #9d9d9d);
}
.jse-modal-contents.svelte-lwzlls table:where(.svelte-lwzlls) {
  width: 100%;
  border-collapse: collapse;
  border-spacing: 0;
}
.jse-modal-contents.svelte-lwzlls table:where(.svelte-lwzlls) th:where(.svelte-lwzlls),
.jse-modal-contents.svelte-lwzlls table:where(.svelte-lwzlls) td:where(.svelte-lwzlls) {
  text-align: left;
  vertical-align: middle;
  font-weight: normal;
  padding-bottom: var(--jse-padding, 10px);
}
.jse-modal-contents.svelte-lwzlls input.jse-path:where(.svelte-lwzlls) {
  width: 100%;
  box-sizing: border-box;
  padding: 5px 10px;
  border: var(--jse-input-border, 1px solid #d8dbdf);
  border-radius: var(--jse-input-radius, 3px);
  font-family: inherit;
  font-size: inherit;
  background: inherit;
  background: var(--jse-input-background-readonly, transparent);
  color: inherit;
  outline: none;
}
.jse-modal-contents.svelte-lwzlls .svelte-select input {
  box-sizing: border-box;
}
.jse-modal-contents.svelte-lwzlls .jse-space:where(.svelte-lwzlls) {
  height: 200px;
}
.jse-modal-contents.svelte-lwzlls .jse-space:where(.svelte-lwzlls) .jse-error:where(.svelte-lwzlls) {
  color: var(--jse-error-color, #ee5341);
}`);var vg=pA(()=>p4e),m4e=Te('<tr><th class="svelte-lwzlls">Property</th><td class="svelte-lwzlls"><!></td></tr>'),g4e=Te('<div class="jse-error svelte-lwzlls"> </div>'),v4e=Te('<!> <div class="jse-modal-contents svelte-lwzlls"><table class="svelte-lwzlls"><colgroup><col width="25%"/><col width="75%"/></colgroup><tbody><tr><th class="svelte-lwzlls">Path</th><td class="svelte-lwzlls"><input class="jse-path svelte-lwzlls" type="text" readonly="" title="Selected path"/></td></tr><!><tr><th class="svelte-lwzlls">Direction</th><td class="svelte-lwzlls"><!></td></tr></tbody></table> <div class="jse-space svelte-lwzlls"><!></div> <div class="jse-actions svelte-lwzlls"><button type="button" class="jse-primary svelte-lwzlls">Sort</button></div></div>',1);cn(`/* over all fonts, sizes, and colors */
/* "consolas" for Windows, "menlo" for Mac with fallback to "monaco", 'Ubuntu Mono' for Ubuntu */
/* (at Mac this font looks too large at 14px, but 13px is too small for the font on Windows) */
/* main, menu, modal */
/* jsoneditor modal */
/* tooltip in text mode */
/* panels: navigation bar, gutter, search box */
/* navigation-bar */
/* context menu */
/* contents: json key and values */
/* contents: selected or hovered */
/* contents: section of collapsed items in an array */
/* contents: highlighting of search matches */
/* contents: inline tags inside the JSON document */
/* contents: table */
/* controls in modals: inputs, buttons, and \`a\` */
/* messages */
/* svelte-select */
/* color picker */
.jse-main.svelte-1l55585 {
  width: 100%;
  height: 100%;
  min-width: 0;
  min-height: 150px;
  font-family: var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);
  font-size: var(--jse-font-size, 16px);
  line-height: normal;
  position: relative;
  display: flex;
  flex-direction: row;
}
.jse-main.svelte-1l55585:not(.jse-focus) {
  --jse-selection-background-color: var(--jse-selection-background-inactive-color, #e8e8e8);
  --jse-context-menu-pointer-background: var(--jse-context-menu-pointer-hover-background, #b2b2b2);
}`);var y4e=Te('<div role="none"><!></div> <!> <!> <!>',1);function b4e(t,e){Ft(e,!1);var n=le(void 0,!0),r=Ui("jsoneditor:JSONEditor"),o={text:""},i=void 0,s=!1,a=li.tree,l=!0,c=!0,u=!0,d=!0,f=!1,h=!1,m=!0,g=JSON,v=void 0,y=JSON,b={parse:m$e,stringify:Da},x=[IOe],k=x[0].id,w=kl,S=void 0,C=void 0,j=p$e,A=kl,_=kl,R=kl,T=kl,z=Ue=>{console.error(Ue),alert(Ue.toString())},U=kl,G=kl,ce=$(e,"content",13,o),ie=$(e,"selection",13,i),Z=$(e,"readOnly",13,s),W=$(e,"indentation",13,2),B=$(e,"tabSize",13,4),H=$(e,"truncateTextSize",13,1e3),K=$(e,"mode",13,a),P=$(e,"mainMenuBar",13,l),M=$(e,"navigationBar",13,c),N=$(e,"statusBar",13,u),he=$(e,"askToFormat",13,d),ge=$(e,"escapeControlCharacters",13,f),te=$(e,"escapeUnicodeCharacters",13,h),ee=$(e,"flattenColumns",13,m),be=$(e,"parser",13,g),ne=$(e,"validator",13,v),D=$(e,"validationParser",13,y),L=$(e,"pathParser",13,b),re=$(e,"queryLanguages",13,x),Y=$(e,"queryLanguageId",13,k),q=$(e,"onChangeQueryLanguage",13,w),Ae=$(e,"onChange",13,S),Ee=$(e,"onSelect",13,C),pe=$(e,"onRenderValue",13,j),Pe=$(e,"onClassName",13,A),we=$(e,"onRenderMenu",13,_),Re=$(e,"onRenderContextMenu",13,R),Ne=$(e,"onChangeMode",13,T),_e=$(e,"onError",13,z),Qe=$(e,"onFocus",13,U),I=$(e,"onBlur",13,G),V=le(Hg(),!0),J=le(!1,!0),se=le(void 0,!0),xe=le(void 0,!0),Fe=le(void 0,!0),Je=le(void 0,!0),Ce=le(be(),!0);function Me(){return ce()}function kt(Ue){r("set");var Cn=_T(Ue);if(Cn)throw new Error(Cn);O(V,Hg()),ce(Ue),Qr()}function ht(Ue){r("update");var Cn=_T(Ue);if(Cn)throw new Error(Cn);ce(Ue),Qr()}function dt(Ue){var Cn=p(se).patch(Ue);return Qr(),Cn}function mt(Ue){ie(Ue),Qr()}function Sn(Ue,Cn){p(se).expand(Ue,Cn),Qr()}function Sr(Ue){var Cn=arguments.length>1&&arguments[1]!==void 0&&arguments[1];p(se).collapse(Ue,Cn),Qr()}function Mr(){var Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};p(se).transform(Ue),Qr()}function An(){return p(se).validate()}function cr(){var Ue=p(se).acceptAutoRepair();return Qr(),Ue}function Pn(Ue){return Bn.apply(this,arguments)}function Bn(){return(Bn=Xt(function*(Ue){yield p(se).scrollTo(Ue)})).apply(this,arguments)}function or(Ue){return p(se).findElement(Ue)}function Kt(){p(se).focus(),Qr()}function Qn(){return un.apply(this,arguments)}function un(){return(un=Xt(function*(){yield p(se).refresh()})).apply(this,arguments)}function St(Ue){var Cn,yr,Nr,No,Mi,Ln,ii,is,po,Qi,Or,Fn,wn,Pr,Go,Co,ve,Ve,et,de,ke,qe,st,Ot,$t,Ht,Lr,Dn,Zn,pn,qn,Ti=Object.keys(Ue);for(var tn of Ti)switch(tn){case"content":ce((Cn=Ue[tn])!==null&&Cn!==void 0?Cn:o);break;case"selection":ie((yr=Ue[tn])!==null&&yr!==void 0?yr:i);break;case"readOnly":Z((Nr=Ue[tn])!==null&&Nr!==void 0?Nr:s);break;case"indentation":W((No=Ue[tn])!==null&&No!==void 0?No:2);break;case"tabSize":B((Mi=Ue[tn])!==null&&Mi!==void 0?Mi:4);break;case"truncateTextSize":H((Ln=Ue[tn])!==null&&Ln!==void 0?Ln:1e3);break;case"mode":K((ii=Ue[tn])!==null&&ii!==void 0?ii:a);break;case"mainMenuBar":P((is=Ue[tn])!==null&&is!==void 0?is:l);break;case"navigationBar":M((po=Ue[tn])!==null&&po!==void 0?po:c);break;case"statusBar":N((Qi=Ue[tn])!==null&&Qi!==void 0?Qi:u);break;case"askToFormat":he((Or=Ue[tn])!==null&&Or!==void 0?Or:d);break;case"escapeControlCharacters":ge((Fn=Ue[tn])!==null&&Fn!==void 0?Fn:f);break;case"escapeUnicodeCharacters":te((wn=Ue[tn])!==null&&wn!==void 0?wn:h);break;case"flattenColumns":ee((Pr=Ue[tn])!==null&&Pr!==void 0?Pr:m);break;case"parser":be((Go=Ue[tn])!==null&&Go!==void 0?Go:g);break;case"validator":ne((Co=Ue[tn])!==null&&Co!==void 0?Co:v);break;case"validationParser":D((ve=Ue[tn])!==null&&ve!==void 0?ve:y);break;case"pathParser":L((Ve=Ue[tn])!==null&&Ve!==void 0?Ve:b);break;case"queryLanguages":re((et=Ue[tn])!==null&&et!==void 0?et:x);break;case"queryLanguageId":Y((de=Ue[tn])!==null&&de!==void 0?de:k);break;case"onChangeQueryLanguage":q((ke=Ue[tn])!==null&&ke!==void 0?ke:w);break;case"onChange":Ae((qe=Ue[tn])!==null&&qe!==void 0?qe:S);break;case"onRenderValue":pe((st=Ue[tn])!==null&&st!==void 0?st:j);break;case"onClassName":Pe((Ot=Ue[tn])!==null&&Ot!==void 0?Ot:A);break;case"onRenderMenu":we(($t=Ue[tn])!==null&&$t!==void 0?$t:_);break;case"onRenderContextMenu":Re((Ht=Ue[tn])!==null&&Ht!==void 0?Ht:R);break;case"onChangeMode":Ne((Lr=Ue[tn])!==null&&Lr!==void 0?Lr:T);break;case"onSelect":Ee((Dn=Ue[tn])!==null&&Dn!==void 0?Dn:C);break;case"onError":_e((Zn=Ue[tn])!==null&&Zn!==void 0?Zn:z);break;case"onFocus":Qe((pn=Ue[tn])!==null&&pn!==void 0?pn:U);break;case"onBlur":I((qn=Ue[tn])!==null&&qn!==void 0?qn:G);break;default:pr(tn)}function pr(zn){r('Unknown property "'.concat(zn,'"'))}re().some(zn=>zn.id===Y())||Y(re()[0].id),Qr()}function In(){return kn.apply(this,arguments)}function kn(){return(kn=Xt(function*(){throw new Error("class method destroy() is deprecated. It is replaced with a method destroy() in the vanilla library.")})).apply(this,arguments)}function Tr(Ue,Cn,yr){ce(Ue),Ae()&&Ae()(Ue,Cn,yr)}function Yr(Ue){ie(Ue),Ee()&&Ee()(T$(Ue))}function Fr(){O(J,!0),Qe()&&Qe()()}function Ro(){O(J,!1),I()&&I()()}function eo(Ue){return So.apply(this,arguments)}function So(){return(So=Xt(function*(Ue){K()!==Ue&&(K(Ue),Qr(),Kt(),Ne()(Ue))})).apply(this,arguments)}function Ko(Ue){r("handleChangeQueryLanguage",Ue),Y(Ue),q()(Ue)}function fo(Ue){var{id:Cn,json:yr,rootPath:Nr,onTransform:No,onClose:Mi}=Ue;Z()||O(Je,{id:Cn,json:yr,rootPath:Nr,indentation:W(),truncateTextSize:H(),escapeControlCharacters:ge(),escapeUnicodeCharacters:te(),parser:be(),parseMemoizeOne:p(n),validationParser:D(),pathParser:L(),queryLanguages:re(),queryLanguageId:Y(),onChangeQueryLanguage:Ko,onRenderValue:pe(),onRenderMenu:Ln=>we()(Ln,{mode:K(),modal:!0,readOnly:Z()}),onRenderContextMenu:Ln=>Re()(Ln,{mode:K(),modal:!0,readOnly:Z(),selection:ie()}),onClassName:Pe(),onTransform:No,onClose:Mi})}function mi(Ue){Z()||O(Fe,Ue)}function Jo(Ue){var{content:Cn,path:yr,onPatch:Nr,onClose:No}=Ue;r("onJSONEditorModal",{content:Cn,path:yr}),O(xe,{content:Cn,path:yr,onPatch:Nr,readOnly:Z(),indentation:W(),tabSize:B(),truncateTextSize:H(),mainMenuBar:P(),navigationBar:M(),statusBar:N(),askToFormat:he(),escapeControlCharacters:ge(),escapeUnicodeCharacters:te(),flattenColumns:ee(),parser:be(),validator:void 0,validationParser:D(),pathParser:L(),onRenderValue:pe(),onClassName:Pe(),onRenderMenu:we(),onRenderContextMenu:Re(),onSortModal:mi,onTransformModal:fo,onClose:No})}function oi(Ue){Ue.stopPropagation()}je(()=>(E(be()),p(Ce),E(ce()),Hg),()=>{if(!mX(be(),p(Ce))){if(r("parser changed, recreate editor"),lb(ce())){var Ue=p(Ce).stringify(ce().json);ce({json:Ue!==void 0?be().parse(Ue):void 0})}O(Ce,be()),O(V,Hg())}}),je(()=>E(ce()),()=>{var Ue=_T(ce());Ue&&console.error("Error: "+Ue)}),je(()=>E(ie()),()=>{ie()===null&&console.warn("selection is invalid: it is null but should be undefined")}),je(()=>E(be()),()=>{O(n,z0(be().parse))}),je(()=>E(K()),()=>{r("mode changed to",K())}),xr();var ho={get:Me,set:kt,update:ht,patch:dt,select:mt,expand:Sn,collapse:Sr,transform:Mr,validate:An,acceptAutoRepair:cr,scrollTo:Pn,findElement:or,focus:Kt,refresh:Qn,updateProps:St,destroy:In};return gn(!0),t_(t,{children:(Ue,Cn)=>{var yr,Nr=y4e(),No=Ct(Nr);rX(ae(No),()=>p(V),Or=>{uo(XV(Or,{get externalMode(){return K()},get content(){return ce()},get selection(){return ie()},get readOnly(){return Z()},get indentation(){return W()},get tabSize(){return B()},get truncateTextSize(){return H()},get statusBar(){return N()},get askToFormat(){return he()},get mainMenuBar(){return P()},get navigationBar(){return M()},get escapeControlCharacters(){return ge()},get escapeUnicodeCharacters(){return te()},get flattenColumns(){return ee()},get parser(){return be()},get parseMemoizeOne(){return p(n)},get validator(){return ne()},get validationParser(){return D()},get pathParser(){return L()},insideModal:!1,get onError(){return _e()},onChange:Tr,onChangeMode:eo,onSelect:Yr,get onRenderValue(){return pe()},get onClassName(){return Pe()},onFocus:Fr,onBlur:Ro,get onRenderMenu(){return we()},get onRenderContextMenu(){return Re()},onSortModal:mi,onTransformModal:fo,onJSONEditorModal:Jo,$$legacy:!0}),Fn=>O(se,Fn),()=>p(se))});var Mi=ye(No,2),Ln=Or=>{(function(Fn,wn){var Pr,Go;Ft(wn,!1);var Co=le(void 0,!0),ve=le(void 0,!0),Ve=le(void 0,!0),et=le(void 0,!0),de=Ui("jsoneditor:SortModal"),ke=$(wn,"id",9),qe=$(wn,"json",9),st=$(wn,"rootPath",9),Ot=$(wn,"onSort",9),$t=$(wn,"onClose",9),Ht={value:1,label:"ascending"},Lr=[Ht,{value:-1,label:"descending"}],Dn="".concat(ke(),":").concat(Wt(st())),Zn=le((Pr=vg()[Dn])===null||Pr===void 0?void 0:Pr.selectedProperty,!0),pn=le(((Go=vg()[Dn])===null||Go===void 0?void 0:Go.selectedDirection)||Ht,!0),qn=le(void 0,!0);function Ti(){try{var pr,zn,ur;O(qn,void 0);var Xr=((pr=p(Zn))===null||pr===void 0?void 0:pr.value)||((zn=p(et))===null||zn===void 0||(zn=zn[0])===null||zn===void 0?void 0:zn.value)||[],$r=(ur=p(pn))===null||ur===void 0?void 0:ur.value,sn=sQ(qe(),st(),Xr,$r);Ot()!==void 0&&st()!==void 0&&Ot()({operations:sn,rootPath:st(),itemPath:Xr,direction:$r}),$t()()}catch(gi){O(qn,String(gi))}}function tn(pr){pr.focus()}je(()=>(E(qe()),E(st())),()=>{O(Co,xt(qe(),st()))}),je(()=>p(Co),()=>{O(ve,Array.isArray(p(Co)))}),je(()=>(p(ve),p(Co)),()=>{O(Ve,p(ve)?ZE(p(Co)):void 0)}),je(()=>(p(Ve),Vf),()=>{O(et,p(Ve)?p(Ve).map(Vf):void 0)}),je(()=>(vg(),p(Zn),p(pn)),()=>{vg(vg()[Dn]={selectedProperty:p(Zn),selectedDirection:p(pn)}),de("store state in memory",Dn,vg()[Dn])}),xr(),gn(!0),gb(Fn,{get onClose(){return $t()},className:"jse-sort-modal",children:(pr,zn)=>{var ur=v4e(),Xr=Ct(ur),$r=jt(()=>p(ve)?"Sort array items":"Sort object keys");J2(Xr,{get title(){return p($r)},get onClose(){return $t()}});var sn=ae(ye(Xr,2)),gi=ye(ae(sn)),Yo=ae(gi),Oi=ye(ae(Yo)),Cr=ae(Oi),Er=ye(Yo),si=bt=>{var yt=m4e(),$n=ye(ae(yt));Ep(ae($n),{showChevron:!0,get items(){return p(et)},get value(){return p(Zn)},set value(er){O(Zn,er)},$$legacy:!0}),oe(bt,yt)};$e(Er,bt=>{p(ve),p(et),fe(()=>{var yt;return p(ve)&&p(et)&&((yt=p(et))===null||yt===void 0?void 0:yt.length)>1})&&bt(si)});var Q=ye(Er),Se=ye(ae(Q));Ep(ae(Se),{showChevron:!0,clearable:!1,get items(){return Lr},get value(){return p(pn)},set value(bt){O(pn,bt)},$$legacy:!0});var Ke=ye(sn,2),lt=ae(Ke),Be=bt=>{var yt=g4e(),$n=ae(yt);rt(()=>Ut($n,p(qn))),oe(bt,yt)};$e(lt,bt=>{p(qn)&&bt(Be)});var pt=ae(ye(Ke,2));ps(()=>Xe("click",pt,Ti)),Gs(pt,bt=>tn==null?void 0:tn(bt)),rt(bt=>{km(Cr,bt),pt.disabled=(p(ve),p(et),p(Zn),fe(()=>{var yt;return!!(p(ve)&&p(et)&&((yt=p(et))===null||yt===void 0?void 0:yt.length)>1)&&!p(Zn)}))},[()=>(E(st()),E(sr),E(Da),fe(()=>st()&&!sr(st())?Da(st()):"(document root)"))]),oe(pr,ur)},$$slots:{default:!0}}),qt()})(Or,ph(()=>p(Fe),{onClose:()=>{var Fn;(Fn=p(Fe))===null||Fn===void 0||Fn.onClose(),O(Fe,void 0)}}))};$e(Mi,Or=>{p(Fe)&&Or(Ln)});var ii=ye(Mi,2),is=Or=>{y3e(Or,ph(()=>p(Je),{onClose:()=>{var Fn;(Fn=p(Je))===null||Fn===void 0||Fn.onClose(),O(Je,void 0)}}))};$e(ii,Or=>{p(Je)&&Or(is)});var po=ye(ii,2),Qi=Or=>{(function(Fn,wn){Ft(wn,!1);var Pr=le(void 0,!0),Go=le(void 0,!0),Co=le(void 0,!0),ve=le(void 0,!0),Ve=Ui("jsoneditor:JSONEditorModal"),et=$(wn,"content",9),de=$(wn,"path",9),ke=$(wn,"onPatch",9),qe=$(wn,"readOnly",9),st=$(wn,"indentation",9),Ot=$(wn,"tabSize",9),$t=$(wn,"truncateTextSize",9),Ht=$(wn,"mainMenuBar",9),Lr=$(wn,"navigationBar",9),Dn=$(wn,"statusBar",9),Zn=$(wn,"askToFormat",9),pn=$(wn,"escapeControlCharacters",9),qn=$(wn,"escapeUnicodeCharacters",9),Ti=$(wn,"flattenColumns",9),tn=$(wn,"parser",9),pr=$(wn,"validator",9),zn=$(wn,"validationParser",9),ur=$(wn,"pathParser",9),Xr=$(wn,"onRenderValue",9),$r=$(wn,"onClassName",9),sn=$(wn,"onRenderMenu",9),gi=$(wn,"onRenderContextMenu",9),Yo=$(wn,"onSortModal",9),Oi=$(wn,"onTransformModal",9),Cr=$(wn,"onClose",9),Er=le(void 0,!0),si=le(void 0,!0),Q={mode:lt(et()),content:et(),selection:void 0,relativePath:de()},Se=le([Q],!0),Ke=le(void 0,!0);function lt(me){return lb(me)&&Uo(me.json)?li.table:li.tree}function Be(){var me,ze=(me=Nn(p(Se)))===null||me===void 0?void 0:me.selection;fb(ze)&&p(Er).scrollTo(Et(ze))}function pt(){if(Ve("handleApply"),!qe())try{O(Ke,void 0);var me=p(Pr).relativePath,ze=p(Pr).content,ft=[{op:"replace",path:Wt(me),value:lV(ze,tn()).json}];if(p(Se).length>1){var at=lV(p(Se)[p(Se).length-2].content,tn()).json,it={json:vc(at,ft)},an=nt(nt({},p(Se)[p(Se).length-2]||Q),{},{content:it});O(Se,[...p(Se).slice(0,p(Se).length-2),an]),Qr(),Be()}else ke()(ft),Cr()()}catch(ln){O(Ke,String(ln))}}function bt(){if(Ve("handleClose"),p(si))O(si,!1);else if(p(Se).length>1){var me;O(Se,Jn(p(Se))),Qr(),(me=p(Er))===null||me===void 0||me.focus(),Be(),O(Ke,void 0)}else Cr()()}function yt(me){Ve("handleChange",me),Un(ze=>nt(nt({},ze),{},{content:me}))}function $n(me){Ve("handleChangeSelection",me),Un(ze=>nt(nt({},ze),{},{selection:me}))}function er(me){Ve("handleChangeMode",me),Un(ze=>nt(nt({},ze),{},{mode:me}))}function Un(me){var ze=me(Nn(p(Se)));O(Se,[...Jn(p(Se)),ze])}function to(me){O(Ke,me.toString()),console.error(me)}function $i(me){var ze,{content:ft,path:at}=me;Ve("handleJSONEditorModal",{content:ft,path:at});var it={mode:lt(ft),content:ft,selection:void 0,relativePath:at};O(Se,[...p(Se),it]),Qr(),(ze=p(Er))===null||ze===void 0||ze.focus()}function X(me){me.focus()}Ls(()=>{var me;(me=p(Er))===null||me===void 0||me.focus()}),je(()=>p(Se),()=>{O(Pr,Nn(p(Se))||Q)}),je(()=>p(Se),()=>{O(Go,p(Se).flatMap(me=>me.relativePath))}),je(()=>(p(Go),Da),()=>{O(Co,sr(p(Go))?"(document root)":Da(p(Go)))}),je(()=>E(tn()),()=>{O(ve,z0(tn().parse))}),xr(),gn(!0),gb(Fn,{onClose:bt,className:"jse-jsoneditor-modal",get fullscreen(){return p(si)},children:(me,ze)=>{var ft=h4e();t_(ae(ft),{children:(at,it)=>{var an=f4e(),ln=Ct(an),Rn=jt(()=>(p(Se),fe(()=>p(Se).length>1?" (".concat(p(Se).length,")"):"")));J2(ln,{get title(){var rn;return"Edit nested content ".concat((rn=p(Rn))!==null&&rn!==void 0?rn:"")},fullScreenButton:!0,onClose:bt,get fullscreen(){return p(si)},set fullscreen(rn){O(si,rn)},$$legacy:!0});var jr=ye(ln,2),Wn=ye(ae(jr),2),qr=ye(Wn,4);uo(XV(ae(qr),{get externalMode(){return p(Pr),fe(()=>p(Pr).mode)},get content(){return p(Pr),fe(()=>p(Pr).content)},get selection(){return p(Pr),fe(()=>p(Pr).selection)},get readOnly(){return qe()},get indentation(){return st()},get tabSize(){return Ot()},get truncateTextSize(){return $t()},get statusBar(){return Dn()},get askToFormat(){return Zn()},get mainMenuBar(){return Ht()},get navigationBar(){return Lr()},get escapeControlCharacters(){return pn()},get escapeUnicodeCharacters(){return qn()},get flattenColumns(){return Ti()},get parser(){return tn()},get parseMemoizeOne(){return p(ve)},get validator(){return pr()},get validationParser(){return zn()},get pathParser(){return ur()},insideModal:!0,onError:to,onChange:yt,onChangeMode:er,onSelect:$n,get onRenderValue(){return Xr()},get onClassName(){return $r()},get onFocus(){return kl},get onBlur(){return kl},get onRenderMenu(){return sn()},get onRenderContextMenu(){return gi()},get onSortModal(){return Yo()},get onTransformModal(){return Oi()},onJSONEditorModal:$i,$$legacy:!0}),rn=>O(Er,rn),()=>p(Er));var dn=ae(ye(qr,2)),jo=rn=>{var Nt=l4e(),jn=ae(Nt);rt(()=>Ut(jn,p(Ke))),oe(rn,Nt)};$e(dn,rn=>{p(Ke)&&rn(jo)});var Ir=ye(dn,2),no=rn=>{var Nt=c4e();Yn(ae(Nt),{get data(){return Yye}}),Xe("click",Nt,bt),oe(rn,Nt)};$e(Ir,rn=>{p(Se),fe(()=>p(Se).length>1)&&rn(no)});var mr=ye(Ir,2),nn=rn=>{var Nt=u4e();ps(()=>Xe("click",Nt,pt)),Gs(Nt,jn=>X==null?void 0:X(jn)),oe(rn,Nt)},tr=rn=>{var Nt=d4e();Xe("click",Nt,bt),oe(rn,Nt)};$e(mr,rn=>{qe()?rn(tr,!1):rn(nn)}),rt(()=>km(Wn,p(Co))),oe(at,an)},$$slots:{default:!0}}),oe(me,ft)},$$slots:{default:!0}}),qt()})(Or,ph(()=>p(xe),{onClose:()=>{var Fn;(Fn=p(xe))===null||Fn===void 0||Fn.onClose(),O(xe,void 0)}}))};$e(po,Or=>{p(xe)&&Or(Qi)}),rt(Or=>yr=mn(No,1,"jse-main svelte-1l55585",null,yr,Or),[()=>({"jse-focus":p(J)})]),Xe("keydown",No,oi),oe(Ue,Nr)},$$slots:{default:!0}}),on(e,"get",Me),on(e,"set",kt),on(e,"update",ht),on(e,"patch",dt),on(e,"select",mt),on(e,"expand",Sn),on(e,"collapse",Sr),on(e,"transform",Mr),on(e,"validate",An),on(e,"acceptAutoRepair",cr),on(e,"scrollTo",Pn),on(e,"findElement",or),on(e,"focus",Kt),on(e,"refresh",Qn),on(e,"updateProps",St),on(e,"destroy",In),qt(ho)}function w4e(t){var{target:e,props:n}=t,r=QTe(b4e,{target:e,props:n});return r.destroy=Xt(function*(){return function(o,i){var s=YE.get(o);return s?(YE.delete(o),s(i)):Promise.resolve()}(r)}),Qr(),r}const x4e=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,k4e=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,S4e=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function C4e(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){j4e(t);return}return e}function j4e(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function sS(t,e={}){if(typeof t!="string")return t;const n=t.trim();if(t[0]==='"'&&t.endsWith('"')&&!t.includes("\\"))return n.slice(1,-1);if(n.length<=9){const r=n.toLowerCase();if(r==="true")return!0;if(r==="false")return!1;if(r==="undefined")return;if(r==="null")return null;if(r==="nan")return Number.NaN;if(r==="infinity")return Number.POSITIVE_INFINITY;if(r==="-infinity")return Number.NEGATIVE_INFINITY}if(!S4e.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(x4e.test(t)||k4e.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,C4e)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function A4e(t,e={}){return sS(t,{...e,strict:!0})}var M4e=typeof global=="object"&&global&&global.Object===Object&&global,T4e=typeof self=="object"&&self&&self.Object===Object&&self,wQ=M4e||T4e||Function("return this")(),X2=wQ.Symbol,xQ=Object.prototype,O4e=xQ.hasOwnProperty,$4e=xQ.toString,s1=X2?X2.toStringTag:void 0;function E4e(t){var e=O4e.call(t,s1),n=t[s1];try{t[s1]=void 0;var r=!0}catch{}var o=$4e.call(t);return r&&(e?t[s1]=n:delete t[s1]),o}var _4e=Object.prototype,P4e=_4e.toString;function I4e(t){return P4e.call(t)}var R4e="[object Null]",N4e="[object Undefined]",QV=X2?X2.toStringTag:void 0;function L4e(t){return t==null?t===void 0?N4e:R4e:QV&&QV in Object(t)?E4e(t):I4e(t)}function D4e(t){return t!=null&&typeof t=="object"}var V4e="[object Symbol]";function B4e(t){return typeof t=="symbol"||D4e(t)&&L4e(t)==V4e}var z4e=/\s/;function H4e(t){for(var e=t.length;e--&&z4e.test(t.charAt(e)););return e}var F4e=/^\s+/;function q4e(t){return t&&t.slice(0,H4e(t)+1).replace(F4e,"")}function k_(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ZV=NaN,U4e=/^[-+]0x[0-9a-f]+$/i,W4e=/^0b[01]+$/i,K4e=/^0o[0-7]+$/i,J4e=parseInt;function e9(t){if(typeof t=="number")return t;if(B4e(t))return ZV;if(k_(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=k_(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=q4e(t);var n=W4e.test(t);return n||K4e.test(t)?J4e(t.slice(2),n?2:8):U4e.test(t)?ZV:+t}var GT=function(){return wQ.Date.now()},G4e="Expected a function",Y4e=Math.max,X4e=Math.min;function Q4e(t,e,n){var r,o,i,s,a,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(G4e);e=e9(e)||0,k_(n)&&(u=!!n.leading,d="maxWait"in n,i=d?Y4e(e9(n.maxWait)||0,e):i,f="trailing"in n?!!n.trailing:f);function h(S){var C=r,j=o;return r=o=void 0,c=S,s=t.apply(j,C),s}function m(S){return c=S,a=setTimeout(y,e),u?h(S):s}function g(S){var C=S-l,j=S-c,A=e-C;return d?X4e(A,i-j):A}function v(S){var C=S-l,j=S-c;return l===void 0||C>=e||C<0||d&&j>=i}function y(){var S=GT();if(v(S))return b(S);a=setTimeout(y,g(S))}function b(S){return a=void 0,f&&r?h(S):(r=o=void 0,s)}function x(){a!==void 0&&clearTimeout(a),c=0,r=l=o=a=void 0}function k(){return a===void 0?s:b(GT())}function w(){var S=GT(),C=v(S);if(r=arguments,o=this,l=S,C){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(y,e),h(l)}return a===void 0&&(a=setTimeout(y,e)),s}return w.cancel=x,w.flush=k,w}var kQ=typeof global=="object"&&global&&global.Object===Object&&global,Z4e=typeof self=="object"&&self&&self.Object===Object&&self,Wu=kQ||Z4e||Function("return this")(),Ru=Wu.Symbol,SQ=Object.prototype,ePe=SQ.hasOwnProperty,tPe=SQ.toString,a1=Ru?Ru.toStringTag:void 0;function nPe(t){var e=ePe.call(t,a1),n=t[a1];try{t[a1]=void 0;var r=!0}catch{}var o=tPe.call(t);return r&&(e?t[a1]=n:delete t[a1]),o}var rPe=Object.prototype,oPe=rPe.toString;function iPe(t){return oPe.call(t)}var sPe="[object Null]",aPe="[object Undefined]",t9=Ru?Ru.toStringTag:void 0;function Um(t){return t==null?t===void 0?aPe:sPe:t9&&t9 in Object(t)?nPe(t):iPe(t)}function Nu(t){return t!=null&&typeof t=="object"}var lPe="[object Symbol]";function XI(t){return typeof t=="symbol"||Nu(t)&&Um(t)==lPe}function cPe(t,e){for(var n=-1,r=t==null?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}var Wl=Array.isArray,n9=Ru?Ru.prototype:void 0,r9=n9?n9.toString:void 0;function CQ(t){if(typeof t=="string")return t;if(Wl(t))return cPe(t,CQ)+"";if(XI(t))return r9?r9.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Ku(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function QI(t){return t}var uPe="[object AsyncFunction]",dPe="[object Function]",fPe="[object GeneratorFunction]",hPe="[object Proxy]";function ZI(t){if(!Ku(t))return!1;var e=Um(t);return e==dPe||e==fPe||e==uPe||e==hPe}var YT=Wu["__core-js_shared__"],o9=function(){var t=/[^.]+$/.exec(YT&&YT.keys&&YT.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function pPe(t){return!!o9&&o9 in t}var mPe=Function.prototype,gPe=mPe.toString;function Wm(t){if(t!=null){try{return gPe.call(t)}catch{}try{return t+""}catch{}}return""}var vPe=/[\\^$.*+?()[\]{}|]/g,yPe=/^\[object .+?Constructor\]$/,bPe=Function.prototype,wPe=Object.prototype,xPe=bPe.toString,kPe=wPe.hasOwnProperty,SPe=RegExp("^"+xPe.call(kPe).replace(vPe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function CPe(t){if(!Ku(t)||pPe(t))return!1;var e=ZI(t)?SPe:yPe;return e.test(Wm(t))}function jPe(t,e){return t==null?void 0:t[e]}function Km(t,e){var n=jPe(t,e);return CPe(n)?n:void 0}var S_=Km(Wu,"WeakMap"),i9=Object.create,APe=function(){function t(){}return function(e){if(!Ku(e))return{};if(i9)return i9(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function MPe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function TPe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var OPe=800,$Pe=16,EPe=Date.now;function _Pe(t){var e=0,n=0;return function(){var r=EPe(),o=$Pe-(r-n);if(n=r,o>0){if(++e>=OPe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function PPe(t){return function(){return t}}var Q2=function(){try{var t=Km(Object,"defineProperty");return t({},"",{}),t}catch{}}(),IPe=Q2?function(t,e){return Q2(t,"toString",{configurable:!0,enumerable:!1,value:PPe(e),writable:!0})}:QI,RPe=_Pe(IPe);function NPe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var LPe=9007199254740991,DPe=/^(?:0|[1-9]\d*)$/;function eR(t,e){var n=typeof t;return e=e??LPe,!!e&&(n=="number"||n!="symbol"&&DPe.test(t))&&t>-1&&t%1==0&&t<e}function SA(t,e,n){e=="__proto__"&&Q2?Q2(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Iw(t,e){return t===e||t!==t&&e!==e}var VPe=Object.prototype,BPe=VPe.hasOwnProperty;function jQ(t,e,n){var r=t[e];(!(BPe.call(t,e)&&Iw(r,n))||n===void 0&&!(e in t))&&SA(t,e,n)}function AQ(t,e,n,r){var o=!n;n||(n={});for(var i=-1,s=e.length;++i<s;){var a=e[i],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),o?SA(n,a,l):jQ(n,a,l)}return n}var s9=Math.max;function zPe(t,e,n){return e=s9(e===void 0?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=s9(r.length-e,0),s=Array(i);++o<i;)s[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=n(s),MPe(t,this,a)}}function HPe(t,e){return RPe(zPe(t,e,QI),t+"")}var FPe=9007199254740991;function tR(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=FPe}function CA(t){return t!=null&&tR(t.length)&&!ZI(t)}function qPe(t,e,n){if(!Ku(n))return!1;var r=typeof e;return(r=="number"?CA(n)&&eR(e,n.length):r=="string"&&e in n)?Iw(n[e],t):!1}function MQ(t){return HPe(function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(o--,i):void 0,s&&qPe(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var a=n[r];a&&t(e,a,r,i)}return e})}var UPe=Object.prototype;function nR(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||UPe;return t===n}function WPe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var KPe="[object Arguments]";function a9(t){return Nu(t)&&Um(t)==KPe}var TQ=Object.prototype,JPe=TQ.hasOwnProperty,GPe=TQ.propertyIsEnumerable,Z2=a9(function(){return arguments}())?a9:function(t){return Nu(t)&&JPe.call(t,"callee")&&!GPe.call(t,"callee")};function YPe(){return!1}var OQ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,l9=OQ&&typeof module=="object"&&module&&!module.nodeType&&module,XPe=l9&&l9.exports===OQ,c9=XPe?Wu.Buffer:void 0,QPe=c9?c9.isBuffer:void 0,yb=QPe||YPe,ZPe="[object Arguments]",eIe="[object Array]",tIe="[object Boolean]",nIe="[object Date]",rIe="[object Error]",oIe="[object Function]",iIe="[object Map]",sIe="[object Number]",aIe="[object Object]",lIe="[object RegExp]",cIe="[object Set]",uIe="[object String]",dIe="[object WeakMap]",fIe="[object ArrayBuffer]",hIe="[object DataView]",pIe="[object Float32Array]",mIe="[object Float64Array]",gIe="[object Int8Array]",vIe="[object Int16Array]",yIe="[object Int32Array]",bIe="[object Uint8Array]",wIe="[object Uint8ClampedArray]",xIe="[object Uint16Array]",kIe="[object Uint32Array]",Do={};Do[pIe]=Do[mIe]=Do[gIe]=Do[vIe]=Do[yIe]=Do[bIe]=Do[wIe]=Do[xIe]=Do[kIe]=!0;Do[ZPe]=Do[eIe]=Do[fIe]=Do[tIe]=Do[hIe]=Do[nIe]=Do[rIe]=Do[oIe]=Do[iIe]=Do[sIe]=Do[aIe]=Do[lIe]=Do[cIe]=Do[uIe]=Do[dIe]=!1;function SIe(t){return Nu(t)&&tR(t.length)&&!!Do[Um(t)]}function rR(t){return function(e){return t(e)}}var $Q=typeof exports=="object"&&exports&&!exports.nodeType&&exports,o0=$Q&&typeof module=="object"&&module&&!module.nodeType&&module,CIe=o0&&o0.exports===$Q,XT=CIe&&kQ.process,Qv=function(){try{var t=o0&&o0.require&&o0.require("util").types;return t||XT&&XT.binding&&XT.binding("util")}catch{}}(),u9=Qv&&Qv.isTypedArray,oR=u9?rR(u9):SIe,jIe=Object.prototype,AIe=jIe.hasOwnProperty;function EQ(t,e){var n=Wl(t),r=!n&&Z2(t),o=!n&&!r&&yb(t),i=!n&&!r&&!o&&oR(t),s=n||r||o||i,a=s?WPe(t.length,String):[],l=a.length;for(var c in t)(e||AIe.call(t,c))&&!(s&&(c=="length"||o&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||eR(c,l)))&&a.push(c);return a}function _Q(t,e){return function(n){return t(e(n))}}var MIe=_Q(Object.keys,Object),TIe=Object.prototype,OIe=TIe.hasOwnProperty;function $Ie(t){if(!nR(t))return MIe(t);var e=[];for(var n in Object(t))OIe.call(t,n)&&n!="constructor"&&e.push(n);return e}function iR(t){return CA(t)?EQ(t):$Ie(t)}function EIe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var _Ie=Object.prototype,PIe=_Ie.hasOwnProperty;function IIe(t){if(!Ku(t))return EIe(t);var e=nR(t),n=[];for(var r in t)r=="constructor"&&(e||!PIe.call(t,r))||n.push(r);return n}function sR(t){return CA(t)?EQ(t,!0):IIe(t)}var RIe=MQ(function(t,e,n,r){AQ(e,sR(e),t,r)}),NIe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,LIe=/^\w*$/;function aR(t,e){if(Wl(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||XI(t)?!0:LIe.test(t)||!NIe.test(t)||e!=null&&t in Object(e)}var bb=Km(Object,"create");function DIe(){this.__data__=bb?bb(null):{},this.size=0}function VIe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var BIe="__lodash_hash_undefined__",zIe=Object.prototype,HIe=zIe.hasOwnProperty;function FIe(t){var e=this.__data__;if(bb){var n=e[t];return n===BIe?void 0:n}return HIe.call(e,t)?e[t]:void 0}var qIe=Object.prototype,UIe=qIe.hasOwnProperty;function WIe(t){var e=this.__data__;return bb?e[t]!==void 0:UIe.call(e,t)}var KIe="__lodash_hash_undefined__";function JIe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=bb&&e===void 0?KIe:e,this}function Mm(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Mm.prototype.clear=DIe;Mm.prototype.delete=VIe;Mm.prototype.get=FIe;Mm.prototype.has=WIe;Mm.prototype.set=JIe;function GIe(){this.__data__=[],this.size=0}function jA(t,e){for(var n=t.length;n--;)if(Iw(t[n][0],e))return n;return-1}var YIe=Array.prototype,XIe=YIe.splice;function QIe(t){var e=this.__data__,n=jA(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():XIe.call(e,n,1),--this.size,!0}function ZIe(t){var e=this.__data__,n=jA(e,t);return n<0?void 0:e[n][1]}function eRe(t){return jA(this.__data__,t)>-1}function tRe(t,e){var n=this.__data__,r=jA(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function ff(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ff.prototype.clear=GIe;ff.prototype.delete=QIe;ff.prototype.get=ZIe;ff.prototype.has=eRe;ff.prototype.set=tRe;var wb=Km(Wu,"Map");function nRe(){this.size=0,this.__data__={hash:new Mm,map:new(wb||ff),string:new Mm}}function rRe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function AA(t,e){var n=t.__data__;return rRe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function oRe(t){var e=AA(this,t).delete(t);return this.size-=e?1:0,e}function iRe(t){return AA(this,t).get(t)}function sRe(t){return AA(this,t).has(t)}function aRe(t,e){var n=AA(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function hf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}hf.prototype.clear=nRe;hf.prototype.delete=oRe;hf.prototype.get=iRe;hf.prototype.has=sRe;hf.prototype.set=aRe;var lRe="Expected a function";function lR(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(lRe);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=t.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(lR.Cache||hf),n}lR.Cache=hf;var cRe=500;function uRe(t){var e=lR(t,function(r){return n.size===cRe&&n.clear(),r}),n=e.cache;return e}var dRe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fRe=/\\(\\)?/g,hRe=uRe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(dRe,function(n,r,o,i){e.push(o?i.replace(fRe,"$1"):r||n)}),e});function pRe(t){return t==null?"":CQ(t)}function PQ(t,e){return Wl(t)?t:aR(t,e)?[t]:hRe(pRe(t))}function MA(t){if(typeof t=="string"||XI(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function IQ(t,e){e=PQ(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[MA(e[n++])];return n&&n==r?t:void 0}function mRe(t,e,n){var r=t==null?void 0:IQ(t,e);return r===void 0?n:r}function gRe(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}var RQ=_Q(Object.getPrototypeOf,Object),vRe="[object Object]",yRe=Function.prototype,bRe=Object.prototype,NQ=yRe.toString,wRe=bRe.hasOwnProperty,xRe=NQ.call(Object);function kRe(t){if(!Nu(t)||Um(t)!=vRe)return!1;var e=RQ(t);if(e===null)return!0;var n=wRe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&NQ.call(n)==xRe}function SRe(){this.__data__=new ff,this.size=0}function CRe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function jRe(t){return this.__data__.get(t)}function ARe(t){return this.__data__.has(t)}var MRe=200;function TRe(t,e){var n=this.__data__;if(n instanceof ff){var r=n.__data__;if(!wb||r.length<MRe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new hf(r)}return n.set(t,e),this.size=n.size,this}function jc(t){var e=this.__data__=new ff(t);this.size=e.size}jc.prototype.clear=SRe;jc.prototype.delete=CRe;jc.prototype.get=jRe;jc.prototype.has=ARe;jc.prototype.set=TRe;var LQ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,d9=LQ&&typeof module=="object"&&module&&!module.nodeType&&module,ORe=d9&&d9.exports===LQ,f9=ORe?Wu.Buffer:void 0,h9=f9?f9.allocUnsafe:void 0;function DQ(t,e){if(e)return t.slice();var n=t.length,r=h9?h9(n):new t.constructor(n);return t.copy(r),r}function $Re(t,e){for(var n=-1,r=t==null?0:t.length,o=0,i=[];++n<r;){var s=t[n];e(s,n,t)&&(i[o++]=s)}return i}function ERe(){return[]}var _Re=Object.prototype,PRe=_Re.propertyIsEnumerable,p9=Object.getOwnPropertySymbols,IRe=p9?function(t){return t==null?[]:(t=Object(t),$Re(p9(t),function(e){return PRe.call(t,e)}))}:ERe;function RRe(t,e,n){var r=e(t);return Wl(t)?r:gRe(r,n(t))}function C_(t){return RRe(t,iR,IRe)}var j_=Km(Wu,"DataView"),A_=Km(Wu,"Promise"),M_=Km(Wu,"Set"),m9="[object Map]",NRe="[object Object]",g9="[object Promise]",v9="[object Set]",y9="[object WeakMap]",b9="[object DataView]",LRe=Wm(j_),DRe=Wm(wb),VRe=Wm(A_),BRe=Wm(M_),zRe=Wm(S_),sc=Um;(j_&&sc(new j_(new ArrayBuffer(1)))!=b9||wb&&sc(new wb)!=m9||A_&&sc(A_.resolve())!=g9||M_&&sc(new M_)!=v9||S_&&sc(new S_)!=y9)&&(sc=function(t){var e=Um(t),n=e==NRe?t.constructor:void 0,r=n?Wm(n):"";if(r)switch(r){case LRe:return b9;case DRe:return m9;case VRe:return g9;case BRe:return v9;case zRe:return y9}return e});var HRe=Object.prototype,FRe=HRe.hasOwnProperty;function qRe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&FRe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var eC=Wu.Uint8Array;function cR(t){var e=new t.constructor(t.byteLength);return new eC(e).set(new eC(t)),e}function URe(t,e){var n=cR(t.buffer);return new t.constructor(n,t.byteOffset,t.byteLength)}var WRe=/\w*$/;function KRe(t){var e=new t.constructor(t.source,WRe.exec(t));return e.lastIndex=t.lastIndex,e}var w9=Ru?Ru.prototype:void 0,x9=w9?w9.valueOf:void 0;function JRe(t){return x9?Object(x9.call(t)):{}}function VQ(t,e){var n=e?cR(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var GRe="[object Boolean]",YRe="[object Date]",XRe="[object Map]",QRe="[object Number]",ZRe="[object RegExp]",eNe="[object Set]",tNe="[object String]",nNe="[object Symbol]",rNe="[object ArrayBuffer]",oNe="[object DataView]",iNe="[object Float32Array]",sNe="[object Float64Array]",aNe="[object Int8Array]",lNe="[object Int16Array]",cNe="[object Int32Array]",uNe="[object Uint8Array]",dNe="[object Uint8ClampedArray]",fNe="[object Uint16Array]",hNe="[object Uint32Array]";function pNe(t,e,n){var r=t.constructor;switch(e){case rNe:return cR(t);case GRe:case YRe:return new r(+t);case oNe:return URe(t);case iNe:case sNe:case aNe:case lNe:case cNe:case uNe:case dNe:case fNe:case hNe:return VQ(t,n);case XRe:return new r;case QRe:case tNe:return new r(t);case ZRe:return KRe(t);case eNe:return new r;case nNe:return JRe(t)}}function BQ(t){return typeof t.constructor=="function"&&!nR(t)?APe(RQ(t)):{}}var mNe="[object Map]";function gNe(t){return Nu(t)&&sc(t)==mNe}var k9=Qv&&Qv.isMap,vNe=k9?rR(k9):gNe,yNe="[object Set]";function bNe(t){return Nu(t)&&sc(t)==yNe}var S9=Qv&&Qv.isSet,wNe=S9?rR(S9):bNe,xNe=1,zQ="[object Arguments]",kNe="[object Array]",SNe="[object Boolean]",CNe="[object Date]",jNe="[object Error]",HQ="[object Function]",ANe="[object GeneratorFunction]",MNe="[object Map]",TNe="[object Number]",FQ="[object Object]",ONe="[object RegExp]",$Ne="[object Set]",ENe="[object String]",_Ne="[object Symbol]",PNe="[object WeakMap]",INe="[object ArrayBuffer]",RNe="[object DataView]",NNe="[object Float32Array]",LNe="[object Float64Array]",DNe="[object Int8Array]",VNe="[object Int16Array]",BNe="[object Int32Array]",zNe="[object Uint8Array]",HNe="[object Uint8ClampedArray]",FNe="[object Uint16Array]",qNe="[object Uint32Array]",Mo={};Mo[zQ]=Mo[kNe]=Mo[INe]=Mo[RNe]=Mo[SNe]=Mo[CNe]=Mo[NNe]=Mo[LNe]=Mo[DNe]=Mo[VNe]=Mo[BNe]=Mo[MNe]=Mo[TNe]=Mo[FQ]=Mo[ONe]=Mo[$Ne]=Mo[ENe]=Mo[_Ne]=Mo[zNe]=Mo[HNe]=Mo[FNe]=Mo[qNe]=!0;Mo[jNe]=Mo[HQ]=Mo[PNe]=!1;function aS(t,e,n,r,o,i){var s,a=e&xNe;if(s!==void 0)return s;if(!Ku(t))return t;var l=Wl(t);if(l)s=qRe(t);else{var c=sc(t),u=c==HQ||c==ANe;if(yb(t))return DQ(t,a);if(c==FQ||c==zQ||u&&!o)s=u?{}:BQ(t);else{if(!Mo[c])return o?t:{};s=pNe(t,c,a)}}i||(i=new jc);var d=i.get(t);if(d)return d;i.set(t,s),wNe(t)?t.forEach(function(m){s.add(aS(m,e,n,m,t,i))}):vNe(t)&&t.forEach(function(m,g){s.set(g,aS(m,e,n,g,t,i))});var f=C_,h=l?void 0:f(t);return NPe(h||t,function(m,g){h&&(g=m,m=t[g]),jQ(s,g,aS(m,e,n,g,t,i))}),s}var UNe=1,WNe=4;function KNe(t){return aS(t,UNe|WNe)}var JNe="__lodash_hash_undefined__";function GNe(t){return this.__data__.set(t,JNe),this}function YNe(t){return this.__data__.has(t)}function tC(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new hf;++e<n;)this.add(t[e])}tC.prototype.add=tC.prototype.push=GNe;tC.prototype.has=YNe;function XNe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function QNe(t,e){return t.has(e)}var ZNe=1,e6e=2;function qQ(t,e,n,r,o,i){var s=n&ZNe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=i.get(t),u=i.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,h=n&e6e?new tC:void 0;for(i.set(t,e),i.set(e,t);++d<a;){var m=t[d],g=e[d];if(r)var v=s?r(g,m,d,e,t,i):r(m,g,d,t,e,i);if(v!==void 0){if(v)continue;f=!1;break}if(h){if(!XNe(e,function(y,b){if(!QNe(h,b)&&(m===y||o(m,y,n,r,i)))return h.push(b)})){f=!1;break}}else if(!(m===g||o(m,g,n,r,i))){f=!1;break}}return i.delete(t),i.delete(e),f}function t6e(t){var e=-1,n=Array(t.size);return t.forEach(function(r,o){n[++e]=[o,r]}),n}function n6e(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var r6e=1,o6e=2,i6e="[object Boolean]",s6e="[object Date]",a6e="[object Error]",l6e="[object Map]",c6e="[object Number]",u6e="[object RegExp]",d6e="[object Set]",f6e="[object String]",h6e="[object Symbol]",p6e="[object ArrayBuffer]",m6e="[object DataView]",C9=Ru?Ru.prototype:void 0,QT=C9?C9.valueOf:void 0;function g6e(t,e,n,r,o,i,s){switch(n){case m6e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case p6e:return!(t.byteLength!=e.byteLength||!i(new eC(t),new eC(e)));case i6e:case s6e:case c6e:return Iw(+t,+e);case a6e:return t.name==e.name&&t.message==e.message;case u6e:case f6e:return t==e+"";case l6e:var a=t6e;case d6e:var l=r&r6e;if(a||(a=n6e),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=o6e,s.set(t,e);var u=qQ(a(t),a(e),r,o,i,s);return s.delete(t),u;case h6e:if(QT)return QT.call(t)==QT.call(e)}return!1}var v6e=1,y6e=Object.prototype,b6e=y6e.hasOwnProperty;function w6e(t,e,n,r,o,i){var s=n&v6e,a=C_(t),l=a.length,c=C_(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var f=a[d];if(!(s?f in e:b6e.call(e,f)))return!1}var h=i.get(t),m=i.get(e);if(h&&m)return h==e&&m==t;var g=!0;i.set(t,e),i.set(e,t);for(var v=s;++d<l;){f=a[d];var y=t[f],b=e[f];if(r)var x=s?r(b,y,f,e,t,i):r(y,b,f,t,e,i);if(!(x===void 0?y===b||o(y,b,n,r,i):x)){g=!1;break}v||(v=f=="constructor")}if(g&&!v){var k=t.constructor,w=e.constructor;k!=w&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof w=="function"&&w instanceof w)&&(g=!1)}return i.delete(t),i.delete(e),g}var x6e=1,j9="[object Arguments]",A9="[object Array]",tk="[object Object]",k6e=Object.prototype,M9=k6e.hasOwnProperty;function S6e(t,e,n,r,o,i){var s=Wl(t),a=Wl(e),l=s?A9:sc(t),c=a?A9:sc(e);l=l==j9?tk:l,c=c==j9?tk:c;var u=l==tk,d=c==tk,f=l==c;if(f&&yb(t)){if(!yb(e))return!1;s=!0,u=!1}if(f&&!u)return i||(i=new jc),s||oR(t)?qQ(t,e,n,r,o,i):g6e(t,e,l,n,r,o,i);if(!(n&x6e)){var h=u&&M9.call(t,"__wrapped__"),m=d&&M9.call(e,"__wrapped__");if(h||m){var g=h?t.value():t,v=m?e.value():e;return i||(i=new jc),o(g,v,n,r,i)}}return f?(i||(i=new jc),w6e(t,e,n,r,o,i)):!1}function uR(t,e,n,r,o){return t===e?!0:t==null||e==null||!Nu(t)&&!Nu(e)?t!==t&&e!==e:S6e(t,e,n,r,uR,o)}var C6e=1,j6e=2;function A6e(t,e,n,r){var o=n.length,i=o;if(t==null)return!i;for(t=Object(t);o--;){var s=n[o];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<i;){s=n[o];var a=s[0],l=t[a],c=s[1];if(s[2]){if(l===void 0&&!(a in t))return!1}else{var u=new jc,d;if(!(d===void 0?uR(c,l,C6e|j6e,r,u):d))return!1}}return!0}function UQ(t){return t===t&&!Ku(t)}function M6e(t){for(var e=iR(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,UQ(o)]}return e}function WQ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function T6e(t){var e=M6e(t);return e.length==1&&e[0][2]?WQ(e[0][0],e[0][1]):function(n){return n===t||A6e(n,t,e)}}function O6e(t,e){return t!=null&&e in Object(t)}function $6e(t,e,n){e=PQ(e,t);for(var r=-1,o=e.length,i=!1;++r<o;){var s=MA(e[r]);if(!(i=t!=null&&n(t,s)))break;t=t[s]}return i||++r!=o?i:(o=t==null?0:t.length,!!o&&tR(o)&&eR(s,o)&&(Wl(t)||Z2(t)))}function E6e(t,e){return t!=null&&$6e(t,e,O6e)}var _6e=1,P6e=2;function I6e(t,e){return aR(t)&&UQ(e)?WQ(MA(t),e):function(n){var r=mRe(n,t);return r===void 0&&r===e?E6e(n,t):uR(e,r,_6e|P6e)}}function R6e(t){return function(e){return e==null?void 0:e[t]}}function N6e(t){return function(e){return IQ(e,t)}}function L6e(t){return aR(t)?R6e(MA(t)):N6e(t)}function D6e(t){return typeof t=="function"?t:t==null?QI:typeof t=="object"?Wl(t)?I6e(t[0],t[1]):T6e(t):L6e(t)}function V6e(t){return function(e,n,r){for(var o=-1,i=Object(e),s=r(e),a=s.length;a--;){var l=s[++o];if(n(i[l],l,i)===!1)break}return e}}var KQ=V6e();function B6e(t,e){return t&&KQ(t,e,iR)}function T_(t,e,n){(n!==void 0&&!Iw(t[e],n)||n===void 0&&!(e in t))&&SA(t,e,n)}function z6e(t){return Nu(t)&&CA(t)}function O_(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function H6e(t){return AQ(t,sR(t))}function F6e(t,e,n,r,o,i,s){var a=O_(t,n),l=O_(e,n),c=s.get(l);if(c){T_(t,n,c);return}var u=i?i(a,l,n+"",t,e,s):void 0,d=u===void 0;if(d){var f=Wl(l),h=!f&&yb(l),m=!f&&!h&&oR(l);u=l,f||h||m?Wl(a)?u=a:z6e(a)?u=TPe(a):h?(d=!1,u=DQ(l,!0)):m?(d=!1,u=VQ(l,!0)):u=[]:kRe(l)||Z2(l)?(u=a,Z2(a)?u=H6e(a):(!Ku(a)||ZI(a))&&(u=BQ(l))):d=!1}d&&(s.set(l,u),o(u,l,r,i,s),s.delete(l)),T_(t,n,u)}function JQ(t,e,n,r,o){t!==e&&KQ(e,function(i,s){if(o||(o=new jc),Ku(i))F6e(t,e,s,n,JQ,r,o);else{var a=r?r(O_(t,s),i,s+"",t,e,o):void 0;a===void 0&&(a=i),T_(t,s,a)}},sR)}var q6e=MQ(function(t,e,n,r){JQ(t,e,n,r)});function U6e(t,e){var n={};return e=D6e(e),B6e(t,function(r,o,i){SA(n,e(r,o,i),r)}),n}const W6e=new RegExp("([\\p{Ll}\\d])(\\p{Lu})","gu"),K6e=new RegExp("(\\p{Lu})([\\p{Lu}][\\p{Ll}])","gu"),J6e=new RegExp("(\\d)\\p{Ll}|(\\p{L})\\d","u"),G6e=/[^\p{L}\d]+/giu,T9="$1\0$2",O9="";function GQ(t){let e=t.trim();e=e.replace(W6e,T9).replace(K6e,T9),e=e.replace(G6e,"\0");let n=0,r=e.length;for(;e.charAt(n)==="\0";)n++;if(n===r)return[];for(;e.charAt(r-1)==="\0";)r--;return e.slice(n,r).split(/\0/g)}function Y6e(t){const e=GQ(t);for(let n=0;n<e.length;n++){const r=e[n],o=J6e.exec(r);if(o){const i=o.index+(o[1]??o[2]).length;e.splice(n,1,r.slice(0,i),r.slice(i))}}return e}function X6e(t,e){const[n,r,o]=t5e(t,e),i=Q6e(void 0),s=Z6e(void 0),a=e5e(i,s);return n+r.map((l,c)=>c===0?i(l):a(l,c)).join("")+o}function Q6e(t){return e=>e.toLocaleLowerCase(t)}function Z6e(t){return e=>e.toLocaleUpperCase(t)}function e5e(t,e){return(n,r)=>{const o=n[0];return(r>0&&o>="0"&&o<="9"?"_"+o:e(o))+t(n.slice(1))}}function t5e(t,e={}){const n=e.split??(e.separateNumbers?Y6e:GQ),r=e.prefixCharacters??O9,o=e.suffixCharacters??O9;let i=0,s=t.length;for(;i<t.length;){const a=t.charAt(i);if(!r.includes(a))break;i++}for(;s>i;){const a=s-1,l=t.charAt(a);if(!o.includes(l))break;s=a}return[t.slice(0,i),n(t.slice(i,s)),t.slice(s)]}const i0=t=>/.+-.+/.test(t)?X6e(t):t,n5e=t=>Object.prototype.toString.call(t).slice(8,-1)==="Object";function r5e(t,e){const n=Object.create(null),r=t.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return o=>!!n[o]}const o5e=r5e("String,Number,Boolean,Function,Symbol,BigInt");function i5e(t){const e=t==null?void 0:t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function s5e(t,e){let n;const r=i5e(e);if(o5e(r)){const o=typeof t;n=o===r.toLowerCase(),!n&&o==="object"&&(n=t instanceof e)}else r==="Object"?n=Ku(t):r==="Array"?n=Array.isArray(t):r==="null"?n=t===null:n=t instanceof e;return{valid:n,expectedType:r}}function a5e({prop:t,type:e,validator:n}){if(![void 0,null].includes(t)&&e){let r=!1;const o=Array.isArray(e)?e:[e],i=[];for(let s=0;s<o.length&&!r;s++){const{valid:a,expectedType:l}=s5e(t,o[s]);i.push(l||""),r=a}if(!r)throw new TypeError(`Invalid prop: type check failed, expecting [${i.join(", ")}], receiving: ${t}`)}if(n&&!n(t))throw new Error(`Invalid prop: validator check failed, receiving: ${t}`)}function l5e(t,{mergeObject:e,mergeObjectCustomizer:n,mergeFunction:r}){const o=[];for(let s=t.length-1;s>=0;s--)o.push(t[s]);const i=n||(r?(s,a)=>typeof s=="function"&&typeof a=="function"?r==null?void 0:r(a,s):void 0:void 0);return e==="deep"?q6e(...o,i):RIe(...o,i)}function c5e(t,{mergeFunction:e}){return t.reduce(e,()=>{})}function $f(t,e={}){const{type:n,default:r,defaultIsDynamic:o=!1,required:i=!1,validator:s,camelizeObjectKeys:a=!1,mergeObjectApplyOnlyToDefault:l=!1,mergeFunctionApplyOnlyToDefault:c=!0}=e;let{mergeObject:u="deep",mergeObjectCustomizer:d,mergeFunction:f=!1}=e;const h=[];let m,g=!1,v=!1;const y=b=>{if(b!==void 0){a5e({type:n,prop:b,validator:s});const x=n5e(b),k=typeof b=="function";return g=x,v=k,x?(b=KNe(b),a?U6e(b,(w,S)=>i0(S)):b):b}};for(const b of t)h.push(y(b));if(!o)h.push(y(r));else if(typeof r!="function")throw new TypeError(`Invalid option: options.default should be Function when options.defaultIsDynamic enabled, receiving: ${r}`);g||(u=!1,v||(f=!1));for(let b=0;b<h.length;b++){const x=h[b];if(x!==void 0){b===h.length-1?m=x:u?m=l5e(l?[x,r]:h,{mergeObject:u,mergeObjectCustomizer:d,mergeFunction:f}):f?m=c5e(c?[x,r]:h,{mergeFunction:f}):m=x;break}}if(i&&[void 0,null].includes(m))throw new Error("Missing required prop");return o?$f(t,{...e,default:r(m),defaultIsDynamic:!1}):m}function $9(t){const e=Array.from(i0(t));return e[0]=e[0].toUpperCase(),e.unshift("o","n"),e.join("")}function u5e(t,{props:e=[],camelizePropNames:n=!1}={}){const r={props:{},attrs:{},listeners:{},hooks:{},slots:{}};let o;if(Array.isArray(e))o=n?e.map(i=>i0(i)):e;else if(n){o=[];for(const i in e)o.push(i0(i))}else o=Object.keys(e);for(const i in t)if(i.startsWith("@")){const s=i.substring(1);if(s.startsWith("vue:"))r.hooks[$9(s.replace("vue:","vnode-"))]=t[i];else{if(s.startsWith("vnode"))throw new Error("@vnode-* hooks are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in Vue 3.4.");r.listeners[$9(s)]=t[i]}}else if(i.startsWith("#")){const s=i.substring(1);s&&(r.slots[s]=t[i])}else{const s=n?i0(i):i;o.includes(s)?r.props[s]=t[i]:r.attrs[i]=t[i]}return r}const E9="JsonEditorVue",lS=["mainMenuBar","navigationBar","statusBar","askToFormat","readOnly","escapeControlCharacters","escapeUnicodeCharacters","flattenColumns"],jf={},_9={},cS="modelValue",P9="update:modelValue",I9={[cS]:{},mode:{type:String},debounce:{type:Number},stringified:{type:Boolean,default:void 0},...Object.fromEntries(lS.map(t=>[t,{type:Boolean,default:void 0}]))},d5e=en({name:E9,install(t,e){const n=u5e(e||{},{props:I9});Object.assign(jf,n.props),Object.assign(_9,n.attrs),t.component(E9,this)},props:I9,emits:{[P9](t){return!0},"update:mode":function(t){return!0}},setup(t,{attrs:e,emit:n,expose:r}){var o;const i=(o=Gl())==null?void 0:o.proxy,s=Ye(),a=Ye(!1),l=Ye();Ai(()=>{var y;l.value=$f([t.mode,jf.mode],{type:String}),(y=s.value)==null||y.updateProps({mode:l.value||li.tree})});const c=y=>{n("update:mode",y)};jf.mode!==void 0&&t.mode===void 0&&c(jf.mode);const u=ue(()=>$f([t.debounce,jf.debounce,300],{type:Number})),d=ue(()=>$f([t.stringified,jf.stringified,!0],{type:Boolean}));let f=sS;const h=y=>{a.value=!0,!d.value&&y.text&&(s.value&&!s.value.validate()&&(y.json=f(y.text)),y.text=void 0),n(P9,y.text===void 0?y.json:y.text)},m=Q4e(h,u.value),g=y=>{l.value==="text"?m(y):h(y)},v=(y,b)=>(...x)=>{y(...x),b(...x)};return r==null||r({jsonEditor:s}),U3(()=>{var y;(y=s.value)==null||y.destroy()}),hl(()=>{const y=$f([t[cS],jf[cS]]),b=Object.fromEntries(Array.from(lS,k=>[k,$f([t[k],jf[k]])]).filter(([,k])=>k!==void 0)),x=$f([b,e,_9],{camelizeObjectKeys:!0,defaultIsDynamic:!0,default:k=>{var w;return f=((w=k.parser)==null?void 0:w.parse)||sS,{onChange:g,onChangeMode:c,mode:l.value,parser:{parse:A4e,stringify:JSON.stringify},...y!==void 0&&{content:{[typeof y=="string"&&l.value==="text"&&d.value?"text":"json"]:y}}}},mergeFunction:v,mergeObject:"shallow",type:Object});s.value=w4e({target:i==null?void 0:i.$refs.jsonEditorRef,props:x}),Bt(()=>t[cS],k=>{if(a.value){a.value=!1;return}s.value&&s.value.set([void 0,""].includes(k)?{text:""}:{[typeof k=="string"&&l.value==="text"&&d.value?"text":"json"]:k})},{deep:!0}),Bt(()=>Array.from(lS,k=>t[k]),k=>{var w;(w=s.value)==null||w.updateProps(Object.fromEntries(Array.from(k,(S,C)=>[lS[C],S]).filter(([,S])=>S!==void 0)))}),Bt(()=>e,k=>{var w,S;const C={};(k.onChange||k["on-change"])&&(C.onChange=g),(k.onChangeMode||k["on-change-mode"])&&(C.onChangeMode=c),f=((w=k.parser)==null?void 0:w.parse)||sS,(S=s.value)==null||S.updateProps(Object.getOwnPropertyNames(C).length>0?$f([k,C],{camelizeObjectKeys:!0,mergeFunction:v,mergeObject:"shallow",type:Object}):k)},{deep:!0}),r||(r=k=>{for(const w in k)i[w]=Ie(k[w])},r({jsonEditor:s}))}),()=>ba("div",{ref:"jsonEditorRef"})}});var f5e=Object.defineProperty,h5e=(t,e,n)=>e in t?f5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R9=(t,e,n)=>h5e(t,typeof e!="symbol"?e+"":e,n);function As(t){this.content=t}As.prototype={constructor:As,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,o=r.find(t),i=r.content.slice();return o==-1?i.push(n||t,e):(i[o+1]=e,n&&(i[o]=n)),new As(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new As(n)},addToStart:function(t,e){return new As([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new As(n)},addBefore:function(t,e,n){var r=this.remove(e),o=r.content.slice(),i=r.find(t);return o.splice(i==-1?o.length:i,0,e,n),new As(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=As.from(t),t.size?new As(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=As.from(t),t.size?new As(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=As.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};As.from=function(t){if(t instanceof As)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new As(e)};function YQ(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let o=t.child(r),i=e.child(r);if(o==i){n+=o.nodeSize;continue}if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){let s=YQ(o.content,i.content,n+1);if(s!=null)return s}n+=o.nodeSize}}function XQ(t,e,n,r){for(let o=t.childCount,i=e.childCount;;){if(o==0||i==0)return o==i?null:{a:n,b:r};let s=t.child(--o),a=e.child(--i),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let c=XQ(s.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class Ge{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,o=0,i){for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;if(c>e&&r(l,o+a,i||null,s)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,o+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,o){let i="",s=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?o?typeof o=="function"?o(a):o:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(s?s=!1:i+=r),i+=c},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,o=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)o.push(e.content[i]);return new Ge(o,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],o=0;if(n>e)for(let i=0,s=0;s<n;i++){let a=this.content[i],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),o+=a.nodeSize),s=l}return new Ge(r,o)}cutByIndex(e,n){return e==n?Ge.empty:e==0&&n==this.content.length?this:new Ge(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let o=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return o[e]=n,new Ge(o,i)}addToStart(e){return new Ge([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Ge(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let o=this.content[n];e(o,r,n),r+=o.nodeSize}}findDiffStart(e,n=0){return YQ(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return XQ(this,e,n,r)}findIndex(e,n=-1){if(e==0)return nk(0,e);if(e==this.size)return nk(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,o=0;;r++){let i=this.child(r),s=o+i.nodeSize;if(s>=e)return s==e||n>0?nk(r+1,s):nk(r,o);o=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Ge.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ge(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Ge.empty;let n,r=0;for(let o=0;o<e.length;o++){let i=e[o];r+=i.nodeSize,o&&i.isText&&e[o-1].sameMarkup(i)?(n||(n=e.slice(0,o)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new Ge(n||e,r)}static from(e){if(!e)return Ge.empty;if(e instanceof Ge)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Ge([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ge.empty=new Ge([],0);const ZT={index:0,offset:0};function nk(t,e){return ZT.index=t,ZT.offset=e,ZT}function nC(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!nC(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!nC(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let bo=class $_{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let o=0;o<e.length;o++){let i=e[o];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,o));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&nC(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return $_.none;if(e instanceof $_)return[e];let n=e.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}};bo.none=[];class rC extends Error{}class vt{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=ZQ(this.content,e+this.openStart,n);return r&&new vt(r,this.openStart,this.openEnd)}removeBetween(e,n){return new vt(QQ(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return vt.empty;let r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new vt(Ge.fromJSON(e,n.content),r,o)}static maxOpen(e,n=!0){let r=0,o=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)o++;return new vt(e,r,o)}}vt.empty=new vt(Ge.empty,0,0);function QQ(t,e,n){let{index:r,offset:o}=t.findIndex(e),i=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(o==e||i.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(QQ(i.content,e-o-1,n-o-1)))}function ZQ(t,e,n,r){let{index:o,offset:i}=t.findIndex(e),s=t.maybeChild(o);if(i==e||s.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=ZQ(s.content,e-i-1,n);return a&&t.replaceChild(o,s.copy(a))}function p5e(t,e,n){if(n.openStart>t.depth)throw new rC("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new rC("Inconsistent open depths");return eZ(t,e,n,0)}function eZ(t,e,n,r){let o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){let s=eZ(t,e,n,r+1);return i.copy(i.content.replaceChild(o,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,a=s.content;return Xp(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=m5e(n,t);return Xp(i,nZ(t,s,a,e,r))}else return Xp(i,oC(t,e,r))}function tZ(t,e){if(!e.type.compatibleContent(t.type))throw new rC("Cannot join "+e.type.name+" onto "+t.type.name)}function E_(t,e,n){let r=t.node(n);return tZ(r,e.node(n)),r}function Yp(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function s0(t,e,n,r){let o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Yp(t.nodeAfter,r),i++));for(let a=i;a<s;a++)Yp(o.child(a),r);e&&e.depth==n&&e.textOffset&&Yp(e.nodeBefore,r)}function Xp(t,e){return t.type.checkContent(e),t.copy(e)}function nZ(t,e,n,r,o){let i=t.depth>o&&E_(t,e,o+1),s=r.depth>o&&E_(n,r,o+1),a=[];return s0(null,t,o,a),i&&s&&e.index(o)==n.index(o)?(tZ(i,s),Yp(Xp(i,nZ(t,e,n,r,o+1)),a)):(i&&Yp(Xp(i,oC(t,e,o+1)),a),s0(e,n,o,a),s&&Yp(Xp(s,oC(n,r,o+1)),a)),s0(r,null,o,a),new Ge(a)}function oC(t,e,n){let r=[];if(s0(null,t,n,r),t.depth>n){let o=E_(t,e,n+1);Yp(Xp(o,oC(t,e,n+1)),r)}return s0(e,null,n,r),new Ge(r)}function m5e(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)r=e.node(o).copy(Ge.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}class xb{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=e.child(n);return r?e.child(n).cut(r):o}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)o+=r.child(i).nodeSize;return o}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return bo.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),o=e.maybeChild(n);if(!r){let a=r;r=o,o=a}let i=r.marks;for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!o||!i[s].isInSet(o.marks))&&(i=i[s--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,o=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!o||!r[i].isInSet(o.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new iC(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],o=0,i=n;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(i),c=i-l;if(r.push(s,a,o+l),!c||(s=s.child(a),s.isText))break;i=c-1,o+=l+1}return new xb(n,r,i)}static resolveCached(e,n){let r=N9.get(e);if(r)for(let i=0;i<r.elts.length;i++){let s=r.elts[i];if(s.pos==n)return s}else N9.set(e,r=new g5e);let o=r.elts[r.i]=xb.resolve(e,n);return r.i=(r.i+1)%v5e,o}}class g5e{constructor(){this.elts=[],this.i=0}}const v5e=12,N9=new WeakMap;class iC{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const y5e=Object.create(null);let Rd=class __{constructor(e,n,r,o=bo.none){this.type=e,this.attrs=n,this.marks=o,this.content=r||Ge.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,o=0){this.content.nodesBetween(e,n,r,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,o){return this.content.textBetween(e,n,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&nC(this.attrs,n||e.defaultAttrs||y5e)&&bo.sameSet(this.marks,r||bo.none)}copy(e=null){return e==this.content?this:new __(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new __(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return vt.empty;let o=this.resolve(e),i=this.resolve(n),s=r?0:o.sharedDepth(n),a=o.start(s),l=o.node(s).content.cut(o.pos-a,i.pos-a);return new vt(l,o.depth-s,i.depth-s)}replace(e,n,r){return p5e(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:o}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(o==e||n.isText)return n;e-=o+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}resolve(e){return xb.resolveCached(this,e)}resolveNoCache(e){return xb.resolve(this,e)}rangeHasMark(e,n,r){let o=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),rZ(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=Ge.empty,o=0,i=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,o,i),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=o;l<i;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;let i=this.contentMatchAt(e).matchType(r),s=i&&i.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=bo.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!bo.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let o=Ge.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,o,r);return i.type.checkAttrs(i.attrs),i}};Rd.prototype.text=void 0;class sC extends Rd{constructor(e,n,r,o){if(super(e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):rZ(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new sC(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new sC(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function rZ(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Tm{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new b5e(e,n);if(r.next==null)return Tm.empty;let o=oZ(r);r.next&&r.err("Unexpected trailing text");let i=A5e(j5e(o));return M5e(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let o=this;for(let i=n;o&&i<r;i++)o=o.matchType(e.child(i).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let o=[this];function i(s,a){let l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return Ge.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&o.indexOf(d)==-1){o.push(d);let f=i(d,a.concat(u));if(f)return f}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),i=o.match;if(i.matchType(e)){let s=[];for(let a=o;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<i.next.length;s++){let{type:a,next:l}=i.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!o.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:o}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let o=0;o<r.next.length;o++)e.indexOf(r.next[o].next)==-1&&n(r.next[o].next)}return n(this),e.map((r,o)=>{let i=o+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)i+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return i}).join(`
`)}}Tm.empty=new Tm(!0);class b5e{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function oZ(t){let e=[];do e.push(w5e(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function w5e(t){let e=[];do e.push(x5e(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function x5e(t){let e=C5e(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=k5e(t,e);else break;return e}function L9(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function k5e(t,e){let n=L9(t),r=n;return t.eat(",")&&(t.next!="}"?r=L9(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function S5e(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let o=[];for(let i in n){let s=n[i];s.isInGroup(e)&&o.push(s)}return o.length==0&&t.err("No node type or group '"+e+"' found"),o}function C5e(t){if(t.eat("(")){let e=oZ(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=S5e(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function j5e(t){let e=[[]];return o(i(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){let c={term:l,to:a};return e[s].push(c),c}function o(s,a){s.forEach(l=>l.to=a)}function i(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(i(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=i(s.exprs[l],a);if(l==s.exprs.length-1)return c;o(c,a=n())}else if(s.type=="star"){let l=n();return r(a,l),o(i(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return o(i(s.expr,a),l),o(i(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(i(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let u=n();o(i(s.expr,l),u),l=u}if(s.max==-1)o(i(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=n();r(l,u),o(i(s.expr,l),u),l=u}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function iZ(t,e){return e-t}function D9(t,e){let n=[];return r(e),n.sort(iZ);function r(o){let i=t[o];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(o);for(let s=0;s<i.length;s++){let{term:a,to:l}=i[s];!a&&n.indexOf(l)==-1&&r(l)}}}function A5e(t){let e=Object.create(null);return n(D9(t,0));function n(r){let o=[];r.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<o.length;u++)o[u][0]==a&&(c=o[u][1]);D9(t,l).forEach(u=>{c||o.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let i=e[r.join(",")]=new Tm(r.indexOf(t.length-1)>-1);for(let s=0;s<o.length;s++){let a=o[s][1].sort(iZ);i.next.push({type:o[s][0],next:e[a.join(",")]||n(a)})}return i}}function M5e(t,e){for(let n=0,r=[t];n<r.length;n++){let o=r[n],i=!o.validEnd,s=[];for(let a=0;a<o.next.length;a++){let{type:l,next:c}=o.next[a];s.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),r.indexOf(c)==-1&&r.push(c)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function sZ(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function aZ(t,e){let n=Object.create(null);for(let r in t){let o=e&&e[r];if(o===void 0){let i=t[r];if(i.hasDefault)o=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function lZ(t,e,n,r){for(let o in e)if(!(o in t))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in t){let i=t[o];i.validate&&i.validate(e[o])}}function cZ(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new O5e(t,r,e[r]);return n}let V9=class uZ{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=cZ(e,r.attrs),this.defaultAttrs=sZ(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Tm.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:aZ(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Rd(this,this.computeAttrs(e),Ge.from(n),bo.setFrom(r))}createChecked(e=null,n,r){return n=Ge.from(n),this.checkContent(n),new Rd(this,this.computeAttrs(e),n,bo.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=Ge.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let o=this.contentMatch.matchFragment(n),i=o&&o.fillBefore(Ge.empty,!0);return i?new Rd(this,e,n.append(i),bo.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){lZ(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:bo.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,s)=>r[i]=new uZ(i,n,s));let o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function T5e(t,e,n){let r=n.split("|");return o=>{let i=o===null?"null":typeof o;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class O5e{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?T5e(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class TA{constructor(e,n,r,o){this.name=e,this.rank=n,this.schema=r,this.spec=o,this.attrs=cZ(e,o.attrs),this.excluded=null;let i=sZ(this.attrs);this.instance=i?new bo(this,i):null}create(e=null){return!e&&this.instance?this.instance:new bo(this,aZ(this.attrs,e))}static compile(e,n){let r=Object.create(null),o=0;return e.forEach((i,s)=>r[i]=new TA(i,o++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){lZ(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class dZ{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let o in e)n[o]=e[o];n.nodes=As.from(e.nodes),n.marks=As.from(e.marks||{}),this.nodes=V9.compile(this.spec.nodes,this),this.marks=TA.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let i=this.nodes[o],s=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=r[s]||(r[s]=Tm.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?B9(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let o in this.marks){let i=this.marks[o],s=i.spec.excludes;i.excluded=s==null?[i]:s==""?[]:B9(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof V9){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,o)}text(e,n){let r=this.nodes.text;return new sC(r,r.defaultAttrs,e,bo.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Rd.fromJSON(this,e)}markFromJSON(e){return bo.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function B9(t,e){let n=[];for(let r=0;r<e.length;r++){let o=e[r],i=t.marks[o],s=i;if(i)n.push(i);else for(let a in t.marks){let l=t.marks[a];(o=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function $5e(t){return t.tag!=null}function E5e(t){return t.style!=null}class vh{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(o=>{if($5e(o))this.tags.push(o);else if(E5e(o)){let i=/[^=]*/.exec(o.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let i=e.nodes[o.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new H9(this,n,!1);return r.addAll(e,bo.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new H9(this,n,!0);return r.addAll(e,bo.none,n.from,n.to),vt.maxOpen(r.finish())}matchTag(e,n,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let i=this.tags[o];if(I5e(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let s=i.getAttrs(e);if(s===!1)continue;i.attrs=s||void 0}return i}}}matchStyle(e,n,r,o){for(let i=o?this.styles.indexOf(o)+1:0;i<this.styles.length;i++){let s=this.styles[i],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function r(o){let i=o.priority==null?50:o.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<i)break}n.splice(s,0,o)}for(let o in e.marks){let i=e.marks[o].spec.parseDOM;i&&i.forEach(s=>{r(s=F9(s)),s.mark||s.ignore||s.clearMark||(s.mark=o)})}for(let o in e.nodes){let i=e.nodes[o].spec.parseDOM;i&&i.forEach(s=>{r(s=F9(s)),s.node||s.ignore||s.mark||(s.node=o)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new vh(e,vh.schemaRules(e)))}}const fZ={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},_5e={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},hZ={ol:!0,ul:!0},kb=1,P_=2,uS=4;function z9(t,e,n){return e!=null?(e?kb:0)|(e==="full"?P_:0):t&&t.whitespace=="pre"?kb|P_:n&-5}class rk{constructor(e,n,r,o,i,s){this.type=e,this.attrs=n,this.marks=r,this.solid=o,this.options=s,this.content=[],this.activeMarks=bo.none,this.match=i||(s&uS?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Ge.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&kb)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-o[0].length))}}let n=Ge.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(Ge.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!fZ.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class H9{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=n.topNode,i,s=z9(null,n.preserveWhitespace,0)|(r?uS:0);o?i=new rk(o.type,o.attrs,bo.none,!0,n.topMatch||o.type.contentMatch,s):r?i=new rk(null,null,bo.none,!0,null,s):i=new rk(e.schema.topNodeType,null,bo.none,!0,null,s),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,o=this.top,i=o.options&P_?"full":this.localPreserveWS||(o.options&kb)>0;if(i==="full"||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)i!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=o.content[o.content.length-1],a=e.previousSibling;(!s||a&&a.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let o=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),a;hZ.hasOwnProperty(s)&&this.parser.normalizeLists&&P5e(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:_5e.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(fZ.hasOwnProperty(s))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),c=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let d=l&&l.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),c&&this.sync(i),this.needsBlock=u}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=o}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let i=this.parser.matchedStyles[o],s=r.getPropertyValue(i);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(i,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,o){let i,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(s,n.attrs||null,r,n.preserveWhitespace);l&&(i=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(o)this.addElement(e,r,o);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}i&&this.sync(a)&&this.open--}addAll(e,n,r,o){let i=r||0;for(let s=r?e.childNodes[r]:e.firstChild,a=o==null?null:e.childNodes[o];s!=a;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s,n);this.findAtPoint(e,i)}findPlace(e,n,r){let o,i;for(let s=this.open,a=0;s>=0;s--){let l=this.nodes[s],c=l.findWrapping(e);if(c&&(!o||o.length>c.length+a)&&(o=c,i=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!o)return null;this.sync(i);for(let s=0;s<o.length;s++)n=this.enterInner(o[s],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let o=this.findPlace(e,n,r);if(o){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=bo.none;for(let a of o.concat(e.marks))(i.type?i.type.allowsMarkType(a.type):q9(a.type,e.type))&&(s=a.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,n,r,o){let i=this.findPlace(e.create(n),r,!1);return i&&(i=this.enterInner(e,n,r,!0,o)),i}enterInner(e,n,r,o=!1,i){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=z9(e,i,s.options);s.options&uS&&s.content.length==0&&(a|=uS);let l=bo.none;return r=r.filter(c=>(s.type?s.type.allowsMarkType(c.type):q9(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new rk(e,n,l,o,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=kb)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let o=r.length-1;o>=0;o--)e+=r[o].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=i;l--)if(s(a-1,l))return!0;return!1}else{let u=l>0||l==0&&o?this.nodes[l].type:r&&l>=i?r.node(l-i).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function P5e(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&hZ.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function I5e(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function F9(t){let e={};for(let n in t)e[n]=t[n];return e}function q9(t,e){let n=e.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(t))continue;let i=[],s=a=>{i.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||i.indexOf(u)<0&&s(u))return!0}};if(s(o.contentMatch))return!0}}class Xh{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=eO(n).createDocumentFragment());let o=r,i=[];return e.forEach(s=>{if(i.length||s.marks.length){let a=0,l=0;for(;a<i.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(i[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<i.length;)o=i.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],u=this.serializeMark(c,s.isInline,n);u&&(i.push([c,o]),o.appendChild(u.dom),o=u.contentDOM||u.dom)}}o.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:o}=dS(eO(n),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,o)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let o=e.marks.length-1;o>=0;o--){let i=this.serializeMark(e.marks[o],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let o=this.marks[e.type.name];return o&&dS(eO(r),o(e,n),null,e.attrs)}static renderSpec(e,n,r=null,o){return dS(e,n,r,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Xh(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=U9(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return U9(e.marks)}}function U9(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function eO(t){return t.document||window.document}const W9=new WeakMap;function R5e(t){let e=W9.get(t);return e===void 0&&W9.set(t,e=N5e(t)),e}function N5e(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let o=0;o<r.length;o++)n(r[o]);else for(let o in r)n(r[o])}return n(t),e}function dS(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],i;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=R5e(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=o.indexOf(" ");s>0&&(n=o.slice(0,s),o=o.slice(s+1));let a,l=n?t.createElementNS(n,o):t.createElement(o),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:m}=dS(t,f,n,r);if(l.appendChild(h),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const pZ=65535,mZ=Math.pow(2,16);function L5e(t,e){return t+e*mZ}function K9(t){return t&pZ}function D5e(t){return(t-(t&pZ))/mZ}const gZ=1,vZ=2,fS=4,yZ=8;class I_{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&yZ)>0}get deletedBefore(){return(this.delInfo&(gZ|fS))>0}get deletedAfter(){return(this.delInfo&(vZ|fS))>0}get deletedAcross(){return(this.delInfo&fS)>0}}class tl{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&tl.empty)return tl.empty}recover(e){let n=0,r=K9(e);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+D5e(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let o=0,i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?o:0);if(l>e)break;let c=this.ranges[a+i],u=this.ranges[a+s],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:n:n,h=l+o+(f<0?0:u);if(r)return h;let m=e==(n<0?l:d)?null:L5e(a/3,e-l),g=e==l?vZ:e==d?gZ:fS;return(n<0?e!=l:e!=d)&&(g|=yZ),new I_(h,g,m)}o+=u-c}return r?e+o:new I_(e+o,0,null)}touches(e,n){let r=0,o=K9(n),i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+i],u=l+c;if(e<=u&&a==o*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,i=0;o<this.ranges.length;o+=3){let s=this.ranges[o],a=s-(this.inverted?i:0),l=s+(this.inverted?0:i),c=this.ranges[o+n],u=this.ranges[o+r];e(a,a+c,l,l+u),i+=u-c}}invert(){return new tl(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?tl.empty:new tl(e<0?[0,-e,0]:[0,0,e])}}tl.empty=new tl([]);class Sb{constructor(e,n,r=0,o=e?e.length:0){this.mirror=n,this.from=r,this.to=o,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Sb(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let o=e.getMirror(n);this.appendMap(e._maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let o=e.getMirror(n);this.appendMap(e._maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let e=new Sb;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let o=0;for(let i=this.from;i<this.to;i++){let s=this._maps[i],a=s.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this._maps[l].recover(a.recover);continue}}o|=a.delInfo,e=a.pos}return r?e:new I_(e,o,null)}}const tO=Object.create(null);class sa{getMap(){return tl.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=tO[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in tO)throw new RangeError("Duplicate use of step JSON ID "+e);return tO[e]=n,n.prototype.jsonID=e,n}}class Fi{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Fi(e,null)}static fail(e){return new Fi(null,e)}static fromReplace(e,n,r,o){try{return Fi.ok(e.replace(n,r,o))}catch(i){if(i instanceof rC)return Fi.fail(i.message);throw i}}}function dR(t,e,n){let r=[];for(let o=0;o<t.childCount;o++){let i=t.child(o);i.content.size&&(i=i.copy(dR(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return Ge.fromArray(r)}class ih extends sa{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new vt(dR(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),o),n.openStart,n.openEnd);return Fi.fromReplace(e,this.from,this.to,i)}invert(){return new hc(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ih(n.pos,r.pos,this.mark)}merge(e){return e instanceof ih&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ih(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ih(n.from,n.to,e.markFromJSON(n.mark))}}sa.jsonID("addMark",ih);class hc extends sa{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new vt(dR(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),n.openStart,n.openEnd);return Fi.fromReplace(e,this.from,this.to,r)}invert(){return new ih(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new hc(n.pos,r.pos,this.mark)}merge(e){return e instanceof hc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new hc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new hc(n.from,n.to,e.markFromJSON(n.mark))}}sa.jsonID("removeMark",hc);class sh extends sa{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Fi.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Fi.fromReplace(e,this.pos,this.pos+1,new vt(Ge.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new sh(this.pos,n.marks[o]);return new sh(this.pos,this.mark)}}return new Om(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new sh(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new sh(n.pos,e.markFromJSON(n.mark))}}sa.jsonID("addNodeMark",sh);class Om extends sa{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Fi.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Fi.fromReplace(e,this.pos,this.pos+1,new vt(Ge.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new sh(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Om(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Om(n.pos,e.markFromJSON(n.mark))}}sa.jsonID("removeNodeMark",Om);class us extends sa{constructor(e,n,r,o=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=o}apply(e){return this.structure&&R_(e,this.from,this.to)?Fi.fail("Structure replace would overwrite content"):Fi.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new tl([this.from,this.to-this.from,this.slice.size])}invert(e){return new us(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new us(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof us)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?vt.empty:new vt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new us(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?vt.empty:new vt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new us(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new us(n.from,n.to,vt.fromJSON(e,n.slice),!!n.structure)}}sa.jsonID("replace",us);class ys extends sa{constructor(e,n,r,o,i,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=a}apply(e){if(this.structure&&(R_(e,this.from,this.gapFrom)||R_(e,this.gapTo,this.to)))return Fi.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Fi.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Fi.fromReplace(e,this.from,this.to,r):Fi.fail("Content does not fit in gap")}getMap(){return new tl([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new ys(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||i>r.pos?null:new ys(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ys(n.from,n.to,n.gapFrom,n.gapTo,vt.fromJSON(e,n.slice),n.insert,!!n.structure)}}sa.jsonID("replaceAround",ys);function R_(t,e,n){let r=t.resolve(e),o=n-e,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let s=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}}return!1}function V5e(t,e,n,r){let o=[],i=[],s,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,e),h=Math.min(c+l.nodeSize,n),m=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(m)||(s&&s.to==f&&s.mark.eq(d[g])?s.to=h:o.push(s=new hc(f,h,d[g])));a&&a.to==f?a.to=h:i.push(a=new ih(f,h,r))}}),o.forEach(l=>t.step(l)),i.forEach(l=>t.step(l))}function B5e(t,e,n,r){let o=[],i=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;i++;let l=null;if(r instanceof TA){let c=s.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let h=0;h<o.length;h++){let m=o[h];m.step==i-1&&d.eq(o[h].style)&&(f=m)}f?(f.to=c,f.step=i):o.push({style:d,from:Math.max(a,e),to:c,step:i})}}}),o.forEach(s=>t.step(new hc(s.from,s.to,s.style)))}function fR(t,e,n,r=n.contentMatch,o=!0){let i=t.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<i.childCount;l++){let c=i.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)s.push(new us(a,u,vt.empty));else{r=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||t.step(new hc(a,u,c.marks[f]));if(o&&c.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,m;for(;f=h.exec(c.text);)m||(m=new vt(Ge.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),s.push(new us(a+f.index,a+f.index+f[0].length,m))}}a=u}if(!r.validEnd){let l=r.fillBefore(Ge.empty,!0);t.replace(a,a,new vt(l,0,0))}for(let l=s.length-1;l>=0;l--)t.step(s[l])}function z5e(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function $y(t){let e=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let r=t.$from.node(n),o=t.$from.index(n),i=t.$to.indexAfter(n);if(n<t.depth&&r.canReplace(o,i,e))return n;if(n==0||r.type.spec.isolating||!z5e(r,o,i))break}return null}function H5e(t,e,n){let{$from:r,$to:o,depth:i}=e,s=r.before(i+1),a=o.after(i+1),l=s,c=a,u=Ge.empty,d=0;for(let m=i,g=!1;m>n;m--)g||r.index(m)>0?(g=!0,u=Ge.from(r.node(m).copy(u)),d++):l--;let f=Ge.empty,h=0;for(let m=i,g=!1;m>n;m--)g||o.after(m+1)<o.end(m)?(g=!0,f=Ge.from(o.node(m).copy(f)),h++):c++;t.step(new ys(l,c,s,a,new vt(u.append(f),d,h),u.size-d,!0))}function hR(t,e,n=null,r=t){let o=F5e(t,e),i=o&&q5e(r,e);return i?o.map(J9).concat({type:e,attrs:n}).concat(i.map(J9)):null}function J9(t){return{type:t,attrs:null}}function F5e(t,e){let{parent:n,startIndex:r,endIndex:o}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let s=i.length?i[0]:e;return n.canReplaceWith(r,o,s)?i:null}function q5e(t,e){let{parent:n,startIndex:r,endIndex:o}=t,i=n.child(r),s=e.contentMatch.findWrapping(i.type);if(!s)return null;let a=(s.length?s[s.length-1]:e).contentMatch;for(let l=r;a&&l<o;l++)a=a.matchType(n.child(l).type);return!a||!a.validEnd?null:s}function U5e(t,e,n){let r=Ge.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Ge.from(n[s].type.create(n[s].attrs,r))}let o=e.start,i=e.end;t.step(new ys(o,i,o,i,new vt(r,0,0),n.length,!0))}function W5e(t,e,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{let l=typeof o=="function"?o(s):o;if(s.isTextblock&&!s.hasMarkup(r,l)&&K5e(t.doc,t.mapping.slice(i).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!m?c=!1:!h&&m&&(c=!0)}c===!1&&wZ(t,s,a,i),fR(t,t.mapping.slice(i).map(a,1),r,void 0,c===null);let u=t.mapping.slice(i),d=u.map(a,1),f=u.map(a+s.nodeSize,1);return t.step(new ys(d,f,d+1,f-1,new vt(Ge.from(r.create(l,null,s.marks)),0,0),1,!0)),c===!0&&bZ(t,s,a,i),!1}})}function bZ(t,e,n,r){e.forEach((o,i)=>{if(o.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(o.text);){let l=t.mapping.slice(r).map(n+1+i+s.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function wZ(t,e,n,r){e.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let s=t.mapping.slice(r).map(n+1+i);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function K5e(t,e,n){let r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function J5e(t,e,n,r,o){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(r,null,o||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new ys(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new vt(Ge.from(s),0,0),1,!0))}function Nd(t,e,n=1,r){let o=t.resolve(e),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,u=n-2;c>i;c--,u--){let d=o.node(c),f=o.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),m=r&&r[u+1];m&&(h=h.replaceChild(0,m.type.create(m.attrs)));let g=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(h))return!1}let a=o.indexAfter(i),l=r&&r[0];return o.node(i).canReplaceWith(a,a,l?l.type:o.node(i+1).type)}function G5e(t,e,n=1,r){let o=t.doc.resolve(e),i=Ge.empty,s=Ge.empty;for(let a=o.depth,l=o.depth-n,c=n-1;a>l;a--,c--){i=Ge.from(o.node(a).copy(i));let u=r&&r[c];s=Ge.from(u?u.type.create(u.attrs,s):o.node(a).copy(s))}t.step(new us(e,e,new vt(i.append(s),n,n),!0))}function Qh(t,e){let n=t.resolve(e),r=n.index();return xZ(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Y5e(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let o=0;o<e.childCount;o++){let i=e.child(o),s=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function xZ(t,e){return!!(t&&e&&!t.isLeaf&&Y5e(t,e))}function OA(t,e,n=-1){let r=t.resolve(e);for(let o=r.depth;;o--){let i,s,a=r.index(o);if(o==r.depth?(i=r.nodeBefore,s=r.nodeAfter):n>0?(i=r.node(o+1),a++,s=r.node(o).maybeChild(a)):(i=r.node(o).maybeChild(a-1),s=r.node(o+1)),i&&!i.isTextblock&&xZ(i,s)&&r.node(o).canReplace(a,a+1))return e;if(o==0)break;e=n<0?r.before(o):r.after(o)}}function X5e(t,e,n){let r=null,{linebreakReplacement:o}=t.doc.type.schema,i=t.doc.resolve(e-n),s=i.node().type;if(o&&s.inlineContent){let u=s.whitespace=="pre",d=!!s.contentMatch.matchType(o);u&&!d?r=!1:!u&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);wZ(t,u.node(),u.before(),a)}s.inlineContent&&fR(t,e+n-1,s,i.node().contentMatchAt(i.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new us(c,l.map(e+n,-1),vt.empty,!0)),r===!0){let u=t.doc.resolve(c);bZ(t,u.node(),u.before(),t.steps.length)}return t}function Q5e(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let i=r.indexAfter(o);if(r.node(o).canReplaceWith(i,i,n))return r.after(o+1);if(i<r.node(o).childCount)return null}return null}function kZ(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let o=n.content;for(let i=0;i<n.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),u=!1;if(i==1)u=c.canReplace(l,l,o);else{let d=c.contentMatchAt(l).findWrapping(o.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function $A(t,e,n=e,r=vt.empty){if(e==n&&!r.size)return null;let o=t.resolve(e),i=t.resolve(n);return SZ(o,i,r)?new us(e,n,r):new Z5e(o,i,r).fit()}function SZ(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Z5e{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Ge.empty;for(let o=0;o<=e.depth;o++){let i=e.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=Ge.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let i=this.placed,s=r.depth,a=o.depth;for(;s&&a&&i.childCount==1;)i=i.firstChild.content,s--,a--;let l=new vt(i,s,a);return e>-1?new ys(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new us(r.pos,o.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(o=0),i.type.spec.isolating&&o<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let o,i=null;r?(i=nO(this.unplaced.content,r-1).firstChild,o=i.content):o=this.unplaced.content;let s=o.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(s?c.matchType(s.type)||(d=c.fillBefore(Ge.from(s),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:d};if(n==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=nO(e,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new vt(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=nO(e,n);if(o.childCount<=1&&n>0){let i=e.size-n<=n+o.size;this.unplaced=new vt(j1(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new vt(j1(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:o,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let g=0;g<i.length;g++)this.openFrontierNode(i[g]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(o){for(let g=0;g<o.childCount;g++)u.push(o.child(g));d=d.matchFragment(o)}let h=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let g=a.child(c),v=d.matchType(g.type);if(!v)break;c++,(c>1||l==0||g.content.size)&&(d=v,u.push(CZ(g.mark(f.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?h:-1)))}let m=c==a.childCount;m||(h=-1),this.placed=A1(this.placed,n,Ge.from(u)),this.frontier[n].match=d,m&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,v=a;g<h;g++){let y=v.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),v=y.content}this.unplaced=m?e==0?vt.empty:new vt(j1(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new vt(j1(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!rO(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=rO(e,n,o,r,i);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=rO(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=A1(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let o=e.node(r),i=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,i)}return e}openFrontierNode(e,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=A1(this.placed,this.depth,Ge.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(Ge.empty,!0);e.childCount&&(this.placed=A1(this.placed,this.frontier.length,e))}}function j1(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(j1(t.firstChild.content,e-1,n)))}function A1(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(A1(t.lastChild.content,e-1,n)))}function nO(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function CZ(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,CZ(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(Ge.empty,!0)))),t.copy(r)}function rO(t,e,n,r,o){let i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,s);return a&&!eLe(n,i.content,s)?a:null}function eLe(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function tLe(t){return t.spec.defining||t.spec.definingForContent}function nLe(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let o=t.doc.resolve(e),i=t.doc.resolve(n);if(SZ(o,i,r))return t.step(new us(e,n,r));let s=AZ(o,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(o.depth+1);s.unshift(a);for(let f=o.depth,h=o.pos-1;f>0;f--,h--){let m=o.node(f).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;s.indexOf(f)>-1?a=f:o.before(f)==h&&s.splice(1,0,-f)}let l=s.indexOf(a),c=[],u=r.openStart;for(let f=r.content,h=0;;h++){let m=f.firstChild;if(c.push(m),h==r.openStart)break;f=m.content}for(let f=u-1;f>=0;f--){let h=c[f],m=tLe(h.type);if(m&&!h.sameMarkup(o.node(Math.abs(a)-1)))u=f;else if(m||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),m=c[h];if(m)for(let g=0;g<s.length;g++){let v=s[(g+l)%s.length],y=!0;v<0&&(y=!1,v=-v);let b=o.node(v-1),x=o.index(v-1);if(b.canReplaceWith(x,x,m.type,m.marks))return t.replace(o.before(v),y?i.after(v):n,new vt(jZ(r.content,0,r.openStart,h),h,r.openEnd))}}let d=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let h=s[f];h<0||(e=o.before(h),n=i.after(h))}}function jZ(t,e,n,r,o){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(jZ(i.content,e+1,n,r,i)))}if(e>r){let i=o.contentMatchAt(0),s=i.fillBefore(t).append(t);t=s.append(i.matchFragment(s).fillBefore(Ge.empty,!0))}return t}function rLe(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let o=Q5e(t.doc,e,r.type);o!=null&&(e=n=o)}t.replaceRange(e,n,new vt(Ge.from(r),0,0))}function oLe(t,e,n){let r=t.doc.resolve(e),o=t.doc.resolve(n),i=AZ(r,o);for(let s=0;s<i.length;s++){let a=i[s],l=s==i.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),o.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),o.indexAfter(a-1))))return t.delete(r.before(a),o.after(a))}for(let s=1;s<=r.depth&&s<=o.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&o.end(s)-n!=o.depth-s&&r.start(s-1)==o.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),o.index(s-1)))return t.delete(r.before(s),n);t.delete(e,n)}function AZ(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let o=r;o>=0;o--){let i=t.start(o);if(i<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(i==e.start(o)||o==t.depth&&o==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==i-1)&&n.push(o)}return n}class gv extends sa{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Fi.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return Fi.fromReplace(e,this.pos,this.pos+1,new vt(Ge.from(o),0,n.isLeaf?0:1))}getMap(){return tl.empty}invert(e){return new gv(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new gv(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new gv(n.pos,n.attr,n.value)}}sa.jsonID("attr",gv);class Cb extends sa{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Fi.ok(r)}getMap(){return tl.empty}invert(e){return new Cb(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Cb(n.attr,n.value)}}sa.jsonID("docAttr",Cb);let Zv=class extends Error{};Zv=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Zv.prototype=Object.create(Error.prototype);Zv.prototype.constructor=Zv;Zv.prototype.name="TransformError";class pR{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Sb}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Zv(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=vt.empty){let o=$A(this.doc,e,n,r);return o&&this.step(o),this}replaceWith(e,n,r){return this.replace(e,n,new vt(Ge.from(r),0,0))}delete(e,n){return this.replace(e,n,vt.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return nLe(this,e,n,r),this}replaceRangeWith(e,n,r){return rLe(this,e,n,r),this}deleteRange(e,n){return oLe(this,e,n),this}lift(e,n){return H5e(this,e,n),this}join(e,n=1){return X5e(this,e,n),this}wrap(e,n){return U5e(this,e,n),this}setBlockType(e,n=e,r,o=null){return W5e(this,e,n,r,o),this}setNodeMarkup(e,n,r=null,o){return J5e(this,e,n,r,o),this}setNodeAttribute(e,n,r){return this.step(new gv(e,n,r)),this}setDocAttribute(e,n){return this.step(new Cb(e,n)),this}addNodeMark(e,n){return this.step(new sh(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof bo)n.isInSet(r.marks)&&this.step(new Om(e,n));else{let o=r.marks,i,s=[];for(;i=n.isInSet(o);)s.push(new Om(e,i)),o=i.removeFromSet(o);for(let a=s.length-1;a>=0;a--)this.step(s[a])}return this}split(e,n=1,r){return G5e(this,e,n,r),this}addMark(e,n,r){return V5e(this,e,n,r),this}removeMark(e,n,r){return B5e(this,e,n,r),this}clearIncompatible(e,n,r){return fR(this,e,n,r),this}}const oO=Object.create(null);class xn{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new MZ(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=vt.empty){let r=n.content.lastChild,o=null;for(let a=0;a<n.openEnd;a++)o=r,r=r.lastChild;let i=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=e.mapping.slice(i);e.replaceRange(u.map(l.pos),u.map(c.pos),a?vt.empty:n),a==0&&X9(e,i,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,o=this.ranges;for(let i=0;i<o.length;i++){let{$from:s,$to:a}=o[i],l=e.mapping.slice(r),c=l.map(s.pos),u=l.map(a.pos);i?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),X9(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let o=e.parent.inlineContent?new Zt(e):$g(e.node(0),e.parent,e.pos,e.index(),n,r);if(o)return o;for(let i=e.depth-1;i>=0;i--){let s=n<0?$g(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):$g(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new ul(e.node(0))}static atStart(e){return $g(e,e,0,0,1)||new ul(e)}static atEnd(e){return $g(e,e,e.content.size,e.childCount,-1)||new ul(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=oO[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in oO)throw new RangeError("Duplicate use of selection JSON ID "+e);return oO[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Zt.between(this.$anchor,this.$head).getBookmark()}}xn.prototype.visible=!0;class MZ{constructor(e,n){this.$from=e,this.$to=n}}let G9=!1;function Y9(t){!G9&&!t.parent.inlineContent&&(G9=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Zt extends xn{constructor(e,n=e){Y9(e),Y9(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return xn.near(r);let o=e.resolve(n.map(this.anchor));return new Zt(o.parent.inlineContent?o:r,r)}replace(e,n=vt.empty){if(super.replace(e,n),n==vt.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Zt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new EA(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Zt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let o=e.resolve(n);return new this(o,r==n?o:e.resolve(r))}static between(e,n,r){let o=e.pos-n.pos;if((!r||o)&&(r=o>=0?1:-1),!n.parent.inlineContent){let i=xn.findFrom(n,r,!0)||xn.findFrom(n,-r,!0);if(i)n=i.$head;else return xn.near(n,r)}return e.parent.inlineContent||(o==0?e=n:(e=(xn.findFrom(e,-r,!0)||xn.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=o<0&&(e=n))),new Zt(e,n)}}xn.jsonID("text",Zt);class EA{constructor(e,n){this.anchor=e,this.head=n}map(e){return new EA(e.map(this.anchor),e.map(this.head))}resolve(e){return Zt.between(e.resolve(this.anchor),e.resolve(this.head))}}class Gt extends xn{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:o}=n.mapResult(this.anchor),i=e.resolve(o);return r?xn.near(i):new Gt(i)}content(){return new vt(Ge.from(this.node),0,0)}eq(e){return e instanceof Gt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new mR(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Gt(e.resolve(n.anchor))}static create(e,n){return new Gt(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Gt.prototype.visible=!1;xn.jsonID("node",Gt);class mR{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new EA(r,r):new mR(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Gt.isSelectable(r)?new Gt(n):xn.near(n)}}class ul extends xn{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=vt.empty){if(n==vt.empty){e.delete(0,e.doc.content.size);let r=xn.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new ul(e)}map(e){return new ul(e)}eq(e){return e instanceof ul}getBookmark(){return iLe}}xn.jsonID("all",ul);const iLe={map(){return this},resolve(t){return new ul(t)}};function $g(t,e,n,r,o,i=!1){if(e.inlineContent)return Zt.create(t,n);for(let s=r-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){let a=e.child(s);if(a.isAtom){if(!i&&Gt.isSelectable(a))return Gt.create(t,n-(o<0?a.nodeSize:0))}else{let l=$g(t,a,n+o,o<0?a.childCount:0,o,i);if(l)return l}n+=a.nodeSize*o}return null}function X9(t,e,n){let r=t.steps.length-1;if(r<e)return;let o=t.steps[r];if(!(o instanceof us||o instanceof ys))return;let i=t.mapping.maps[r],s;i.forEach((a,l,c,u)=>{s==null&&(s=u)}),t.setSelection(xn.near(t.doc.resolve(s),n))}const Q9=1,Z9=2,eB=4;class sLe extends pR{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Q9)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&Q9)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Z9,this}ensureMarks(e){return bo.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Z9)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||bo.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let o=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let s=this.doc.resolve(n);i=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,o.text(e,i)),this.selection.empty||this.setSelection(xn.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=eB,this}get scrolledIntoView(){return(this.updated&eB)>0}}function tB(t,e){return!e||!t?t:t.bind(e)}class M1{constructor(e,n,r){this.name=e,this.init=tB(n.init,r),this.apply=tB(n.apply,r)}}const aLe=[new M1("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new M1("selection",{init(t,e){return t.selection||xn.atStart(e.doc)},apply(t){return t.selection}}),new M1("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new M1("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class iO{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=aLe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new M1(r.key,r.spec.state,r))})}}class Wg{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),o=null;for(;;){let i=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=o?o[s].n:0,c=o?o[s].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",e),!o){o=[];for(let d=0;d<this.config.plugins.length;d++)o.push(d<s?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),i=!0}o&&(o[s]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Wg(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let i=r[o];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new sLe(this)}static create(e){let n=new iO(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Wg(n);for(let o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(e,r);return r}reconfigure(e){let n=new iO(this.schema,e.plugins),r=n.fields,o=new Wg(n);for(let i=0;i<r.length;i++){let s=r[i].name;o[s]=this.hasOwnProperty(s)?this[s]:r[i].init(e,o)}return o}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[r],i=o.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(o,this[o.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new iO(e.schema,e.plugins),i=new Wg(o);return o.fields.forEach(s=>{if(s.name=="doc")i.doc=Rd.fromJSON(e.schema,n.doc);else if(s.name=="selection")i.selection=xn.fromJSON(i.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){i[s.name]=c.fromJSON.call(l,e,n[a],i);return}}i[s.name]=s.init(e,i)}}),i}}function TZ(t,e,n){for(let r in t){let o=t[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=TZ(o,e,{})),n[r]=o}return n}class ko{constructor(e){this.spec=e,this.props={},e.props&&TZ(e.props,this,this.props),this.key=e.key?e.key.key:OZ("plugin")}getState(e){return e[this.key]}}const sO=Object.create(null);function OZ(t){return t in sO?t+"$"+ ++sO[t]:(sO[t]=0,t+"$")}class hi{constructor(e="key"){this.key=OZ(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const _s=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},ey=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let N_=null;const ad=function(t,e,n){let r=N_||(N_=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},lLe=function(){N_=null},$m=function(t,e,n,r){return n&&(nB(t,e,n,r,-1)||nB(t,e,n,r,1))},cLe=/^(img|br|input|textarea|hr)$/i;function nB(t,e,n,r,o){for(var i;;){if(t==n&&e==r)return!0;if(e==(o<0?0:Ol(t))){let s=t.parentNode;if(!s||s.nodeType!=1||Rw(t)||cLe.test(t.nodeName)||t.contentEditable=="false")return!1;e=_s(t)+(o<0?0:1),t=s}else if(t.nodeType==1){let s=t.childNodes[e+(o<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((i=s.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=o;else return!1;else t=s,e=o<0?Ol(t):0}else return!1}}function Ol(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function uLe(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ol(t)}else if(t.parentNode&&!Rw(t))e=_s(t),t=t.parentNode;else return null}}function dLe(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Rw(t))e=_s(t)+1,t=t.parentNode;else return null}}function fLe(t,e,n){for(let r=e==0,o=e==Ol(t);r||o;){if(t==n)return!0;let i=_s(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,o=o&&i==Ol(t)}}function Rw(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const _A=function(t){return t.focusNode&&$m(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function _p(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function hLe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function pLe(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Ol(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Ol(r.startContainer),r.startOffset)}}}const Lu=typeof navigator<"u"?navigator:null,rB=typeof document<"u"?document:null,Zh=Lu&&Lu.userAgent||"",L_=/Edge\/(\d+)/.exec(Zh),$Z=/MSIE \d/.exec(Zh),D_=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Zh),Ha=!!($Z||D_||L_),yh=$Z?document.documentMode:D_?+D_[1]:L_?+L_[1]:0,Dl=!Ha&&/gecko\/(\d+)/i.test(Zh);Dl&&+(/Firefox\/(\d+)/.exec(Zh)||[0,0])[1];const V_=!Ha&&/Chrome\/(\d+)/.exec(Zh),Ys=!!V_,EZ=V_?+V_[1]:0,xa=!Ha&&!!Lu&&/Apple Computer/.test(Lu.vendor),ty=xa&&(/Mobile\/\w+/.test(Zh)||!!Lu&&Lu.maxTouchPoints>2),Al=ty||(Lu?/Mac/.test(Lu.platform):!1),mLe=Lu?/Win/.test(Lu.platform):!1,Sd=/Android \d/.test(Zh),Nw=!!rB&&"webkitFontSmoothing"in rB.documentElement.style,gLe=Nw?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function vLe(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ed(t,e){return typeof t=="number"?t:t[e]}function yLe(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function oB(t,e,n){let r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let s=n||t.dom;s;){if(s.nodeType!=1){s=ey(s);continue}let a=s,l=a==i.body,c=l?vLe(i):yLe(a),u=0,d=0;if(e.top<c.top+ed(r,"top")?d=-(c.top-e.top+ed(o,"top")):e.bottom>c.bottom-ed(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+ed(o,"top")-c.top:e.bottom-c.bottom+ed(o,"bottom")),e.left<c.left+ed(r,"left")?u=-(c.left-e.left+ed(o,"left")):e.right>c.right-ed(r,"right")&&(u=e.right-c.right+ed(o,"right")),u||d)if(l)i.defaultView.scrollBy(u,d);else{let h=a.scrollLeft,m=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let g=a.scrollLeft-h,v=a.scrollTop-m;e={left:e.left-g,top:e.top-v,right:e.right-g,bottom:e.bottom-v}}let f=l?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(f))break;s=f=="absolute"?s.offsetParent:ey(s)}}function bLe(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,o;for(let i=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=t.root.elementFromPoint(i,s);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,o=l.top;break}}return{refDOM:r,refTop:o,stack:_Z(t.dom)}}function _Z(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=ey(r));return e}function wLe({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;PZ(n,r==0?0:r-e)}function PZ(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:o,left:i}=t[n];r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let yg=null;function xLe(t){if(t.setActive)return t.setActive();if(yg)return t.focus(yg);let e=_Z(t);t.focus(yg==null?{get preventScroll(){return yg={preventScroll:!0},!0}}:void 0),yg||(yg=!1,PZ(e,0))}function IZ(t,e){let n,r=2e8,o,i=0,s=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=ad(u).getClientRects();else continue;for(let h=0;h<f.length;h++){let m=f[h];if(m.top<=s&&m.bottom>=a){s=Math.max(m.bottom,s),a=Math.min(m.top,a);let g=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(g<r){n=u,r=g,o=g&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,u.nodeType==1&&g&&(i=d+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!l&&m.left<=e.left&&m.right>=e.left&&(l=u,c={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(i=d+1)}}return!n&&l&&(n=l,o=c,r=0),n&&n.nodeType==3?kLe(n,o):!n||r&&n.nodeType==1?{node:t,offset:i}:IZ(n,o)}function kLe(t,e){let n=t.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);let i=Ef(r,1);if(i.top!=i.bottom&&gR(e,i))return{node:t,offset:o+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function gR(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function SLe(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function CLe(t,e,n){let{node:r,offset:o}=IZ(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();i=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,o,i)}function jLe(t,e,n,r){let o=-1;for(let i=e,s=!1;i!=t.dom;){let a=t.docView.nearestDesc(i,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!s&&l.left>r.left||l.top>r.top?o=a.posBefore:(!s&&l.right<r.left||l.bottom<r.top)&&(o=a.posAfter),s=!0),!a.contentDOM&&o<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;i=a.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n,-1)}function RZ(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let s=t.childNodes[i];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(gR(e,c))return RZ(s,e,c)}}if((i=(i+1)%r)==o)break}return t}function ALe(t,e){let n=t.dom.ownerDocument,r,o=0,i=pLe(n,e.left,e.top);i&&({node:r,offset:o}=i);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=t.dom.getBoundingClientRect();if(!gR(e,c)||(s=RZ(t.dom,e,c),!s))return null}if(xa)for(let c=s;r&&c;c=ey(c))c.draggable&&(r=void 0);if(s=SLe(s,e),r){if(Dl&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let u=r.childNodes[o],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&o++}let c;Nw&&o&&r.nodeType==1&&(c=r.childNodes[o-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&o--,r==t.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(a=jLe(t,r,o,e))}a==null&&(a=CLe(t,s,e));let l=t.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function iB(t){return t.top<t.bottom||t.left<t.right}function Ef(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(iB(r))return r}return Array.prototype.find.call(n,iB)||t.getBoundingClientRect()}const MLe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function NZ(t,e,n){let{node:r,offset:o,atom:i}=t.docView.domFromPos(e,n<0?-1:1),s=Nw||Dl;if(r.nodeType==3)if(s&&(MLe.test(r.nodeValue)||(n<0?!o:o==r.nodeValue.length))){let a=Ef(ad(r,o,o),n);if(Dl&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let l=Ef(ad(r,o-1,o-1),-1);if(l.top==a.top){let c=Ef(ad(r,o,o+1),-1);if(c.top!=a.top)return l1(c,c.left<l.left)}}return a}else{let a=o,l=o,c=n<0?1:-1;return n<0&&!o?(l++,c=-1):n>=0&&o==r.nodeValue.length?(a--,c=1):n<0?a--:l++,l1(Ef(ad(r,a,l),c),c<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&o&&(n<0||o==Ol(r))){let a=r.childNodes[o-1];if(a.nodeType==1)return aO(a.getBoundingClientRect(),!1)}if(i==null&&o<Ol(r)){let a=r.childNodes[o];if(a.nodeType==1)return aO(a.getBoundingClientRect(),!0)}return aO(r.getBoundingClientRect(),n>=0)}if(i==null&&o&&(n<0||o==Ol(r))){let a=r.childNodes[o-1],l=a.nodeType==3?ad(a,Ol(a)-(s?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(l)return l1(Ef(l,1),!1)}if(i==null&&o<Ol(r)){let a=r.childNodes[o];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let l=a?a.nodeType==3?ad(a,0,s?0:1):a.nodeType==1?a:null:null;if(l)return l1(Ef(l,-1),!0)}return l1(Ef(r.nodeType==3?ad(r):r,-n),n>=0)}function l1(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function aO(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function LZ(t,e,n){let r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o&&o.focus()}}function TLe(t,e,n){let r=e.selection,o=n=="up"?r.$from:r.$to;return LZ(t,e,()=>{let{node:i}=t.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.contentDOM||a.dom;break}i=a.dom.parentNode}let s=NZ(t,o.pos,1);for(let a=i.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ad(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?s.top-u.top>(u.bottom-s.top)*2:u.bottom-s.bottom>(s.bottom-u.top)*2))return!1}}return!0})}const OLe=/[\u0590-\u08ac]/;function $Le(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,s=o==r.parent.content.size,a=t.domSelection();return a?!OLe.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?i:s:LZ(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:m,focusOffset:g}=t.domSelectionRange(),v=m&&!h.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),v}):r.pos==r.start()||r.pos==r.end()}let sB=null,aB=null,lB=!1;function ELe(t,e,n){return sB==e&&aB==n?lB:(sB=e,aB=n,lB=n=="up"||n=="down"?TLe(t,e,n):$Le(t,e,n))}const Vl=0,cB=1,Rp=2,Du=3;class Lw{constructor(e,n,r,o){this.parent=e,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=Vl,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let o=this.children[n];if(o==e)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,s;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(s)+s.size:this.posAtStart}else{let i,s;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=n>_s(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){o=!1;break}if(i.previousSibling)break}if(o==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){o=!0;break}if(i.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,o=e;o;o=o.parentNode){let i=this.getDesc(o),s;if(i&&(!n||i.node))if(r&&(s=i.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let o=e;o;o=o.parentNode){let i=this.getDesc(o);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],i=r+o.size;if(r==e&&i!=r){for(;!o.border&&o.children.length;)for(let s=0;s<o.children.length;s++){let a=o.children[s];if(a.size){o=a;break}}return o}if(e<i)return o.descAt(e-r-o.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,o=0;for(let i=0;r<this.children.length;r++){let s=this.children[r],a=i+s.size;if(a>e||s instanceof VZ){o=e-i;break}i=a}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof DZ&&i.side>=0;r--);if(n<=0){let i,s=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,s=!1);return i&&n&&s&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?_s(i.dom)+1:0}}else{let i,s=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,s=!1);return i&&s&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?_s(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,i=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(o==-1&&e<=c){let u=s+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=s;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){o=_s(f.dom)+1;break}e-=f.size}o==-1&&(o=0)}if(o>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=_s(d.dom);break}n+=d.size}i==-1&&(i=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:n,fromOffset:o,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,o=!1){let i=Math.min(e,n),s=Math.max(e,n);for(let h=0,m=0;h<this.children.length;h++){let g=this.children[h],v=m+g.size;if(i>m&&s<v)return g.setSelection(e-m-g.border,n-m-g.border,r,o);m=v}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),d=!1;if((Dl||xa)&&e==n){let{node:h,offset:m}=a;if(h.nodeType==3){if(d=!!(m&&h.nodeValue[m-1]==`
`),d&&m==h.nodeValue.length)for(let g=h,v;g;g=g.parentNode){if(v=g.nextSibling){v.nodeName=="BR"&&(a=l={node:v.parentNode,offset:_s(v)+1});break}let y=g.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let g=h.childNodes[m-1];d=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(Dl&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let h=u.focusNode.childNodes[u.focusOffset];h&&h.contentEditable=="false"&&(o=!0)}if(!(o||d&&xa)&&$m(a.node,a.offset,u.anchorNode,u.anchorOffset)&&$m(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((c.extend||e==n)&&!(d&&Dl)){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>n){let m=a;a=l,l=m}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,o=0;o<this.children.length;o++){let i=this.children[o],s=r+i.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let a=r+i.border,l=s-i.border;if(e>=a&&n<=l){this.dirty=e==r||n==s?Rp:cB,e==a&&n==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Du:i.markDirty(e-a,n-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Rp:Du}r=s}this.dirty=Rp}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Rp:cB;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class DZ extends Lw{constructor(e,n,r,o){let i,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!i)return o;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==Vl&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class _Le extends Lw{constructor(e,n,r,o){super(e,[],n,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Em extends Lw{constructor(e,n,r,o,i){super(e,[],r,o),this.mark=n,this.spec=i}static create(e,n,r,o){let i=o.nodeViews[n.type.name],s=i&&i(n,o,r);return(!s||!s.dom)&&(s=Xh.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Em(e,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Du||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Du&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Vl){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Vl}}slice(e,n,r){let o=Em.create(this.parent,this.mark,!0,r),i=this.children,s=this.size;n<s&&(i=z_(i,n,s,r)),e>0&&(i=z_(i,0,e,r));for(let a=0;a<i.length;a++)i[a].parent=o;return o.children=i,o}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class bh extends Lw{constructor(e,n,r,o,i,s,a,l,c){super(e,[],i,s),this.node=n,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=a}static create(e,n,r,o,i,s){let a=i.nodeViews[n.type.name],l,c=a&&a(n,i,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,o),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Xh.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=HZ(u,r,n),c?l=new PLe(e,n,r,o,u,d||null,f,c,i,s+1):n.isText?new PA(e,n,r,o,u,f,i):new bh(e,n,r,o,u,d||null,f,i,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Ge.empty)}return e}matchesNode(e,n,r){return this.dirty==Vl&&e.eq(this.node)&&aC(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,o=n,i=e.composing?this.localCompositionInfo(e,n):null,s=i&&i.pos>-1?i:null,a=i&&i.pos<0,l=new RLe(this,s&&s.node,e);DLe(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?bo.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,o)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,e);let h;l.findNodeMatch(c,u,d,f)||a&&e.state.selection.from>o&&e.state.selection.to<o+c.nodeSize&&(h=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(c,u,d,h,e)||l.updateNextNode(c,u,d,e,f,o)||l.addNode(c,u,d,e,o),o+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Rp)&&(s&&this.protectLocalComposition(e,s),BZ(this.contentDOM,this.children,e),ty&&VLe(this.dom))}localCompositionInfo(e,n){let{from:r,to:o}=e.state.selection;if(!(e.state.selection instanceof Zt)||r<n||o>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let s=i.nodeValue,a=BLe(this.node.content,s,r-n,o-n);return a<0?null:{node:i,pos:a,text:s}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:o}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let s=new _Le(this,i,n,o);e.input.compositionNodes.push(s),this.children=z_(this.children,r,r+o.length,e,s)}update(e,n,r,o){return this.dirty==Du||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,o),!0)}updateInner(e,n,r,o){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=Vl}updateOuterDeco(e){if(aC(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=zZ(this.dom,this.nodeDOM,B_(this.outerDeco,this.node,n),B_(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function uB(t,e,n,r,o){HZ(r,e,t);let i=new bh(void 0,t,e,n,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class PA extends bh{constructor(e,n,r,o,i,s,a){super(e,n,r,o,i,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,o){return this.dirty==Du||this.dirty!=Vl&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Vl||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=Vl,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let o=this.node.cut(e,n),i=document.createTextNode(o.text);return new PA(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Du)}get domAtom(){return!1}isText(e){return this.node.text==e}}class VZ extends Lw{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Vl&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class PLe extends bh{constructor(e,n,r,o,i,s,a,l,c,u){super(e,n,r,o,i,s,a,c,u),this.spec=l}update(e,n,r,o){if(this.dirty==Du)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,o),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function BZ(t,e,n){let r=t.firstChild,o=!1;for(let i=0;i<e.length;i++){let s=e[i],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=dB(r),o=!0;r=r.nextSibling}else o=!0,t.insertBefore(a,r);if(s instanceof Em){let l=r?r.previousSibling:t.lastChild;BZ(s.contentDOM,s.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=dB(r),o=!0;o&&n.trackWrites==t&&(n.trackWrites=null)}const a0=function(t){t&&(this.nodeName=t)};a0.prototype=Object.create(null);const Np=[new a0];function B_(t,e,n){if(t.length==0)return Np;let r=n?Np[0]:new a0,o=[r];for(let i=0;i<t.length;i++){let s=t[i].type.attrs;if(s){s.nodeName&&o.push(r=new a0(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&o.length==1&&o.push(r=new a0(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return o}function zZ(t,e,n,r){if(n==Np&&r==Np)return e;let o=e;for(let i=0;i<r.length;i++){let s=r[i],a=n[i];if(i){let l;a&&a.nodeName==s.nodeName&&o!=t&&(l=o.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(o),a=Np[0]),o=l}ILe(o,a||Np[0],s)}return o}function ILe(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)o.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<o.length;i++)r.indexOf(o[i])==-1&&t.classList.add(o[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(e.style);)t.style.removeProperty(o[1])}n.style&&(t.style.cssText+=n.style)}}function HZ(t,e,n){return zZ(t,t,Np,B_(e,n,t.nodeType!=1))}function aC(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function dB(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class RLe{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=NLe(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let o=0,i=this.stack.length>>1,s=Math.min(i,e.length);for(;o<s&&(o==i-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<i;)this.destroyRest(),this.top.dirty=Vl,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[i])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Em.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,o){let i=-1,s;if(o>=this.preMatch.index&&(s=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))i=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,o,i){let s=this.top.children[o];return s.dirty==Du&&s.dom==s.contentDOM&&(s.dirty=Rp),s.update(e,n,r,i)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=n}}updateNextNode(e,n,r,o,i,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof bh){let c=this.preMatch.matched.get(l);if(c!=null&&c!=i)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Du&&aC(n,l.outerDeco));if(!f&&l.update(e,n,r,o))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,n,r,o,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Rp,d.updateChildren(o,s+1),d.dirty=Vl),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,o,i,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!aC(r,e.outerDeco)||!o.eq(e.innerDeco))return null;let a=bh.create(this.top,n,r,o,i,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,o,i){let s=bh.create(this.top,e,n,r,o,i);s.contentDOM&&s.updateChildren(o,i+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let i=new DZ(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Em;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof PA)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((xa||Ys)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new VZ(this.top,[],r,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function NLe(t,e){let n=e,r=n.children.length,o=t.childCount,i=new Map,s=[];e:for(;o>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof Em)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(o-1))break;--o,i.set(a,o),s.push(a)}}return{index:o,matched:i,matches:s.reverse()}}function LLe(t,e){return t.type.side-e.type.side}function DLe(t,e,n,r){let o=e.locals(t),i=0;if(o.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,o,e.forChild(i,u),c),i+=u.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,d;for(;s<o.length&&o[s].to==i;){let v=o[s++];v.widget&&(u?(d||(d=[u])).push(v):u=v)}if(u)if(d){d.sort(LLe);for(let v=0;v<d.length;v++)n(d[v],c,!!l)}else n(u,c,!!l);let f,h;if(l)h=-1,f=l,l=null;else if(c<t.childCount)h=c,f=t.child(c++);else break;for(let v=0;v<a.length;v++)a[v].to<=i&&a.splice(v--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)a.push(o[s++]);let m=i+f.nodeSize;if(f.isText){let v=m;s<o.length&&o[s].from<v&&(v=o[s].from);for(let y=0;y<a.length;y++)a[y].to<v&&(v=a[y].to);v<m&&(l=f.cut(v-i),f=f.cut(0,v-i),m=v,h=-1)}else for(;s<o.length&&o[s].to<m;)s++;let g=f.isInline&&!f.isLeaf?a.filter(v=>!v.inline):a.slice();r(f,g,e.forChild(i,f),h),i=m}}function VLe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function BLe(t,e,n,r){for(let o=0,i=0;o<t.childCount&&i<=r;){let s=t.child(o++),a=i;if(i+=s.nodeSize,!s.isText)continue;let l=s.text;for(;o<t.childCount;){let c=t.child(o++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){if(i>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function z_(t,e,n,r,o){let i=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],c=a,u=a+=l.size;c>=n||u<=e?i.push(l):(c<e&&i.push(l.slice(0,e-c,r)),o&&(i.push(o),o=void 0),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function vR(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let o=t.docView.nearestDesc(n.focusNode),i=o&&o.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(_A(n)){for(l=s;o&&!o.node;)o=o.parent;let d=o.node;if(o&&d.isAtom&&Gt.isSelectable(d)&&o.parent&&!(d.isInline&&fLe(n.focusNode,n.focusOffset,o.dom))){let f=o.posBefore;c=new Gt(s==f?a:r.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=s,f=s;for(let h=0;h<n.rangeCount;h++){let m=n.getRangeAt(h);d=Math.min(d,t.docView.posFromDOM(m.startContainer,m.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(d<0)return null;[l,s]=f==t.state.selection.anchor?[f,d]:[d,f],a=r.resolve(s)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!i?1:-1;c=yR(t,u,a,d)}return c}function FZ(t){return t.editable?t.hasFocus():UZ(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ld(t,e=!1){let n=t.state.selection;if(qZ(t,n),!!FZ(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Ys){let r=t.domSelectionRange(),o=t.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&$m(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)HLe(t);else{let{anchor:r,head:o}=n,i,s;fB&&!(n instanceof Zt)&&(n.$from.parent.inlineContent||(i=hB(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=hB(t,n.to))),t.docView.setSelection(r,o,t,e),fB&&(i&&pB(i),s&&pB(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&zLe(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const fB=xa||Ys&&EZ<63;function hB(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(xa&&o&&o.contentEditable=="false")return lO(o);if((!o||o.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(o)return lO(o);if(i)return lO(i)}}function lO(t){return t.contentEditable="true",xa&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function pB(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function zLe(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=o)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!FZ(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function HLe(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,_s(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Ha&&yh<=11&&(n.disabled=!0,n.disabled=!1)}function qZ(t,e){if(e instanceof Gt){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(mB(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else mB(t)}function mB(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function yR(t,e,n,r){return t.someProp("createSelectionBetween",o=>o(t,e,n))||Zt.between(e,n,r)}function gB(t){return t.editable&&!t.hasFocus()?!1:UZ(t)}function UZ(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function FLe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return $m(e.node,e.offset,n.anchorNode,n.anchorOffset)}function H_(t,e){let{$anchor:n,$head:r}=t.selection,o=e>0?n.max(r):n.min(r),i=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return i&&xn.findFrom(i,e)}function Bf(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function vB(t,e,n){let r=t.state.selection;if(r instanceof Zt)if(n.indexOf("s")>-1){let{$head:o}=r,i=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let s=t.state.doc.resolve(o.pos+i.nodeSize*(e<0?-1:1));return Bf(t,new Zt(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let o=H_(t.state,e);return o&&o instanceof Gt?Bf(t,o):!1}else if(!(Al&&n.indexOf("m")>-1)){let o=r.$head,i=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,s;if(!i||i.isText)return!1;let a=e<0?o.pos-i.nodeSize:o.pos;return i.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?Gt.isSelectable(i)?Bf(t,new Gt(e<0?t.state.doc.resolve(o.pos-i.nodeSize):o)):Nw?Bf(t,new Zt(t.state.doc.resolve(e<0?a:a+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Gt&&r.node.isInline)return Bf(t,new Zt(e>0?r.$to:r.$from));{let o=H_(t.state,e);return o?Bf(t,o):!1}}}function lC(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function l0(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function bg(t,e){return e<0?qLe(t):ULe(t)}function qLe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o,i,s=!1;for(Dl&&n.nodeType==1&&r<lC(n)&&l0(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(l0(a,-1))o=n,i=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(WZ(n))break;{let a=n.previousSibling;for(;a&&l0(a,-1);)o=n.parentNode,i=_s(a),a=a.previousSibling;if(a)n=a,r=lC(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?F_(t,n,r):o&&F_(t,o,i)}function ULe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o=lC(n),i,s;for(;;)if(r<o){if(n.nodeType!=1)break;let a=n.childNodes[r];if(l0(a,1))i=n,s=++r;else break}else{if(WZ(n))break;{let a=n.nextSibling;for(;a&&l0(a,1);)i=a.parentNode,s=_s(a)+1,a=a.nextSibling;if(a)n=a,r=0,o=lC(n);else{if(n=n.parentNode,n==t.dom)break;r=o=0}}}i&&F_(t,i,s)}function WZ(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function WLe(t,e){for(;t&&e==t.childNodes.length&&!Rw(t);)e=_s(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function KLe(t,e){for(;t&&!e&&!Rw(t);)e=_s(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function F_(t,e,n){if(e.nodeType!=3){let i,s;(s=WLe(e,n))?(e=s,n=0):(i=KLe(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(_A(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:o}=t;setTimeout(()=>{t.state==o&&Ld(t)},50)}function yB(t,e){let n=t.state.doc.resolve(e);if(!(Ys||mLe)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),i=(o.top+o.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(o.left-r.left)>1)return o.left<r.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),i=(o.top+o.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(o.left-r.left)>1)return o.left>r.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function bB(t,e,n){let r=t.state.selection;if(r instanceof Zt&&!r.empty||n.indexOf("s")>-1||Al&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=r;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=H_(t.state,e);if(s&&s instanceof Gt)return Bf(t,s)}if(!o.parent.inlineContent){let s=e<0?o:i,a=r instanceof ul?xn.near(s,e):xn.findFrom(s,e);return a?Bf(t,a):!1}return!1}function wB(t,e){if(!(t.state.selection instanceof Zt))return!0;let{$head:n,$anchor:r,empty:o}=t.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let s=t.state.tr;return e<0?s.delete(n.pos-i.nodeSize,n.pos):s.delete(n.pos,n.pos+i.nodeSize),t.dispatch(s),!0}return!1}function xB(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function JLe(t){if(!xa||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;xB(t,r,"true"),setTimeout(()=>xB(t,r,"false"),20)}return!1}function GLe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function YLe(t,e){let n=e.keyCode,r=GLe(e);if(n==8||Al&&n==72&&r=="c")return wB(t,-1)||bg(t,-1);if(n==46&&!e.shiftKey||Al&&n==68&&r=="c")return wB(t,1)||bg(t,1);if(n==13||n==27)return!0;if(n==37||Al&&n==66&&r=="c"){let o=n==37?yB(t,t.state.selection.from)=="ltr"?-1:1:-1;return vB(t,o,r)||bg(t,o)}else if(n==39||Al&&n==70&&r=="c"){let o=n==39?yB(t,t.state.selection.from)=="ltr"?1:-1:1;return vB(t,o,r)||bg(t,o)}else{if(n==38||Al&&n==80&&r=="c")return bB(t,-1,r)||bg(t,-1);if(n==40||Al&&n==78&&r=="c")return JLe(t)||bB(t,1,r)||bg(t,1);if(r==(Al?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function bR(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:o,openEnd:i}=e;for(;o>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,i--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let s=t.someProp("clipboardSerializer")||Xh.fromSchema(t.state.schema),a=QZ(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=XZ[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let m=a.createElement(u[h]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${o} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function KZ(t,e,n,r,o){let i=o.parent.type.spec.code,s,a;if(!n&&!e)return null;let l=!!e&&(r||i||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,i||r,t)}),i)return a=new vt(Ge.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",f=>{a=f(a,t,!0)}),a;let d=t.someProp("clipboardTextParser",f=>f(e,o,r,t));if(d)a=d;else{let f=o.marks(),{schema:h}=t.state,m=Xh.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let v=s.appendChild(document.createElement("p"));g&&v.appendChild(m.serializeNode(h.text(g,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),s=eDe(n),Nw&&tDe(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||vh.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||u),context:o,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!XLe.test(d.parentNode.nodeName)?{ignore:!0}:null}})),u)a=nDe(kB(a,+u[1],+u[2]),u[4]);else if(a=vt.maxOpen(QLe(a.content,o),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=kB(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t,l)}),a}const XLe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function QLe(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),o,i=[];if(t.forEach(s=>{if(!i)return;let a=r.findWrapping(s.type),l;if(!a)return i=null;if(l=i.length&&o.length&&GZ(a,o,s,i[i.length-1],0))i[i.length-1]=l;else{i.length&&(i[i.length-1]=YZ(i[i.length-1],o.length));let c=JZ(s,a);i.push(c),r=r.matchType(c.type),o=a}}),i)return Ge.from(i)}return t}function JZ(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,Ge.from(t));return t}function GZ(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){let i=GZ(t,e,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(Ge.from(JZ(n,t,o+1))))}}function YZ(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,YZ(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(Ge.empty,!0);return t.copy(n.append(r))}function q_(t,e,n,r,o,i){let s=e<0?t.firstChild:t.lastChild,a=s.content;return t.childCount>1&&(i=0),o<r-1&&(a=q_(a,e,n,r,o+1,i)),o>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,i<=o).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(Ge.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function kB(t,e,n){return e<t.openStart&&(t=new vt(q_(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new vt(q_(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const XZ={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let SB=null;function QZ(){return SB||(SB=document.implementation.createHTMLDocument("title"))}let cO=null;function ZLe(t){let e=window.trustedTypes;return e?(cO||(cO=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),cO.createHTML(t)):t}function eDe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=QZ().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),o;if((o=r&&XZ[r[1].toLowerCase()])&&(t=o.map(i=>"<"+i+">").join("")+t+o.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=ZLe(t),o)for(let i=0;i<o.length;i++)n=n.querySelector(o[i])||n;return n}function tDe(t){let e=t.querySelectorAll(Ys?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function nDe(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:o,openStart:i,openEnd:s}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;o=Ge.from(l.create(r[a+1],o)),i++,s++}return new vt(o,i,s)}const ka={},Sa={},rDe={touchstart:!0,touchmove:!0};class oDe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function iDe(t){for(let e in ka){let n=ka[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{aDe(t,r)&&!wR(t,r)&&(t.editable||!(r.type in Sa))&&n(t,r)},rDe[e]?{passive:!0}:void 0)}xa&&t.dom.addEventListener("input",()=>null),U_(t)}function ah(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function sDe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function U_(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>wR(t,r))})}function wR(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function aDe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function lDe(t,e){!wR(t,e)&&ka[e.type]&&(t.editable||!(e.type in Sa))&&ka[e.type](t,e)}Sa.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!eee(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Sd&&Ys&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),ty&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",o=>o(t,_p(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||YLe(t,n)?n.preventDefault():ah(t,"key")};Sa.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Sa.keypress=(t,e)=>{let n=e;if(eee(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Al&&n.metaKey)return;if(t.someProp("handleKeyPress",o=>o(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Zt)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(n.charCode),i=()=>t.state.tr.insertText(o).scrollIntoView();!/[\r\n]/.test(o)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,o,i))&&t.dispatch(i()),n.preventDefault()}};function IA(t){return{left:t.clientX,top:t.clientY}}function cDe(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function xR(t,e,n,r,o){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let s=i.depth+1;s>0;s--)if(t.someProp(e,a=>s>i.depth?a(t,n,i.nodeAfter,i.before(s),o,!0):a(t,n,i.node(s),i.before(s),o,!1)))return!0;return!1}function vv(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function uDe(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Gt.isSelectable(r)?(vv(t,new Gt(n)),!0):!1}function dDe(t,e){if(e==-1)return!1;let n=t.state.selection,r,o;n instanceof Gt&&(r=n.node);let i=t.state.doc.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s);if(Gt.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?o=i.before(n.$from.depth):o=i.before(s);break}}return o!=null?(vv(t,Gt.create(t.state.doc,o)),!0):!1}function fDe(t,e,n,r,o){return xR(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(o?dDe(t,n):uDe(t,n))}function hDe(t,e,n,r){return xR(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",o=>o(t,e,r))}function pDe(t,e,n,r){return xR(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",o=>o(t,e,r))||mDe(t,n,r)}function mDe(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(vv(t,Zt.create(r,0,r.content.size)),!0):!1;let o=r.resolve(e);for(let i=o.depth+1;i>0;i--){let s=i>o.depth?o.nodeAfter:o.node(i),a=o.before(i);if(s.inlineContent)vv(t,Zt.create(r,a+1,a+1+s.content.size));else if(Gt.isSelectable(s))vv(t,Gt.create(r,a));else continue;return!0}}function kR(t){return cC(t)}const ZZ=Al?"metaKey":"ctrlKey";ka.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=kR(t),o=Date.now(),i="singleClick";o-t.input.lastClick.time<500&&cDe(n,t.input.lastClick)&&!n[ZZ]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i,button:n.button};let s=t.posAtCoords(IA(n));s&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new gDe(t,s,n,!!r)):(i=="doubleClick"?hDe:pDe)(t,s.pos,s.inside,n)?n.preventDefault():ah(t,"pointer"))};class gDe{constructor(e,n,r,o){this.view=e,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[ZZ],this.allowDefault=r.shiftKey;let i,s;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),s=n.inside;else{let u=e.state.doc.resolve(n.pos);i=u.parent,s=u.depth?u.before():0}const a=o?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof Gt&&c.from<=s&&c.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Dl&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ah(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ld(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(IA(e))),this.updateAllowDefault(e),this.allowDefault||!n?ah(this.view,"pointer"):fDe(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||xa&&this.mightDrag&&!this.mightDrag.node.isAtom||Ys&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(vv(this.view,xn.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):ah(this.view,"pointer")}move(e){this.updateAllowDefault(e),ah(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ka.touchstart=t=>{t.input.lastTouch=Date.now(),kR(t),ah(t,"pointer")};ka.touchmove=t=>{t.input.lastTouch=Date.now(),ah(t,"pointer")};ka.contextmenu=t=>kR(t);function eee(t,e){return t.composing?!0:xa&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const vDe=Sd?5e3:-1;Sa.compositionstart=Sa.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Zt&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),cC(t,!0),t.markCursor=null;else if(cC(t,!e.selection.empty),Dl&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let o=r.focusNode,i=r.focusOffset;o&&o.nodeType==1&&i!=0;){let s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(s.nodeType==3){let a=t.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else o=s,i=-1}}t.input.composing=!0}tee(t,vDe)};Sa.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,tee(t,20))};function tee(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>cC(t),e))}function nee(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=bDe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function yDe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=uLe(e.focusNode,e.focusOffset),r=dLe(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let o=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!o||!o.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function bDe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function cC(t,e=!1){if(!(Sd&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),nee(t),e||t.docView&&t.docView.dirty){let n=vR(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function wDe(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const jb=Ha&&yh<15||ty&&gLe<604;ka.copy=Sa.cut=(t,e)=>{let n=e,r=t.state.selection,o=n.type=="cut";if(r.empty)return;let i=jb?null:n.clipboardData,s=r.content(),{dom:a,text:l}=bR(t,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):wDe(t,a),o&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function xDe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function kDe(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Ab(t,r.value,null,o,e):Ab(t,r.textContent,r.innerHTML,o,e)},50)}function Ab(t,e,n,r,o){let i=KZ(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,o,i||vt.empty)))return!0;if(!i)return!1;let s=xDe(i),a=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(i);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function ree(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Sa.paste=(t,e)=>{let n=e;if(t.composing&&!Sd)return;let r=jb?null:n.clipboardData,o=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Ab(t,ree(r),r.getData("text/html"),o,n)?n.preventDefault():kDe(t,n)};class oee{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const SDe=Al?"altKey":"ctrlKey";function iee(t,e){return t.someProp("dragCopies",r=>!r(e))??!e[SDe]}ka.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=t.state.selection,i=o.empty?null:t.posAtCoords(IA(n)),s;if(!(i&&i.pos>=o.from&&i.pos<=(o instanceof Gt?o.to-1:o.to))){if(r&&r.mightDrag)s=Gt.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(s=Gt.create(t.state.doc,d.posBefore))}}let a=(s||t.state.selection).content(),{dom:l,text:c,slice:u}=bR(t,a);(!n.dataTransfer.files.length||!Ys||EZ>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(jb?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",jb||n.dataTransfer.setData("text/plain",c),t.dragging=new oee(u,iee(t,n),s)};ka.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Sa.dragover=Sa.dragenter=(t,e)=>e.preventDefault();Sa.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let o=t.posAtCoords(IA(n));if(!o)return;let i=t.state.doc.resolve(o.pos),s=r&&r.slice;s?t.someProp("transformPasted",m=>{s=m(s,t,!1)}):s=KZ(t,ree(n.dataTransfer),jb?null:n.dataTransfer.getData("text/html"),!1,i);let a=!!(r&&iee(t,n));if(t.someProp("handleDrop",m=>m(t,n,s||vt.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?kZ(t.state.doc,i.pos,s):i.pos;l==null&&(l=i.pos);let c=t.state.tr;if(a){let{node:m}=r;m?m.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(f))return;let h=c.doc.resolve(u);if(d&&Gt.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new Gt(h));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,v,y,b)=>m=b),c.setSelection(yR(t,h,c.doc.resolve(m)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};ka.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ld(t)},20))};ka.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};ka.beforeinput=(t,e)=>{if(Ys&&Sd&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,_p(8,"Backspace")))))return;let{$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let t in Sa)ka[t]=Sa[t];function Mb(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class uC{constructor(e,n){this.toDOM=e,this.spec=n||Qp,this.side=this.spec.side||0}map(e,n,r,o){let{pos:i,deleted:s}=e.mapResult(n.from+o,this.side<0?-1:1);return s?null:new ms(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof uC&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Mb(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class wh{constructor(e,n){this.attrs=e,this.spec=n||Qp}map(e,n,r,o){let i=e.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return i>=s?null:new ms(i,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof wh&&Mb(this.attrs,e.attrs)&&Mb(this.spec,e.spec)}static is(e){return e.type instanceof wh}destroy(){}}class SR{constructor(e,n){this.attrs=e,this.spec=n||Qp}map(e,n,r,o){let i=e.mapResult(n.from+o,1);if(i.deleted)return null;let s=e.mapResult(n.to+o,-1);return s.deleted||s.pos<=i.pos?null:new ms(i.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:o}=e.content.findIndex(n.from),i;return o==n.from&&!(i=e.child(r)).isText&&o+i.nodeSize==n.to}eq(e){return this==e||e instanceof SR&&Mb(this.attrs,e.attrs)&&Mb(this.spec,e.spec)}destroy(){}}class ms{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new ms(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new ms(e,e,new uC(n,r))}static inline(e,n,r,o){return new ms(e,n,new wh(r,o))}static node(e,n,r,o){return new ms(e,n,new SR(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof wh}get widget(){return this.type instanceof uC}}const Eg=[],Qp={};class Eo{constructor(e,n){this.local=e.length?e:Eg,this.children=n.length?n:Eg}static create(e,n){return n.length?dC(n,e,0,Qp):Bs}find(e,n,r){let o=[];return this.findInner(e??0,n??1e9,o,0,r),o}findInner(e,n,r,o,i){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!i||i(a.spec))&&r.push(a.copy(a.from+o,a.to+o))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,r,o+a,i)}}map(e,n,r){return this==Bs||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Qp)}mapInner(e,n,r,o,i){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,o);l&&l.type.valid(n,l)?(s||(s=[])).push(l):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?CDe(this.children,s||[],e,n,r,o,i):s?new Eo(s.sort(Zp),Eg):Bs}add(e,n){return n.length?this==Bs?Eo.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let o,i=0;e.forEach((a,l)=>{let c=l+r,u;if(u=aee(n,a,c)){for(o||(o=this.children.slice());i<o.length&&o[i]<l;)i+=3;o[i]==l?o[i+2]=o[i+2].addInner(a,u,c+1):o.splice(i,0,l,l+a.nodeSize,dC(u,a,c+1,Qp)),i+=3}});let s=see(i?lee(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new Eo(s.length?this.local.concat(s).sort(Zp):this.local,o||this.children)}remove(e){return e.length==0||this==Bs?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,o=this.local;for(let i=0;i<r.length;i+=3){let s,a=r[i]+n,l=r[i+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[i+2].removeInner(s,a+1);c!=Bs?r[i+2]=c:(r.splice(i,3),i-=3)}if(o.length){for(let i=0,s;i<e.length;i++)if(s=e[i])for(let a=0;a<o.length;a++)o[a].eq(s,n)&&(o==this.local&&(o=this.local.slice()),o.splice(a--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new Eo(o,r):Bs}forChild(e,n){if(this==Bs)return this;if(n.isLeaf)return Eo.empty;let r,o;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let i=e+1,s=i+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>i&&l.type instanceof wh){let c=Math.max(i,l.from)-i,u=Math.min(s,l.to)-i;c<u&&(o||(o=[])).push(l.copy(c,u))}}if(o){let a=new Eo(o.sort(Zp),Eg);return r?new Wf([a,r]):a}return r||Bs}eq(e){if(this==e)return!0;if(!(e instanceof Eo)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return CR(this.localsInner(e))}localsInner(e){if(this==Bs)return Eg;if(e.inlineContent||!this.local.some(wh.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof wh||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Eo.empty=new Eo([],[]);Eo.removeOverlap=CR;const Bs=Eo.empty;class Wf{constructor(e){this.members=e}map(e,n){const r=this.members.map(o=>o.map(e,n,Qp));return Wf.from(r)}forChild(e,n){if(n.isLeaf)return Eo.empty;let r=[];for(let o=0;o<this.members.length;o++){let i=this.members[o].forChild(e,n);i!=Bs&&(i instanceof Wf?r=r.concat(i.members):r.push(i))}return Wf.from(r)}eq(e){if(!(e instanceof Wf)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let o=0;o<this.members.length;o++){let i=this.members[o].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let s=0;s<i.length;s++)n.push(i[s])}}return n?CR(r?n:n.sort(Zp)):Eg}static from(e){switch(e.length){case 0:return Bs;case 1:return e[0];default:return new Wf(e.every(n=>n instanceof Eo)?e:e.reduce((n,r)=>n.concat(r instanceof Eo?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function CDe(t,e,n,r,o,i,s){let a=t.slice();for(let c=0,u=i;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,h,m,g)=>{let v=g-m-(h-f);for(let y=0;y<a.length;y+=3){let b=a[y+1];if(b<0||f>b+u-d)continue;let x=a[y]+u-d;h>=x?a[y+1]=f<=x?-2:-1:f>=u&&v&&(a[y]+=v,a[y+1]+=v)}d+=v}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+i),d=u-o;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(t[c+1]+i,-1),h=f-o,{index:m,offset:g}=r.content.findIndex(d),v=r.maybeChild(m);if(v&&g==d&&g+v.nodeSize==h){let y=a[c+2].mapInner(n,v,u+1,t[c]+i+1,s);y!=Bs?(a[c]=d,a[c+1]=h,a[c+2]=y):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=jDe(a,t,e,n,o,i,s),u=dC(c,r,0,s);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new Eo(e.sort(Zp),a)}function see(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let o=t[r];n.push(new ms(o.from+e,o.to+e,o.type))}return n}function jDe(t,e,n,r,o,i,s){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,o,c);d?n.push(d):s.onRemove&&s.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+i+1);return n}function aee(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,o=null;for(let i=0,s;i<t.length;i++)(s=t[i])&&s.from>n&&s.to<r&&((o||(o=[])).push(s),t[i]=null);return o}function lee(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function dC(t,e,n,r){let o=[],i=!1;e.forEach((a,l)=>{let c=aee(t,a,l+n);if(c){i=!0;let u=dC(c,a,n+l+1,r);u!=Bs&&o.push(l,l+a.nodeSize,u)}});let s=see(i?lee(t):t,-n).sort(Zp);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new Eo(s,o):Bs}function Zp(t,e){return t.from-e.from||t.to-e.to}function CR(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let o=n+1;o<e.length;o++){let i=e[o];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,r.to),CB(e,o+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),CB(e,o,r.copy(i.from,r.to)));break}}}return e}function CB(t,e,n){for(;e<t.length&&Zp(n,t[e])>0;)e++;t.splice(e,0,n)}function uO(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Bs&&e.push(r)}),t.cursorWrapper&&e.push(Eo.create(t.state.doc,[t.cursorWrapper.deco])),Wf.from(e)}const ADe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},MDe=Ha&&yh<=11;class TDe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class ODe{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new TDe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);Ha&&yh<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),MDe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,ADe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(gB(this.view)){if(this.suppressingSelectionUpdates)return Ld(this.view);if(Ha&&yh<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&$m(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=ey(i))n.add(i);for(let i=e.anchorNode;i;i=ey(i))if(n.has(i)){r=i;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&gB(e)&&!this.ignoreSelectionChange(r),i=-1,s=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(i=i<0?d.from:Math.min(d.from,i),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(a=!0))}if(Dl&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||_De(e,d)!=h)&&f.remove()}}}let c=null;i<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&_A(r)&&(c=vR(e))&&c.eq(xn.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ld(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||o)&&(i>-1&&(e.docView.markDirty(i,s),$De(e)),this.handleDOMChange(i,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Ld(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let o=e.previousSibling,i=e.nextSibling;if(Ha&&yh<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(o=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f)}let s=o&&o.parentNode==e.target?_s(o)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=i&&i.parentNode==e.target?_s(i):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let jB=new WeakMap,AB=!1;function $De(t){if(!jB.has(t)&&(jB.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Dl,AB)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),AB=!0}}function MB(t,e){let n=e.startContainer,r=e.startOffset,o=e.endContainer,i=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return $m(s.node,s.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}function EDe(t,e){if(e.getComposedRanges){let o=e.getComposedRanges(t.root)[0];if(o)return MB(t,o)}let n;function r(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?MB(t,n):null}function _De(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function PDe(t,e,n){let{node:r,fromOffset:o,toOffset:i,from:s,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],_A(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Ys&&t.input.lastKeyCode===8)for(let v=i;v>o;v--){let y=r.childNodes[v-1],b=y.pmViewDesc;if(y.nodeName=="BR"&&!b){i=v;break}if(!b||b.size)break}let d=t.state.doc,f=t.someProp("domParser")||vh.fromSchema(t.state.schema),h=d.resolve(s),m=null,g=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:o,to:i,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:IDe,context:h});if(c&&c[0].pos!=null){let v=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=v),m={anchor:v+s,head:y+s}}return{doc:g,sel:m,from:s,to:a}}function IDe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(xa&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||xa&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const RDe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function NDe(t,e,n,r,o){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let j=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,A=vR(t,j);if(A&&!t.state.selection.eq(A)){if(Ys&&Sd&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",R=>R(t,_p(13,"Enter"))))return;let _=t.state.tr.setSelection(A);j=="pointer"?_.setMeta("pointer",!0):j=="key"&&_.scrollIntoView(),i&&_.setMeta("composition",i),t.dispatch(_)}return}let s=t.state.doc.resolve(e),a=s.sharedDepth(n);e=s.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=PDe(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),f,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,h="end"):(f=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let m=VDe(d.content,c.doc.content,c.from,f,h);if(m&&t.input.domChangeCount++,(ty&&t.input.lastIOSEnter>Date.now()-225||Sd)&&o.some(j=>j.nodeType==1&&!RDe.test(j.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",j=>j(t,_p(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof Zt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let j=TB(t,t.state.doc,c.sel);if(j&&!j.eq(t.state.selection)){let A=t.state.tr.setSelection(j);i&&A.setMeta("composition",i),t.dispatch(A)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof Zt&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),Ha&&yh<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)==" "&&(m.start--,m.endA--,m.endB--);let g=c.doc.resolveNoCache(m.start-c.from),v=c.doc.resolveNoCache(m.endB-c.from),y=u.resolve(m.start),b=g.sameParent(v)&&g.parent.inlineContent&&y.end()>=m.endA,x;if((ty&&t.input.lastIOSEnter>Date.now()-225&&(!b||o.some(j=>j.nodeName=="DIV"||j.nodeName=="P"))||!b&&g.pos<c.doc.content.size&&(!g.sameParent(v)||!g.parent.inlineContent)&&!/\S/.test(c.doc.textBetween(g.pos,v.pos,"",""))&&(x=xn.findFrom(c.doc.resolve(g.pos+1),1,!0))&&x.head>g.pos)&&t.someProp("handleKeyDown",j=>j(t,_p(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&DDe(u,m.start,m.endA,g,v)&&t.someProp("handleKeyDown",j=>j(t,_p(8,"Backspace")))){Sd&&Ys&&t.domObserver.suppressSelectionUpdates();return}Ys&&m.endB==m.start&&(t.input.lastChromeDelete=Date.now()),Sd&&!b&&g.start()!=v.start()&&v.parentOffset==0&&g.depth==v.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,v=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(j){return j(t,_p(13,"Enter"))})},20));let k=m.start,w=m.endA,S=j=>{let A=j||t.state.tr.replace(k,w,c.doc.slice(m.start-c.from,m.endB-c.from));if(c.sel){let _=TB(t,A.doc,c.sel);_&&!(Ys&&t.composing&&_.empty&&(m.start!=m.endB||t.input.lastChromeDelete<Date.now()-100)&&(_.head==k||_.head==A.mapping.map(w)-1)||Ha&&_.empty&&_.head==k)&&A.setSelection(_)}return i&&A.setMeta("composition",i),A.scrollIntoView()},C;if(b){if(g.pos==v.pos){Ha&&yh<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ld(t),20));let j=S(t.state.tr.delete(k,w)),A=u.resolve(m.start).marksAcross(u.resolve(m.endA));A&&j.ensureMarks(A),t.dispatch(j)}else if(m.endA==m.endB&&(C=LDe(g.parent.content.cut(g.parentOffset,v.parentOffset),y.parent.content.cut(y.parentOffset,m.endA-y.start())))){let j=S(t.state.tr);C.type=="add"?j.addMark(k,w,C.mark):j.removeMark(k,w,C.mark),t.dispatch(j)}else if(g.parent.child(g.index()).isText&&g.index()==v.index()-(v.textOffset?0:1)){let j=g.parent.textBetween(g.parentOffset,v.parentOffset),A=()=>S(t.state.tr.insertText(j,k,w));t.someProp("handleTextInput",_=>_(t,k,w,j,A))||t.dispatch(A())}}else t.dispatch(S())}function TB(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:yR(t,e.resolve(n.anchor),e.resolve(n.head))}function LDe(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,o=n,i=r,s,a,l;for(let u=0;u<r.length;u++)o=r[u].removeFromSet(o);for(let u=0;u<n.length;u++)i=n[u].removeFromSet(i);if(o.length==1&&i.length==0)a=o[0],s="add",l=u=>u.mark(a.addToSet(u.marks));else if(o.length==0&&i.length==1)a=i[0],s="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(Ge.from(c).eq(t))return{mark:a,type:s}}function DDe(t,e,n,r,o){if(n-e<=o.pos-r.pos||dO(r,!0,!1)<o.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let a=i.nodeAfter;return a!=null&&n==e+a.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=t.resolve(dO(i,!0,!0));return!s.parent.isTextblock||s.pos>n||dO(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function dO(t,e,n){let r=t.depth,o=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,o++}return o}function VDe(t,e,n,r,o){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(o=="end"){let l=Math.max(0,i-Math.min(s,a));r-=s+l-i}if(s<i&&t.size<e.size){let l=r<=i&&r>=s?i-r:0;i-=l,i&&i<e.size&&OB(e.textBetween(i-1,i+1))&&(i+=l?1:-1),a=i+(a-s),s=i}else if(a<i){let l=r<=i&&r>=a?i-r:0;i-=l,i&&i<t.size&&OB(t.textBetween(i-1,i+1))&&(i+=l?1:-1),s=i+(s-a),a=i}return{start:i,endA:s,endB:a}}function OB(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class cee{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new oDe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(IB),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=_B(this),EB(this),this.nodeViews=PB(this),this.docView=uB(this.state.doc,$B(this),uO(this),this.dom,this),this.domObserver=new ODe(this,(r,o,i,s)=>NDe(this,r,o,i,s)),this.domObserver.start(),iDe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&U_(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(IB),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let o=this.state,i=!1,s=!1;e.storedMarks&&this.composing&&(nee(this),s=!0),this.state=e;let a=o.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=PB(this);zDe(h,this.nodeViews)&&(this.nodeViews=h,i=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&U_(this),this.editable=_B(this),EB(this);let l=uO(this),c=$B(this),u=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(o.selection))&&(s=!0);let f=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&bLe(this);if(s){this.domObserver.stop();let h=d&&(Ha||Ys)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&BDe(o.selection,e.selection);if(d){let m=Ys?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=yDe(this)),(i||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=uB(e.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&FLe(this))?Ld(this,h):(qZ(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&wLe(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))&&!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Gt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&oB(this,n.getBoundingClientRect(),e)}else oB(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(o=i)}this.dragging=new oee(e.slice,e.move,o<0?void 0:Gt.create(this.state.doc,o))}someProp(e,n){let r=this._props&&this._props[e],o;if(r!=null&&(o=n?n(r):r))return o;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(o=n?n(a):a))return o}let i=this.state.plugins;if(i)for(let s=0;s<i.length;s++){let a=i[s].props[e];if(a!=null&&(o=n?n(a):a))return o}}hasFocus(){if(Ha){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&xLe(this.dom),Ld(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return ALe(this,e)}coordsAtPos(e,n=1){return NZ(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let o=this.docView.posFromDOM(e,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,n){return ELe(this,n||this.state,e)}pasteHTML(e,n){return Ab(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Ab(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return bR(this,e)}destroy(){this.docView&&(sDe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],uO(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,lLe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return lDe(this,e)}domSelectionRange(){let e=this.domSelection();return e?xa&&this.root.nodeType===11&&hLe(this.dom.ownerDocument)==this.dom&&EDe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}cee.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function $B(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[ms.node(0,t.state.doc.content.size,e)]}function EB(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:ms.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function _B(t){return!t.someProp("editable",e=>e(t.state)===!1)}function BDe(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function PB(t){let e=Object.create(null);function n(r){for(let o in r)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=r[o])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function zDe(t,e){let n=0,r=0;for(let o in t){if(t[o]!=e[o])return!0;n++}for(let o in e)r++;return n!=r}function IB(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Rh={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},fC={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},HDe=typeof navigator<"u"&&/Mac/.test(navigator.platform),FDe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ps=0;Ps<10;Ps++)Rh[48+Ps]=Rh[96+Ps]=String(Ps);for(var Ps=1;Ps<=24;Ps++)Rh[Ps+111]="F"+Ps;for(var Ps=65;Ps<=90;Ps++)Rh[Ps]=String.fromCharCode(Ps+32),fC[Ps]=String.fromCharCode(Ps);for(var fO in Rh)fC.hasOwnProperty(fO)||(fC[fO]=Rh[fO]);function qDe(t){var e=HDe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||FDe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?fC:Rh)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const UDe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),WDe=typeof navigator<"u"&&/Win/.test(navigator.platform);function KDe(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,o,i,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))UDe?s=!0:o=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),s&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function JDe(t){let e=Object.create(null);for(let n in t)e[KDe(n)]=t[n];return e}function hO(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function GDe(t){return new ko({props:{handleKeyDown:jR(t)}})}function jR(t){let e=JDe(t);return function(n,r){let o=qDe(r),i,s=e[hO(o,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let a=e[hO(o,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(WDe&&r.ctrlKey&&r.altKey)&&(i=Rh[r.keyCode])&&i!=o){let a=e[hO(i,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const RA=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function uee(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const dee=(t,e,n)=>{let r=uee(t,n);if(!r)return!1;let o=AR(r);if(!o){let s=r.blockRange(),a=s&&$y(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let i=o.nodeBefore;if(wee(t,o,e,-1))return!0;if(r.parent.content.size==0&&(ny(i,"end")||Gt.isSelectable(i)))for(let s=r.depth;;s--){let a=$A(t.doc,r.before(s),r.after(s),vt.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(ny(i,"end")?xn.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):Gt.create(l.doc,o.pos-i.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return i.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0):!1},YDe=(t,e,n)=>{let r=uee(t,n);if(!r)return!1;let o=AR(r);return o?fee(t,o,e):!1},XDe=(t,e,n)=>{let r=pee(t,n);if(!r)return!1;let o=MR(r);return o?fee(t,o,e):!1};function fee(t,e,n){let r=e.nodeBefore,o=r,i=e.pos-1;for(;!o.isTextblock;i--){if(o.type.spec.isolating)return!1;let u=o.lastChild;if(!u)return!1;o=u}let s=e.nodeAfter,a=s,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=$A(t.doc,i,l,vt.empty);if(!c||c.from!=i||c instanceof us&&c.slice.size>=l-i)return!1;if(n){let u=t.tr.step(c);u.setSelection(Zt.create(u.doc,i)),n(u.scrollIntoView())}return!0}function ny(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const hee=(t,e,n)=>{let{$head:r,empty:o}=t.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=AR(r)}let s=i&&i.nodeBefore;return!s||!Gt.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Gt.create(t.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function AR(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function pee(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const mee=(t,e,n)=>{let r=pee(t,n);if(!r)return!1;let o=MR(r);if(!o)return!1;let i=o.nodeAfter;if(wee(t,o,e,1))return!0;if(r.parent.content.size==0&&(ny(i,"start")||Gt.isSelectable(i))){let s=$A(t.doc,r.before(),r.after(),vt.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(ny(i,"start")?xn.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):Gt.create(a.doc,a.mapping.map(o.pos))),e(a.scrollIntoView())}return!0}}return i.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0):!1},gee=(t,e,n)=>{let{$head:r,empty:o}=t.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=MR(r)}let s=i&&i.nodeAfter;return!s||!Gt.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Gt.create(t.doc,i.pos)).scrollIntoView()),!0)};function MR(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const QDe=(t,e)=>{let n=t.selection,r=n instanceof Gt,o;if(r){if(n.node.isTextblock||!Qh(t.doc,n.from))return!1;o=n.from}else if(o=OA(t.doc,n.from,-1),o==null)return!1;if(e){let i=t.tr.join(o);r&&i.setSelection(Gt.create(i.doc,o-t.doc.resolve(o).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},ZDe=(t,e)=>{let n=t.selection,r;if(n instanceof Gt){if(n.node.isTextblock||!Qh(t.doc,n.to))return!1;r=n.to}else if(r=OA(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},e8e=(t,e)=>{let{$from:n,$to:r}=t.selection,o=n.blockRange(r),i=o&&$y(o);return i==null?!1:(e&&e(t.tr.lift(o,i).scrollIntoView()),!0)},vee=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function TR(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const t8e=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),s=TR(o.contentMatchAt(i));if(!s||!o.canReplaceWith(i,i,s))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(xn.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},yee=(t,e)=>{let n=t.selection,{$from:r,$to:o}=n;if(n instanceof ul||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=TR(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=t.tr.insert(s,i.createAndFill());a.setSelection(Zt.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},bee=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Nd(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),o=r&&$y(r);return o==null?!1:(e&&e(t.tr.lift(r,o).scrollIntoView()),!0)};function n8e(t){return(e,n)=>{let{$from:r,$to:o}=e.selection;if(e.selection instanceof Gt&&e.selection.node.isBlock)return!r.parentOffset||!Nd(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],s,a,l=!1,c=!1;for(let h=r.depth;;h--)if(r.node(h).isBlock){l=r.end(h)==r.pos+(r.depth-h),c=r.start(h)==r.pos-(r.depth-h),a=TR(r.node(h-1).contentMatchAt(r.indexAfter(h-1))),i.unshift(l&&a?{type:a}:null),s=h;break}else{if(h==1)return!1;i.unshift(null)}let u=e.tr;(e.selection instanceof Zt||e.selection instanceof ul)&&u.deleteSelection();let d=u.mapping.map(r.pos),f=Nd(u.doc,d,i.length,i);if(f||(i[0]=a?{type:a}:null,f=Nd(u.doc,d,i.length,i)),!f)return!1;if(u.split(d,i.length,i),!l&&c&&r.node(s).type!=a){let h=u.mapping.map(r.before(s)),m=u.doc.resolve(h);a&&r.node(s-1).canReplaceWith(m.index(),m.index()+1,a)&&u.setNodeMarkup(u.mapping.map(r.before(s)),a)}return n&&n(u.scrollIntoView()),!0}}const r8e=n8e(),o8e=(t,e)=>{let{$from:n,to:r}=t.selection,o,i=n.sharedDepth(r);return i==0?!1:(o=n.before(i),e&&e(t.tr.setSelection(Gt.create(t.doc,o))),!0)};function i8e(t,e,n){let r=e.nodeBefore,o=e.nodeAfter,i=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(o.isTextblock||Qh(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function wee(t,e,n,r){let o=e.nodeBefore,i=e.nodeAfter,s,a,l=o.type.spec.isolating||i.type.spec.isolating;if(!l&&i8e(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(a=o.contentMatchAt(o.childCount)).findWrapping(i.type))&&a.matchType(s[0]||i.type).validEnd){if(n){let h=e.pos+i.nodeSize,m=Ge.empty;for(let y=s.length-1;y>=0;y--)m=Ge.from(s[y].create(null,m));m=Ge.from(o.copy(m));let g=t.tr.step(new ys(e.pos-1,h,e.pos,h,new vt(m,1,0),s.length,!0)),v=g.doc.resolve(h+2*s.length);v.nodeAfter&&v.nodeAfter.type==o.type&&Qh(g.doc,v.pos)&&g.join(v.pos),n(g.scrollIntoView())}return!0}let u=i.type.spec.isolating||r>0&&l?null:xn.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),f=d&&$y(d);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(c&&ny(i,"start",!0)&&ny(o,"end")){let h=o,m=[];for(;m.push(h),!h.isTextblock;)h=h.lastChild;let g=i,v=1;for(;!g.isTextblock;g=g.firstChild)v++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(n){let y=Ge.empty;for(let x=m.length-1;x>=0;x--)y=Ge.from(m[x].copy(y));let b=t.tr.step(new ys(e.pos-m.length,e.pos+i.nodeSize,e.pos+v,e.pos+i.nodeSize-v,new vt(y,m.length,0),0,!0));n(b.scrollIntoView())}return!0}}return!1}function xee(t){return function(e,n){let r=e.selection,o=t<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return o.node(i).isTextblock?(n&&n(e.tr.setSelection(Zt.create(e.doc,t<0?o.start(i):o.end(i)))),!0):!1}}const s8e=xee(-1),a8e=xee(1);function l8e(t,e=null){return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i),a=s&&hR(s,t,e);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function RB(t,e=null){return function(n,r){let o=!1;for(let i=0;i<n.selection.ranges.length&&!o;i++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[i];n.doc.nodesBetween(s,a,(l,c)=>{if(o)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)o=!0;else{let u=n.doc.resolve(c),d=u.index();o=u.parent.canReplaceWith(d,d+1,t)}})}if(!o)return!1;if(r){let i=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];i.setBlockType(a,l,t,e)}r(i.scrollIntoView())}return!0}}function OR(...t){return function(e,n,r){for(let o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}OR(RA,dee,hee);OR(RA,mee,gee);OR(vee,yee,bee,r8e);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function c8e(t,e=null){return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i);if(!s)return!1;let a=r?n.tr:null;return u8e(a,s,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function u8e(t,e,n,r=null){let o=!1,i=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=s.resolve(e.start-2);i=new iC(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new iC(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let a=hR(i,n,r,e);return a?(t&&d8e(t,e,a,o,n),!0):!1}function d8e(t,e,n,r,o){let i=Ge.empty;for(let u=n.length-1;u>=0;u--)i=Ge.from(n[u].type.create(n[u].attrs,i));t.step(new ys(e.start-(r?2:0),e.end,e.start,e.end,new vt(i,0,0),n.length,!0));let s=0;for(let u=0;u<n.length;u++)n[u].type==o&&(s=u+1);let a=n.length-s,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,f=!0;u<d;u++,f=!1)!f&&Nd(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function f8e(t){return function(e,n){let{$from:r,$to:o}=e.selection,i=r.blockRange(o,s=>s.childCount>0&&s.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?h8e(e,n,t,i):p8e(e,n,i):!0:!1}}function h8e(t,e,n,r){let o=t.tr,i=r.end,s=r.$to.end(r.depth);i<s&&(o.step(new ys(i-1,s,i,s,new vt(Ge.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new iC(o.doc.resolve(r.$from.pos),o.doc.resolve(s),r.depth));const a=$y(r);if(a==null)return!1;o.lift(r,a);let l=o.doc.resolve(o.mapping.map(i,-1)-1);return Qh(o.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&o.join(l.pos),e(o.scrollIntoView()),!0}function p8e(t,e,n){let r=t.tr,o=n.parent;for(let h=n.end,m=n.endIndex-1,g=n.startIndex;m>g;m--)h-=o.child(m).nodeSize,r.delete(h-1,h+1);let i=r.doc.resolve(n.start),s=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==o.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?Ge.empty:Ge.from(o))))return!1;let d=i.pos,f=d+s.nodeSize;return r.step(new ys(d-(a?1:0),f+(l?1:0),d+1,f-1,new vt((a?Ge.empty:Ge.from(o.copy(Ge.empty))).append(l?Ge.empty:Ge.from(o.copy(Ge.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function m8e(t){return function(e,n){let{$from:r,$to:o}=e.selection,i=r.blockRange(o,c=>c.childCount>0&&c.firstChild.type==t);if(!i)return!1;let s=i.startIndex;if(s==0)return!1;let a=i.parent,l=a.child(s-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=Ge.from(c?t.create():null),d=new vt(Ge.from(t.create(null,Ge.from(a.type.create(null,u)))),c?3:1,0),f=i.start,h=i.end;n(e.tr.step(new ys(f-(c?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}var g8e=Object.defineProperty,kee=(t,e)=>{for(var n in e)g8e(t,n,{get:e[n],enumerable:!0})};function NA(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:o}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,i=n.storedMarks,n}}}var LA=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:o}=n,i=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([s,a])=>[s,(...l)=>{const c=a(...l)(i);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(o),c}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,s=[],a=!!t,l=t||o.tr,c=()=>(!a&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(l),s.every(d=>d===!0)),u={...Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...h)=>{const m=this.buildProps(l,e),g=f(...h)(m);return s.push(g),u}])),run:c};return u}createCan(t){const{rawCommands:e,state:n}=this,r=!1,o=t||n.tr,i=this.buildProps(o,r);return{...Object.fromEntries(Object.entries(e).map(([s,a])=>[s,(...l)=>a(...l)({...i,dispatch:void 0})])),chain:()=>this.createChain(o,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,s={tr:t,editor:r,view:i,state:NA({state:o,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([a,l])=>[a,(...c)=>l(...c)(s)]))}};return s}},v8e=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}};function See(t,e){const n=new pR(t);return e.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}var Cee=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&Cee(r)}return t};function ok(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return Cee(n)}function Tb(t,e,n){if(t instanceof Rd||t instanceof Ge)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,o=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return Ge.fromArray(t.map(s=>e.nodeFromJSON(s)));const i=e.nodeFromJSON(t);return n.errorOnInvalidContent&&i.check(),i}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),Tb("",e,n)}if(o){if(n.errorOnInvalidContent){let s=!1,a="";const l=new dZ({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(s=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?vh.fromSchema(l).parseSlice(ok(t),n.parseOptions):vh.fromSchema(l).parse(ok(t),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const i=vh.fromSchema(e);return n.slice?i.parseSlice(ok(t),n.parseOptions).content:i.parse(ok(t),n.parseOptions)}return Tb("",e,n)}function W_(t,e,n={},r={}){return Tb(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function y8e(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function b8e(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(o,i)=>{n(o)&&r.push({node:o,pos:i})}),r}function jee(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function DA(t){return e=>jee(e.$from,t)}function Yt(t,e,n){return t.config[e]===void 0&&t.parent?Yt(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Yt(t.parent,e,n):null}):t.config[e]}function $R(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=Yt(e,"addExtensions",n);return r?[e,...$R(r())]:e}).flat(10)}function ER(t,e){const n=Xh.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function Aee(t){return typeof t=="function"}function Ur(t,e=void 0,...n){return Aee(t)?e?t.bind(e)(...n):t(...n):t}function w8e(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Ob(t){const e=t.filter(o=>o.type==="extension"),n=t.filter(o=>o.type==="node"),r=t.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function Mee(t){const e=[],{nodeExtensions:n,markExtensions:r}=Ob(t),o=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:o},l=Yt(s,"addGlobalAttributes",a);l&&l().forEach(c=>{c.types.forEach(u=>{Object.entries(c.attributes).forEach(([d,f])=>{e.push({type:u,name:d,attribute:{...i,...f}})})})})}),o.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=Yt(s,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const f={...i,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:s.name,name:u,attribute:f})})}),e}function Gr(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([o,i])=>{if(!r[o]){r[o]=i;return}if(o==="class"){const s=i?String(i).split(" "):[],a=r[o]?r[o].split(" "):[],l=s.filter(c=>!a.includes(c));r[o]=[...a,...l].join(" ")}else if(o==="style"){const s=i?i.split(";").map(c=>c.trim()).filter(Boolean):[],a=r[o]?r[o].split(";").map(c=>c.trim()).filter(Boolean):[],l=new Map;a.forEach(c=>{const[u,d]=c.split(":").map(f=>f.trim());l.set(u,d)}),s.forEach(c=>{const[u,d]=c.split(":").map(f=>f.trim());l.set(u,d)}),r[o]=Array.from(l.entries()).map(([c,u])=>`${c}: ${u}`).join("; ")}else r[o]=i}),r},{})}function hC(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Gr(n,r),{})}function x8e(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function NB(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const o=e.reduce((i,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):x8e(n.getAttribute(s.name));return a==null?i:{...i,[s.name]:a}},{});return{...r,...o}}}}function LB(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&w8e(n)?!1:n!=null))}function Tee(t,e){var n;const r=Mee(t),{nodeExtensions:o,markExtensions:i}=Ob(t),s=(n=o.find(c=>Yt(c,"topNode")))==null?void 0:n.name,a=Object.fromEntries(o.map(c=>{const u=r.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((y,b)=>{const x=Yt(b,"extendNodeSchema",d);return{...y,...x?x(c):{}}},{}),h=LB({...f,content:Ur(Yt(c,"content",d)),marks:Ur(Yt(c,"marks",d)),group:Ur(Yt(c,"group",d)),inline:Ur(Yt(c,"inline",d)),atom:Ur(Yt(c,"atom",d)),selectable:Ur(Yt(c,"selectable",d)),draggable:Ur(Yt(c,"draggable",d)),code:Ur(Yt(c,"code",d)),whitespace:Ur(Yt(c,"whitespace",d)),linebreakReplacement:Ur(Yt(c,"linebreakReplacement",d)),defining:Ur(Yt(c,"defining",d)),isolating:Ur(Yt(c,"isolating",d)),attrs:Object.fromEntries(u.map(y=>{var b,x;return[y.name,{default:(b=y==null?void 0:y.attribute)==null?void 0:b.default,validate:(x=y==null?void 0:y.attribute)==null?void 0:x.validate}]}))}),m=Ur(Yt(c,"parseHTML",d));m&&(h.parseDOM=m.map(y=>NB(y,u)));const g=Yt(c,"renderHTML",d);g&&(h.toDOM=y=>g({node:y,HTMLAttributes:hC(y,u)}));const v=Yt(c,"renderText",d);return v&&(h.toText=v),[c.name,h]})),l=Object.fromEntries(i.map(c=>{const u=r.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((v,y)=>{const b=Yt(y,"extendMarkSchema",d);return{...v,...b?b(c):{}}},{}),h=LB({...f,inclusive:Ur(Yt(c,"inclusive",d)),excludes:Ur(Yt(c,"excludes",d)),group:Ur(Yt(c,"group",d)),spanning:Ur(Yt(c,"spanning",d)),code:Ur(Yt(c,"code",d)),attrs:Object.fromEntries(u.map(v=>{var y,b;return[v.name,{default:(y=v==null?void 0:v.attribute)==null?void 0:y.default,validate:(b=v==null?void 0:v.attribute)==null?void 0:b.validate}]}))}),m=Ur(Yt(c,"parseHTML",d));m&&(h.parseDOM=m.map(v=>NB(v,u)));const g=Yt(c,"renderHTML",d);return g&&(h.toDOM=v=>g({mark:v,HTMLAttributes:hC(v,u)})),[c.name,h]}));return new dZ({topNode:s,nodes:a,marks:l})}function k8e(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function _R(t){return t.sort((e,n)=>{const r=Yt(e,"priority")||100,o=Yt(n,"priority")||100;return r>o?-1:r<o?1:0})}function PR(t){const e=_R($R(t)),n=k8e(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function S8e(t,e){const n=PR(t);return Tee(n,e)}function Oee(t,e,n){const{from:r,to:o}=e,{blockSeparator:i=`

`,textSerializers:s={}}=n||{};let a="";return t.nodesBetween(r,o,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(a+=i);const h=s==null?void 0:s[l.type.name];if(h)return u&&(a+=h({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(f=l==null?void 0:l.text)==null?void 0:f.slice(Math.max(r,c)-c,o-c))}),a}function $ee(t,e){const n={from:0,to:t.content.size};return Oee(t,n,e)}function IR(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function pf(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function Eee(t,e){const n=pf(e,t.schema),{from:r,to:o,empty:i}=t.selection,s=[];i?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,o,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function Ji(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function C8e(t,e){const n=Ji(e,t.schema),{from:r,to:o}=t.selection,i=[];t.doc.nodesBetween(r,o,a=>{i.push(a)});const s=i.reverse().find(a=>a.type.name===n.name);return s?{...s.attrs}:{}}function VA(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function _ee(t,e){const n=VA(typeof e=="string"?e:e.name,t.schema);return n==="node"?C8e(t,e):n==="mark"?Eee(t,e):{}}function j8e(t,e=JSON.stringify){const n={};return t.filter(r=>{const o=e(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function A8e(t){const e=j8e(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,i)=>i!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function Pee(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((o,i)=>{const s=[];if(o.ranges.length)o.forEach((a,l)=>{s.push({from:a,to:l})});else{const{from:a,to:l}=n[i];if(a===void 0||l===void 0)return;s.push({from:a,to:l})}s.forEach(({from:a,to:l})=>{const c=e.slice(i).map(a,-1),u=e.slice(i).map(l),d=e.invert().map(c,-1),f=e.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),A8e(r)}function RR(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function pC(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(o=>n.strict?e[o]===t[o]:RR(e[o])?e[o].test(t[o]):e[o]===t[o]):!0}function Iee(t,e,n={}){return t.find(r=>r.type===e&&pC(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function DB(t,e,n={}){return!!Iee(t,e,n)}function BA(t,e,n){var r;if(!t||!e)return;let o=t.parent.childAfter(t.parentOffset);if((!o.node||!o.node.marks.some(c=>c.type===e))&&(o=t.parent.childBefore(t.parentOffset)),!o.node||!o.node.marks.some(c=>c.type===e)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!Iee([...o.node.marks],e,n)))return;let i=o.index,s=t.start()+o.offset,a=i+1,l=s+o.node.nodeSize;for(;i>0&&DB([...t.parent.child(i-1).marks],e,n);)i-=1,s-=t.parent.child(i).nodeSize;for(;a<t.parent.childCount&&DB([...t.parent.child(a).marks],e,n);)l+=t.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}function NR(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(o=>{const i=n.resolve(t),s=BA(i,o.type);s&&r.push({mark:o,...s})}):n.nodesBetween(t,e,(o,i)=>{!o||(o==null?void 0:o.nodeSize)===void 0||r.push(...o.marks.map(s=>({from:i,to:i+o.nodeSize,mark:s})))}),r}var M8e=(t,e,n,r=20)=>{const o=t.doc.resolve(n);let i=r,s=null;for(;i>0&&s===null;){const a=o.node(i);(a==null?void 0:a.type.name)===e?s=a:i-=1}return[s,i]};function pO(t,e){return e.nodes[t]||e.marks[t]||null}function hS(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=t.find(i=>i.type===e&&i.name===r);return o?o.attribute.keepOnSplit:!1}))}var T8e=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(o,i,s,a)=>{var l,c;const u=((c=(l=o.type.spec).toText)==null?void 0:c.call(l,{node:o,pos:i,parent:s,index:a}))||o.textContent||"%leaf%";n+=o.isAtom&&!o.isText?u:u.slice(0,Math.max(0,r-i))}),n};function K_(t,e,n={}){const{empty:r,ranges:o}=t.selection,i=e?pf(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(u=>i?i.name===u.type.name:!0).find(u=>pC(u.attrs,n,{strict:!1}));let s=0;const a=[];if(o.forEach(({$from:u,$to:d})=>{const f=u.pos,h=d.pos;t.doc.nodesBetween(f,h,(m,g)=>{if(!m.isText&&!m.marks.length)return;const v=Math.max(f,g),y=Math.min(h,g+m.nodeSize),b=y-v;s+=b,a.push(...m.marks.map(x=>({mark:x,from:v,to:y})))})}),s===0)return!1;const l=a.filter(u=>i?i.name===u.mark.type.name:!0).filter(u=>pC(u.mark.attrs,n,{strict:!1})).reduce((u,d)=>u+d.to-d.from,0),c=a.filter(u=>i?u.mark.type!==i&&u.mark.type.excludes(i):!0).reduce((u,d)=>u+d.to-d.from,0);return(l>0?l+c:l)>=s}function Nh(t,e,n={}){const{from:r,to:o,empty:i}=t.selection,s=e?Ji(e,t.schema):null,a=[];t.doc.nodesBetween(r,o,(u,d)=>{if(u.isText)return;const f=Math.max(r,d),h=Math.min(o,d+u.nodeSize);a.push({node:u,from:f,to:h})});const l=o-r,c=a.filter(u=>s?s.name===u.node.type.name:!0).filter(u=>pC(u.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((u,d)=>u+d.to-d.from,0)>=l}function O8e(t,e,n={}){if(!e)return Nh(t,null,n)||K_(t,null,n);const r=VA(e,t.schema);return r==="node"?Nh(t,e,n):r==="mark"?K_(t,e,n):!1}var $8e=(t,e)=>{const{$from:n,$to:r,$anchor:o}=t.selection;if(e){const i=DA(a=>a.type.name===e)(t.selection);if(!i)return!1;const s=t.doc.resolve(i.pos+1);return o.pos+1===s.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},E8e=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function VB(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function BB(t,e){const{nodeExtensions:n}=Ob(e),r=n.find(s=>s.name===t);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},i=Ur(Yt(r,"group",o));return typeof i!="string"?!1:i.split(" ").includes("list")}function zA(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let o=!0;return t.content.forEach(i=>{o!==!1&&(zA(i,{ignoreWhitespace:n,checkChildren:e})||(o=!1))}),o}return!1}function Ree(t){return t instanceof Gt}function LR(t){return t instanceof Zt}function Cd(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function Nee(t,e,n){const r=t.state.doc.content.size,o=Cd(e,0,r),i=Cd(n,0,r),s=t.coordsAtPos(o),a=t.coordsAtPos(i,-1),l=Math.min(s.top,a.top),c=Math.max(s.bottom,a.bottom),u=Math.min(s.left,a.left),d=Math.max(s.right,a.right),f=d-u,h=c-l,m={top:l,bottom:c,left:u,right:d,width:f,height:h,x:u,y:l};return{...m,toJSON:()=>m}}function Lee(t,e=null){if(!e)return null;const n=xn.atStart(t),r=xn.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const o=n.from,i=r.to;return e==="all"?Zt.create(t,Cd(0,o,i),Cd(t.content.size,o,i)):Zt.create(t,Cd(e,o,i),Cd(e,o,i))}function _8e(t,e,n){const r=t.steps.length-1;if(r<e)return;const o=t.steps[r];if(!(o instanceof us||o instanceof ys))return;const i=t.mapping.maps[r];let s=0;i.forEach((a,l,c,u)=>{s===0&&(s=u)}),t.setSelection(xn.near(t.doc.resolve(s),n))}var HA=class{constructor(t){this.find=t.find,this.handler=t.handler}},P8e=(t,e)=>{if(RR(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function ik(t){var e;const{editor:n,from:r,to:o,text:i,rules:s,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(e=c.nodeBefore||c.nodeAfter)!=null&&e.marks.find(f=>f.type.spec.code))return!1;let u=!1;const d=T8e(c)+i;return s.forEach(f=>{if(u)return;const h=P8e(d,f.find);if(!h)return;const m=l.state.tr,g=NA({state:l.state,transaction:m}),v={from:r-(h[0].length-i.length),to:o},{commands:y,chain:b,can:x}=new LA({editor:n,state:g});f.handler({state:g,range:v,match:h,commands:y,chain:b,can:x})===null||!m.steps.length||(m.setMeta(a,{transform:m,from:r,to:o,text:i}),l.dispatch(m),u=!0)}),u}function I8e(t){const{editor:e,rules:n}=t,r=new ko({state:{init(){return null},apply(o,i,s){const a=o.getMeta(r);if(a)return a;const l=o.getMeta("applyInputRules");return l&&setTimeout(()=>{let{text:c}=l;typeof c=="string"?c=c:c=ER(Ge.from(c),s.schema);const{from:u}=l,d=u+c.length;ik({editor:e,from:u,to:d,text:c,rules:n,plugin:r})}),o.selectionSet||o.docChanged?null:i}},props:{handleTextInput(o,i,s,a){return ik({editor:e,from:i,to:s,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:i}=o.state.selection;i&&ik({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(o,i){if(i.key!=="Enter")return!1;const{$cursor:s}=o.state.selection;return s?ik({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function R8e(t){return Object.prototype.toString.call(t).slice(8,-1)}function sk(t){return R8e(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Dee(t,e){const n={...t};return sk(t)&&sk(e)&&Object.keys(e).forEach(r=>{sk(e[r])&&sk(t[r])?n[r]=Dee(t[r],e[r]):n[r]=e[r]}),n}var DR=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Ur(Yt(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Ur(Yt(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>Dee(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Wc=class Vee extends DR{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new Vee(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const i=o.marks();if(!i.find(a=>(a==null?void 0:a.type.name)===n.name))return!1;const s=i.find(a=>(a==null?void 0:a.type.name)===n.name);return s&&r.removeStoredMark(s),r.insertText(" ",o.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function N8e(t){return typeof t=="number"}var L8e=class{constructor(t){this.find=t.find,this.handler=t.handler}},D8e=(t,e,n)=>{if(RR(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(o=>{const i=[o.text];return i.index=o.index,i.input=t,i.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(o.replaceWith)),i}):[]};function V8e(t){const{editor:e,state:n,from:r,to:o,rule:i,pasteEvent:s,dropEvent:a}=t,{commands:l,chain:c,can:u}=new LA({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,o,(f,h)=>{var m,g,v,y,b;if((g=(m=f.type)==null?void 0:m.spec)!=null&&g.code||!(f.isText||f.isTextblock||f.isInline))return;const x=(b=(y=(v=f.content)==null?void 0:v.size)!=null?y:f.nodeSize)!=null?b:0,k=Math.max(r,h),w=Math.min(o,h+x);if(k>=w)return;const S=f.isText?f.text||"":f.textBetween(k-h,w-h,void 0,"");D8e(S,i.find,s).forEach(C=>{if(C.index===void 0)return;const j=k+C.index+1,A=j+C[0].length,_={from:n.tr.mapping.map(j),to:n.tr.mapping.map(A)},R=i.handler({state:n,range:_,match:C,commands:l,chain:c,can:u,pasteEvent:s,dropEvent:a});d.push(R)})}),d.every(f=>f!==null)}var ak=null,B8e=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function z8e(t){const{editor:e,rules:n}=t;let r=null,o=!1,i=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:c,from:u,to:d,rule:f,pasteEvt:h})=>{const m=c.tr,g=NA({state:c,transaction:m});if(!(!V8e({editor:e,state:g,from:Math.max(u-1,0),to:d.b-1,rule:f,pasteEvent:h,dropEvent:a})||!m.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m}};return n.map(c=>new ko({view(u){const d=h=>{var m;r=(m=u.dom.parentElement)!=null&&m.contains(h.target)?u.dom.parentElement:null,r&&(ak=e)},f=()=>{ak&&(ak=null)};return window.addEventListener("dragstart",d),window.addEventListener("dragend",f),{destroy(){window.removeEventListener("dragstart",d),window.removeEventListener("dragend",f)}}},props:{handleDOMEvents:{drop:(u,d)=>{if(i=r===u.dom.parentElement,a=d,!i){const f=ak;f!=null&&f.isEditable&&setTimeout(()=>{const h=f.state.selection;h&&f.commands.deleteRange({from:h.from,to:h.to})},10)}return!1},paste:(u,d)=>{var f;const h=(f=d.clipboardData)==null?void 0:f.getData("text/html");return s=d,o=!!(h!=null&&h.includes("data-pm-slice")),!1}}},appendTransaction:(u,d,f)=>{const h=u[0],m=h.getMeta("uiEvent")==="paste"&&!o,g=h.getMeta("uiEvent")==="drop"&&!i,v=h.getMeta("applyPasteRules"),y=!!v;if(!m&&!g&&!y)return;if(y){let{text:k}=v;typeof k=="string"?k=k:k=ER(Ge.from(k),f.schema);const{from:w}=v,S=w+k.length,C=B8e(k);return l({rule:c,state:f,from:w,to:{b:S},pasteEvt:C})}const b=d.doc.content.findDiffStart(f.doc.content),x=d.doc.content.findDiffEnd(f.doc.content);if(!(!N8e(b)||!x||b===x.b))return l({rule:c,state:f,from:b,to:x,pasteEvt:s})}}))}var FA=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=PR(t),this.schema=Tee(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:pO(e.name,this.schema)},r=Yt(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return _R([...this.extensions].reverse()).map(e=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:t,type:pO(e.name,this.schema)},r=[],o=Yt(e,"addKeyboardShortcuts",n);let i={};if(e.type==="mark"&&Yt(e,"exitable",n)&&(i.ArrowRight=()=>Wc.handleExit({editor:t,mark:e})),o){const u=Object.fromEntries(Object.entries(o()).map(([d,f])=>[d,()=>f({editor:t})]));i={...i,...u}}const s=GDe(i);r.push(s);const a=Yt(e,"addInputRules",n);if(VB(e,t.options.enableInputRules)&&a){const u=a();if(u&&u.length){const d=I8e({editor:t,rules:u}),f=Array.isArray(d)?d:[d];r.push(...f)}}const l=Yt(e,"addPasteRules",n);if(VB(e,t.options.enablePasteRules)&&l){const u=l();if(u&&u.length){const d=z8e({editor:t,rules:u});r.push(...d)}}const c=Yt(e,"addProseMirrorPlugins",n);if(c){const u=c();r.push(...u)}return r}).flat()}get attributes(){return Mee(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Ob(this.extensions);return Object.fromEntries(e.filter(n=>!!Yt(n,"addNodeView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),o={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Ji(n.name,this.schema)},i=Yt(n,"addNodeView",o);if(!i)return[];const s=(a,l,c,u,d)=>{const f=hC(a,r);return i()({node:a,view:l,getPos:c,decorations:u,innerDecorations:d,editor:t,extension:n,HTMLAttributes:f})};return[n.name,s]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Ob(this.extensions);return Object.fromEntries(e.filter(n=>!!Yt(n,"addMarkView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),o={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:pf(n.name,this.schema)},i=Yt(n,"addMarkView",o);if(!i)return[];const s=(a,l,c)=>{const u=hC(a,r);return i()({mark:a,view:l,inline:c,editor:t,extension:n,HTMLAttributes:u,updateAttributes:d=>{t9e(a,t,d)}})};return[n.name,s]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:pO(e.name,this.schema)};e.type==="mark"&&((n=Ur(Yt(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const o=Yt(e,"onBeforeCreate",r),i=Yt(e,"onCreate",r),s=Yt(e,"onUpdate",r),a=Yt(e,"onSelectionUpdate",r),l=Yt(e,"onTransaction",r),c=Yt(e,"onFocus",r),u=Yt(e,"onBlur",r),d=Yt(e,"onDestroy",r);o&&this.editor.on("beforeCreate",o),i&&this.editor.on("create",i),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}};FA.resolve=PR;FA.sort=_R;FA.flatten=$R;var H8e={};kee(H8e,{ClipboardTextSerializer:()=>zee,Commands:()=>Uee,Delete:()=>Wee,Drop:()=>Kee,Editable:()=>Jee,FocusEvents:()=>Yee,Keymap:()=>Xee,Paste:()=>Qee,Tabindex:()=>Zee,focusEventsPluginKey:()=>Gee});var kr=class Bee extends DR{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new Bee(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},zee=kr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new ko({key:new hi("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:o}=e,{ranges:i}=o,s=Math.min(...i.map(c=>c.$from.pos)),a=Math.max(...i.map(c=>c.$to.pos)),l=IR(n);return Oee(r,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),Hee={};kee(Hee,{blur:()=>F8e,clearContent:()=>q8e,clearNodes:()=>U8e,command:()=>W8e,createParagraphNear:()=>K8e,cut:()=>J8e,deleteCurrentNode:()=>G8e,deleteNode:()=>Y8e,deleteRange:()=>X8e,deleteSelection:()=>Q8e,enter:()=>Z8e,exitCode:()=>eVe,extendMarkRange:()=>tVe,first:()=>nVe,focus:()=>rVe,forEach:()=>oVe,insertContent:()=>iVe,insertContentAt:()=>aVe,joinBackward:()=>uVe,joinDown:()=>cVe,joinForward:()=>dVe,joinItemBackward:()=>fVe,joinItemForward:()=>hVe,joinTextblockBackward:()=>pVe,joinTextblockForward:()=>mVe,joinUp:()=>lVe,keyboardShortcut:()=>vVe,lift:()=>yVe,liftEmptyBlock:()=>bVe,liftListItem:()=>wVe,newlineInCode:()=>xVe,resetAttributes:()=>kVe,scrollIntoView:()=>SVe,selectAll:()=>CVe,selectNodeBackward:()=>jVe,selectNodeForward:()=>AVe,selectParentNode:()=>MVe,selectTextblockEnd:()=>TVe,selectTextblockStart:()=>OVe,setContent:()=>$Ve,setMark:()=>_Ve,setMeta:()=>PVe,setNode:()=>IVe,setNodeSelection:()=>RVe,setTextSelection:()=>NVe,sinkListItem:()=>LVe,splitBlock:()=>DVe,splitListItem:()=>VVe,toggleList:()=>BVe,toggleMark:()=>zVe,toggleNode:()=>HVe,toggleWrap:()=>FVe,undoInputRule:()=>qVe,unsetAllMarks:()=>UVe,unsetMark:()=>WVe,updateAttributes:()=>KVe,wrapIn:()=>JVe,wrapInList:()=>GVe});var F8e=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),q8e=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),U8e=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:o}=r;return n&&o.forEach(({$from:i,$to:s})=>{t.doc.nodesBetween(i.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+a.nodeSize)),h=d.blockRange(f);if(!h)return;const m=$y(h);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(h.start,g)}(m||m===0)&&e.lift(h,m)})}),!0},W8e=t=>e=>t(e),K8e=()=>({state:t,dispatch:e})=>yee(t,e),J8e=(t,e)=>({editor:n,tr:r})=>{const{state:o}=n,i=o.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const s=r.mapping.map(e);return r.insert(s,i.content),r.setSelection(new Zt(r.doc.resolve(Math.max(s-1,0)))),!0},G8e=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const o=t.selection.$anchor;for(let i=o.depth;i>0;i-=1)if(o.node(i).type===r.type){if(e){const s=o.before(i),a=o.after(i);t.delete(s,a).scrollIntoView()}return!0}return!1},Y8e=t=>({tr:e,state:n,dispatch:r})=>{const o=Ji(t,n.schema),i=e.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===o){if(r){const a=i.before(s),l=i.after(s);e.delete(a,l).scrollIntoView()}return!0}return!1},X8e=t=>({tr:e,dispatch:n})=>{const{from:r,to:o}=t;return n&&e.delete(r,o),!0},Q8e=()=>({state:t,dispatch:e})=>RA(t,e),Z8e=()=>({commands:t})=>t.keyboardShortcut("Enter"),eVe=()=>({state:t,dispatch:e})=>t8e(t,e),tVe=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const i=pf(t,r.schema),{doc:s,selection:a}=n,{$from:l,from:c,to:u}=a;if(o){const d=BA(l,i,e);if(d&&d.from<=c&&d.to>=u){const f=Zt.create(s,d.from,d.to);n.setSelection(f)}}return!0},nVe=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function Fee(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function qA(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var rVe=(t=null,e={})=>({editor:n,view:r,tr:o,dispatch:i})=>{e={scrollIntoView:!0,...e};const s=()=>{(qA()||Fee())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!LR(n.state.selection))return s(),!0;const a=Lee(o.doc,t)||n.state.selection,l=n.state.selection.eq(a);return i&&(l||o.setSelection(a),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),s()),!0},oVe=(t,e)=>n=>t.every((r,o)=>e(r,{...n,index:o})),iVe=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),sVe=t=>!("type"in t),aVe=(t,e,n)=>({tr:r,dispatch:o,editor:i})=>{var s;if(o){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=g=>{i.emit("contentError",{editor:i,error:g,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{Tb(e,i.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(g){l(g)}try{a=Tb(e,i.schema,{parseOptions:c,errorOnInvalidContent:(s=n.errorOnInvalidContent)!=null?s:i.options.enableContentCheck})}catch(g){return l(g),!1}let{from:u,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,h=!0;if((sVe(a)?a:[a]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,h=h?g.isBlock:!1}),u===d&&h){const{parent:g}=r.doc.resolve(u);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(u-=1,d+=1)}let m;if(f){if(Array.isArray(e))m=e.map(g=>g.text||"").join("");else if(e instanceof Ge){let g="";e.forEach(v=>{v.text&&(g+=v.text)}),m=g}else typeof e=="object"&&e&&e.text?m=e.text:m=e;r.insertText(m,u,d)}else{m=a;const g=r.doc.resolve(u),v=g.node(),y=g.parentOffset===0,b=v.isText||v.isTextblock,x=v.content.size>0;y&&b&&x&&(u=Math.max(0,u-1)),r.replaceWith(u,d,m)}n.updateSelection&&_8e(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:m}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:m})}return!0},lVe=()=>({state:t,dispatch:e})=>QDe(t,e),cVe=()=>({state:t,dispatch:e})=>ZDe(t,e),uVe=()=>({state:t,dispatch:e})=>dee(t,e),dVe=()=>({state:t,dispatch:e})=>mee(t,e),fVe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=OA(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},hVe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=OA(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},pVe=()=>({state:t,dispatch:e})=>YDe(t,e),mVe=()=>({state:t,dispatch:e})=>XDe(t,e);function qee(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function gVe(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,o,i,s;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))qA()||qee()?s=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var vVe=t=>({editor:e,view:n,tr:r,dispatch:o})=>{const i=gVe(t).split(/-(?!$)/),s=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0},yVe=(t,e={})=>({state:n,dispatch:r})=>{const o=Ji(t,n.schema);return Nh(n,o,e)?e8e(n,r):!1},bVe=()=>({state:t,dispatch:e})=>bee(t,e),wVe=t=>({state:e,dispatch:n})=>{const r=Ji(t,e.schema);return f8e(r)(e,n)},xVe=()=>({state:t,dispatch:e})=>vee(t,e);function zB(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,o)=>(n.includes(o)||(r[o]=t[o]),r),{})}var kVe=(t,e)=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const a=VA(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(i=Ji(t,r.schema)),a==="mark"&&(s=pf(t,r.schema)),o&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{i&&i===c.type&&n.setNodeMarkup(u,void 0,zB(c.attrs,e)),s&&c.marks.length&&c.marks.forEach(d=>{s===d.type&&n.addMark(u,u+c.nodeSize,s.create(zB(d.attrs,e)))})})}),!0):!1},SVe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),CVe=()=>({tr:t,dispatch:e})=>{if(e){const n=new ul(t.doc);t.setSelection(n)}return!0},jVe=()=>({state:t,dispatch:e})=>hee(t,e),AVe=()=>({state:t,dispatch:e})=>gee(t,e),MVe=()=>({state:t,dispatch:e})=>o8e(t,e),TVe=()=>({state:t,dispatch:e})=>a8e(t,e),OVe=()=>({state:t,dispatch:e})=>s8e(t,e),$Ve=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:i,dispatch:s,commands:a})=>{const{doc:l}=i;if(r.preserveWhitespace!=="full"){const c=W_(t,o.schema,r,{errorOnInvalidContent:e??o.options.enableContentCheck});return s&&i.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return s&&i.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},t,{parseOptions:r,errorOnInvalidContent:e??o.options.enableContentCheck})};function EVe(t,e,n){var r;const{selection:o}=e;let i=null;if(LR(o)&&(i=o.$cursor),i){const a=(r=t.storedMarks)!=null?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(a)||!a.some(l=>l.type.excludes(n)))}const{ranges:s}=o;return s.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const h=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));c=h&&m}return!c}),c})}var _Ve=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=n,{empty:s,ranges:a}=i,l=pf(t,r.schema);if(o)if(s){const c=Eee(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,h)=>{const m=Math.max(h,u),g=Math.min(h+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(m,g,l.create({...v.attrs,...e}))}):n.addMark(m,g,l.create(e))})});return EVe(r,n,l)},PVe=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),IVe=(t,e={})=>({state:n,dispatch:r,chain:o})=>{const i=Ji(t,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),i.isTextblock?o().command(({commands:a})=>RB(i,{...s,...e})(n)?!0:a.clearNodes()).command(({state:a})=>RB(i,{...s,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},RVe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,o=Cd(t,0,r.content.size),i=Gt.create(r,o);e.setSelection(i)}return!0},NVe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:o,to:i}=typeof t=="number"?{from:t,to:t}:t,s=Zt.atStart(r).from,a=Zt.atEnd(r).to,l=Cd(o,s,a),c=Cd(i,s,a),u=Zt.create(r,l,c);e.setSelection(u)}return!0},LVe=t=>({state:e,dispatch:n})=>{const r=Ji(t,e.schema);return m8e(r)(e,n)};function HB(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(o=>e==null?void 0:e.includes(o.type.name));t.tr.ensureMarks(r)}}var DVe=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:o})=>{const{selection:i,doc:s}=e,{$from:a,$to:l}=i,c=o.extensionManager.attributes,u=hS(c,a.node().type.name,a.node().attrs);if(i instanceof Gt&&i.node.isBlock)return!a.parentOffset||!Nd(s,a.pos)?!1:(r&&(t&&HB(n,o.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=a.depth===0?void 0:y8e(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=d&&f?[{type:f,attrs:u}]:void 0,m=Nd(e.doc,e.mapping.map(a.pos),1,h);if(!h&&!m&&Nd(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(m=!0,h=f?[{type:f,attrs:u}]:void 0),r){if(m&&(i instanceof Zt&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,h),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const g=e.mapping.map(a.before()),v=e.doc.resolve(g);a.node(-1).canReplaceWith(v.index(),v.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}t&&HB(n,o.extensionManager.splittableMarks),e.scrollIntoView()}return m},VVe=(t,e={})=>({tr:n,state:r,dispatch:o,editor:i})=>{var s;const a=Ji(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const f=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let y=Ge.empty;const b=l.index(-1)?1:l.index(-2)?2:3;for(let j=l.depth-b;j>=l.depth-3;j-=1)y=Ge.from(l.node(j).copy(y));const x=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,k={...hS(f,l.node().type.name,l.node().attrs),...e},w=((s=a.contentMatch.defaultType)==null?void 0:s.createAndFill(k))||void 0;y=y.append(Ge.from(a.createAndFill(null,w)||void 0));const S=l.before(l.depth-(b-1));n.replace(S,l.after(-x),new vt(y,4-b,0));let C=-1;n.doc.nodesBetween(S,n.doc.content.size,(j,A)=>{if(C>-1)return!1;j.isTextblock&&j.content.size===0&&(C=A+1)}),C>-1&&n.setSelection(Zt.near(n.doc.resolve(C))),n.scrollIntoView()}return!0}const h=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...hS(f,d.type.name,d.attrs),...e},g={...hS(f,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const v=h?[{type:a,attrs:m},{type:h,attrs:g}]:[{type:a,attrs:m}];if(!Nd(n.doc,l.pos,2))return!1;if(o){const{selection:y,storedMarks:b}=r,{splittableMarks:x}=i.extensionManager,k=b||y.$to.parentOffset&&y.$from.marks();if(n.split(l.pos,2,v).scrollIntoView(),!k||!o)return!0;const w=k.filter(S=>x.includes(S.type.name));n.ensureMarks(w)}return!0},mO=(t,e)=>{const n=DA(i=>i.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&Qh(t.doc,n.pos)&&t.join(n.pos),!0},gO=(t,e)=>{const n=DA(i=>i.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&Qh(t.doc,r)&&t.join(r),!0},BVe=(t,e,n,r={})=>({editor:o,tr:i,state:s,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,h=Ji(t,s.schema),m=Ji(e,s.schema),{selection:g,storedMarks:v}=s,{$from:y,$to:b}=g,x=y.blockRange(b),k=v||g.$to.parentOffset&&g.$from.marks();if(!x)return!1;const w=DA(S=>BB(S.type.name,d))(g);if(x.depth>=1&&w&&x.depth-w.depth<=1){if(w.node.type===h)return c.liftListItem(m);if(BB(w.node.type.name,d)&&h.validContent(w.node.content)&&a)return l().command(()=>(i.setNodeMarkup(w.pos,h),!0)).command(()=>mO(i,h)).command(()=>gO(i,h)).run()}return!n||!k||!a?l().command(()=>u().wrapInList(h,r)?!0:c.clearNodes()).wrapInList(h,r).command(()=>mO(i,h)).command(()=>gO(i,h)).run():l().command(()=>{const S=u().wrapInList(h,r),C=k.filter(j=>f.includes(j.type.name));return i.ensureMarks(C),S?!0:c.clearNodes()}).wrapInList(h,r).command(()=>mO(i,h)).command(()=>gO(i,h)).run()},zVe=(t,e={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:i=!1}=n,s=pf(t,r.schema);return K_(r,s,e)?o.unsetMark(s,{extendEmptyMarkRange:i}):o.setMark(s,e)},HVe=(t,e,n={})=>({state:r,commands:o})=>{const i=Ji(t,r.schema),s=Ji(e,r.schema),a=Nh(r,i,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?o.setNode(s,l):o.setNode(i,{...l,...n})},FVe=(t,e={})=>({state:n,commands:r})=>{const o=Ji(t,n.schema);return Nh(n,o,e)?r.lift(o):r.wrapIn(o,e)},qVe=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let i;if(o.spec.isInputRules&&(i=o.getState(t))){if(e){const s=t.tr,a=i.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(i.text){const l=s.doc.resolve(i.from).marks();s.replaceWith(i.from,i.to,t.schema.text(i.text,l))}else s.delete(i.from,i.to)}return!0}}return!1},UVe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:o}=n;return r||e&&o.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},WVe=(t,e={})=>({tr:n,state:r,dispatch:o})=>{var i;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=n,l=pf(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!o)return!0;if(u&&s){let{from:f,to:h}=a;const m=(i=c.marks().find(v=>v.type===l))==null?void 0:i.attrs,g=BA(c,l,m);g&&(f=g.from,h=g.to),n.removeMark(f,h,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},KVe=(t,e={})=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const a=VA(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(i=Ji(t,r.schema)),a==="mark"&&(s=pf(t,r.schema)),o&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let d,f,h,m;n.selection.empty?r.doc.nodesBetween(c,u,(g,v)=>{i&&i===g.type&&(h=Math.max(v,c),m=Math.min(v+g.nodeSize,u),d=v,f=g)}):r.doc.nodesBetween(c,u,(g,v)=>{v<c&&i&&i===g.type&&(h=Math.max(v,c),m=Math.min(v+g.nodeSize,u),d=v,f=g),v>=c&&v<=u&&(i&&i===g.type&&n.setNodeMarkup(v,void 0,{...g.attrs,...e}),s&&g.marks.length&&g.marks.forEach(y=>{if(s===y.type){const b=Math.max(v,c),x=Math.min(v+g.nodeSize,u);n.addMark(b,x,s.create({...y.attrs,...e}))}}))}),f&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...f.attrs,...e}),s&&f.marks.length&&f.marks.forEach(g=>{s===g.type&&n.addMark(h,m,s.create({...g.attrs,...e}))}))}),!0):!1},JVe=(t,e={})=>({state:n,dispatch:r})=>{const o=Ji(t,n.schema);return l8e(o,e)(n,r)},GVe=(t,e={})=>({state:n,dispatch:r})=>{const o=Ji(t,n.schema);return c8e(o,e)(n,r)},Uee=kr.create({name:"commands",addCommands(){return{...Hee}}}),Wee=kr.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,o;const i=()=>{var s,a,l,c;if((c=(l=(a=(s=this.editor.options.coreExtensionOptions)==null?void 0:s.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,t))!=null?c:t.getMeta("y-sync$"))return;const u=See(t.before,[t,...e]);Pee(u).forEach(f=>{u.mapping.mapResult(f.oldRange.from).deletedAfter&&u.mapping.mapResult(f.oldRange.to).deletedBefore&&u.before.nodesBetween(f.oldRange.from,f.oldRange.to,(h,m)=>{const g=m+h.nodeSize-2,v=f.oldRange.from<=m&&g<=f.oldRange.to;this.editor.emit("delete",{type:"node",node:h,from:m,to:g,newFrom:u.mapping.map(m),newTo:u.mapping.map(g),deletedRange:f.oldRange,newRange:f.newRange,partial:!v,editor:this.editor,transaction:t,combinedTransform:u})})});const d=u.mapping;u.steps.forEach((f,h)=>{var m,g;if(f instanceof hc){const v=d.slice(h).map(f.from,-1),y=d.slice(h).map(f.to),b=d.invert().map(v,-1),x=d.invert().map(y),k=(m=u.doc.nodeAt(v-1))==null?void 0:m.marks.some(S=>S.eq(f.mark)),w=(g=u.doc.nodeAt(y))==null?void 0:g.marks.some(S=>S.eq(f.mark));this.editor.emit("delete",{type:"mark",mark:f.mark,from:f.from,to:f.to,deletedRange:{from:b,to:x},newRange:{from:v,to:y},partial:!!(w||k),editor:this.editor,transaction:t,combinedTransform:u})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(i,0):i()}}),Kee=kr.create({name:"drop",addProseMirrorPlugins(){return[new ko({key:new hi("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),Jee=kr.create({name:"editable",addProseMirrorPlugins(){return[new ko({key:new hi("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Gee=new hi("focusEvents"),Yee=kr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new ko({key:Gee,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Xee=kr.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:i})=>[()=>i.undoInputRule(),()=>i.command(({tr:s})=>{const{selection:a,doc:l}=s,{empty:c,$anchor:u}=a,{pos:d,parent:f}=u,h=u.parent.isTextblock&&d>0?s.doc.resolve(d-1):u,m=h.parent.type.spec.isolating,g=u.pos-u.parentOffset,v=m&&h.parent.childCount===1?g===u.pos:xn.atStart(l).from===d;return!c||!f.type.isTextblock||f.textContent.length||!v||v&&u.parent.type.name==="paragraph"?!1:i.clearNodes()}),()=>i.deleteSelection(),()=>i.joinBackward(),()=>i.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:i})=>[()=>i.deleteSelection(),()=>i.deleteCurrentNode(),()=>i.joinForward(),()=>i.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:i})=>[()=>i.newlineInCode(),()=>i.createParagraphNear(),()=>i.liftEmptyBlock(),()=>i.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},o={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return qA()||qee()?o:r},addProseMirrorPlugins(){return[new ko({key:new hi("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(h=>h.getMeta("composition")))return;const r=t.some(h=>h.docChanged)&&!e.doc.eq(n.doc),o=t.some(h=>h.getMeta("preventClearDocument"));if(!r||o)return;const{empty:i,from:s,to:a}=e.selection,l=xn.atStart(e.doc).from,c=xn.atEnd(e.doc).to;if(i||!(s===l&&a===c)||!zA(n.doc))return;const u=n.tr,d=NA({state:n,transaction:u}),{commands:f}=new LA({editor:this.editor,state:d});if(f.clearNodes(),!!u.steps.length)return u}})]}}),Qee=kr.create({name:"paste",addProseMirrorPlugins(){return[new ko({key:new hi("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),Zee=kr.create({name:"tabindex",addProseMirrorPlugins(){return[new ko({key:new hi("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),YVe=class _g{constructor(e,n,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=o}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new _g(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new _g(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new _g(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const o=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,s=this.pos+r+(i?0:1);if(s<0||s>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(s);if(!o&&a.depth<=this.depth)return;const l=new _g(a,this.editor,o,o?n:null);o&&(l.actualDepth=this.depth+1),e.push(new _g(a,this.editor,o,o?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===e)if(Object.keys(n).length>0){const i=o.node.attrs,s=Object.keys(n);for(let a=0;a<s.length;a+=1){const l=s[a];if(i[l]!==n[l])break}}else r=o;o=o.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const i=Object.keys(n);return this.children.forEach(s=>{r&&o.length>0||(s.node.type.name===e&&i.every(a=>n[a]===s.node.attrs[a])&&o.push(s),!(r&&o.length>0)&&(o=o.concat(s.querySelectorAll(e,n,r))))}),o}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},XVe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function QVe(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute("data-tiptap-style",""),o.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(o),o}var ZVe=class extends v8e{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:o,moved:i})=>this.options.onDrop(r,o,i)),this.on("paste",({event:r,slice:o})=>this.options.onPaste(r,o)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=Lee(e,this.options.autofocus);this.editorState=Wg.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=QVe(XVe,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.editorState=this.state.apply(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=Aee(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(o=>{const i=typeof o=="string"?`${o}$`:o.key;n=n.filter(s=>!s.key.startsWith(i))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const n=[...this.options.enableCoreExtensions?[Jee,zee.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),Uee,Yee,Xee,Zee,Kee,Qee,Wee].filter(r=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[r.name]!==!1:!0):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new FA(n,this)}createCommandManager(){this.commandManager=new LA({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=W_(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=W_(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new cee(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(c=>{var u;return(u=this.capturedTransaction)==null?void 0:u.step(c)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),o=n.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!o)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const s=n.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),a=s==null?void 0:s.getMeta("focus"),l=s==null?void 0:s.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:s}),l&&this.emit("blur",{editor:this,event:l.event,transaction:s}),!(t.getMeta("preventUpdate")||!n.some(c=>c.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return _ee(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return O8e(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return ER(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return $ee(this.state.doc,{blockSeparator:e,textSerializers:{...IR(this.schema),...n}})}get isEmpty(){return zA(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new YVe(e,this)}get $doc(){return this.$pos(0)}};function _m(t){return new HA({find:t.find,handler:({state:e,range:n,match:r})=>{const o=Ur(t.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:i}=e,s=r[r.length-1],a=r[0];if(s){const l=a.search(/\S/),c=n.from+a.indexOf(s),u=c+s.length;if(NR(n.from,n.to,e.doc).filter(f=>f.mark.type.excluded.find(h=>h===t.type&&h!==f.mark.type)).filter(f=>f.to>c).length)return null;u<n.to&&i.delete(u,n.to),c>n.from&&i.delete(n.from+l,c);const d=n.from+l+s.length;i.addMark(n.from+l,d,t.type.create(o||{})),i.removeStoredMark(t.type)}}})}function ete(t){return new HA({find:t.find,handler:({state:e,range:n,match:r})=>{const o=Ur(t.getAttributes,void 0,r)||{},{tr:i}=e,s=n.from;let a=n.to;const l=t.type.create(o);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=s+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];i.insertText(d,s+r[0].length-1),i.replaceWith(u,a,l)}else if(r[0]){const c=t.type.isInline?s:s-1;i.insert(c,t.type.create(o)).delete(i.mapping.map(s),i.mapping.map(a))}i.scrollIntoView()}})}function J_(t){return new HA({find:t.find,handler:({state:e,range:n,match:r})=>{const o=e.doc.resolve(n.from),i=Ur(t.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)}})}function ry(t){return new HA({find:t.find,handler:({state:e,range:n,match:r,chain:o})=>{const i=Ur(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),a=s.doc.resolve(n.from).blockRange(),l=a&&hR(a,t.type,i);if(!l)return null;if(s.wrap(a,l),t.keepMarks&&t.editor){const{selection:u,storedMarks:d}=e,{splittableMarks:f}=t.editor.extensionManager,h=d||u.$to.parentOffset&&u.$from.marks();if(h){const m=h.filter(g=>f.includes(g.type.name));s.ensureMarks(m)}}if(t.keepAttributes){const u=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(u,i).run()}const c=s.doc.resolve(n.from-1).nodeBefore;c&&c.type===t.type&&Qh(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,c))&&s.join(n.from-1)}})}function e9e(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Gt){const i=r.index();return r.parent.canReplaceWith(i,i+1,e)}let o=r.depth;for(;o>=0;){const i=r.index(o);if(r.node(o).contentMatchAt(i).matchType(e))return!0;o-=1}return!1}function t9e(t,e,n={}){const{state:r}=e,{doc:o,tr:i}=r,s=t;o.descendants((a,l)=>{const c=i.mapping.map(l),u=i.mapping.map(l)+a.nodeSize;let d=null;if(a.marks.forEach(h=>{if(h!==s)return!1;d=h}),!d)return;let f=!1;if(Object.keys(n).forEach(h=>{n[h]!==d.attrs[h]&&(f=!0)}),f){const h=t.type.create({...t.attrs,...n});i.removeMark(c,u,t.type),i.addMark(c,u,h)}}),i.docChanged&&e.view.dispatch(i)}var Xi=class tte extends DR{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new tte(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},n9e=class{constructor(t,e,n){this.isDragging=!1,this.component=t,this.editor=e.editor,this.options={stopEvent:null,ignoreMutation:null,...n},this.extension=e.extension,this.node=e.node,this.decorations=e.decorations,this.innerDecorations=e.innerDecorations,this.view=e.view,this.HTMLAttributes=e.HTMLAttributes,this.getPos=e.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var e,n,r,o,i,s,a;const{view:l}=this.editor,c=t.target,u=c.nodeType===3?(e=c.parentElement)==null?void 0:e.closest("[data-drag-handle]"):c.closest("[data-drag-handle]");if(!this.dom||(n=this.contentDOM)!=null&&n.contains(c)||!u)return;let d=0,f=0;if(this.dom!==u){const b=this.dom.getBoundingClientRect(),x=u.getBoundingClientRect(),k=(o=t.offsetX)!=null?o:(r=t.nativeEvent)==null?void 0:r.offsetX,w=(s=t.offsetY)!=null?s:(i=t.nativeEvent)==null?void 0:i.offsetY;d=x.x-b.x+k,f=x.y-b.y+w}const h=this.dom.cloneNode(!0);try{const b=this.dom.getBoundingClientRect();h.style.width=`${Math.round(b.width)}px`,h.style.height=`${Math.round(b.height)}px`,h.style.boxSizing="border-box",h.style.pointerEvents="none"}catch{}let m=null;try{m=document.createElement("div"),m.style.position="absolute",m.style.top="-9999px",m.style.left="-9999px",m.style.pointerEvents="none",m.appendChild(h),document.body.appendChild(m),(a=t.dataTransfer)==null||a.setDragImage(h,d,f)}finally{m&&setTimeout(()=>{try{m==null||m.remove()}catch{}},0)}const g=this.getPos();if(typeof g!="number")return;const v=Gt.create(l.state.doc,g),y=l.state.tr.setSelection(v);l.dispatch(y)}stopEvent(t){var e;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:t});const n=t.target;if(!(this.dom.contains(n)&&!((e=this.contentDOM)!=null&&e.contains(n))))return!1;const r=t.type.startsWith("drag"),o=t.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!o&&!r)return!0;const{isEditable:i}=this.editor,{isDragging:s}=this,a=!!this.node.type.spec.draggable,l=Gt.isSelectable(this.node),c=t.type==="copy",u=t.type==="paste",d=t.type==="cut",f=t.type==="mousedown";if(!a&&l&&r&&t.target===this.dom&&t.preventDefault(),a&&r&&!s&&t.target===this.dom)return t.preventDefault(),!1;if(a&&i&&!s&&f){const h=n.closest("[data-drag-handle]");h&&(this.dom===h||this.dom.contains(h))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(s||o||c||u||d||f&&l)}ignoreMutation(t){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:t}):this.node.isLeaf||this.node.isAtom?!0:t.type==="selection"||this.dom.contains(t.target)&&t.type==="childList"&&(qA()||Fee())&&this.editor.isFocused&&[...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(e=>e.isContentEditable)?!1:this.contentDOM===t.target&&t.type==="attributes"?!0:!this.contentDOM.contains(t.target)}updateAttributes(t){this.editor.commands.command(({tr:e})=>{const n=this.getPos();return typeof n!="number"?!1:(e.setNodeMarkup(n,void 0,{...this.node.attrs,...t}),!0)})}deleteNode(){const t=this.getPos();if(typeof t!="number")return;const e=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:e})}};function Lh(t){return new L8e({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:o})=>{const i=Ur(t.getAttributes,void 0,r,o);if(i===!1||i===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),f=d+a.length;if(NR(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(m=>m===t.type&&m!==h.mark.type)).filter(h=>h.to>d).length)return null;f<n.to&&s.delete(f,n.to),d>n.from&&s.delete(n.from+u,d),c=n.from+u+a.length,s.addMark(n.from+u,c,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function FB(t){return aF((e,n)=>({get(){return e(),t},set(r){t=r,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}var r9e=class extends ZVe{constructor(t={}){return super(t),this.contentComponent=null,this.appContext=null,this.reactiveState=FB(this.view.state),this.reactiveExtensionStorage=FB(this.extensionStorage),this.on("beforeTransaction",({nextState:e})=>{this.reactiveState.value=e,this.reactiveExtensionStorage.value=this.extensionStorage}),Fb(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(t,e){const n=super.registerPlugin(t,e);return this.reactiveState&&(this.reactiveState.value=n),n}unregisterPlugin(t){const e=super.unregisterPlugin(t);return this.reactiveState&&e&&(this.reactiveState.value=e),e}},o9e=en({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const e=Ye(),n=Gl();return Ai(()=>{const r=t.editor;r&&r.options.element&&e.value&&Ni(()=>{var o;if(!e.value||!((o=r.options.element)!=null&&o.firstChild))return;const i=Ie(e.value);e.value.append(...r.options.element.childNodes),r.contentComponent=n.ctx._,n&&(r.appContext={...n.appContext,provides:n.provides}),r.setOptions({element:i}),r.createNodeViews()})}),Ca(()=>{const r=t.editor;r&&(r.contentComponent=null,r.appContext=null)}),{rootEl:e}},render(){return ba("div",{ref:t=>{this.rootEl=t}})}}),i9e=en({name:"NodeViewContent",props:{as:{type:String,default:"div"}},render(){return ba(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}}),s9e=en({name:"NodeViewWrapper",props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var t,e;return ba(this.as,{class:this.decorationClasses,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},(e=(t=this.$slots).default)==null?void 0:e.call(t))}}),a9e=(t={})=>{const e=Vt();return hl(()=>{e.value=new r9e(t)}),Ca(()=>{var n,r,o;const i=(n=e.value)==null?void 0:n.options.element,s=i==null?void 0:i.cloneNode(!0);(r=i==null?void 0:i.parentNode)==null||r.replaceChild(s,i),(o=e.value)==null||o.destroy()}),e},l9e=class{constructor(t,{props:e={},editor:n}){this.editor=n,this.component=Fb(t),this.el=document.createElement("div"),this.props=ji(e),this.renderedComponent=this.renderComponent()}get element(){return this.renderedComponent.el}get ref(){var t,e,n,r;return(e=(t=this.renderedComponent.vNode)==null?void 0:t.component)!=null&&e.exposed?this.renderedComponent.vNode.component.exposed:(r=(n=this.renderedComponent.vNode)==null?void 0:n.component)==null?void 0:r.proxy}renderComponent(){let t=ba(this.component,this.props);return this.editor.appContext&&(t.appContext=this.editor.appContext),typeof document<"u"&&this.el&&p6(t,this.el),{vNode:t,destroy:()=>{this.el&&p6(null,this.el),this.el=null,t=null},el:this.el?this.el.firstElementChild:null}}updateProps(t={}){Object.entries(t).forEach(([e,n])=>{this.props[e]=n}),this.renderComponent()}destroy(){this.renderedComponent.destroy()}},c9e={editor:{type:Object,required:!0},node:{type:Object,required:!0},decorations:{type:Object,required:!0},selected:{type:Boolean,required:!0},extension:{type:Object,required:!0},getPos:{type:Function,required:!0},updateAttributes:{type:Function,required:!0},deleteNode:{type:Function,required:!0},view:{type:Object,required:!0},innerDecorations:{type:Object,required:!0},HTMLAttributes:{type:Object,required:!0}},u9e=class extends n9e{mount(){const t={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(r={})=>this.updateAttributes(r),deleteNode:()=>this.deleteNode()},e=this.onDragStart.bind(this);this.decorationClasses=Ye(this.getDecorationClasses());const n=en({extends:{...this.component},props:Object.keys(t),template:this.component.template,setup:r=>{var o,i;return Ki("onDragStart",e),Ki("decorationClasses",this.decorationClasses),(i=(o=this.component).setup)==null?void 0:i.call(o,r,{expose:()=>{}})},__scopeId:this.component.__scopeId,__cssModules:this.component.__cssModules,__name:this.component.__name,__file:this.component.__file});this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new l9e(n,{editor:this.editor,props:t})}get dom(){if(!this.renderer.element||!this.renderer.element.hasAttribute("data-node-view-wrapper"))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.dom.querySelector("[data-node-view-content]")}handleSelectionUpdate(){const{from:t,to:e}=this.editor.state.selection,n=this.getPos();if(typeof n=="number")if(t<=n&&e>=n+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(t,e,n){const r=o=>{this.decorationClasses.value=this.getDecorationClasses(),this.renderer.updateProps(o)};if(typeof this.options.update=="function"){const o=this.node,i=this.decorations,s=this.innerDecorations;return this.node=t,this.decorations=e,this.innerDecorations=n,this.options.update({oldNode:o,oldDecorations:i,newNode:t,newDecorations:e,oldInnerDecorations:s,innerDecorations:n,updateProps:()=>r({node:t,decorations:e,innerDecorations:n})})}return t.type!==this.node.type?!1:(t===this.node&&this.decorations===e&&this.innerDecorations===n||(this.node=t,this.decorations=e,this.innerDecorations=n,r({node:t,decorations:e,innerDecorations:n})),!0)}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element&&this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element&&this.renderer.element.classList.remove("ProseMirror-selectednode")}getDecorationClasses(){return this.decorations.map(t=>t.type.attrs.class).flat().join(" ")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate)}};function d9e(t,e){return n=>{if(!n.editor.contentComponent)return{};const r=typeof t=="function"&&"__vccOpts"in t?t.__vccOpts:t;return new u9e(r,n,e)}}const G_="en",Y_=200,f9e=Y_-80,qB=20,UB=1e5,vO=16,lk=6,ck=10,uk=2,h9e=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#000000","#333333","#666666","#999999","#CCCCCC","#D5D5D4","#E8E8E8","#EEEEEE"],X_="Roboto",p9e=[{title:"editor.default",value:X_,divider:!0,default:!0},{title:"Arial",value:"Arial"},{title:"Arial Black",value:"Arial Black"},{title:"Georgia",value:"Georgia"},{title:"Impact",value:"Impact"},{title:"Helvetica",value:"Helvetica"},{title:"Tahoma",value:"Tahoma"},{title:"Times New Roman",value:"Times New Roman"},{title:"Verdana",value:"Verdana"},{title:"Courier New",value:"Courier New",divider:!0},{title:"Monaco",value:"Monaco"},{title:"Monospace",value:"monospace"}],mC="default",nte=[{title:"editor.default",value:mC,default:!0}],m9e=[8,10,12,14,16,18,20,24,30,36,48,60,72],wg="default";var gC=(t=>(t[t["size-small"]=200]="size-small",t[t["size-medium"]=500]="size-medium",t["size-large"]="100%",t))(gC||{}),vC=(t=>(t[t["size-small"]=480]="size-small",t[t["size-medium"]=640]="size-medium",t["size-large"]="100%",t))(vC||{});const g9e={image:["float-left","float-none","float-right","divider","image-size-small","image-size-medium","image-size-large","divider","textAlign","divider","image","image-aspect-ratio","image-label","remove"],text:["bold","italic","underline","strike","divider","color","highlight","textAlign","divider","link"],link:["bold","italic","underline","strike","divider","color","highlight","textAlign","divider","link","unlink","link-open"],video:["video-size-small","video-size-medium","video-size-large","divider","video","remove"],table:["table-add-column-before","table-add-column-after","table-delete-column","divider","table-add-row-before","table-add-row-after","table-delete-row","divider","table-merge-or-split-cells","divider","table-delete-table","divider"]},T1=ji({extensions:[]});function v9e(t){T1.defaultLang=t.defaultLang,T1.defaultFallbackLang=t.defaultFallbackLang,T1.defaultMarkdownTheme=t.defaultMarkdownTheme,T1.extensions=t.extensions??[]}function UA(){return{state:T1}}var rte=typeof global=="object"&&global&&global.Object===Object&&global,y9e=typeof self=="object"&&self&&self.Object===Object&&self,Kc=rte||y9e||Function("return this")(),Kl=Kc.Symbol,ote=Object.prototype,b9e=ote.hasOwnProperty,w9e=ote.toString,c1=Kl?Kl.toStringTag:void 0;function x9e(t){var e=b9e.call(t,c1),n=t[c1];try{t[c1]=void 0;var r=!0}catch{}var o=w9e.call(t);return r&&(e?t[c1]=n:delete t[c1]),o}var k9e=Object.prototype,S9e=k9e.toString;function C9e(t){return S9e.call(t)}var j9e="[object Null]",A9e="[object Undefined]",WB=Kl?Kl.toStringTag:void 0;function Jm(t){return t==null?t===void 0?A9e:j9e:WB&&WB in Object(t)?x9e(t):C9e(t)}function Vu(t){return t!=null&&typeof t=="object"}var M9e="[object Symbol]";function WA(t){return typeof t=="symbol"||Vu(t)&&Jm(t)==M9e}function VR(t,e){for(var n=-1,r=t==null?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}var Rc=Array.isArray,KB=Kl?Kl.prototype:void 0,JB=KB?KB.toString:void 0;function ite(t){if(typeof t=="string")return t;if(Rc(t))return VR(t,ite)+"";if(WA(t))return JB?JB.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var T9e=/\s/;function O9e(t){for(var e=t.length;e--&&T9e.test(t.charAt(e)););return e}var $9e=/^\s+/;function E9e(t){return t&&t.slice(0,O9e(t)+1).replace($9e,"")}function Qd(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var GB=NaN,_9e=/^[-+]0x[0-9a-f]+$/i,P9e=/^0b[01]+$/i,I9e=/^0o[0-7]+$/i,R9e=parseInt;function YB(t){if(typeof t=="number")return t;if(WA(t))return GB;if(Qd(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Qd(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=E9e(t);var n=P9e.test(t);return n||I9e.test(t)?R9e(t.slice(2),n?2:8):_9e.test(t)?GB:+t}function BR(t){return t}var N9e="[object AsyncFunction]",L9e="[object Function]",D9e="[object GeneratorFunction]",V9e="[object Proxy]";function ste(t){if(!Qd(t))return!1;var e=Jm(t);return e==L9e||e==D9e||e==N9e||e==V9e}var yO=Kc["__core-js_shared__"],XB=function(){var t=/[^.]+$/.exec(yO&&yO.keys&&yO.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function B9e(t){return!!XB&&XB in t}var z9e=Function.prototype,H9e=z9e.toString;function Gm(t){if(t!=null){try{return H9e.call(t)}catch{}try{return t+""}catch{}}return""}var F9e=/[\\^$.*+?()[\]{}|]/g,q9e=/^\[object .+?Constructor\]$/,U9e=Function.prototype,W9e=Object.prototype,K9e=U9e.toString,J9e=W9e.hasOwnProperty,G9e=RegExp("^"+K9e.call(J9e).replace(F9e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Y9e(t){if(!Qd(t)||B9e(t))return!1;var e=ste(t)?G9e:q9e;return e.test(Gm(t))}function X9e(t,e){return t==null?void 0:t[e]}function Ym(t,e){var n=X9e(t,e);return Y9e(n)?n:void 0}var Q_=Ym(Kc,"WeakMap");function Q9e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Z9e=800,eBe=16,tBe=Date.now;function nBe(t){var e=0,n=0;return function(){var r=tBe(),o=eBe-(r-n);if(n=r,o>0){if(++e>=Z9e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function rBe(t){return function(){return t}}var yC=function(){try{var t=Ym(Object,"defineProperty");return t({},"",{}),t}catch{}}(),oBe=yC?function(t,e){return yC(t,"toString",{configurable:!0,enumerable:!1,value:rBe(e),writable:!0})}:BR,ate=nBe(oBe);function iBe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function sBe(t,e,n,r){for(var o=t.length,i=n+-1;++i<o;)if(e(t[i],i,t))return i;return-1}function aBe(t){return t!==t}function lBe(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}function cBe(t,e,n){return e===e?lBe(t,e,n):sBe(t,aBe,n)}function uBe(t,e){var n=t==null?0:t.length;return!!n&&cBe(t,e,0)>-1}var dBe=9007199254740991,fBe=/^(?:0|[1-9]\d*)$/;function lte(t,e){var n=typeof t;return e=e??dBe,!!e&&(n=="number"||n!="symbol"&&fBe.test(t))&&t>-1&&t%1==0&&t<e}function cte(t,e,n){e=="__proto__"&&yC?yC(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function zR(t,e){return t===e||t!==t&&e!==e}var hBe=Object.prototype,pBe=hBe.hasOwnProperty;function ute(t,e,n){var r=t[e];(!(pBe.call(t,e)&&zR(r,n))||n===void 0&&!(e in t))&&cte(t,e,n)}function mBe(t,e,n,r){var o=!n;n||(n={});for(var i=-1,s=e.length;++i<s;){var a=e[i],l=void 0;l===void 0&&(l=t[a]),o?cte(n,a,l):ute(n,a,l)}return n}var QB=Math.max;function dte(t,e,n){return e=QB(e===void 0?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=QB(r.length-e,0),s=Array(i);++o<i;)s[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=n(s),Q9e(t,this,a)}}function gBe(t,e){return ate(dte(t,e,BR),t+"")}var vBe=9007199254740991;function HR(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=vBe}function FR(t){return t!=null&&HR(t.length)&&!ste(t)}var yBe=Object.prototype;function fte(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||yBe;return t===n}function bBe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var wBe="[object Arguments]";function ZB(t){return Vu(t)&&Jm(t)==wBe}var hte=Object.prototype,xBe=hte.hasOwnProperty,kBe=hte.propertyIsEnumerable,qR=ZB(function(){return arguments}())?ZB:function(t){return Vu(t)&&xBe.call(t,"callee")&&!kBe.call(t,"callee")};function SBe(){return!1}var pte=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ez=pte&&typeof module=="object"&&module&&!module.nodeType&&module,CBe=ez&&ez.exports===pte,tz=CBe?Kc.Buffer:void 0,jBe=tz?tz.isBuffer:void 0,bC=jBe||SBe,ABe="[object Arguments]",MBe="[object Array]",TBe="[object Boolean]",OBe="[object Date]",$Be="[object Error]",EBe="[object Function]",_Be="[object Map]",PBe="[object Number]",IBe="[object Object]",RBe="[object RegExp]",NBe="[object Set]",LBe="[object String]",DBe="[object WeakMap]",VBe="[object ArrayBuffer]",BBe="[object DataView]",zBe="[object Float32Array]",HBe="[object Float64Array]",FBe="[object Int8Array]",qBe="[object Int16Array]",UBe="[object Int32Array]",WBe="[object Uint8Array]",KBe="[object Uint8ClampedArray]",JBe="[object Uint16Array]",GBe="[object Uint32Array]",Vo={};Vo[zBe]=Vo[HBe]=Vo[FBe]=Vo[qBe]=Vo[UBe]=Vo[WBe]=Vo[KBe]=Vo[JBe]=Vo[GBe]=!0;Vo[ABe]=Vo[MBe]=Vo[VBe]=Vo[TBe]=Vo[BBe]=Vo[OBe]=Vo[$Be]=Vo[EBe]=Vo[_Be]=Vo[PBe]=Vo[IBe]=Vo[RBe]=Vo[NBe]=Vo[LBe]=Vo[DBe]=!1;function YBe(t){return Vu(t)&&HR(t.length)&&!!Vo[Jm(t)]}function KA(t){return function(e){return t(e)}}var mte=typeof exports=="object"&&exports&&!exports.nodeType&&exports,c0=mte&&typeof module=="object"&&module&&!module.nodeType&&module,XBe=c0&&c0.exports===mte,bO=XBe&&rte.process,oy=function(){try{var t=c0&&c0.require&&c0.require("util").types;return t||bO&&bO.binding&&bO.binding("util")}catch{}}(),nz=oy&&oy.isTypedArray,gte=nz?KA(nz):YBe,QBe=Object.prototype,ZBe=QBe.hasOwnProperty;function vte(t,e){var n=Rc(t),r=!n&&qR(t),o=!n&&!r&&bC(t),i=!n&&!r&&!o&&gte(t),s=n||r||o||i,a=s?bBe(t.length,String):[],l=a.length;for(var c in t)(e||ZBe.call(t,c))&&!(s&&(c=="length"||o&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||lte(c,l)))&&a.push(c);return a}function yte(t,e){return function(n){return t(e(n))}}var eze=yte(Object.keys,Object),tze=Object.prototype,nze=tze.hasOwnProperty;function rze(t){if(!fte(t))return eze(t);var e=[];for(var n in Object(t))nze.call(t,n)&&n!="constructor"&&e.push(n);return e}function bte(t){return FR(t)?vte(t):rze(t)}function oze(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var ize=Object.prototype,sze=ize.hasOwnProperty;function aze(t){if(!Qd(t))return oze(t);var e=fte(t),n=[];for(var r in t)r=="constructor"&&(e||!sze.call(t,r))||n.push(r);return n}function lze(t){return FR(t)?vte(t,!0):aze(t)}var cze=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uze=/^\w*$/;function UR(t,e){if(Rc(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||WA(t)?!0:uze.test(t)||!cze.test(t)||e!=null&&t in Object(e)}var $b=Ym(Object,"create");function dze(){this.__data__=$b?$b(null):{},this.size=0}function fze(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var hze="__lodash_hash_undefined__",pze=Object.prototype,mze=pze.hasOwnProperty;function gze(t){var e=this.__data__;if($b){var n=e[t];return n===hze?void 0:n}return mze.call(e,t)?e[t]:void 0}var vze=Object.prototype,yze=vze.hasOwnProperty;function bze(t){var e=this.__data__;return $b?e[t]!==void 0:yze.call(e,t)}var wze="__lodash_hash_undefined__";function xze(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=$b&&e===void 0?wze:e,this}function Pm(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Pm.prototype.clear=dze;Pm.prototype.delete=fze;Pm.prototype.get=gze;Pm.prototype.has=bze;Pm.prototype.set=xze;function kze(){this.__data__=[],this.size=0}function JA(t,e){for(var n=t.length;n--;)if(zR(t[n][0],e))return n;return-1}var Sze=Array.prototype,Cze=Sze.splice;function jze(t){var e=this.__data__,n=JA(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Cze.call(e,n,1),--this.size,!0}function Aze(t){var e=this.__data__,n=JA(e,t);return n<0?void 0:e[n][1]}function Mze(t){return JA(this.__data__,t)>-1}function Tze(t,e){var n=this.__data__,r=JA(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function mf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mf.prototype.clear=kze;mf.prototype.delete=jze;mf.prototype.get=Aze;mf.prototype.has=Mze;mf.prototype.set=Tze;var Eb=Ym(Kc,"Map");function Oze(){this.size=0,this.__data__={hash:new Pm,map:new(Eb||mf),string:new Pm}}function $ze(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function GA(t,e){var n=t.__data__;return $ze(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Eze(t){var e=GA(this,t).delete(t);return this.size-=e?1:0,e}function _ze(t){return GA(this,t).get(t)}function Pze(t){return GA(this,t).has(t)}function Ize(t,e){var n=GA(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function gf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gf.prototype.clear=Oze;gf.prototype.delete=Eze;gf.prototype.get=_ze;gf.prototype.has=Pze;gf.prototype.set=Ize;var Rze="Expected a function";function WR(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Rze);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=t.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(WR.Cache||gf),n}WR.Cache=gf;var Nze=500;function Lze(t){var e=WR(t,function(r){return n.size===Nze&&n.clear(),r}),n=e.cache;return e}var Dze=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vze=/\\(\\)?/g,Bze=Lze(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Dze,function(n,r,o,i){e.push(o?i.replace(Vze,"$1"):r||n)}),e});function zze(t){return t==null?"":ite(t)}function YA(t,e){return Rc(t)?t:UR(t,e)?[t]:Bze(zze(t))}function Dw(t){if(typeof t=="string"||WA(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function KR(t,e){e=YA(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Dw(e[n++])];return n&&n==r?t:void 0}function Hze(t,e,n){var r=t==null?void 0:KR(t,e);return r===void 0?n:r}function JR(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}var rz=Kl?Kl.isConcatSpreadable:void 0;function Fze(t){return Rc(t)||qR(t)||!!(rz&&t&&t[rz])}function wte(t,e,n,r,o){var i=-1,s=t.length;for(n||(n=Fze),o||(o=[]);++i<s;){var a=t[i];n(a)?JR(o,a):r||(o[o.length]=a)}return o}function qze(t){var e=t==null?0:t.length;return e?wte(t):[]}function Uze(t){return ate(dte(t,void 0,qze),t+"")}var xte=yte(Object.getPrototypeOf,Object),Wze="[object Object]",Kze=Function.prototype,Jze=Object.prototype,kte=Kze.toString,Gze=Jze.hasOwnProperty,Yze=kte.call(Object);function Xze(t){if(!Vu(t)||Jm(t)!=Wze)return!1;var e=xte(t);if(e===null)return!0;var n=Gze.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&kte.call(n)==Yze}function Qze(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}function Zze(){this.__data__=new mf,this.size=0}function eHe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function tHe(t){return this.__data__.get(t)}function nHe(t){return this.__data__.has(t)}var rHe=200;function oHe(t,e){var n=this.__data__;if(n instanceof mf){var r=n.__data__;if(!Eb||r.length<rHe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new gf(r)}return n.set(t,e),this.size=n.size,this}function $u(t){var e=this.__data__=new mf(t);this.size=e.size}$u.prototype.clear=Zze;$u.prototype.delete=eHe;$u.prototype.get=tHe;$u.prototype.has=nHe;$u.prototype.set=oHe;var Ste=typeof exports=="object"&&exports&&!exports.nodeType&&exports,oz=Ste&&typeof module=="object"&&module&&!module.nodeType&&module,iHe=oz&&oz.exports===Ste,iz=iHe?Kc.Buffer:void 0;iz&&iz.allocUnsafe;function sHe(t,e){return t.slice()}function aHe(t,e){for(var n=-1,r=t==null?0:t.length,o=0,i=[];++n<r;){var s=t[n];e(s,n,t)&&(i[o++]=s)}return i}function Cte(){return[]}var lHe=Object.prototype,cHe=lHe.propertyIsEnumerable,sz=Object.getOwnPropertySymbols,jte=sz?function(t){return t==null?[]:(t=Object(t),aHe(sz(t),function(e){return cHe.call(t,e)}))}:Cte,uHe=Object.getOwnPropertySymbols,dHe=uHe?function(t){for(var e=[];t;)JR(e,jte(t)),t=xte(t);return e}:Cte;function Ate(t,e,n){var r=e(t);return Rc(t)?r:JR(r,n(t))}function az(t){return Ate(t,bte,jte)}function Mte(t){return Ate(t,lze,dHe)}var Z_=Ym(Kc,"DataView"),e3=Ym(Kc,"Promise"),t3=Ym(Kc,"Set"),lz="[object Map]",fHe="[object Object]",cz="[object Promise]",uz="[object Set]",dz="[object WeakMap]",fz="[object DataView]",hHe=Gm(Z_),pHe=Gm(Eb),mHe=Gm(e3),gHe=Gm(t3),vHe=Gm(Q_),ac=Jm;(Z_&&ac(new Z_(new ArrayBuffer(1)))!=fz||Eb&&ac(new Eb)!=lz||e3&&ac(e3.resolve())!=cz||t3&&ac(new t3)!=uz||Q_&&ac(new Q_)!=dz)&&(ac=function(t){var e=Jm(t),n=e==fHe?t.constructor:void 0,r=n?Gm(n):"";if(r)switch(r){case hHe:return fz;case pHe:return lz;case mHe:return cz;case gHe:return uz;case vHe:return dz}return e});var yHe=Object.prototype,bHe=yHe.hasOwnProperty;function wHe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&bHe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var wC=Kc.Uint8Array;function GR(t){var e=new t.constructor(t.byteLength);return new wC(e).set(new wC(t)),e}function xHe(t,e){var n=GR(t.buffer);return new t.constructor(n,t.byteOffset,t.byteLength)}var kHe=/\w*$/;function SHe(t){var e=new t.constructor(t.source,kHe.exec(t));return e.lastIndex=t.lastIndex,e}var hz=Kl?Kl.prototype:void 0,pz=hz?hz.valueOf:void 0;function CHe(t){return pz?Object(pz.call(t)):{}}function jHe(t,e){var n=GR(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}var AHe="[object Boolean]",MHe="[object Date]",THe="[object Map]",OHe="[object Number]",$He="[object RegExp]",EHe="[object Set]",_He="[object String]",PHe="[object Symbol]",IHe="[object ArrayBuffer]",RHe="[object DataView]",NHe="[object Float32Array]",LHe="[object Float64Array]",DHe="[object Int8Array]",VHe="[object Int16Array]",BHe="[object Int32Array]",zHe="[object Uint8Array]",HHe="[object Uint8ClampedArray]",FHe="[object Uint16Array]",qHe="[object Uint32Array]";function UHe(t,e,n){var r=t.constructor;switch(e){case IHe:return GR(t);case AHe:case MHe:return new r(+t);case RHe:return xHe(t);case NHe:case LHe:case DHe:case VHe:case BHe:case zHe:case HHe:case FHe:case qHe:return jHe(t);case THe:return new r;case OHe:case _He:return new r(t);case $He:return SHe(t);case EHe:return new r;case PHe:return CHe(t)}}var WHe="[object Map]";function KHe(t){return Vu(t)&&ac(t)==WHe}var mz=oy&&oy.isMap,JHe=mz?KA(mz):KHe,GHe="[object Set]";function YHe(t){return Vu(t)&&ac(t)==GHe}var gz=oy&&oy.isSet,XHe=gz?KA(gz):YHe,Tte="[object Arguments]",QHe="[object Array]",ZHe="[object Boolean]",eFe="[object Date]",tFe="[object Error]",Ote="[object Function]",nFe="[object GeneratorFunction]",rFe="[object Map]",oFe="[object Number]",$te="[object Object]",iFe="[object RegExp]",sFe="[object Set]",aFe="[object String]",lFe="[object Symbol]",cFe="[object WeakMap]",uFe="[object ArrayBuffer]",dFe="[object DataView]",fFe="[object Float32Array]",hFe="[object Float64Array]",pFe="[object Int8Array]",mFe="[object Int16Array]",gFe="[object Int32Array]",vFe="[object Uint8Array]",yFe="[object Uint8ClampedArray]",bFe="[object Uint16Array]",wFe="[object Uint32Array]",To={};To[Tte]=To[QHe]=To[uFe]=To[dFe]=To[ZHe]=To[eFe]=To[fFe]=To[hFe]=To[pFe]=To[mFe]=To[gFe]=To[rFe]=To[oFe]=To[$te]=To[iFe]=To[sFe]=To[aFe]=To[lFe]=To[vFe]=To[yFe]=To[bFe]=To[wFe]=!0;To[tFe]=To[Ote]=To[cFe]=!1;function pS(t,e,n,r,o,i){var s;if(n&&(s=o?n(t,r,o,i):n(t)),s!==void 0)return s;if(!Qd(t))return t;var a=Rc(t);if(a)s=wHe(t);else{var l=ac(t),c=l==Ote||l==nFe;if(bC(t))return sHe(t);if(l==$te||l==Tte||c&&!o)s={};else{if(!To[l])return o?t:{};s=UHe(t,l)}}i||(i=new $u);var u=i.get(t);if(u)return u;i.set(t,s),XHe(t)?t.forEach(function(h){s.add(pS(h,e,n,h,t,i))}):JHe(t)&&t.forEach(function(h,m){s.set(m,pS(h,e,n,m,t,i))});var d=Mte,f=a?void 0:d(t);return iBe(f||t,function(h,m){f&&(m=h,h=t[m]),ute(s,m,pS(h,e,n,m,t,i))}),s}var xFe="__lodash_hash_undefined__";function kFe(t){return this.__data__.set(t,xFe),this}function SFe(t){return this.__data__.has(t)}function _b(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new gf;++e<n;)this.add(t[e])}_b.prototype.add=_b.prototype.push=kFe;_b.prototype.has=SFe;function CFe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Ete(t,e){return t.has(e)}var jFe=1,AFe=2;function _te(t,e,n,r,o,i){var s=n&jFe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=i.get(t),u=i.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,h=n&AFe?new _b:void 0;for(i.set(t,e),i.set(e,t);++d<a;){var m=t[d],g=e[d];if(r)var v=s?r(g,m,d,e,t,i):r(m,g,d,t,e,i);if(v!==void 0){if(v)continue;f=!1;break}if(h){if(!CFe(e,function(y,b){if(!Ete(h,b)&&(m===y||o(m,y,n,r,i)))return h.push(b)})){f=!1;break}}else if(!(m===g||o(m,g,n,r,i))){f=!1;break}}return i.delete(t),i.delete(e),f}function MFe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,o){n[++e]=[o,r]}),n}function TFe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var OFe=1,$Fe=2,EFe="[object Boolean]",_Fe="[object Date]",PFe="[object Error]",IFe="[object Map]",RFe="[object Number]",NFe="[object RegExp]",LFe="[object Set]",DFe="[object String]",VFe="[object Symbol]",BFe="[object ArrayBuffer]",zFe="[object DataView]",vz=Kl?Kl.prototype:void 0,wO=vz?vz.valueOf:void 0;function HFe(t,e,n,r,o,i,s){switch(n){case zFe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case BFe:return!(t.byteLength!=e.byteLength||!i(new wC(t),new wC(e)));case EFe:case _Fe:case RFe:return zR(+t,+e);case PFe:return t.name==e.name&&t.message==e.message;case NFe:case DFe:return t==e+"";case IFe:var a=MFe;case LFe:var l=r&OFe;if(a||(a=TFe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=$Fe,s.set(t,e);var u=_te(a(t),a(e),r,o,i,s);return s.delete(t),u;case VFe:if(wO)return wO.call(t)==wO.call(e)}return!1}var FFe=1,qFe=Object.prototype,UFe=qFe.hasOwnProperty;function WFe(t,e,n,r,o,i){var s=n&FFe,a=az(t),l=a.length,c=az(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var f=a[d];if(!(s?f in e:UFe.call(e,f)))return!1}var h=i.get(t),m=i.get(e);if(h&&m)return h==e&&m==t;var g=!0;i.set(t,e),i.set(e,t);for(var v=s;++d<l;){f=a[d];var y=t[f],b=e[f];if(r)var x=s?r(b,y,f,e,t,i):r(y,b,f,t,e,i);if(!(x===void 0?y===b||o(y,b,n,r,i):x)){g=!1;break}v||(v=f=="constructor")}if(g&&!v){var k=t.constructor,w=e.constructor;k!=w&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof w=="function"&&w instanceof w)&&(g=!1)}return i.delete(t),i.delete(e),g}var KFe=1,yz="[object Arguments]",bz="[object Array]",dk="[object Object]",JFe=Object.prototype,wz=JFe.hasOwnProperty;function GFe(t,e,n,r,o,i){var s=Rc(t),a=Rc(e),l=s?bz:ac(t),c=a?bz:ac(e);l=l==yz?dk:l,c=c==yz?dk:c;var u=l==dk,d=c==dk,f=l==c;if(f&&bC(t)){if(!bC(e))return!1;s=!0,u=!1}if(f&&!u)return i||(i=new $u),s||gte(t)?_te(t,e,n,r,o,i):HFe(t,e,l,n,r,o,i);if(!(n&KFe)){var h=u&&wz.call(t,"__wrapped__"),m=d&&wz.call(e,"__wrapped__");if(h||m){var g=h?t.value():t,v=m?e.value():e;return i||(i=new $u),o(g,v,n,r,i)}}return f?(i||(i=new $u),WFe(t,e,n,r,o,i)):!1}function XA(t,e,n,r,o){return t===e?!0:t==null||e==null||!Vu(t)&&!Vu(e)?t!==t&&e!==e:GFe(t,e,n,r,XA,o)}var YFe=1,XFe=2;function QFe(t,e,n,r){var o=n.length,i=o;if(t==null)return!i;for(t=Object(t);o--;){var s=n[o];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<i;){s=n[o];var a=s[0],l=t[a],c=s[1];if(s[2]){if(l===void 0&&!(a in t))return!1}else{var u=new $u,d;if(!(d===void 0?XA(c,l,YFe|XFe,r,u):d))return!1}}return!0}function Pte(t){return t===t&&!Qd(t)}function ZFe(t){for(var e=bte(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,Pte(o)]}return e}function Ite(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function e7e(t){var e=ZFe(t);return e.length==1&&e[0][2]?Ite(e[0][0],e[0][1]):function(n){return n===t||QFe(n,t,e)}}function t7e(t,e){return t!=null&&e in Object(t)}function n7e(t,e,n){e=YA(e,t);for(var r=-1,o=e.length,i=!1;++r<o;){var s=Dw(e[r]);if(!(i=t!=null&&n(t,s)))break;t=t[s]}return i||++r!=o?i:(o=t==null?0:t.length,!!o&&HR(o)&&lte(s,o)&&(Rc(t)||qR(t)))}function r7e(t,e){return t!=null&&n7e(t,e,t7e)}var o7e=1,i7e=2;function s7e(t,e){return UR(t)&&Pte(e)?Ite(Dw(t),e):function(n){var r=Hze(n,t);return r===void 0&&r===e?r7e(n,t):XA(e,r,o7e|i7e)}}function a7e(t){return function(e){return e==null?void 0:e[t]}}function l7e(t){return function(e){return KR(e,t)}}function c7e(t){return UR(t)?a7e(Dw(t)):l7e(t)}function u7e(t){return typeof t=="function"?t:t==null?BR:typeof t=="object"?Rc(t)?s7e(t[0],t[1]):e7e(t):c7e(t)}var xO=function(){return Kc.Date.now()},d7e="Expected a function",f7e=Math.max,h7e=Math.min;function p7e(t,e,n){var r,o,i,s,a,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(d7e);e=YB(e)||0,Qd(n)&&(u=!!n.leading,d="maxWait"in n,i=d?f7e(YB(n.maxWait)||0,e):i,f="trailing"in n?!!n.trailing:f);function h(S){var C=r,j=o;return r=o=void 0,c=S,s=t.apply(j,C),s}function m(S){return c=S,a=setTimeout(y,e),u?h(S):s}function g(S){var C=S-l,j=S-c,A=e-C;return d?h7e(A,i-j):A}function v(S){var C=S-l,j=S-c;return l===void 0||C>=e||C<0||d&&j>=i}function y(){var S=xO();if(v(S))return b(S);a=setTimeout(y,g(S))}function b(S){return a=void 0,f&&r?h(S):(r=o=void 0,s)}function x(){a!==void 0&&clearTimeout(a),c=0,r=l=o=a=void 0}function k(){return a===void 0?s:b(xO())}function w(){var S=xO(),C=v(S);if(r=arguments,o=this,l=S,C){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(y,e),h(l)}return a===void 0&&(a=setTimeout(y,e)),s}return w.cancel=x,w.flush=k,w}function kO(t){return Vu(t)&&FR(t)}var m7e=200;function g7e(t,e,n,r){var o=-1,i=uBe,s=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=VR(e,KA(n))),e.length>=m7e&&(i=Ete,s=!1,e=new _b(e));e:for(;++o<a;){var u=t[o],d=n==null?u:n(u);if(u=u!==0?u:0,s&&d===d){for(var f=c;f--;)if(e[f]===d)continue e;l.push(u)}else i(e,d,r)||l.push(u)}return l}function Rte(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var v7e=gBe(function(t,e){var n=Rte(e);return kO(n)&&(n=void 0),kO(t)?g7e(t,wte(e,1,kO,!0),u7e(n)):[]});function y7e(t,e){return e.length<2?t:KR(t,Qze(e,0,-1))}function b7e(t,e){return XA(t,e)}function w7e(t,e){return e=YA(e,t),t=y7e(t,e),t==null||delete t[Dw(Rte(e))]}function x7e(t){return Xze(t)?void 0:t}var k7e=1,S7e=2,C7e=4,j7e=Uze(function(t,e){var n={};if(t==null)return n;var r=!1;e=VR(e,function(i){return i=YA(i,t),r||(r=i.length>1),i}),mBe(t,Mte(t),n),r&&(n=pS(n,k7e|S7e|C7e,x7e));for(var o=e.length;o--;)w7e(n,e[o]);return n}),A7e="Expected a function";function yv(t,e,n){var r=!0,o=!0;if(typeof t!="function")throw new TypeError(A7e);return Qd(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),p7e(t,e,{leading:r,maxWait:e,trailing:o})}function M7e(t,e,n){return t<e?e:t>n?n:t}const n3=t=>typeof t=="number",u0=t=>typeof t=="string",iy=t=>typeof t=="boolean",T7e=t=>typeof t=="function",d0=(t,e="px")=>{if(!t)return t;const n=n3(t)?String(t):t,r=Number.parseFloat(n),o=n.match(/[a-zA-Z%]+$/),i=o?o[0]:e;return Number.isNaN(r)?t:r+i};function O7e(t,e){const{extensions:n=[]}=t.extensionManager??{};return!!n.find(r=>r.name===e)}const xz=(t,e)=>{const{schema:n}=t,r=n.marks[e],o=n.nodes[e];return r?t.isActive(r.name):o?t.isActive(o.name):!1};function Nte(t,e){const{state:n}=UA(),r=ue(()=>iy(Ie(t))?mC:u0(n.defaultMarkdownTheme)&&n.defaultMarkdownTheme?n.defaultMarkdownTheme:mC),o=ue(()=>({[`markdown-theme-${Ie(r)}`]:!!u0(Ie(r))}));function i(s){!iy(Ie(t))&&Ie(t)!==s&&(e==null||e(s))}return Bt(r,s=>i(s)),Bt(t,s=>{s&&u0(s)&&n.defaultMarkdownTheme!==s&&(n.defaultMarkdownTheme=s)}),n.defaultMarkdownTheme&&i(n.defaultMarkdownTheme),{markdownThemeStyle:o}}function Lte(t){return R3()?(xs(t),!0):!1}const bv=new WeakMap,$7e=(...t)=>{var e;const n=t[0],r=(e=Gl())==null?void 0:e.proxy;if(r==null&&!Pie())throw new Error("injectLocal must be called in setup");return r&&bv.has(r)&&n in bv.get(r)?bv.get(r)[n]:co(...t)};function E7e(t,e){var n;const r=(n=Gl())==null?void 0:n.proxy;if(r==null)throw new Error("provideLocal must be called in setup");bv.has(r)||bv.set(r,Object.create(null));const o=bv.get(r);return o[t]=e,Ki(t,e)}function _7e(t,e){const n=Symbol(t.name||"InjectionState"),r=void 0;return[(...o)=>{const i=t(...o);return E7e(n,i),i},()=>$7e(n,r)]}const Dte=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const P7e=Object.prototype.toString,I7e=t=>P7e.call(t)==="[object Object]";function SO(t){return Array.isArray(t)?t:[t]}function R7e(t){return Gl()}function N7e(t,e=!0,n){R7e()?hl(t,n):e?t():Ni(t)}function L7e(t,e,n){return Bt(t,e,{...n,immediate:!0})}const D7e=Dte?window:void 0,V7e=Dte?window.document:void 0;function r3(t){var e;const n=gs(t);return(e=n==null?void 0:n.$el)!=null?e:n}function kz(...t){const e=[],n=()=>{e.forEach(a=>a()),e.length=0},r=(a,l,c,u)=>(a.addEventListener(l,c,u),()=>a.removeEventListener(l,c,u)),o=ue(()=>{const a=SO(gs(t[0])).filter(l=>l!=null);return a.every(l=>typeof l!="string")?a:void 0}),i=L7e(()=>{var a,l;return[(l=(a=o.value)==null?void 0:a.map(c=>r3(c)))!=null?l:[D7e].filter(c=>c!=null),SO(gs(o.value?t[1]:t[0])),SO(Ie(o.value?t[2]:t[1])),gs(o.value?t[3]:t[2])]},([a,l,c,u])=>{if(n(),!(a!=null&&a.length)||!(l!=null&&l.length)||!(c!=null&&c.length))return;const d=I7e(u)?{...u}:u;e.push(...a.flatMap(f=>l.flatMap(h=>c.map(m=>r(f,h,m,d)))))},{flush:"post"}),s=()=>{i(),n()};return Lte(n),s}function B7e(){const t=Vt(!1),e=Gl();return e&&hl(()=>{t.value=!0},e),t}function z7e(t){const e=B7e();return ue(()=>(e.value,!!t()))}const Sz=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function H7e(t,e={}){const{document:n=V7e,autoExit:r=!1}=e,o=ue(()=>{var b;return(b=r3(t))!=null?b:n==null?void 0:n.documentElement}),i=Vt(!1),s=ue(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(b=>n&&b in n||o.value&&b in o.value)),a=ue(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(b=>n&&b in n||o.value&&b in o.value)),l=ue(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(b=>n&&b in n||o.value&&b in o.value)),c=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(b=>n&&b in n),u=z7e(()=>o.value&&n&&s.value!==void 0&&a.value!==void 0&&l.value!==void 0),d=()=>c?(n==null?void 0:n[c])===o.value:!1,f=()=>{if(l.value){if(n&&n[l.value]!=null)return n[l.value];{const b=o.value;if((b==null?void 0:b[l.value])!=null)return!!b[l.value]}}return!1};async function h(){if(!(!u.value||!i.value)){if(a.value)if((n==null?void 0:n[a.value])!=null)await n[a.value]();else{const b=o.value;(b==null?void 0:b[a.value])!=null&&await b[a.value]()}i.value=!1}}async function m(){if(!u.value||i.value)return;f()&&await h();const b=o.value;s.value&&(b==null?void 0:b[s.value])!=null&&(await b[s.value](),i.value=!0)}async function g(){await(i.value?h():m())}const v=()=>{const b=f();(!b||b&&d())&&(i.value=b)},y={capture:!1,passive:!0};return kz(n,Sz,v,y),kz(()=>r3(o),Sz,v,y),N7e(v,!1),r&&Lte(h),{isSupported:u,isFullscreen:i,enter:m,exit:h,toggle:g}}const[F7e,YR]=_7e(()=>{const{state:t}=UA(),e=ji({extensions:t.extensions??[],defaultLang:G_,defaultMarkdownTheme:mC,isFullscreen:!1,color:void 0,highlight:void 0}),n=ue(()=>e.isFullscreen);function r(){e.isFullscreen=!e.isFullscreen}return Ai(()=>{e.extensions=t.extensions,e.defaultLang=t.defaultLang,e.defaultMarkdownTheme=t.defaultMarkdownTheme}),{state:e,isFullscreen:n,toggleFullscreen:r}}),Cz="[vuetify-pro-tiptap]";class o3{static warn(e){console.warn(`${Cz}: ${e}`)}static error(e){console.error(`${Cz}: ${e}`)}}function q7e(t){return t=t||new Map,{all:t,on(e,n){const r=t.get(e);r?r.push(n):t.set(e,[n])},off(e,n){const r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit(e,n){let r=t.get(e);r&&r.slice().map(o=>{o(n)}),r=t.get("*"),r&&r.slice().map(o=>{o(e,n)})}}}const U7e={"editor.remove":"Entfernen","editor.words":"WRTER","editor.characters":"ZEICHEN","editor.default":"Standard","editor.size.small.tooltip":"Klein","editor.size.medium.tooltip":"Mittel","editor.size.large.tooltip":"Gro","editor.bold.tooltip":"Fett","editor.italic.tooltip":"Kursiv","editor.underline.tooltip":"Unterstrichen","editor.strike.tooltip":"Durchgestrichen","editor.color.tooltip":"Farbe","editor.highlight.tooltip":"Hervorheben","editor.heading.tooltip":"berschriften","editor.heading.h1.tooltip":"berschrift 1","editor.heading.h2.tooltip":"berschrift 2","editor.heading.h3.tooltip":"berschrift 3","editor.heading.h4.tooltip":"berschrift 4","editor.heading.h5.tooltip":"berschrift 5","editor.heading.h6.tooltip":"berschrift 6","editor.paragraph.tooltip":"Absatz","editor.textalign.tooltip":"Ausrichten","editor.textalign.left.tooltip":"Links","editor.textalign.center.tooltip":"Zentriert","editor.textalign.right.tooltip":"Rechts","editor.textalign.justify.tooltip":"Blocksatz","editor.fontFamily.tooltip":"Schriftart","editor.fontSize.tooltip":"Schriftgre","editor.superscript.tooltip":"Hochgestellt","editor.subscript.tooltip":"Tiefgestellt","editor.bulletlist.tooltip":"Aufzhlungsliste","editor.orderedlist.tooltip":"Nummerierte Liste","editor.tasklist.tooltip":"Aufgabenliste","editor.indent.tooltip":"Einzug","editor.outdent.tooltip":"Ausrcken","editor.link.tooltip":"Link","editor.link.unlink.tooltip":"Link entfernen","editor.link.open":"Link ffnen","editor.link.dialog.title":"Link einfgen","editor.link.dialog.link":"Link","editor.link.dialog.openInNewTab":"In neuem Tab ffnen","editor.link.dialog.button.apply":"Anwenden","editor.markdownTheme.tooltip":"Thema","editor.image.tooltip":"Bild","editor.image.float.left.tooltip":"Links ausrichten","editor.image.float.none.tooltip":"Keine Ausrichtung","editor.image.float.right.tooltip":"Rechts ausrichten","editor.image.dialog.title":"Bild einfgen","editor.image.dialog.tab.url":"URL","editor.image.dialog.tab.upload":"Hochladen","editor.image.dialog.form.link":"Link","editor.image.dialog.form.alt":"Alt","editor.image.dialog.form.aspectRatio":"Original-Seitenverhltnis beibehalten","editor.image.dialog.form.file":"Datei","editor.image.dialog.form.label":"Etikett","editor.image.dialog.form.labelDisabled":"Etikett deaktiviert","editor.image.dialog.button.apply":"Anwenden","editor.video.tooltip":"Video","editor.video.dialog.title":"Video einfgen","editor.video.dialog.link":"Link","editor.video.dialog.button.apply":"Anwenden","editor.table.tooltip":"Tabelle","editor.table.menu.insert_table":"Tabelle einfgen","editor.table.menu.insert_table.with_header_row":"Mit Kopfzeile","editor.table.menu.add_column_before":"Spalte davor einfgen","editor.table.menu.add_column_after":"Spalte danach einfgen","editor.table.menu.delete_column":"Spalte lschen","editor.table.menu.add_row_before":"Zeile davor einfgen","editor.table.menu.add_row_after":"Zeile danach einfgen","editor.table.menu.delete_row":"Zeile lschen","editor.table.menu.merge_or_split_cells":"Zellen zusammenfhren oder teilen","editor.table.menu.delete_table":"Tabelle lschen","editor.blockquote.tooltip":"Zitat","editor.horizontalrule.tooltip":"Horizontale Linie","editor.code.tooltip":"Code","editor.codeblock.tooltip":"Codeblock","editor.clear.tooltip":"Formatierung lschen","editor.undo.tooltip":"Rckgngig","editor.redo.tooltip":"Wiederholen","editor.fullscreen.tooltip.fullscreen":"Vollbild","editor.fullscreen.tooltip.exit":"Vollbild beenden"},W7e={"editor.remove":"Remove","editor.words":"WORDS","editor.characters":"CHARACTERS","editor.default":"default","editor.size.small.tooltip":"Small","editor.size.medium.tooltip":"Medium","editor.size.large.tooltip":"Cover","editor.bold.tooltip":"Bold","editor.italic.tooltip":"Italic","editor.underline.tooltip":"Underline","editor.strike.tooltip":"Strike","editor.color.tooltip":"Color","editor.highlight.tooltip":"Highlight","editor.heading.tooltip":"Headings","editor.heading.h1.tooltip":"Heading 1","editor.heading.h2.tooltip":"Heading 2","editor.heading.h3.tooltip":"Heading 3","editor.heading.h4.tooltip":"Heading 4","editor.heading.h5.tooltip":"Heading 5","editor.heading.h6.tooltip":"Heading 6","editor.paragraph.tooltip":"Paragraph","editor.textalign.tooltip":"Align","editor.textalign.left.tooltip":"Left","editor.textalign.center.tooltip":"Center","editor.textalign.right.tooltip":"Right","editor.textalign.justify.tooltip":"Justify","editor.fontFamily.tooltip":"Font family","editor.fontSize.tooltip":"Font size","editor.superscript.tooltip":"Superscript","editor.subscript.tooltip":"Subscript","editor.bulletlist.tooltip":"Bullet List","editor.orderedlist.tooltip":"Ordered List","editor.tasklist.tooltip":"Task List","editor.indent.tooltip":"Indent","editor.outdent.tooltip":"Outdent","editor.link.tooltip":"Link","editor.link.unlink.tooltip":"Unlink","editor.link.open":"Open link","editor.link.dialog.title":"Insert link","editor.link.dialog.link":"link","editor.link.dialog.openInNewTab":"Open in new tab","editor.link.dialog.button.apply":"apply","editor.markdownTheme.tooltip":"Theme","editor.image.tooltip":"Image","editor.image.float.left.tooltip":"Float left","editor.image.float.none.tooltip":"Float none","editor.image.float.right.tooltip":"Float right","editor.image.dialog.title":"Insert image","editor.image.dialog.tab.url":"url","editor.image.dialog.tab.upload":"upload","editor.image.dialog.form.link":"Link","editor.image.dialog.form.alt":"Alt","editor.image.dialog.form.aspectRatio":"Lock original aspect ratio","editor.image.dialog.form.file":"File","editor.image.dialog.form.label":"Label","editor.image.dialog.form.labelDisabled":"Label disabled","editor.image.dialog.button.apply":"apply","editor.video.tooltip":"Video","editor.video.dialog.title":"Insert video","editor.video.dialog.link":"link","editor.video.dialog.button.apply":"apply","editor.table.tooltip":"Table","editor.table.menu.insert_table":"Insert Table","editor.table.menu.insert_table.with_header_row":"With header row","editor.table.menu.add_column_before":"Add Column Before","editor.table.menu.add_column_after":"Add Column After","editor.table.menu.delete_column":"Delete Column","editor.table.menu.add_row_before":"Add Row Before","editor.table.menu.add_row_after":"Add Row After","editor.table.menu.delete_row":"Delete Row","editor.table.menu.merge_or_split_cells":"Merge Or Split Cells","editor.table.menu.delete_table":"Delete Table","editor.blockquote.tooltip":"Blockquote","editor.horizontalrule.tooltip":"Horizontal Rule","editor.code.tooltip":"Code","editor.codeblock.tooltip":"Code Block","editor.clear.tooltip":"Clear Format","editor.undo.tooltip":"Undo","editor.redo.tooltip":"Redo","editor.fullscreen.tooltip.fullscreen":"Fullscreen","editor.fullscreen.tooltip.exit":"Fullscreen Exit"},K7e={"editor.remove":"Supprimer","editor.words":"MOTS","editor.characters":"CARACTRES","editor.default":"par dfaut","editor.size.small.tooltip":"Petit","editor.size.medium.tooltip":"Moyen","editor.size.large.tooltip":"Couverture","editor.bold.tooltip":"Gras","editor.italic.tooltip":"Italique","editor.underline.tooltip":"Soulign","editor.strike.tooltip":"Barr","editor.color.tooltip":"Couleur","editor.highlight.tooltip":"Surligner","editor.heading.tooltip":"Titres","editor.heading.h1.tooltip":"Titre 1","editor.heading.h2.tooltip":"Titre 2","editor.heading.h3.tooltip":"Titre 3","editor.heading.h4.tooltip":"Titre 4","editor.heading.h5.tooltip":"Titre 5","editor.heading.h6.tooltip":"Titre 6","editor.paragraph.tooltip":"Paragraphe","editor.textalign.tooltip":"Aligner","editor.textalign.left.tooltip":"Gauche","editor.textalign.center.tooltip":"Centre","editor.textalign.right.tooltip":"Droite","editor.textalign.justify.tooltip":"Justifier","editor.fontFamily.tooltip":"Police","editor.fontSize.tooltip":"Taille de police","editor.superscript.tooltip":"Exposant","editor.subscript.tooltip":"Indice","editor.bulletlist.tooltip":"Liste  puces","editor.orderedlist.tooltip":"Liste numrote","editor.tasklist.tooltip":"Liste de tches","editor.indent.tooltip":"Indenter","editor.outdent.tooltip":"Dsindenter","editor.link.tooltip":"Lien","editor.link.unlink.tooltip":"Supprimer le lien","editor.link.open":"Ouvrir le lien","editor.link.dialog.title":"Insrer un lien","editor.link.dialog.link":"lien","editor.link.dialog.openInNewTab":"Ouvrir dans un nouvel onglet","editor.link.dialog.button.apply":"appliquer","editor.markdownTheme.tooltip":"Thme","editor.image.tooltip":"Image","editor.image.float.left.tooltip":"Aligner  gauche","editor.image.float.none.tooltip":"Sans alignement","editor.image.float.right.tooltip":"Aligner  droite","editor.image.dialog.title":"Insrer une image","editor.image.dialog.tab.url":"url","editor.image.dialog.tab.upload":"tlverser","editor.image.dialog.form.link":"Lien","editor.image.dialog.form.alt":"Texte alternatif","editor.image.dialog.form.aspectRatio":"Conserver les proportions","editor.image.dialog.form.file":"Fichier","editor.image.dialog.form.label":"tiquette","editor.image.dialog.form.labelDisabled":"Libell dsactiv","editor.image.dialog.button.apply":"appliquer","editor.video.tooltip":"Vido","editor.video.dialog.title":"Insrer une vido","editor.video.dialog.link":"lien","editor.video.dialog.button.apply":"appliquer","editor.table.tooltip":"Tableau","editor.table.menu.insert_table":"Insrer un tableau","editor.table.menu.insert_table.with_header_row":"Avec ligne den-tte","editor.table.menu.add_column_before":"Ajouter une colonne avant","editor.table.menu.add_column_after":"Ajouter une colonne aprs","editor.table.menu.delete_column":"Supprimer la colonne","editor.table.menu.add_row_before":"Ajouter une ligne avant","editor.table.menu.add_row_after":"Ajouter une ligne aprs","editor.table.menu.delete_row":"Supprimer la ligne","editor.table.menu.merge_or_split_cells":"Fusionner ou diviser les cellules","editor.table.menu.delete_table":"Supprimer le tableau","editor.blockquote.tooltip":"Citation","editor.horizontalrule.tooltip":"Ligne horizontale","editor.code.tooltip":"Code","editor.codeblock.tooltip":"Bloc de code","editor.clear.tooltip":"Effacer le formatage","editor.undo.tooltip":"Annuler","editor.redo.tooltip":"Rtablir","editor.fullscreen.tooltip.fullscreen":"Plein cran","editor.fullscreen.tooltip.exit":"Quitter le plein cran"},J7e={"editor.remove":"Rimuovi","editor.words":"Parole","editor.characters":"Caratteri","editor.default":"Predefinito","editor.size.small.tooltip":"Piccolo","editor.size.medium.tooltip":"Medio","editor.size.large.tooltip":"Grande","editor.bold.tooltip":"Grassetto","editor.italic.tooltip":"Corsivo","editor.underline.tooltip":"Sottolineato","editor.strike.tooltip":"Barrato","editor.color.tooltip":"Colore","editor.highlight.tooltip":"Evidenzia","editor.heading.tooltip":"Intestazioni","editor.heading.h1.tooltip":"Intestzione 1","editor.heading.h2.tooltip":"Intestzione 2","editor.heading.h3.tooltip":"Intestzione 3","editor.heading.h4.tooltip":"Intestazione 4","editor.heading.h5.tooltip":"Intestazione 5","editor.heading.h6.tooltip":"Intestazione 6","editor.paragraph.tooltip":"Paragrafo","editor.textalign.tooltip":"Allineamento","editor.textalign.left.tooltip":"Sinistra","editor.textalign.center.tooltip":"Centro","editor.textalign.right.tooltip":"Destra","editor.textalign.justify.tooltip":"Giustificato","editor.fontFamily.tooltip":"Tipo carattere","editor.fontSize.tooltip":"Dimensione carattere","editor.superscript.tooltip":"Apice","editor.subscript.tooltip":"Pedice","editor.bulletlist.tooltip":"Elenco puntato","editor.orderedlist.tooltip":"Elenco numerato","editor.tasklist.tooltip":"Elenco attivit","editor.indent.tooltip":"Aumenta rientro","editor.outdent.tooltip":"Riduci rientro","editor.link.tooltip":"Aggiungi collegamento","editor.link.unlink.tooltip":"Rimuovi collegamento","editor.link.open":"Apri collegamento","editor.link.dialog.title":"Inserisci collegamento","editor.link.dialog.link":"Collegamento","editor.link.dialog.openInNewTab":"Apri in una nuova finestra","editor.link.dialog.button.apply":"Applica","editor.markdownTheme.tooltip":"Tema","editor.image.tooltip":"Immagine","editor.image.float.left.tooltip":"Allinea a sinistra","editor.image.float.none.tooltip":"Nessun allineamento","editor.image.float.right.tooltip":"Allinea a destra","editor.image.dialog.title":"Inserisci immagine","editor.image.dialog.tab.url":"URL","editor.image.dialog.tab.upload":"Carica","editor.image.dialog.form.link":"Collegamento","editor.image.dialog.form.alt":"Alt","editor.image.dialog.form.aspectRatio":"Blocca le proporzioni originali","editor.image.dialog.form.file":"File","editor.image.dialog.form.label":"Etichetta","editor.image.dialog.form.labelDisabled":"Etichetta disabilitata","editor.image.dialog.button.apply":"Applica","editor.video.tooltip":"Video","editor.video.dialog.title":"Inserisci video","editor.video.dialog.link":"Collegamento","editor.video.dialog.button.apply":"Applica","editor.table.tooltip":"Tabella","editor.table.menu.insert_table":"Inserisci tabella","editor.table.menu.insert_table.with_header_row":"Con riga intestazione","editor.table.menu.add_column_before":"Aggiungi colonna prima","editor.table.menu.add_column_after":"Aggiungi colonna dopo","editor.table.menu.delete_column":"Elimina colonna","editor.table.menu.add_row_before":"Aggiungi riga prima","editor.table.menu.add_row_after":"Aggiungi riga dopo","editor.table.menu.delete_row":"Elimina riga","editor.table.menu.merge_or_split_cells":"Unisci o dividi celle","editor.table.menu.delete_table":"Elimina tabella","editor.blockquote.tooltip":"Citazione","editor.horizontalrule.tooltip":"Linea orizzontale","editor.code.tooltip":"Codice","editor.codeblock.tooltip":"Blocco di codice","editor.clear.tooltip":"Rimuovi formattazione","editor.undo.tooltip":"Annulla","editor.redo.tooltip":"Ripristina","editor.fullscreen.tooltip.fullscreen":"Schermo intero","editor.fullscreen.tooltip.exit":"Esci da schermo intero"},G7e={"editor.remove":"Verwijderen","editor.words":"WOORDEN","editor.characters":"KARAKTERS","editor.default":"standaard","editor.size.small.tooltip":"Klein","editor.size.medium.tooltip":"Middelmatig","editor.size.large.tooltip":"Cover","editor.bold.tooltip":"Dikgedrukt","editor.italic.tooltip":"Cursief","editor.underline.tooltip":"Onderstreept","editor.strike.tooltip":"Doorgetrokken","editor.color.tooltip":"Kleur","editor.highlight.tooltip":"Markeren","editor.heading.tooltip":"Koppen","editor.heading.h1.tooltip":"Kop 1","editor.heading.h2.tooltip":"Kop 2","editor.heading.h3.tooltip":"Kop 3","editor.heading.h4.tooltip":"Kop 4","editor.heading.h5.tooltip":"Kop 5","editor.heading.h6.tooltip":"Kop 6","editor.paragraph.tooltip":"Paragraaf","editor.textalign.tooltip":"Uitlijnen","editor.textalign.left.tooltip":"Links","editor.textalign.center.tooltip":"Midden","editor.textalign.right.tooltip":"Rechts","editor.textalign.justify.tooltip":"Justify","editor.fontFamily.tooltip":"Font familie","editor.fontSize.tooltip":"Font grootte","editor.superscript.tooltip":"Superscript","editor.subscript.tooltip":"Subscript","editor.bulletlist.tooltip":"Ongenummerde lijst","editor.orderedlist.tooltip":"Genummerde lijst","editor.tasklist.tooltip":"Takenlijst","editor.indent.tooltip":"Inspringing vergroten","editor.outdent.tooltip":"Inspringing verkleinen","editor.link.tooltip":"Link","editor.link.unlink.tooltip":"Link verwijderen","editor.link.open":"Link openen","editor.link.dialog.title":"Link invoegen","editor.link.dialog.link":"link","editor.link.dialog.openInNewTab":"Openen in nieuw tabblad","editor.link.dialog.button.apply":"Toepassen","editor.markdownTheme.tooltip":"Thema","editor.image.tooltip":"Afbeelding","editor.image.float.left.tooltip":"Zweef links","editor.image.float.none.tooltip":"Niet zweven","editor.image.float.right.tooltip":"Zweef rechts","editor.image.dialog.title":"Afbeelding invoegen","editor.image.dialog.tab.url":"URL","editor.image.dialog.tab.upload":"Upload","editor.image.dialog.form.link":"Link","editor.image.dialog.form.alt":"Alt","editor.image.dialog.form.aspectRatio":"Originele aspect ratio vastzetten","editor.image.dialog.form.file":"Bestand","editor.image.dialog.form.label":"Label","editor.image.dialog.form.labelDisabled":"Label uitgeschakeld","editor.image.dialog.button.apply":"Toepassen","editor.video.tooltip":"Video","editor.video.dialog.title":"Video invoegen","editor.video.dialog.link":"link","editor.video.dialog.button.apply":"Toepassen","editor.table.tooltip":"Tabel","editor.table.menu.insert_table":"Tabel invoegen","editor.table.menu.insert_table.with_header_row":"Met kop rij","editor.table.menu.add_column_before":"Kolom ervoor invoegen","editor.table.menu.add_column_after":"Kolom erna invoegen","editor.table.menu.delete_column":"Kolom verwijderen","editor.table.menu.add_row_before":"Rij ervoor invoegen","editor.table.menu.add_row_after":"Rij erna invoegen","editor.table.menu.delete_row":"Rij verwijderen","editor.table.menu.merge_or_split_cells":"Cellen samenvoegen/splitsen","editor.table.menu.delete_table":"Tabel verwijderen","editor.blockquote.tooltip":"Citaatblok","editor.horizontalrule.tooltip":"Horizontale lijn","editor.code.tooltip":"Code","editor.codeblock.tooltip":"Code blok","editor.clear.tooltip":"Formattering verwijderen","editor.undo.tooltip":"Stap terug","editor.redo.tooltip":"Stap verder","editor.fullscreen.tooltip.fullscreen":"Volledig scherm","editor.fullscreen.tooltip.exit":"Volledig scherm verlaten"},Y7e={"editor.remove":"Remover","editor.words":"Palavras","editor.characters":"Caracteres","editor.default":"Padro","editor.size.small.tooltip":"Pequeno","editor.size.medium.tooltip":"Mdio","editor.size.large.tooltip":"Grande","editor.bold.tooltip":"Negrito","editor.italic.tooltip":"Itlico","editor.underline.tooltip":"Sublinhado","editor.strike.tooltip":"Tachado","editor.color.tooltip":"Cor","editor.highlight.tooltip":"Destacar","editor.heading.tooltip":"Cabealhos","editor.heading.h1.tooltip":"Cabealho 1","editor.heading.h2.tooltip":"Cabealho 2","editor.heading.h3.tooltip":"Cabealho 3","editor.heading.h4.tooltip":"Cabealho 4","editor.heading.h5.tooltip":"Cabealho 5","editor.heading.h6.tooltip":"Cabealho 6","editor.paragraph.tooltip":"Pargrafo","editor.textalign.tooltip":"Alinhamento","editor.textalign.left.tooltip":"Esquerda","editor.textalign.center.tooltip":"Centro","editor.textalign.right.tooltip":"Direita","editor.textalign.justify.tooltip":"Justificado","editor.fontFamily.tooltip":"Fonte","editor.fontSize.tooltip":"Tamanho da fonte","editor.superscript.tooltip":"Sobrescrito","editor.subscript.tooltip":"Subscrito","editor.bulletlist.tooltip":"Lista com marcadores","editor.orderedlist.tooltip":"Lista numerada","editor.tasklist.tooltip":"Lista de tarefas","editor.indent.tooltip":"Aumentar recuo","editor.outdent.tooltip":"Diminuir recuo","editor.link.tooltip":"Adicionar link","editor.link.unlink.tooltip":"Remover link","editor.link.open":"Abrir link","editor.link.dialog.title":"Inserir link","editor.link.dialog.link":"Link","editor.link.dialog.openInNewTab":"Abrir em nova aba","editor.link.dialog.button.apply":"Aplicar","editor.markdownTheme.tooltip":"Tema","editor.image.tooltip":"Imagem","editor.image.float.left.tooltip":"Alinhar  esquerda","editor.image.float.none.tooltip":"Sem alinhamento","editor.image.float.right.tooltip":"Alinhar  direita","editor.image.dialog.title":"Inserir imagem","editor.image.dialog.tab.url":"URL","editor.image.dialog.tab.upload":"Carregar","editor.image.dialog.form.link":"Link","editor.image.dialog.form.alt":"Texto alternativo","editor.image.dialog.form.aspectRatio":"Bloquear proporo original","editor.image.dialog.form.file":"Arquivo","editor.image.dialog.form.label":"Legenda","editor.image.dialog.form.labelDisabled":"Sem legenda","editor.image.dialog.button.apply":"Aplicar","editor.video.tooltip":"Vdeo","editor.video.dialog.title":"Inserir vdeo","editor.video.dialog.link":"Link","editor.video.dialog.button.apply":"Aplicar","editor.table.tooltip":"Tabela","editor.table.menu.insert_table":"Inserir tabela","editor.table.menu.insert_table.with_header_row":"Com linha de cabealho","editor.table.menu.add_column_before":"Adicionar coluna antes","editor.table.menu.add_column_after":"Adicionar coluna depois","editor.table.menu.delete_column":"Excluir coluna","editor.table.menu.add_row_before":"Adicionar linha antes","editor.table.menu.add_row_after":"Adicionar linha depois","editor.table.menu.delete_row":"Excluir linha","editor.table.menu.merge_or_split_cells":"Mesclar ou dividir clulas","editor.table.menu.delete_table":"Excluir tabela","editor.blockquote.tooltip":"Citao","editor.horizontalrule.tooltip":"Linha horizontal","editor.code.tooltip":"Cdigo","editor.codeblock.tooltip":"Bloco de cdigo","editor.clear.tooltip":"Remover formatao","editor.undo.tooltip":"Desfazer","editor.redo.tooltip":"Refazer","editor.fullscreen.tooltip.fullscreen":"Tela cheia","editor.fullscreen.tooltip.exit":"Sair da tela cheia"},X7e={"editor.remove":"Kaldr","editor.words":"Kelime","editor.characters":"Karakter","editor.default":"varsaylan","editor.size.small.tooltip":"Kk","editor.size.medium.tooltip":"Orta","editor.size.large.tooltip":"Kapak","editor.bold.tooltip":"Kaln","editor.italic.tooltip":"talik","editor.underline.tooltip":"Alt izili","editor.strike.tooltip":"st izili","editor.color.tooltip":"Renk","editor.highlight.tooltip":"Vurgula","editor.heading.tooltip":"Balklar","editor.heading.h1.tooltip":"Balk 1","editor.heading.h2.tooltip":"Balk 2","editor.heading.h3.tooltip":"Balk 3","editor.heading.h4.tooltip":"Balk 4","editor.heading.h5.tooltip":"Balk 5","editor.heading.h6.tooltip":"Balk 6","editor.paragraph.tooltip":"Paragraf","editor.textalign.tooltip":"Hizala","editor.textalign.left.tooltip":"Sola","editor.textalign.center.tooltip":"Ortala","editor.textalign.right.tooltip":"Saa","editor.textalign.justify.tooltip":"ki Yana Yasla","editor.fontFamily.tooltip":"Yaz Tipi","editor.fontSize.tooltip":"Yaz Boyutu","editor.superscript.tooltip":"st Simge","editor.subscript.tooltip":"Alt Simge","editor.bulletlist.tooltip":"Noktal Liste","editor.orderedlist.tooltip":"Numaral Liste","editor.tasklist.tooltip":"Grev Listesi","editor.indent.tooltip":"Girinti","editor.outdent.tooltip":"knt","editor.link.tooltip":"Balant","editor.link.unlink.tooltip":"Balanty Kaldr","editor.link.open":"Balanty A","editor.link.dialog.title":"Balant Ekle","editor.link.dialog.link":"balant","editor.link.dialog.openInNewTab":"Yeni sekmede a","editor.link.dialog.button.apply":"Uygula","editor.markdownTheme.tooltip":"Tema","editor.image.tooltip":"Resim","editor.image.float.left.tooltip":"Sola Yasla","editor.image.float.none.tooltip":"Hizalamay Kaldr","editor.image.float.right.tooltip":"Saa Yasla","editor.image.dialog.title":"Resim Ekle","editor.image.dialog.tab.url":"URL","editor.image.dialog.tab.upload":"Ykle","editor.image.dialog.form.link":"Balant","editor.image.dialog.form.alt":"Alternatif Metin","editor.image.dialog.form.aspectRatio":"Orijinal En/Boy Orann Koru","editor.image.dialog.form.file":"Dosya","editor.image.dialog.form.label":"Label","editor.image.dialog.form.labelDisabled":"","editor.image.dialog.button.apply":"Uygula","editor.video.tooltip":"Video","editor.video.dialog.title":"Video Ekle","editor.video.dialog.link":"balant","editor.video.dialog.button.apply":"Uygula","editor.table.tooltip":"Tablo","editor.table.menu.insert_table":"Tablo Ekle","editor.table.menu.insert_table.with_header_row":"Balk Satryla","editor.table.menu.add_column_before":"nce Stun Ekle","editor.table.menu.add_column_after":"Sonra Stun Ekle","editor.table.menu.delete_column":"Stunu Sil","editor.table.menu.add_row_before":"nce Satr Ekle","editor.table.menu.add_row_after":"Sonra Satr Ekle","editor.table.menu.delete_row":"Satr Sil","editor.table.menu.merge_or_split_cells":"Hcreleri Birletir veya Ayr","editor.table.menu.delete_table":"Tabloyu Sil","editor.blockquote.tooltip":"Alnt","editor.horizontalrule.tooltip":"Yatay izgi","editor.code.tooltip":"Kod","editor.codeblock.tooltip":"Kod Blou","editor.clear.tooltip":"Biimlendirmeyi Temizle","editor.undo.tooltip":"Geri Al","editor.redo.tooltip":"leri Al","editor.fullscreen.tooltip.fullscreen":"Tam Ekran","editor.fullscreen.tooltip.exit":"Tam Ekrandan k"},Q7e={"editor.remove":"","editor.words":"","editor.characters":"","editor.default":"","editor.size.small.tooltip":"","editor.size.medium.tooltip":"","editor.size.large.tooltip":"","editor.bold.tooltip":"","editor.italic.tooltip":"","editor.underline.tooltip":"","editor.strike.tooltip":"","editor.color.tooltip":"","editor.highlight.tooltip":"","editor.heading.tooltip":"","editor.heading.h1.tooltip":" 1","editor.heading.h2.tooltip":" 2","editor.heading.h3.tooltip":" 3","editor.heading.h4.tooltip":" 4","editor.heading.h5.tooltip":" 5","editor.heading.h6.tooltip":" 6","editor.paragraph.tooltip":"","editor.textalign.tooltip":"","editor.textalign.left.tooltip":"","editor.textalign.center.tooltip":"","editor.textalign.right.tooltip":"","editor.textalign.justify.tooltip":"","editor.fontFamily.tooltip":"","editor.fontSize.tooltip":"","editor.superscript.tooltip":"","editor.subscript.tooltip":"","editor.bulletlist.tooltip":"","editor.orderedlist.tooltip":"","editor.tasklist.tooltip":"","editor.indent.tooltip":"","editor.outdent.tooltip":"","editor.link.tooltip":"","editor.link.unlink.tooltip":"","editor.link.open":"","editor.link.dialog.title":"","editor.link.dialog.link":"","editor.link.dialog.openInNewTab":"","editor.link.dialog.button.apply":"","editor.markdownTheme.tooltip":"","editor.image.tooltip":"","editor.image.float.left.tooltip":"","editor.image.float.none.tooltip":"","editor.image.float.right.tooltip":"","editor.image.dialog.title":"","editor.image.dialog.tab.url":"","editor.image.dialog.tab.upload":"","editor.image.dialog.form.link":"","editor.image.dialog.form.alt":"","editor.image.dialog.form.aspectRatio":"","editor.image.dialog.form.file":"","editor.image.dialog.form.label":"","editor.image.dialog.form.labelDisabled":"","editor.image.dialog.button.apply":"","editor.video.tooltip":"","editor.video.dialog.title":"","editor.video.dialog.link":"","editor.video.dialog.button.apply":"","editor.table.tooltip":"","editor.table.menu.insert_table":"","editor.table.menu.insert_table.with_header_row":"","editor.table.menu.add_column_before":"","editor.table.menu.add_column_after":"","editor.table.menu.delete_column":"","editor.table.menu.add_row_before":"","editor.table.menu.add_row_after":"","editor.table.menu.delete_row":"","editor.table.menu.merge_or_split_cells":"","editor.table.menu.delete_table":"","editor.blockquote.tooltip":"","editor.horizontalrule.tooltip":"","editor.code.tooltip":"","editor.codeblock.tooltip":"","editor.clear.tooltip":"","editor.undo.tooltip":"","editor.redo.tooltip":"","editor.fullscreen.tooltip.fullscreen":"","editor.fullscreen.tooltip.exit":""},Z7e={nl:G7e,tr:X7e,zhHans:Q7e,en:W7e,de:U7e,fr:K7e,it:J7e,pt:Y7e},eqe={lang:G_,fallbackLang:G_,message:Z7e};class tqe{constructor(){R9(this,"emitter",q7e()),R9(this,"_locale",eqe)}get lang(){return this._locale.lang}set lang(e){this.isLangSupported(e)?this._locale.lang=e:(o3.warn(`Can't find the current language "${e}", Using fallback language "${this._locale.fallbackLang}" instead.`),this._locale.lang=this._locale.fallbackLang),this.emitter.emit("lang",this._locale.lang)}get fallbackLang(){return this._locale.fallbackLang}set fallbackLang(e){if(!this.isLangSupported(e)){o3.warn(`Can't find the fallback language "${e}", Using language "${this._locale.fallbackLang}" by default`);return}this._locale.fallbackLang=e}get message(){return this._locale.message}set message(e){this._locale.message=e}loadLangMessage(e){return this.message[e]||{}}isLangSupported(e){return Object.keys(this.message).includes(e)}setLang(e){this.lang=e}setFallbackLang(e){this.fallbackLang=e}registerWatchLang(e){return this.emitter.on("lang",e),{unsubscribe:()=>this.emitter.off("lang",e)}}setMessage(e,n){this.message[e]=n}buildI18nHandler(e){const n=e||this.lang,r=this.loadLangMessage(n),o=this.loadLangMessage(this.fallbackLang);return i=>r[i]||o[i]||i}}const qs=new tqe,vf=()=>{const t=Ye(qs.lang),e=ue(()=>qs.buildI18nHandler(Ie(t)));return Ai(n=>{const r=qs.registerWatchLang(o=>{t.value=o});n(()=>r.unsubscribe())}),{lang:t,t:e}},Vte=["top","right","bottom","left"],jz=["start","end"],Az=Vte.reduce((t,e)=>t.concat(e,e+"-"+jz[0],e+"-"+jz[1]),[]),Bu=Math.min,pa=Math.max,xC=Math.round,Eu=t=>({x:t,y:t}),nqe={left:"right",right:"left",bottom:"top",top:"bottom"},rqe={start:"end",end:"start"};function i3(t,e,n){return pa(t,Bu(e,n))}function yf(t,e){return typeof t=="function"?t(e):t}function Jl(t){return t.split("-")[0]}function Ac(t){return t.split("-")[1]}function Bte(t){return t==="x"?"y":"x"}function XR(t){return t==="y"?"height":"width"}const oqe=new Set(["top","bottom"]);function wu(t){return oqe.has(Jl(t))?"y":"x"}function QR(t){return Bte(wu(t))}function zte(t,e,n){n===void 0&&(n=!1);const r=Ac(t),o=QR(t),i=XR(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=SC(s)),[s,SC(s)]}function iqe(t){const e=SC(t);return[kC(t),e,kC(e)]}function kC(t){return t.replace(/start|end/g,e=>rqe[e])}const Mz=["left","right"],Tz=["right","left"],sqe=["top","bottom"],aqe=["bottom","top"];function lqe(t,e,n){switch(t){case"top":case"bottom":return n?e?Tz:Mz:e?Mz:Tz;case"left":case"right":return e?sqe:aqe;default:return[]}}function cqe(t,e,n,r){const o=Ac(t);let i=lqe(Jl(t),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),e&&(i=i.concat(i.map(kC)))),i}function SC(t){return t.replace(/left|right|bottom|top/g,e=>nqe[e])}function uqe(t){return{top:0,right:0,bottom:0,left:0,...t}}function ZR(t){return typeof t!="number"?uqe(t):{top:t,right:t,bottom:t,left:t}}function sy(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function Oz(t,e,n){let{reference:r,floating:o}=t;const i=wu(e),s=QR(e),a=XR(s),l=Jl(e),c=i==="y",u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,f=r[a]/2-o[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-o.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-o.width,y:d};break;default:h={x:r.x,y:r.y}}switch(Ac(e)){case"start":h[s]-=f*(n&&c?-1:1);break;case"end":h[s]+=f*(n&&c?-1:1);break}return h}const dqe=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:o}),{x:u,y:d}=Oz(c,r,l),f=r,h={},m=0;for(let g=0;g<a.length;g++){const{name:v,fn:y}=a[g],{x:b,y:x,data:k,reset:w}=await y({x:u,y:d,initialPlacement:r,placement:f,strategy:o,middlewareData:h,rects:c,platform:s,elements:{reference:t,floating:e}});u=b??u,d=x??d,h={...h,[v]:{...h[v],...k}},w&&m<=50&&(m++,typeof w=="object"&&(w.placement&&(f=w.placement),w.rects&&(c=w.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:o}):w.rects),{x:u,y:d}=Oz(c,f,l)),g=-1)}return{x:u,y:d,placement:f,strategy:o,middlewareData:h}};async function ay(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=yf(e,t),m=ZR(h),g=a[f?d==="floating"?"reference":"floating":d],v=sy(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(g)))==null||n?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),x=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},k=sy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(v.top-k.top+m.top)/x.y,bottom:(k.bottom-v.bottom+m.bottom)/x.y,left:(v.left-k.left+m.left)/x.x,right:(k.right-v.right+m.right)/x.x}}const fqe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=yf(t,e)||{};if(c==null)return{};const d=ZR(u),f={x:n,y:r},h=QR(o),m=XR(h),g=await s.getDimensions(c),v=h==="y",y=v?"top":"left",b=v?"bottom":"right",x=v?"clientHeight":"clientWidth",k=i.reference[m]+i.reference[h]-f[h]-i.floating[m],w=f[h]-i.reference[h],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let C=S?S[x]:0;(!C||!await(s.isElement==null?void 0:s.isElement(S)))&&(C=a.floating[x]||i.floating[m]);const j=k/2-w/2,A=C/2-g[m]/2-1,_=Bu(d[y],A),R=Bu(d[b],A),T=_,z=C-g[m]-R,U=C/2-g[m]/2+j,G=i3(T,U,z),ce=!l.arrow&&Ac(o)!=null&&U!==G&&i.reference[m]/2-(U<T?_:R)-g[m]/2<0,ie=ce?U<T?U-T:U-z:0;return{[h]:f[h]+ie,data:{[h]:G,centerOffset:U-G-ie,...ce&&{alignmentOffset:ie}},reset:ce}}});function hqe(t,e,n){return(t?[...n.filter(r=>Ac(r)===t),...n.filter(r=>Ac(r)!==t)]:n.filter(r=>Jl(r)===r)).filter(r=>t?Ac(r)===t||(e?kC(r)!==r:!1):!0)}const pqe=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,r,o;const{rects:i,middlewareData:s,placement:a,platform:l,elements:c}=e,{crossAxis:u=!1,alignment:d,allowedPlacements:f=Az,autoAlignment:h=!0,...m}=yf(t,e),g=d!==void 0||f===Az?hqe(d||null,h,f):f,v=await ay(e,m),y=((n=s.autoPlacement)==null?void 0:n.index)||0,b=g[y];if(b==null)return{};const x=zte(b,i,await(l.isRTL==null?void 0:l.isRTL(c.floating)));if(a!==b)return{reset:{placement:g[0]}};const k=[v[Jl(b)],v[x[0]],v[x[1]]],w=[...((r=s.autoPlacement)==null?void 0:r.overflows)||[],{placement:b,overflows:k}],S=g[y+1];if(S)return{data:{index:y+1,overflows:w},reset:{placement:S}};const C=w.map(A=>{const _=Ac(A.placement);return[A.placement,_&&u?A.overflows.slice(0,2).reduce((R,T)=>R+T,0):A.overflows[0],A.overflows]}).sort((A,_)=>A[1]-_[1]),j=((o=C.filter(A=>A[2].slice(0,Ac(A[0])?2:3).every(_=>_<=0))[0])==null?void 0:o[0])||C[0][0];return j!==a?{data:{index:y+1,overflows:w},reset:{placement:j}}:{}}}},mqe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=yf(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Jl(o),b=wu(a),x=Jl(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=f||(x||!g?[SC(a)]:iqe(a)),S=m!=="none";!f&&S&&w.push(...cqe(a,g,m,k));const C=[a,...w],j=await ay(e,v),A=[];let _=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&A.push(j[y]),d){const U=zte(o,s,k);A.push(j[U[0]],j[U[1]])}if(_=[..._,{placement:o,overflows:A}],!A.every(U=>U<=0)){var R,T;const U=(((R=i.flip)==null?void 0:R.index)||0)+1,G=C[U];if(G&&(!(d==="alignment"&&b!==wu(G))||_.every(ie=>wu(ie.placement)===b?ie.overflows[0]>0:!0)))return{data:{index:U,overflows:_},reset:{placement:G}};let ce=(T=_.filter(ie=>ie.overflows[0]<=0).sort((ie,Z)=>ie.overflows[1]-Z.overflows[1])[0])==null?void 0:T.placement;if(!ce)switch(h){case"bestFit":{var z;const ie=(z=_.filter(Z=>{if(S){const W=wu(Z.placement);return W===b||W==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(W=>W>0).reduce((W,B)=>W+B,0)]).sort((Z,W)=>Z[1]-W[1])[0])==null?void 0:z[0];ie&&(ce=ie);break}case"initialPlacement":ce=a;break}if(o!==ce)return{reset:{placement:ce}}}return{}}}};function $z(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ez(t){return Vte.some(e=>t[e]>=0)}const gqe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...o}=yf(t,e);switch(r){case"referenceHidden":{const i=await ay(e,{...o,elementContext:"reference"}),s=$z(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Ez(s)}}}case"escaped":{const i=await ay(e,{...o,altBoundary:!0}),s=$z(i,n.floating);return{data:{escapedOffsets:s,escaped:Ez(s)}}}default:return{}}}}};function Hte(t){const e=Bu(...t.map(i=>i.left)),n=Bu(...t.map(i=>i.top)),r=pa(...t.map(i=>i.right)),o=pa(...t.map(i=>i.bottom));return{x:e,y:n,width:r-e,height:o-n}}function vqe(t){const e=t.slice().sort((o,i)=>o.y-i.y),n=[];let r=null;for(let o=0;o<e.length;o++){const i=e[o];!r||i.y-r.y>r.height/2?n.push([i]):n[n.length-1].push(i),r=i}return n.map(o=>sy(Hte(o)))}const yqe=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:r,rects:o,platform:i,strategy:s}=e,{padding:a=2,x:l,y:c}=yf(t,e),u=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(r.reference))||[]),d=vqe(u),f=sy(Hte(u)),h=ZR(a);function m(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&c!=null)return d.find(v=>l>v.left-h.left&&l<v.right+h.right&&c>v.top-h.top&&c<v.bottom+h.bottom)||f;if(d.length>=2){if(wu(n)==="y"){const _=d[0],R=d[d.length-1],T=Jl(n)==="top",z=_.top,U=R.bottom,G=T?_.left:R.left,ce=T?_.right:R.right,ie=ce-G,Z=U-z;return{top:z,bottom:U,left:G,right:ce,width:ie,height:Z,x:G,y:z}}const v=Jl(n)==="left",y=pa(...d.map(_=>_.right)),b=Bu(...d.map(_=>_.left)),x=d.filter(_=>v?_.left===b:_.right===y),k=x[0].top,w=x[x.length-1].bottom,S=b,C=y,j=C-S,A=w-k;return{top:k,bottom:w,left:S,right:C,width:j,height:A,x:S,y:k}}return f}const g=await i.getElementRects({reference:{getBoundingClientRect:m},floating:r.floating,strategy:s});return o.reference.x!==g.reference.x||o.reference.y!==g.reference.y||o.reference.width!==g.reference.width||o.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}},bqe=new Set(["left","top"]);async function wqe(t,e){const{placement:n,platform:r,elements:o}=t,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Jl(n),a=Ac(n),l=wu(n)==="y",c=bqe.has(s)?-1:1,u=i&&l?-1:1,d=yf(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const xqe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:i,placement:s,middlewareData:a}=e,l=await wqe(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},kqe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...l}=yf(t,e),c={x:n,y:r},u=await ay(e,l),d=wu(Jl(o)),f=Bte(d);let h=c[f],m=c[d];if(i){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=h+u[v],x=h-u[y];h=i3(b,h,x)}if(s){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=m+u[v],x=m-u[y];m=i3(b,m,x)}const g=a.fn({...e,[f]:h,[d]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[d]:s}}}}}},Sqe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:o,rects:i,platform:s,elements:a}=e,{apply:l=()=>{},...c}=yf(t,e),u=await ay(e,c),d=Jl(o),f=Ac(o),h=wu(o)==="y",{width:m,height:g}=i.floating;let v,y;d==="top"||d==="bottom"?(v=d,y=f===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,v=f==="end"?"top":"bottom");const b=g-u.top-u.bottom,x=m-u.left-u.right,k=Bu(g-u[v],b),w=Bu(m-u[y],x),S=!e.middlewareData.shift;let C=k,j=w;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(j=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=b),S&&!f){const _=pa(u.left,0),R=pa(u.right,0),T=pa(u.top,0),z=pa(u.bottom,0);h?j=m-2*(_!==0||R!==0?_+R:pa(u.left,u.right)):C=g-2*(T!==0||z!==0?T+z:pa(u.top,u.bottom))}await l({...e,availableWidth:j,availableHeight:C});const A=await s.getDimensions(a.floating);return m!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function QA(){return typeof window<"u"}function Ey(t){return Fte(t)?(t.nodeName||"").toLowerCase():"#document"}function dl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function bf(t){var e;return(e=(Fte(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Fte(t){return QA()?t instanceof Node||t instanceof dl(t).Node:!1}function Nc(t){return QA()?t instanceof Element||t instanceof dl(t).Element:!1}function zu(t){return QA()?t instanceof HTMLElement||t instanceof dl(t).HTMLElement:!1}function _z(t){return!QA()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof dl(t).ShadowRoot}const Cqe=new Set(["inline","contents"]);function Vw(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=Lc(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Cqe.has(o)}const jqe=new Set(["table","td","th"]);function Aqe(t){return jqe.has(Ey(t))}const Mqe=[":popover-open",":modal"];function ZA(t){return Mqe.some(e=>{try{return t.matches(e)}catch{return!1}})}const Tqe=["transform","translate","scale","rotate","perspective"],Oqe=["transform","translate","scale","rotate","perspective","filter"],$qe=["paint","layout","strict","content"];function eN(t){const e=tN(),n=Nc(t)?Lc(t):t;return Tqe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Oqe.some(r=>(n.willChange||"").includes(r))||$qe.some(r=>(n.contain||"").includes(r))}function Eqe(t){let e=Dh(t);for(;zu(e)&&!ly(e);){if(eN(e))return e;if(ZA(e))return null;e=Dh(e)}return null}function tN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _qe=new Set(["html","body","#document"]);function ly(t){return _qe.has(Ey(t))}function Lc(t){return dl(t).getComputedStyle(t)}function eM(t){return Nc(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Dh(t){if(Ey(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_z(t)&&t.host||bf(t);return _z(e)?e.host:e}function qte(t){const e=Dh(t);return ly(e)?t.ownerDocument?t.ownerDocument.body:t.body:zu(e)&&Vw(e)?e:qte(e)}function Ute(t,e,n){var r;e===void 0&&(e=[]);const o=qte(t),i=o===((r=t.ownerDocument)==null?void 0:r.body),s=dl(o);return i?(s3(s),e.concat(s,s.visualViewport||[],Vw(o)?o:[],[])):e.concat(o,Ute(o,[]))}function s3(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Wte(t){const e=Lc(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=zu(t),i=o?t.offsetWidth:n,s=o?t.offsetHeight:r,a=xC(n)!==i||xC(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function Kte(t){return Nc(t)?t:t.contextElement}function wv(t){const e=Kte(t);if(!zu(e))return Eu(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:i}=Wte(e);let s=(i?xC(n.width):n.width)/r,a=(i?xC(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Pqe=Eu(0);function Jte(t){const e=dl(t);return!tN()||!e.visualViewport?Pqe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Iqe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==dl(t)?!1:e}function Pb(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),i=Kte(t);let s=Eu(1);e&&(r?Nc(r)&&(s=wv(r)):s=wv(t));const a=Iqe(i,n,r)?Jte(i):Eu(0);let l=(o.left+a.x)/s.x,c=(o.top+a.y)/s.y,u=o.width/s.x,d=o.height/s.y;if(i){const f=dl(i),h=r&&Nc(r)?dl(r):r;let m=f,g=s3(m);for(;g&&r&&h!==m;){const v=wv(g),y=g.getBoundingClientRect(),b=Lc(g),x=y.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,k=y.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=x,c+=k,m=dl(g),g=s3(m)}}return sy({width:u,height:d,x:l,y:c})}function nN(t,e){const n=eM(t).scrollLeft;return e?e.left+n:Pb(bf(t)).left+n}function Gte(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),o=r.left+e.scrollLeft-(n?0:nN(t,r)),i=r.top+e.scrollTop;return{x:o,y:i}}function Rqe(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const i=o==="fixed",s=bf(r),a=e?ZA(e.floating):!1;if(r===s||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Eu(1);const u=Eu(0),d=zu(r);if((d||!d&&!i)&&((Ey(r)!=="body"||Vw(s))&&(l=eM(r)),zu(r))){const h=Pb(r);c=wv(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const f=s&&!d&&!i?Gte(s,l,!0):Eu(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function Nqe(t){return Array.from(t.getClientRects())}function Lqe(t){const e=bf(t),n=eM(t),r=t.ownerDocument.body,o=pa(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=pa(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+nN(t);const a=-n.scrollTop;return Lc(r).direction==="rtl"&&(s+=pa(e.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function Dqe(t,e){const n=dl(t),r=bf(t),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const c=tN();(!c||c&&e==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a,y:l}}const Vqe=new Set(["absolute","fixed"]);function Bqe(t,e){const n=Pb(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,i=zu(t)?wv(t):Eu(1),s=t.clientWidth*i.x,a=t.clientHeight*i.y,l=o*i.x,c=r*i.y;return{width:s,height:a,x:l,y:c}}function Pz(t,e,n){let r;if(e==="viewport")r=Dqe(t,n);else if(e==="document")r=Lqe(bf(t));else if(Nc(e))r=Bqe(e,n);else{const o=Jte(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return sy(r)}function Yte(t,e){const n=Dh(t);return n===e||!Nc(n)||ly(n)?!1:Lc(n).position==="fixed"||Yte(n,e)}function zqe(t,e){const n=e.get(t);if(n)return n;let r=Ute(t,[]).filter(a=>Nc(a)&&Ey(a)!=="body"),o=null;const i=Lc(t).position==="fixed";let s=i?Dh(t):t;for(;Nc(s)&&!ly(s);){const a=Lc(s),l=eN(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&o&&Vqe.has(o.position)||Vw(s)&&!l&&Yte(t,s))?r=r.filter(c=>c!==s):o=a,s=Dh(s)}return e.set(t,r),r}function Hqe(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const i=[...n==="clippingAncestors"?ZA(e)?[]:zqe(e,this._c):[].concat(n),r],s=i[0],a=i.reduce((l,c)=>{const u=Pz(e,c,o);return l.top=pa(u.top,l.top),l.right=Bu(u.right,l.right),l.bottom=Bu(u.bottom,l.bottom),l.left=pa(u.left,l.left),l},Pz(e,s,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function Fqe(t){const{width:e,height:n}=Wte(t);return{width:e,height:n}}function qqe(t,e,n){const r=zu(e),o=bf(e),i=n==="fixed",s=Pb(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Eu(0);function c(){l.x=nN(o)}if(r||!r&&!i)if((Ey(e)!=="body"||Vw(o))&&(a=eM(e)),r){const h=Pb(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else o&&c();i&&!r&&o&&c();const u=o&&!r&&!i?Gte(o,a):Eu(0),d=s.left+a.scrollLeft-l.x-u.x,f=s.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:s.width,height:s.height}}function CO(t){return Lc(t).position==="static"}function Iz(t,e){if(!zu(t)||Lc(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return bf(t)===n&&(n=n.ownerDocument.body),n}function Xte(t,e){const n=dl(t);if(ZA(t))return n;if(!zu(t)){let o=Dh(t);for(;o&&!ly(o);){if(Nc(o)&&!CO(o))return o;o=Dh(o)}return n}let r=Iz(t,e);for(;r&&Aqe(r)&&CO(r);)r=Iz(r,e);return r&&ly(r)&&CO(r)&&!eN(r)?n:r||Eqe(t)||n}const Uqe=async function(t){const e=this.getOffsetParent||Xte,n=this.getDimensions,r=await n(t.floating);return{reference:qqe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Wqe(t){return Lc(t).direction==="rtl"}const Kqe={convertOffsetParentRelativeRectToViewportRelativeRect:Rqe,getDocumentElement:bf,getClippingRect:Hqe,getOffsetParent:Xte,getElementRects:Uqe,getClientRects:Nqe,getDimensions:Fqe,getScale:wv,isElement:Nc,isRTL:Wqe},Qte=xqe,Zte=pqe,ene=kqe,tne=mqe,nne=Sqe,rne=gqe,one=fqe,ine=yqe,sne=(t,e,n)=>{const r=new Map,o={platform:Kqe,...n},i={...o.platform,_c:r};return dqe(t,e,{...o,platform:i})};var a3,l3;if(typeof WeakMap<"u"){let t=new WeakMap;a3=e=>t.get(e),l3=(e,n)=>(t.set(e,n),n)}else{const t=[];let e=0;a3=n=>{for(let r=0;r<t.length;r+=2)if(t[r]==n)return t[r+1]},l3=(n,r)=>(e==10&&(e=0),t[e++]=n,t[e++]=r)}var Ci=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,o=e/this.width|0;let i=r+1,s=o+1;for(let a=1;i<this.width&&this.map[e+a]==n;a++)i++;for(let a=1;s<this.height&&this.map[e+this.width*a]==n;a++)s++;return{left:r,top:o,right:i,bottom:s}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:o,top:i,bottom:s}=this.findCell(t);return e=="horiz"?(n<0?r==0:o==this.width)?null:this.map[i*this.width+(n<0?r-1:o)]:(n<0?i==0:s==this.height)?null:this.map[r+this.width*(n<0?i-1:s)]}rectBetween(t,e){const{left:n,right:r,top:o,bottom:i}=this.findCell(t),{left:s,right:a,top:l,bottom:c}=this.findCell(e);return{left:Math.min(n,s),top:Math.min(o,l),right:Math.max(r,a),bottom:Math.max(i,c)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let o=t.left;o<t.right;o++){const i=r*this.width+o,s=this.map[i];n[s]||(n[s]=!0,!(o==t.left&&o&&this.map[i-1]==s||r==t.top&&r&&this.map[i-this.width]==s)&&e.push(s))}return e}positionAt(t,e,n){for(let r=0,o=0;;r++){const i=o+n.child(r).nodeSize;if(r==t){let s=e+t*this.width;const a=(t+1)*this.width;for(;s<a&&this.map[s]<o;)s++;return s==a?i-1:this.map[s]}o=i}}static get(t){return a3(t)||l3(t,Jqe(t))}};function Jqe(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=Gqe(t),n=t.childCount,r=[];let o=0,i=null;const s=[];for(let c=0,u=e*n;c<u;c++)r[c]=0;for(let c=0,u=0;c<n;c++){const d=t.child(c);u++;for(let m=0;;m++){for(;o<r.length&&r[o]!=0;)o++;if(m==d.childCount)break;const g=d.child(m),{colspan:v,rowspan:y,colwidth:b}=g.attrs;for(let x=0;x<y;x++){if(x+c>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:u,n:y-x});break}const k=o+x*e;for(let w=0;w<v;w++){r[k+w]==0?r[k+w]=u:(i||(i=[])).push({type:"collision",row:c,pos:u,n:v-w});const S=b&&b[w];if(S){const C=(k+w)%e*2,j=s[C];j==null||j!=S&&s[C+1]==1?(s[C]=S,s[C+1]=1):j==S&&s[C+1]++}}}o+=v,u+=g.nodeSize}const f=(c+1)*e;let h=0;for(;o<f;)r[o++]==0&&h++;h&&(i||(i=[])).push({type:"missing",row:c,n:h}),u++}(e===0||n===0)&&(i||(i=[])).push({type:"zero_sized"});const a=new Ci(e,n,r,i);let l=!1;for(let c=0;!l&&c<s.length;c+=2)s[c]!=null&&s[c+1]<n&&(l=!0);return l&&Yqe(a,s,t),a}function Gqe(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const o=t.child(r);let i=0;if(n)for(let s=0;s<r;s++){const a=t.child(s);for(let l=0;l<a.childCount;l++){const c=a.child(l);s+c.attrs.rowspan>r&&(i+=c.attrs.colspan)}}for(let s=0;s<o.childCount;s++){const a=o.child(s);i+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}e==-1?e=i:e!=i&&(e=Math.max(e,i))}return e}function Yqe(t,e,n){t.problems||(t.problems=[]);const r={};for(let o=0;o<t.map.length;o++){const i=t.map[o];if(r[i])continue;r[i]=!0;const s=n.nodeAt(i);if(!s)throw new RangeError(`No cell with offset ${i} found`);let a=null;const l=s.attrs;for(let c=0;c<l.colspan;c++){const u=(o+c)%t.width,d=e[u*2];d!=null&&(!l.colwidth||l.colwidth[c]!=d)&&((a||(a=Xqe(l)))[c]=d)}a&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:a})}}function Xqe(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function ra(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],o=r.spec.tableRole;o&&(e[o]=r)}}return e}var Kf=new hi("selectingCells");function _y(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function Qqe(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function Jc(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function tM(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=_y(e.$head)||Zqe(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function Zqe(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function c3(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function eUe(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function rN(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function ane(t,e,n){const r=t.node(-1),o=Ci.get(r),i=t.start(-1),s=o.nextCell(t.pos-i,e,n);return s==null?null:t.node(0).resolve(i+s)}function Im(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(o=>o>0)||(r.colwidth=null)),r}function lne(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let o=0;o<n;o++)r.colwidth.splice(e,0,0)}return r}function tUe(t,e,n){const r=ra(e.type.schema).header_cell;for(let o=0;o<t.height;o++)if(e.nodeAt(t.map[n+o*t.width]).type!=r)return!1;return!0}var xo=class od extends xn{constructor(e,n=e){const r=e.node(-1),o=Ci.get(r),i=e.start(-1),s=o.rectBetween(e.pos-i,n.pos-i),a=e.node(0),l=o.cellsInRect(s).filter(u=>u!=n.pos-i);l.unshift(n.pos-i);const c=l.map(u=>{const d=r.nodeAt(u);if(!d)throw RangeError(`No cell with offset ${u} found`);const f=i+u+1;return new MZ(a.resolve(f),a.resolve(f+d.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),o=e.resolve(n.map(this.$headCell.pos));if(c3(r)&&c3(o)&&rN(r,o)){const i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?od.rowSelection(r,o):i&&this.isColSelection()?od.colSelection(r,o):new od(r,o)}return Zt.between(r,o)}content(){const e=this.$anchorCell.node(-1),n=Ci.get(e),r=this.$anchorCell.start(-1),o=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),i={},s=[];for(let l=o.top;l<o.bottom;l++){const c=[];for(let u=l*n.width+o.left,d=o.left;d<o.right;d++,u++){const f=n.map[u];if(i[f])continue;i[f]=!0;const h=n.findCell(f);let m=e.nodeAt(f);if(!m)throw RangeError(`No cell with offset ${f} found`);const g=o.left-h.left,v=h.right-o.right;if(g>0||v>0){let y=m.attrs;if(g>0&&(y=Im(y,0,g)),v>0&&(y=Im(y,y.colspan-v,v)),h.left<o.left){if(m=m.type.createAndFill(y),!m)throw RangeError(`Could not create cell with attrs ${JSON.stringify(y)}`)}else m=m.type.create(y,m.content)}if(h.top<o.top||h.bottom>o.bottom){const y={...m.attrs,rowspan:Math.min(h.bottom,o.bottom)-Math.max(h.top,o.top)};h.top<o.top?m=m.type.createAndFill(y):m=m.type.create(y,m.content)}c.push(m)}s.push(e.child(l).copy(Ge.from(c)))}const a=this.isColSelection()&&this.isRowSelection()?e:s;return new vt(Ge.from(a),1,1)}replace(e,n=vt.empty){const r=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){const{$from:a,$to:l}=o[s],c=e.mapping.slice(r);e.replace(c.map(a.pos),c.map(l.pos),s?vt.empty:n)}const i=xn.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);i&&e.setSelection(i)}replaceWith(e,n){this.replace(e,new vt(Ge.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=Ci.get(n),o=this.$anchorCell.start(-1),i=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o));for(let s=0;s<i.length;s++)e(n.nodeAt(i[s]),o+i[s])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,o=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,o)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),o=Ci.get(r),i=e.start(-1),s=o.findCell(e.pos-i),a=o.findCell(n.pos-i),l=e.node(0);return s.top<=a.top?(s.top>0&&(e=l.resolve(i+o.map[s.left])),a.bottom<o.height&&(n=l.resolve(i+o.map[o.width*(o.height-1)+a.right-1]))):(a.top>0&&(n=l.resolve(i+o.map[a.left])),s.bottom<o.height&&(e=l.resolve(i+o.map[o.width*(o.height-1)+s.right-1]))),new od(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Ci.get(e),r=this.$anchorCell.start(-1),o=n.colCount(this.$anchorCell.pos-r),i=n.colCount(this.$headCell.pos-r);if(Math.min(o,i)>0)return!1;const s=o+this.$anchorCell.nodeAfter.attrs.colspan,a=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,a)==n.width}eq(e){return e instanceof od&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),o=Ci.get(r),i=e.start(-1),s=o.findCell(e.pos-i),a=o.findCell(n.pos-i),l=e.node(0);return s.left<=a.left?(s.left>0&&(e=l.resolve(i+o.map[s.top*o.width])),a.right<o.width&&(n=l.resolve(i+o.map[o.width*(a.top+1)-1]))):(a.left>0&&(n=l.resolve(i+o.map[a.top*o.width])),s.right<o.width&&(e=l.resolve(i+o.map[o.width*(s.top+1)-1]))),new od(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new od(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new od(e.resolve(n),e.resolve(r))}getBookmark(){return new nUe(this.$anchorCell.pos,this.$headCell.pos)}};xo.prototype.visible=!1;xn.jsonID("cell",xo);var nUe=class cne{constructor(e,n){this.anchor=e,this.head=n}map(e){return new cne(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&rN(n,r)?new xo(n,r):xn.near(r,1)}};function rUe(t){if(!(t.selection instanceof xo))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(ms.node(r,r+n.nodeSize,{class:"selectedCell"}))}),Eo.create(t.doc,e)}function oUe({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,o=t.depth;for(;o>=0&&!(t.after(o+1)<t.end(o));o--,n++);for(let i=e.depth;i>=0&&!(e.before(i+1)>e.start(i));i--,r--);return n==r&&/row|table/.test(t.node(o).type.spec.tableRole)}function iUe({$from:t,$to:e}){let n,r;for(let o=t.depth;o>0;o--){const i=t.node(o);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){n=i;break}}for(let o=e.depth;o>0;o--){const i=e.node(o);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){r=i;break}}return n!==r&&e.parentOffset===0}function sUe(t,e,n){const r=(e||t).selection,o=(e||t).doc;let i,s;if(r instanceof Gt&&(s=r.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")i=xo.create(o,r.from);else if(s=="row"){const a=o.resolve(r.from+1);i=xo.rowSelection(a,a)}else if(!n){const a=Ci.get(r.node),l=r.from+1,c=l+a.map[a.width*a.height-1];i=xo.create(o,l+1,c)}}else r instanceof Zt&&oUe(r)?i=Zt.create(o,r.from):r instanceof Zt&&iUe(r)&&(i=Zt.create(o,r.$from.start(),r.$from.end()));return i&&(e||(e=t.tr)).setSelection(i),e}var aUe=new hi("fix-tables");function une(t,e,n,r){const o=t.childCount,i=e.childCount;e:for(let s=0,a=0;s<i;s++){const l=e.child(s);for(let c=a,u=Math.min(o,s+3);c<u;c++)if(t.child(c)==l){a=c+1,n+=l.nodeSize;continue e}r(l,n),a<o&&t.child(a).sameMarkup(l)?une(t.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function dne(t,e){let n;const r=(o,i)=>{o.type.spec.tableRole=="table"&&(n=lUe(t,o,i,n))};return e?e.doc!=t.doc&&une(e.doc,t.doc,0,r):t.doc.descendants(r),n}function lUe(t,e,n,r){const o=Ci.get(e);if(!o.problems)return r;r||(r=t.tr);const i=[];for(let l=0;l<o.height;l++)i.push(0);for(let l=0;l<o.problems.length;l++){const c=o.problems[l];if(c.type=="collision"){const u=e.nodeAt(c.pos);if(!u)continue;const d=u.attrs;for(let f=0;f<d.rowspan;f++)i[c.row+f]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,Im(d,d.colspan-c.n,c.n))}else if(c.type=="missing")i[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const u=e.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,rowspan:u.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const u=e.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,colwidth:c.colwidth})}else if(c.type=="zero_sized"){const u=r.mapping.map(n);r.delete(u,u+e.nodeSize)}}let s,a;for(let l=0;l<i.length;l++)i[l]&&(s==null&&(s=l),a=l);for(let l=0,c=n+1;l<o.height;l++){const u=e.child(l),d=c+u.nodeSize,f=i[l];if(f>0){let h="cell";u.firstChild&&(h=u.firstChild.type.spec.tableRole);const m=[];for(let v=0;v<f;v++){const y=ra(t.schema)[h].createAndFill();y&&m.push(y)}const g=(l==0||s==l-1)&&a==l?c+1:d-1;r.insert(r.mapping.map(g),m)}c=d}return r.setMeta(aUe,{fixTables:!0})}function Ju(t){const e=t.selection,n=tM(t),r=n.node(-1),o=n.start(-1),i=Ci.get(r);return{...e instanceof xo?i.rectBetween(e.$anchorCell.pos-o,e.$headCell.pos-o):i.findCell(n.pos-o),tableStart:o,map:i,table:r}}function fne(t,{map:e,tableStart:n,table:r},o){let i=o>0?-1:0;tUe(e,r,o+i)&&(i=o==0||o==e.width?null:0);for(let s=0;s<e.height;s++){const a=s*e.width+o;if(o>0&&o<e.width&&e.map[a-1]==e.map[a]){const l=e.map[a],c=r.nodeAt(l);t.setNodeMarkup(t.mapping.map(n+l),null,lne(c.attrs,o-e.colCount(l))),s+=c.attrs.rowspan-1}else{const l=i==null?ra(r.type.schema).cell:r.nodeAt(e.map[a+i]).type,c=e.positionAt(s,o,r);t.insert(t.mapping.map(n+c),l.createAndFill())}}return t}function cUe(t,e){if(!Jc(t))return!1;if(e){const n=Ju(t);e(fne(t.tr,n,n.left))}return!0}function uUe(t,e){if(!Jc(t))return!1;if(e){const n=Ju(t);e(fne(t.tr,n,n.right))}return!0}function dUe(t,{map:e,table:n,tableStart:r},o){const i=t.mapping.maps.length;for(let s=0;s<e.height;){const a=s*e.width+o,l=e.map[a],c=n.nodeAt(l),u=c.attrs;if(o>0&&e.map[a-1]==l||o<e.width-1&&e.map[a+1]==l)t.setNodeMarkup(t.mapping.slice(i).map(r+l),null,Im(u,o-e.colCount(l)));else{const d=t.mapping.slice(i).map(r+l);t.delete(d,d+c.nodeSize)}s+=u.rowspan}}function fUe(t,e){if(!Jc(t))return!1;if(e){const n=Ju(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let o=n.right-1;dUe(r,n,o),o!=n.left;o--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=Ci.get(i)}e(r)}return!0}function hUe(t,e,n){var r;const o=ra(e.type.schema).header_cell;for(let i=0;i<t.width;i++)if(((r=e.nodeAt(t.map[i+n*t.width]))==null?void 0:r.type)!=o)return!1;return!0}function hne(t,{map:e,tableStart:n,table:r},o){var i;let s=n;for(let c=0;c<o;c++)s+=r.child(c).nodeSize;const a=[];let l=o>0?-1:0;hUe(e,r,o+l)&&(l=o==0||o==e.height?null:0);for(let c=0,u=e.width*o;c<e.width;c++,u++)if(o>0&&o<e.height&&e.map[u]==e.map[u-e.width]){const d=e.map[u],f=r.nodeAt(d).attrs;t.setNodeMarkup(n+d,null,{...f,rowspan:f.rowspan+1}),c+=f.colspan-1}else{const d=l==null?ra(r.type.schema).cell:(i=r.nodeAt(e.map[u+l*e.width]))==null?void 0:i.type,f=d==null?void 0:d.createAndFill();f&&a.push(f)}return t.insert(s,ra(r.type.schema).row.create(null,a)),t}function pUe(t,e){if(!Jc(t))return!1;if(e){const n=Ju(t);e(hne(t.tr,n,n.top))}return!0}function mUe(t,e){if(!Jc(t))return!1;if(e){const n=Ju(t);e(hne(t.tr,n,n.bottom))}return!0}function gUe(t,{map:e,table:n,tableStart:r},o){let i=0;for(let c=0;c<o;c++)i+=n.child(c).nodeSize;const s=i+n.child(o).nodeSize,a=t.mapping.maps.length;t.delete(i+r,s+r);const l=new Set;for(let c=0,u=o*e.width;c<e.width;c++,u++){const d=e.map[u];if(!l.has(d)){if(l.add(d),o>0&&d==e.map[u-e.width]){const f=n.nodeAt(d).attrs;t.setNodeMarkup(t.mapping.slice(a).map(d+r),null,{...f,rowspan:f.rowspan-1}),c+=f.colspan-1}else if(o<e.height&&d==e.map[u+e.width]){const f=n.nodeAt(d),h=f.attrs,m=f.type.create({...h,rowspan:f.attrs.rowspan-1},f.content),g=e.positionAt(o+1,c,n);t.insert(t.mapping.slice(a).map(r+g),m),c+=h.colspan-1}}}}function vUe(t,e){if(!Jc(t))return!1;if(e){const n=Ju(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let o=n.bottom-1;gUe(r,n,o),o!=n.top;o--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=Ci.get(n.table)}e(r)}return!0}function Rz(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function yUe({width:t,height:e,map:n},r){let o=r.top*t+r.left,i=o,s=(r.bottom-1)*t+r.left,a=o+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[i]==n[i-1]||r.right<t&&n[a]==n[a+1])return!0;i+=t,a+=t}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[o]==n[o-t]||r.bottom<e&&n[s]==n[s+t])return!0;o++,s++}return!1}function Nz(t,e){const n=t.selection;if(!(n instanceof xo)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Ju(t),{map:o}=r;if(yUe(o,r))return!1;if(e){const i=t.tr,s={};let a=Ge.empty,l,c;for(let u=r.top;u<r.bottom;u++)for(let d=r.left;d<r.right;d++){const f=o.map[u*o.width+d],h=r.table.nodeAt(f);if(!(s[f]||!h))if(s[f]=!0,l==null)l=f,c=h;else{Rz(h)||(a=a.append(h.content));const m=i.mapping.map(f+r.tableStart);i.delete(m,m+h.nodeSize)}}if(l==null||c==null)return!0;if(i.setNodeMarkup(l+r.tableStart,null,{...lne(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),rowspan:r.bottom-r.top}),a.size){const u=l+1+c.content.size,d=Rz(c)?l+1:u;i.replaceWith(d+r.tableStart,u+r.tableStart,a)}i.setSelection(new xo(i.doc.resolve(l+r.tableStart))),e(i)}return!0}function Lz(t,e){const n=ra(t.schema);return bUe(({node:r})=>n[r.type.spec.tableRole])(t,e)}function bUe(t){return(e,n)=>{var r;const o=e.selection;let i,s;if(o instanceof xo){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;i=o.$anchorCell.nodeAfter,s=o.$anchorCell.pos}else{if(i=Qqe(o.$from),!i)return!1;s=(r=_y(o.$from))==null?void 0:r.pos}if(i==null||s==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(n){let a=i.attrs;const l=[],c=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const u=Ju(e),d=e.tr;for(let h=0;h<u.right-u.left;h++)l.push(c?{...a,colwidth:c&&c[h]?[c[h]]:null}:a);let f;for(let h=u.top;h<u.bottom;h++){let m=u.map.positionAt(h,u.left,u.table);h==u.top&&(m+=i.nodeSize);for(let g=u.left,v=0;g<u.right;g++,v++)g==u.left&&h==u.top||d.insert(f=d.mapping.map(m+u.tableStart,1),t({node:i,row:h,col:g}).createAndFill(l[v]))}d.setNodeMarkup(s,t({node:i,row:u.top,col:u.left}),l[0]),o instanceof xo&&d.setSelection(new xo(d.doc.resolve(o.$anchorCell.pos),f?d.doc.resolve(f):void 0)),n(d)}return!0}}function wUe(t,e){return function(n,r){if(!Jc(n))return!1;const o=tM(n);if(o.nodeAfter.attrs[t]===e)return!1;if(r){const i=n.tr;n.selection instanceof xo?n.selection.forEachCell((s,a)=>{s.attrs[t]!==e&&i.setNodeMarkup(a,null,{...s.attrs,[t]:e})}):i.setNodeMarkup(o.pos,null,{...o.nodeAfter.attrs,[t]:e}),r(i)}return!0}}function xUe(t){return function(e,n){if(!Jc(e))return!1;if(n){const r=ra(e.schema),o=Ju(e),i=e.tr,s=o.map.cellsInRect(t=="column"?{left:o.left,top:0,right:o.right,bottom:o.map.height}:t=="row"?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),a=s.map(l=>o.table.nodeAt(l));for(let l=0;l<s.length;l++)a[l].type==r.header_cell&&i.setNodeMarkup(o.tableStart+s[l],r.cell,a[l].attrs);if(i.steps.length==0)for(let l=0;l<s.length;l++)i.setNodeMarkup(o.tableStart+s[l],r.header_cell,a[l].attrs);n(i)}return!0}}function Dz(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let o=0;o<r.length;o++){const i=e.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function Ib(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?xUe(t):function(n,r){if(!Jc(n))return!1;if(r){const o=ra(n.schema),i=Ju(n),s=n.tr,a=Dz("row",i,o),l=Dz("column",i,o),c=(t==="column"?a:t==="row"&&l)?1:0,u=t=="column"?{left:0,top:c,right:1,bottom:i.map.height}:t=="row"?{left:c,top:0,right:i.map.width,bottom:1}:i,d=t=="column"?l?o.cell:o.header_cell:t=="row"?a?o.cell:o.header_cell:o.cell;i.map.cellsInRect(u).forEach(f=>{const h=f+i.tableStart,m=s.doc.nodeAt(h);m&&s.setNodeMarkup(h,d,m.attrs)}),r(s)}return!0}}Ib("row",{useDeprecatedLogic:!0});Ib("column",{useDeprecatedLogic:!0});var kUe=Ib("cell",{useDeprecatedLogic:!0});function SUe(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,o=t.before();r>=0;r--){const i=t.node(-1).child(r),s=i.lastChild;if(s)return o-1-s.nodeSize;o-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),o=t.after();r<n.childCount;r++){const i=n.child(r);if(i.childCount)return o+1;o+=i.nodeSize}}return null}function Vz(t){return function(e,n){if(!Jc(e))return!1;const r=SUe(tM(e),t);if(r==null)return!1;if(n){const o=e.doc.resolve(r);n(e.tr.setSelection(Zt.between(o,eUe(o))).scrollIntoView())}return!0}}function CUe(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function fk(t,e){const n=t.selection;if(!(n instanceof xo))return!1;if(e){const r=t.tr,o=ra(t.schema).cell.createAndFill().content;n.forEachCell((i,s)=>{i.content.eq(o)||r.replace(r.mapping.map(s+1),r.mapping.map(s+i.nodeSize-1),new vt(o,0,0))}),r.docChanged&&e(r)}return!0}function jUe(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const o=e.child(0),i=o.type.spec.tableRole,s=o.type.schema,a=[];if(i=="row")for(let l=0;l<e.childCount;l++){let c=e.child(l).content;const u=l?0:Math.max(0,n-1),d=l<e.childCount-1?0:Math.max(0,r-1);(u||d)&&(c=u3(ra(s).row,new vt(c,u,d)).content),a.push(c)}else if(i=="cell"||i=="header_cell")a.push(n||r?u3(ra(s).row,new vt(e,n,r)).content:e);else return null;return AUe(s,a)}function AUe(t,e){const n=[];for(let o=0;o<e.length;o++){const i=e[o];for(let s=i.childCount-1;s>=0;s--){const{rowspan:a,colspan:l}=i.child(s).attrs;for(let c=o;c<o+a;c++)n[c]=(n[c]||0)+l}}let r=0;for(let o=0;o<n.length;o++)r=Math.max(r,n[o]);for(let o=0;o<n.length;o++)if(o>=e.length&&e.push(Ge.empty),n[o]<r){const i=ra(t).cell.createAndFill(),s=[];for(let a=n[o];a<r;a++)s.push(i);e[o]=e[o].append(Ge.from(s))}return{height:e.length,width:r,rows:e}}function u3(t,e){const n=t.createAndFill();return new pR(n).replace(0,n.content.size,e).doc}function MUe({width:t,height:e,rows:n},r,o){if(t!=r){const i=[],s=[];for(let a=0;a<n.length;a++){const l=n[a],c=[];for(let u=i[a]||0,d=0;u<r;d++){let f=l.child(d%l.childCount);u+f.attrs.colspan>r&&(f=f.type.createChecked(Im(f.attrs,f.attrs.colspan,u+f.attrs.colspan-r),f.content)),c.push(f),u+=f.attrs.colspan;for(let h=1;h<f.attrs.rowspan;h++)i[a+h]=(i[a+h]||0)+f.attrs.colspan}s.push(Ge.from(c))}n=s,t=r}if(e!=o){const i=[];for(let s=0,a=0;s<o;s++,a++){const l=[],c=n[a%e];for(let u=0;u<c.childCount;u++){let d=c.child(u);s+d.attrs.rowspan>o&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,o-d.attrs.rowspan)},d.content)),l.push(d)}i.push(Ge.from(l))}n=i,e=o}return{width:t,height:e,rows:n}}function TUe(t,e,n,r,o,i,s){const a=t.doc.type.schema,l=ra(a);let c,u;if(o>e.width)for(let d=0,f=0;d<e.height;d++){const h=n.child(d);f+=h.nodeSize;const m=[];let g;h.lastChild==null||h.lastChild.type==l.cell?g=c||(c=l.cell.createAndFill()):g=u||(u=l.header_cell.createAndFill());for(let v=e.width;v<o;v++)m.push(g);t.insert(t.mapping.slice(s).map(f-1+r),m)}if(i>e.height){const d=[];for(let m=0,g=(e.height-1)*e.width;m<Math.max(e.width,o);m++){const v=m>=e.width?!1:n.nodeAt(e.map[g+m]).type==l.header_cell;d.push(v?u||(u=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const f=l.row.create(null,Ge.from(d)),h=[];for(let m=e.height;m<i;m++)h.push(f);t.insert(t.mapping.slice(s).map(r+n.nodeSize-2),h)}return!!(c||u)}function Bz(t,e,n,r,o,i,s,a){if(s==0||s==e.height)return!1;let l=!1;for(let c=o;c<i;c++){const u=s*e.width+c,d=e.map[u];if(e.map[u-e.width]==d){l=!0;const f=n.nodeAt(d),{top:h,left:m}=e.findCell(d);t.setNodeMarkup(t.mapping.slice(a).map(d+r),null,{...f.attrs,rowspan:s-h}),t.insert(t.mapping.slice(a).map(e.positionAt(s,m,n)),f.type.createAndFill({...f.attrs,rowspan:h+f.attrs.rowspan-s})),c+=f.attrs.colspan-1}}return l}function zz(t,e,n,r,o,i,s,a){if(s==0||s==e.width)return!1;let l=!1;for(let c=o;c<i;c++){const u=c*e.width+s,d=e.map[u];if(e.map[u-1]==d){l=!0;const f=n.nodeAt(d),h=e.colCount(d),m=t.mapping.slice(a).map(d+r);t.setNodeMarkup(m,null,Im(f.attrs,s-h,f.attrs.colspan-(s-h))),t.insert(m+f.nodeSize,f.type.createAndFill(Im(f.attrs,0,s-h))),c+=f.attrs.rowspan-1}}return l}function Hz(t,e,n,r,o){let i=n?t.doc.nodeAt(n-1):t.doc;if(!i)throw new Error("No table found");let s=Ci.get(i);const{top:a,left:l}=r,c=l+o.width,u=a+o.height,d=t.tr;let f=0;function h(){if(i=n?d.doc.nodeAt(n-1):d.doc,!i)throw new Error("No table found");s=Ci.get(i),f=d.mapping.maps.length}TUe(d,s,i,n,c,u,f)&&h(),Bz(d,s,i,n,l,c,a,f)&&h(),Bz(d,s,i,n,l,c,u,f)&&h(),zz(d,s,i,n,a,u,l,f)&&h(),zz(d,s,i,n,a,u,c,f)&&h();for(let m=a;m<u;m++){const g=s.positionAt(m,l,i),v=s.positionAt(m,c,i);d.replace(d.mapping.slice(f).map(g+n),d.mapping.slice(f).map(v+n),new vt(o.rows[m-a],0,0))}h(),d.setSelection(new xo(d.doc.resolve(n+s.positionAt(a,l,i)),d.doc.resolve(n+s.positionAt(u-1,c-1,i)))),e(d)}var OUe=jR({ArrowLeft:hk("horiz",-1),ArrowRight:hk("horiz",1),ArrowUp:hk("vert",-1),ArrowDown:hk("vert",1),"Shift-ArrowLeft":pk("horiz",-1),"Shift-ArrowRight":pk("horiz",1),"Shift-ArrowUp":pk("vert",-1),"Shift-ArrowDown":pk("vert",1),Backspace:fk,"Mod-Backspace":fk,Delete:fk,"Mod-Delete":fk});function mS(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function hk(t,e){return(n,r,o)=>{if(!o)return!1;const i=n.selection;if(i instanceof xo)return mS(n,r,xn.near(i.$headCell,e));if(t!="horiz"&&!i.empty)return!1;const s=pne(o,t,e);if(s==null)return!1;if(t=="horiz")return mS(n,r,xn.near(n.doc.resolve(i.head+e),e));{const a=n.doc.resolve(s),l=ane(a,t,e);let c;return l?c=xn.near(l,1):e<0?c=xn.near(n.doc.resolve(a.before(-1)),-1):c=xn.near(n.doc.resolve(a.after(-1)),1),mS(n,r,c)}}}function pk(t,e){return(n,r,o)=>{if(!o)return!1;const i=n.selection;let s;if(i instanceof xo)s=i;else{const l=pne(o,t,e);if(l==null)return!1;s=new xo(n.doc.resolve(l))}const a=ane(s.$headCell,t,e);return a?mS(n,r,new xo(s.$anchorCell,a)):!1}}function $Ue(t,e){const n=t.state.doc,r=_y(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new xo(r))),!0):!1}function EUe(t,e,n){if(!Jc(t.state))return!1;let r=jUe(n);const o=t.state.selection;if(o instanceof xo){r||(r={width:1,height:1,rows:[Ge.from(u3(ra(t.state.schema).cell,n))]});const i=o.$anchorCell.node(-1),s=o.$anchorCell.start(-1),a=Ci.get(i).rectBetween(o.$anchorCell.pos-s,o.$headCell.pos-s);return r=MUe(r,a.right-a.left,a.bottom-a.top),Hz(t.state,t.dispatch,s,a,r),!0}else if(r){const i=tM(t.state),s=i.start(-1);return Hz(t.state,t.dispatch,s,Ci.get(i.node(-1)).findCell(i.pos-s),r),!0}else return!1}function _Ue(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=Fz(t,e.target);let o;if(e.shiftKey&&t.state.selection instanceof xo)i(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(o=_y(t.state.selection.$anchor))!=null&&((n=jO(t,e))==null?void 0:n.pos)!=o.pos)i(o,e),e.preventDefault();else if(!r)return;function i(l,c){let u=jO(t,c);const d=Kf.getState(t.state)==null;if(!u||!rN(l,u))if(d)u=l;else return;const f=new xo(l,u);if(d||!t.state.selection.eq(f)){const h=t.state.tr.setSelection(f);d&&h.setMeta(Kf,l.pos),t.dispatch(h)}}function s(){t.root.removeEventListener("mouseup",s),t.root.removeEventListener("dragstart",s),t.root.removeEventListener("mousemove",a),Kf.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Kf,-1))}function a(l){const c=l,u=Kf.getState(t.state);let d;if(u!=null)d=t.state.doc.resolve(u);else if(Fz(t,c.target)!=r&&(d=jO(t,e),!d))return s();d&&i(d,c)}t.root.addEventListener("mouseup",s),t.root.addEventListener("dragstart",s),t.root.addEventListener("mousemove",a)}function pne(t,e,n){if(!(t.state.selection instanceof Zt))return null;const{$head:r}=t.state.selection;for(let o=r.depth-1;o>=0;o--){const i=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const s=r.before(o),a=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(a)?s:null}}return null}function Fz(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function jO(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?_y(t.state.doc.resolve(n.pos)):null}var PUe=class{constructor(t,e){this.node=t,this.defaultCellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${e}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),d3(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,d3(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function d3(t,e,n,r,o,i){var s;let a=0,l=!0,c=e.firstChild;const u=t.firstChild;if(u){for(let d=0,f=0;d<u.childCount;d++){const{colspan:h,colwidth:m}=u.child(d).attrs;for(let g=0;g<h;g++,f++){const v=o==f?i:m&&m[g],y=v?v+"px":"";if(a+=v||r,v||(l=!1),c)c.style.width!=y&&(c.style.width=y),c=c.nextSibling;else{const b=document.createElement("col");b.style.width=y,e.appendChild(b)}}}for(;c;){const d=c.nextSibling;(s=c.parentNode)==null||s.removeChild(c),c=d}l?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}var nl=new hi("tableColumnResizing");function IUe({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=PUe,lastColumnResizable:o=!0}={}){const i=new ko({key:nl,state:{init(s,a){var l,c;const u=(c=(l=i.spec)==null?void 0:l.props)==null?void 0:c.nodeViews,d=ra(a.schema).table.name;return r&&u&&(u[d]=(f,h)=>new r(f,n,h)),new RUe(-1,!1)},apply(s,a){return a.apply(s)}},props:{attributes:s=>{const a=nl.getState(s);return a&&a.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(s,a)=>{NUe(s,a,t,o)},mouseleave:s=>{LUe(s)},mousedown:(s,a)=>{DUe(s,a,e,n)}},decorations:s=>{const a=nl.getState(s);if(a&&a.activeHandle>-1)return FUe(s,a.activeHandle)},nodeViews:{}}});return i}var RUe=class gS{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(nl);if(r&&r.setHandle!=null)return new gS(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new gS(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let o=e.mapping.map(n.activeHandle,-1);return c3(e.doc.resolve(o))||(o=-1),new gS(o,n.dragging)}return n}};function NUe(t,e,n,r){if(!t.editable)return;const o=nl.getState(t.state);if(o&&!o.dragging){const i=BUe(e.target);let s=-1;if(i){const{left:a,right:l}=i.getBoundingClientRect();e.clientX-a<=n?s=qz(t,e,"left",n):l-e.clientX<=n&&(s=qz(t,e,"right",n))}if(s!=o.activeHandle){if(!r&&s!==-1){const a=t.state.doc.resolve(s),l=a.node(-1),c=Ci.get(l),u=a.start(-1);if(c.colCount(a.pos-u)+a.nodeAfter.attrs.colspan-1==c.width-1)return}mne(t,s)}}}function LUe(t){if(!t.editable)return;const e=nl.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&mne(t,-1)}function DUe(t,e,n,r){var o;if(!t.editable)return!1;const i=(o=t.dom.ownerDocument.defaultView)!=null?o:window,s=nl.getState(t.state);if(!s||s.activeHandle==-1||s.dragging)return!1;const a=t.state.doc.nodeAt(s.activeHandle),l=VUe(t,s.activeHandle,a.attrs);t.dispatch(t.state.tr.setMeta(nl,{setDragging:{startX:e.clientX,startWidth:l}}));function c(d){i.removeEventListener("mouseup",c),i.removeEventListener("mousemove",u);const f=nl.getState(t.state);f!=null&&f.dragging&&(zUe(t,f.activeHandle,Uz(f.dragging,d,n)),t.dispatch(t.state.tr.setMeta(nl,{setDragging:null})))}function u(d){if(!d.which)return c(d);const f=nl.getState(t.state);if(f&&f.dragging){const h=Uz(f.dragging,d,n);Wz(t,f.activeHandle,h,r)}}return Wz(t,s.activeHandle,l,r),i.addEventListener("mouseup",c),i.addEventListener("mousemove",u),e.preventDefault(),!0}function VUe(t,e,{colspan:n,colwidth:r}){const o=r&&r[r.length-1];if(o)return o;const i=t.domAtPos(e);let s=i.node.childNodes[i.offset].offsetWidth,a=n;if(r)for(let l=0;l<n;l++)r[l]&&(s-=r[l],a--);return s/a}function BUe(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function qz(t,e,n,r){const o=n=="right"?-r:r,i=t.posAtCoords({left:e.clientX+o,top:e.clientY});if(!i)return-1;const{pos:s}=i,a=_y(t.state.doc.resolve(s));if(!a)return-1;if(n=="right")return a.pos;const l=Ci.get(a.node(-1)),c=a.start(-1),u=l.map.indexOf(a.pos-c);return u%l.width==0?-1:c+l.map[u-1]}function Uz(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function mne(t,e){t.dispatch(t.state.tr.setMeta(nl,{setHandle:e}))}function zUe(t,e,n){const r=t.state.doc.resolve(e),o=r.node(-1),i=Ci.get(o),s=r.start(-1),a=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let c=0;c<i.height;c++){const u=c*i.width+a;if(c&&i.map[u]==i.map[u-i.width])continue;const d=i.map[u],f=o.nodeAt(d).attrs,h=f.colspan==1?0:a-i.colCount(d);if(f.colwidth&&f.colwidth[h]==n)continue;const m=f.colwidth?f.colwidth.slice():HUe(f.colspan);m[h]=n,l.setNodeMarkup(s+d,null,{...f,colwidth:m})}l.docChanged&&t.dispatch(l)}function Wz(t,e,n,r){const o=t.state.doc.resolve(e),i=o.node(-1),s=o.start(-1),a=Ci.get(i).colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1;let l=t.domAtPos(o.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&d3(i,l.firstChild,l,r,a,n)}function HUe(t){return Array(t).fill(0)}function FUe(t,e){var n;const r=[],o=t.doc.resolve(e),i=o.node(-1);if(!i)return Eo.empty;const s=Ci.get(i),a=o.start(-1),l=s.colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1;for(let c=0;c<s.height;c++){const u=l+c*s.width;if((l==s.width-1||s.map[u]!=s.map[u+1])&&(c==0||s.map[u]!=s.map[u-s.width])){const d=s.map[u],f=a+d+i.nodeAt(d).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",(n=nl.getState(t))!=null&&n.dragging&&r.push(ms.node(a+d,a+d+i.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),r.push(ms.widget(f,h))}}return Eo.create(t.doc,r)}function qUe({allowTableNodeSelection:t=!1}={}){return new ko({key:Kf,state:{init(){return null},apply(e,n){const r=e.getMeta(Kf);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:o,pos:i}=e.mapping.mapResult(n);return o?null:i}},props:{decorations:rUe,handleDOMEvents:{mousedown:_Ue},createSelectionBetween(e){return Kf.getState(e.state)!=null?e.state.selection:null},handleTripleClick:$Ue,handleKeyDown:OUe,handlePaste:EUe},appendTransaction(e,n,r){return sUe(r,dne(r,n),t)}})}function UUe(t,e){const n=Math.min(t.top,e.top),r=Math.max(t.bottom,e.bottom),o=Math.min(t.left,e.left),i=Math.max(t.right,e.right)-o,s=r-n,a=o,l=n;return new DOMRect(a,l,i,s)}var WUe=class{constructor({editor:t,element:e,view:n,updateDelay:r=250,resizeDelay:o=60,shouldShow:i,appendTo:s,getReferencedVirtualElement:a,options:l}){this.preventHide=!1,this.isVisible=!1,this.scrollTarget=window,this.floatingUIOptions={strategy:"absolute",placement:"top",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1,onShow:void 0,onHide:void 0,onUpdate:void 0,onDestroy:void 0},this.shouldShow=({view:u,state:d,from:f,to:h})=>{const{doc:m,selection:g}=d,{empty:v}=g,y=!m.textBetween(f,h).length&&LR(d.selection),b=this.element.contains(document.activeElement);return!(!(u.hasFocus()||b)||v||y||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:u})=>{var d;if(this.preventHide){this.preventHide=!1;return}u!=null&&u.relatedTarget&&(d=this.element.parentNode)!=null&&d.contains(u.relatedTarget)||(u==null?void 0:u.relatedTarget)!==this.editor.view.dom&&this.hide()},this.handleDebouncedUpdate=(u,d)=>{const f=!(d!=null&&d.selection.eq(u.state.selection)),h=!(d!=null&&d.doc.eq(u.state.doc));!f&&!h||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(u,f,h,d)},this.updateDelay))},this.updateHandler=(u,d,f,h)=>{const{composing:m}=u;if(!(m||!d&&!f)){if(!this.getShouldShow(h)){this.hide();return}this.updatePosition(),this.show()}};var c;this.editor=t,this.element=e,this.view=n,this.updateDelay=r,this.resizeDelay=o,this.appendTo=s,this.scrollTarget=(c=l==null?void 0:l.scrollTarget)!=null?c:window,this.getReferencedVirtualElement=a,this.floatingUIOptions={...this.floatingUIOptions,...l},this.element.tabIndex=0,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),window.addEventListener("resize",this.resizeHandler),this.scrollTarget.addEventListener("scroll",this.resizeHandler),this.update(n,n.state),this.getShouldShow()&&this.show()}get middlewares(){const t=[];return this.floatingUIOptions.flip&&t.push(tne(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&t.push(ene(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&t.push(Qte(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&t.push(one(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&t.push(nne(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&t.push(Zte(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&t.push(rne(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&t.push(ine(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),t}get virtualElement(){var t;const{selection:e}=this.editor.state,n=(t=this.getReferencedVirtualElement)==null?void 0:t.call(this);if(n)return n;const r=Nee(this.view,e.from,e.to);let o={getBoundingClientRect:()=>r,getClientRects:()=>[r]};if(e instanceof Gt){let i=this.view.nodeDOM(e.from);const s=i.dataset.nodeViewWrapper?i:i.querySelector("[data-node-view-wrapper]");s&&(i=s),i&&(o={getBoundingClientRect:()=>i.getBoundingClientRect(),getClientRects:()=>[i.getBoundingClientRect()]})}if(e instanceof xo){const{$anchorCell:i,$headCell:s}=e,a=i?i.pos:s.pos,l=s?s.pos:i.pos,c=this.view.nodeDOM(a),u=this.view.nodeDOM(l);if(!c||!u)return;const d=c===u?c.getBoundingClientRect():UUe(c.getBoundingClientRect(),u.getBoundingClientRect());o={getBoundingClientRect:()=>d,getClientRects:()=>[d]}}return o}updatePosition(){const t=this.virtualElement;t&&sne(t,this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:e,y:n,strategy:r})=>{this.element.style.width="max-content",this.element.style.position=r,this.element.style.left=`${e}px`,this.element.style.top=`${n}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(t,e){const{state:n}=t,r=n.selection.from!==n.selection.to;if(this.updateDelay>0&&r){this.handleDebouncedUpdate(t,e);return}const o=!(e!=null&&e.selection.eq(t.state.selection)),i=!(e!=null&&e.doc.eq(t.state.doc));this.updateHandler(t,o,i,e)}getShouldShow(t){var e;const{state:n}=this.view,{selection:r}=n,{ranges:o}=r,i=Math.min(...o.map(a=>a.$from.pos)),s=Math.max(...o.map(a=>a.$to.pos));return(e=this.shouldShow)==null?void 0:e.call(this,{editor:this.editor,element:this.element,view:this.view,state:n,oldState:t,from:i,to:s})}show(){var t,e;this.isVisible||(this.element.style.visibility="visible",this.element.style.opacity="1",(e=(t=this.appendTo)!=null?t:this.view.dom.parentElement)==null||e.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0)}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),window.removeEventListener("resize",this.resizeHandler),this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},gne=t=>new ko({key:typeof t.pluginKey=="string"?new hi(t.pluginKey):t.pluginKey,view:e=>new WUe({view:e,...t})});kr.create({name:"bubbleMenu",addOptions(){return{element:null,pluginKey:"bubbleMenu",updateDelay:void 0,appendTo:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[gne({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,options:this.options.options,appendTo:this.options.appendTo,getReferencedVirtualElement:this.options.getReferencedVirtualElement,shouldShow:this.options.shouldShow})]:[]}});var KUe=en({name:"BubbleMenu",props:{pluginKey:{type:[String,Object],default:"bubbleMenu"},editor:{type:Object,required:!0},updateDelay:{type:Number,default:void 0},resizeDelay:{type:Number,default:void 0},options:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null},getReferencedVirtualElement:{type:Function,default:void 0}},setup(t,{slots:e}){const n=Ye(null);return hl(()=>{const{editor:r,options:o,pluginKey:i,resizeDelay:s,shouldShow:a,getReferencedVirtualElement:l,updateDelay:c}=t;n.value&&(n.value.style.visibility="hidden",n.value.style.position="absolute",n.value.remove(),r.registerPlugin(gne({editor:r,element:n.value,options:o,pluginKey:i,resizeDelay:s,shouldShow:a,getReferencedVirtualElement:l,updateDelay:c})))}),Ca(()=>{const{pluginKey:r,editor:o}=t;o.unregisterPlugin(r)}),()=>{var r;return ba(yF,{to:"body"},ba("div",{ref:n},(r=e.default)==null?void 0:r.call(e)))}}}),JUe=class{constructor({editor:t,element:e,view:n,options:r,shouldShow:o}){this.preventHide=!1,this.isVisible=!1,this.shouldShow=({view:i,state:s})=>{const{selection:a}=s,{$anchor:l,empty:c}=a,u=l.depth===1,d=l.parent.isTextblock&&!l.parent.type.spec.code&&!l.parent.textContent&&l.parent.childCount===0&&!this.getTextContent(l.parent);return!(!i.hasFocus()||!c||!u||!d||!this.editor.isEditable)},this.floatingUIOptions={strategy:"absolute",placement:"right",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1},this.updateHandler=(i,s,a,l)=>{const{composing:c}=i;if(!(c||!s&&!a)){if(!this.getShouldShow(l)){this.hide();return}this.updatePosition(),this.show()}},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:i})=>{var s;if(this.preventHide){this.preventHide=!1;return}i!=null&&i.relatedTarget&&(s=this.element.parentNode)!=null&&s.contains(i.relatedTarget)||(i==null?void 0:i.relatedTarget)!==this.editor.view.dom&&this.hide()},this.editor=t,this.element=e,this.view=n,this.floatingUIOptions={...this.floatingUIOptions,...r},this.element.tabIndex=0,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.update(n,n.state),this.getShouldShow()&&this.show()}getTextContent(t){return $ee(t,{textSerializers:IR(this.editor.schema)})}get middlewares(){const t=[];return this.floatingUIOptions.flip&&t.push(tne(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&t.push(ene(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&t.push(Qte(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&t.push(one(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&t.push(nne(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&t.push(Zte(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&t.push(rne(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&t.push(ine(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),t}getShouldShow(t){var e;const{state:n}=this.view,{selection:r}=n,{ranges:o}=r,i=Math.min(...o.map(a=>a.$from.pos)),s=Math.max(...o.map(a=>a.$to.pos));return(e=this.shouldShow)==null?void 0:e.call(this,{editor:this.editor,view:this.view,state:n,oldState:t,from:i,to:s})}updatePosition(){const{selection:t}=this.editor.state,e=Nee(this.view,t.from,t.to);sne({getBoundingClientRect:()=>e,getClientRects:()=>[e]},this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:n,y:r,strategy:o})=>{this.element.style.width="max-content",this.element.style.position=o,this.element.style.left=`${n}px`,this.element.style.top=`${r}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(t,e){const n=!(e!=null&&e.selection.eq(t.state.selection)),r=!(e!=null&&e.doc.eq(t.state.doc));this.updateHandler(t,n,r,e)}show(){var t;this.isVisible||(this.element.style.visibility="visible",this.element.style.opacity="1",(t=this.view.dom.parentElement)==null||t.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0)}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},GUe=t=>new ko({key:typeof t.pluginKey=="string"?new hi(t.pluginKey):t.pluginKey,view:e=>new JUe({view:e,...t})});kr.create({name:"floatingMenu",addOptions(){return{element:null,options:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[GUe({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,options:this.options.options,shouldShow:this.options.shouldShow})]:[]}});const YUe=en({__name:"BubbleMenu",props:{editor:{},shouldShow:{}},setup(t){const e=t,{t:n}=vf(),r=ue(()=>{var i,s;const a=e.editor.state.selection;if(a.to===a.from||a.empty)return;const l=xz(e.editor,"link"),c=xz(e.editor,"table"),u=((i=a.node)==null?void 0:i.type.name)==="image",d=((s=a.node)==null?void 0:s.type.name)==="video",f=a instanceof Zt;if(c)return"table";if(l)return"link";if(u)return"image";if(d)return"video";if(f)return"text"});function o(i){var s,a;if(!i)return[];const{extensions:l=[]}=e.editor.extensionManager,c=l.find(f=>f.name==="base-kit");if(!c)return[];const{button:u}=((s=c.options)==null?void 0:s.bubble)??{};if(!u)return[];const d=u({editor:e.editor,extension:c,t:Ie(n)});return i?((a=Ie(d))==null?void 0:a[i])??[]:[]}return(i,s)=>{const a=Fh,l=Hh,c=cf,u=Fu;return tt(),Rt(Ie(KUe),{editor:i.editor,"should-show":e.shouldShow},{default:He(()=>[F(u,{class:"vuetify-pro-tiptap-editor__menu-bubble"},{default:He(()=>[F(c,{class:"d-flex pa-0"},{default:He(()=>[F(l,{density:"compact",flat:"",height:"auto",class:"py-1 ps-1"},{default:He(()=>[(tt(!0),zr(Dt,null,ea(o(r.value),(d,f)=>(tt(),zr(Dt,{key:f},[d.type==="divider"?(tt(),Rt(a,{key:0,vertical:"",class:"mx-1 me-2"})):(tt(),Rt(Sv(d.component),Pt({key:1,ref_for:!0},d.componentProps,{editor:i.editor}),W3({_:2},[ea(d.componentSlots,(h,m,g)=>({name:`${m}`,fn:He(v=>[(tt(),Rt(Sv(h),Pt({ref_for:!0},v==null?void 0:v.props),null,16))])}))]),1040,["editor"]))],64))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["editor","should-show"])}}}),XUe=en({__name:"TiptapToolbar",props:{editor:{}},setup(t){const e=t,{t:n}=vf();function r(){return[...e.editor.extensionManager.extensions].sort((o,i)=>{const s=o.options.sort??-1,a=i.options.sort??-1;return s-a}).reduce((o,i)=>{const{button:s,divider:a=!1,spacer:l=!1}=i.options;if(!s||!T7e(s))return o;const c=s({editor:e.editor,extension:i,t:Ie(n)});if(Array.isArray(c)){const u=c.map((d,f)=>({button:d,divider:f===c.length-1?a:!1,spacer:f===0?l:!1}));return[...o,...u]}return[...o,{button:c,divider:a,spacer:l}]},[])}return(o,i)=>{const s=gy,a=Fh,l=Hh;return tt(),Rt(l,Pt(o.$attrs,{density:"compact",flat:"",height:"auto",class:"py-1 ps-1"}),{default:He(()=>[(tt(!0),zr(Dt,null,ea(r(),(c,u)=>(tt(),zr(Dt,{key:u},[c.spacer?(tt(),Rt(s,{key:0})):Ia("",!0),(tt(),Rt(Sv(c.button.component),Pt({ref_for:!0},c.button.componentProps,{editor:o.editor}),W3({_:2},[ea(c.button.componentSlots,(d,f,h)=>({name:`${f}`,fn:He(m=>[(tt(),Rt(Sv(d),Pt({ref_for:!0},m==null?void 0:m.props),null,16))])}))]),1040,["editor"])),c.divider?(tt(),Rt(a,{key:1,vertical:"",class:"mx-1 me-2"})):Ia("",!0)],64))),128))]),_:1},16)}}}),QUe={class:"text-overline me-4"},ZUe={class:"text-overline"},eWe=en({__name:"VuetifyTiptap",props:{modelValue:{default:""},markdownTheme:{type:[String,Boolean],default:void 0},output:{default:"html"},dark:{type:Boolean,default:void 0},dense:{type:Boolean,default:!1},outlined:{type:Boolean,default:!0},flat:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},label:{default:void 0},hideToolbar:{type:Boolean,default:!1},disableToolbar:{type:Boolean,default:!1},hideBubble:{type:Boolean,default:!1},bubbleShouldShow:{},removeDefaultWrapper:{type:Boolean,default:!1},maxWidth:{default:void 0},minHeight:{default:void 0},maxHeight:{default:void 0},extensions:{default:()=>[]},editorClass:{default:void 0},errorMessages:{default:()=>[]}},emits:["enter","change","update:modelValue","update:markdownTheme"],setup(t,{expose:e,emit:n}){const r=t,o=n,i=Sie(),s=fy(),{state:a,isFullscreen:l}=F7e(),{markdownThemeStyle:c}=Nte(ue(()=>r.markdownTheme),x=>{o("update:markdownTheme",x)}),u=ue(()=>{const x=v7e(r.extensions,a.extensions,"name");return[...a.extensions.map((k,w)=>{const S=r.extensions.find(C=>C.name===k.name);return S?k.configure(S.options):k}),...x].map((k,w)=>k.configure({sort:w}))}),d=a9e({content:r.modelValue,editorProps:{handleKeyDown:yv(function(x,k){return k.key==="Enter"&&i.enter&&!k.shiftKey?(o("enter"),!0):!1},Y_)},onUpdate:yv(({editor:x})=>{const k=v(x,r.output);o("update:modelValue",k),o("change",{editor:x,output:k})},Y_),extensions:Ie(u),autofocus:!1,editable:!r.disabled,injectCSS:!0}),{t:f}=vf(),h=ue(()=>iy(r.dark)?r.dark:iy(s.current.value.dark)?s.current.value.dark:!1),m=ue(()=>[{__dark:Ie(h),...Ie(c)},r.editorClass]),g=ue(()=>{const x=d0(r.maxWidth),k={maxWidth:x,width:x?"100%":void 0,margin:x?"0 auto":void 0,backgroundColor:Ie(h)?"#1E1E1E":"#FFFFFF"};if(Ie(l))return{height:"100%",overflowY:"auto",...k};const w=d0(r.minHeight),S=d0(r.maxHeight);return{minHeight:w,maxHeight:S,overflowY:"auto",...k}});function v(x,k){return r.removeDefaultWrapper?k==="html"?x.isEmpty?"":x.getHTML():k==="json"?x.isEmpty?{}:x.getJSON():k==="text"?x.isEmpty?"":x.getText():"":k==="html"?x.getHTML():k==="json"?x.getJSON():k==="text"?x.getText():""}const y=yv(x=>{if(!d.value)return;const k=v(d.value,r.output);if(b7e(k,x))return;const{from:w,to:S}=d.value.state.selection;d.value.commands.setContent(x,{emitUpdate:!1}),d.value.commands.setTextSelection({from:w,to:S})},f9e),b=x=>{var k;return(k=d.value)==null?void 0:k.setEditable(!x)};return Bt(()=>r.modelValue,y),Bt(()=>r.disabled,b),Ki("disableToolbar",De(()=>r.disableToolbar)),e({editor:d}),(x,k)=>{const w=C4,S=Fh,C=gy,j=Hh,A=Fu,_=lm,R=T4;return Ie(d)?(tt(),zr("div",{key:0,class:Tt(["vuetify-pro-tiptap",{dense:x.dense}])},[F(R,{theme:h.value?"dark":"light"},{default:He(()=>[F(_,{class:"pt-0","hide-details":"auto","error-messages":x.errorMessages},{default:He(()=>[F(A,Pt({flat:x.flat,outlined:x.outlined,color:h.value?"grey-darken-4":"grey-lighten-4"},x.$attrs,{style:{borderColor:x.errorMessages?"#ff5252":void 0,width:"100%"},class:["vuetify-pro-tiptap-editor",{"vuetify-pro-tiptap-editor--fullscreen":Ie(l)}]}),{default:He(()=>[x.label&&!Ie(l)?(tt(),zr(Dt,{key:0},[F(w,{class:Tt(h.value?"bg-grey-darken-3":"bg-grey-lighten-3")},{default:He(()=>[dr(Kr(x.label),1)]),_:1},8,["class"]),F(S)],64)):Ia("",!0),x.hideToolbar?Ia("",!0):(tt(),Rt(XUe,{key:1,class:"vuetify-pro-tiptap-editor__toolbar",editor:Ie(d)},null,8,["editor"])),x.hideBubble?Ia("",!0):(tt(),Rt(YUe,{key:2,editor:Ie(d),"should-show":x.bubbleShouldShow},null,8,["editor","should-show"])),Tc(x.$slots,"editor",SS(j0({editor:Ie(d),props:{class:"vuetify-pro-tiptap-editor__content","data-testid":"value"}})),()=>[F(Ie(o9e),{class:Tt(["vuetify-pro-tiptap-editor__content",m.value]),style:Qt(g.value),editor:Ie(d),"data-testid":"value"},null,8,["class","style","editor"])]),Tc(x.$slots,"bottom",SS(j0({editor:Ie(d)})),()=>[F(j,{class:"px-4",density:"compact",flat:""},{default:He(()=>[F(C),Ie(O7e)(Ie(d),"characterCount")?(tt(),zr(Dt,{key:0},[Oe("span",QUe,Kr(Ie(d).storage.characterCount.words())+" "+Kr(Ie(f)("editor.words")),1),Oe("span",ZUe,Kr(Ie(d).storage.characterCount.characters())+" "+Kr(Ie(f)("editor.characters")),1)],64)):Ia("",!0)]),_:1})])]),_:3},16,["flat","outlined","color","style","class"])]),_:3},8,["error-messages"])]),_:3},8,["theme"])],2)):Ia("",!0)}}});function tWe(t,e,n){if(typeof window>"u")throw new Error("getHTMLFromFragment can only be used in a browser environment\nIf you want to use this in a Node environment, use the `@tiptap/html/server` import instead.");const r=Xh.fromSchema(e).serializeFragment(t.content,{document:window.document});return new XMLSerializer().serializeToString(r)}function nWe(t,e){if(typeof window>"u")throw new Error("generateHTML can only be used in a browser environment\nIf you want to use this in a Node environment, use the `@tiptap/html/server` import instead.");const n=S8e(e),r=Rd.fromJSON(n,t);return tWe(r,n)}function rWe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f3={exports:{}},ri={},h3={exports:{}},Xm={};function vne(){var t={};return t["align-content"]=!1,t["align-items"]=!1,t["align-self"]=!1,t["alignment-adjust"]=!1,t["alignment-baseline"]=!1,t.all=!1,t["anchor-point"]=!1,t.animation=!1,t["animation-delay"]=!1,t["animation-direction"]=!1,t["animation-duration"]=!1,t["animation-fill-mode"]=!1,t["animation-iteration-count"]=!1,t["animation-name"]=!1,t["animation-play-state"]=!1,t["animation-timing-function"]=!1,t.azimuth=!1,t["backface-visibility"]=!1,t.background=!0,t["background-attachment"]=!0,t["background-clip"]=!0,t["background-color"]=!0,t["background-image"]=!0,t["background-origin"]=!0,t["background-position"]=!0,t["background-repeat"]=!0,t["background-size"]=!0,t["baseline-shift"]=!1,t.binding=!1,t.bleed=!1,t["bookmark-label"]=!1,t["bookmark-level"]=!1,t["bookmark-state"]=!1,t.border=!0,t["border-bottom"]=!0,t["border-bottom-color"]=!0,t["border-bottom-left-radius"]=!0,t["border-bottom-right-radius"]=!0,t["border-bottom-style"]=!0,t["border-bottom-width"]=!0,t["border-collapse"]=!0,t["border-color"]=!0,t["border-image"]=!0,t["border-image-outset"]=!0,t["border-image-repeat"]=!0,t["border-image-slice"]=!0,t["border-image-source"]=!0,t["border-image-width"]=!0,t["border-left"]=!0,t["border-left-color"]=!0,t["border-left-style"]=!0,t["border-left-width"]=!0,t["border-radius"]=!0,t["border-right"]=!0,t["border-right-color"]=!0,t["border-right-style"]=!0,t["border-right-width"]=!0,t["border-spacing"]=!0,t["border-style"]=!0,t["border-top"]=!0,t["border-top-color"]=!0,t["border-top-left-radius"]=!0,t["border-top-right-radius"]=!0,t["border-top-style"]=!0,t["border-top-width"]=!0,t["border-width"]=!0,t.bottom=!1,t["box-decoration-break"]=!0,t["box-shadow"]=!0,t["box-sizing"]=!0,t["box-snap"]=!0,t["box-suppress"]=!0,t["break-after"]=!0,t["break-before"]=!0,t["break-inside"]=!0,t["caption-side"]=!1,t.chains=!1,t.clear=!0,t.clip=!1,t["clip-path"]=!1,t["clip-rule"]=!1,t.color=!0,t["color-interpolation-filters"]=!0,t["column-count"]=!1,t["column-fill"]=!1,t["column-gap"]=!1,t["column-rule"]=!1,t["column-rule-color"]=!1,t["column-rule-style"]=!1,t["column-rule-width"]=!1,t["column-span"]=!1,t["column-width"]=!1,t.columns=!1,t.contain=!1,t.content=!1,t["counter-increment"]=!1,t["counter-reset"]=!1,t["counter-set"]=!1,t.crop=!1,t.cue=!1,t["cue-after"]=!1,t["cue-before"]=!1,t.cursor=!1,t.direction=!1,t.display=!0,t["display-inside"]=!0,t["display-list"]=!0,t["display-outside"]=!0,t["dominant-baseline"]=!1,t.elevation=!1,t["empty-cells"]=!1,t.filter=!1,t.flex=!1,t["flex-basis"]=!1,t["flex-direction"]=!1,t["flex-flow"]=!1,t["flex-grow"]=!1,t["flex-shrink"]=!1,t["flex-wrap"]=!1,t.float=!1,t["float-offset"]=!1,t["flood-color"]=!1,t["flood-opacity"]=!1,t["flow-from"]=!1,t["flow-into"]=!1,t.font=!0,t["font-family"]=!0,t["font-feature-settings"]=!0,t["font-kerning"]=!0,t["font-language-override"]=!0,t["font-size"]=!0,t["font-size-adjust"]=!0,t["font-stretch"]=!0,t["font-style"]=!0,t["font-synthesis"]=!0,t["font-variant"]=!0,t["font-variant-alternates"]=!0,t["font-variant-caps"]=!0,t["font-variant-east-asian"]=!0,t["font-variant-ligatures"]=!0,t["font-variant-numeric"]=!0,t["font-variant-position"]=!0,t["font-weight"]=!0,t.grid=!1,t["grid-area"]=!1,t["grid-auto-columns"]=!1,t["grid-auto-flow"]=!1,t["grid-auto-rows"]=!1,t["grid-column"]=!1,t["grid-column-end"]=!1,t["grid-column-start"]=!1,t["grid-row"]=!1,t["grid-row-end"]=!1,t["grid-row-start"]=!1,t["grid-template"]=!1,t["grid-template-areas"]=!1,t["grid-template-columns"]=!1,t["grid-template-rows"]=!1,t["hanging-punctuation"]=!1,t.height=!0,t.hyphens=!1,t.icon=!1,t["image-orientation"]=!1,t["image-resolution"]=!1,t["ime-mode"]=!1,t["initial-letters"]=!1,t["inline-box-align"]=!1,t["justify-content"]=!1,t["justify-items"]=!1,t["justify-self"]=!1,t.left=!1,t["letter-spacing"]=!0,t["lighting-color"]=!0,t["line-box-contain"]=!1,t["line-break"]=!1,t["line-grid"]=!1,t["line-height"]=!1,t["line-snap"]=!1,t["line-stacking"]=!1,t["line-stacking-ruby"]=!1,t["line-stacking-shift"]=!1,t["line-stacking-strategy"]=!1,t["list-style"]=!0,t["list-style-image"]=!0,t["list-style-position"]=!0,t["list-style-type"]=!0,t.margin=!0,t["margin-bottom"]=!0,t["margin-left"]=!0,t["margin-right"]=!0,t["margin-top"]=!0,t["marker-offset"]=!1,t["marker-side"]=!1,t.marks=!1,t.mask=!1,t["mask-box"]=!1,t["mask-box-outset"]=!1,t["mask-box-repeat"]=!1,t["mask-box-slice"]=!1,t["mask-box-source"]=!1,t["mask-box-width"]=!1,t["mask-clip"]=!1,t["mask-image"]=!1,t["mask-origin"]=!1,t["mask-position"]=!1,t["mask-repeat"]=!1,t["mask-size"]=!1,t["mask-source-type"]=!1,t["mask-type"]=!1,t["max-height"]=!0,t["max-lines"]=!1,t["max-width"]=!0,t["min-height"]=!0,t["min-width"]=!0,t["move-to"]=!1,t["nav-down"]=!1,t["nav-index"]=!1,t["nav-left"]=!1,t["nav-right"]=!1,t["nav-up"]=!1,t["object-fit"]=!1,t["object-position"]=!1,t.opacity=!1,t.order=!1,t.orphans=!1,t.outline=!1,t["outline-color"]=!1,t["outline-offset"]=!1,t["outline-style"]=!1,t["outline-width"]=!1,t.overflow=!1,t["overflow-wrap"]=!1,t["overflow-x"]=!1,t["overflow-y"]=!1,t.padding=!0,t["padding-bottom"]=!0,t["padding-left"]=!0,t["padding-right"]=!0,t["padding-top"]=!0,t.page=!1,t["page-break-after"]=!1,t["page-break-before"]=!1,t["page-break-inside"]=!1,t["page-policy"]=!1,t.pause=!1,t["pause-after"]=!1,t["pause-before"]=!1,t.perspective=!1,t["perspective-origin"]=!1,t.pitch=!1,t["pitch-range"]=!1,t["play-during"]=!1,t.position=!1,t["presentation-level"]=!1,t.quotes=!1,t["region-fragment"]=!1,t.resize=!1,t.rest=!1,t["rest-after"]=!1,t["rest-before"]=!1,t.richness=!1,t.right=!1,t.rotation=!1,t["rotation-point"]=!1,t["ruby-align"]=!1,t["ruby-merge"]=!1,t["ruby-position"]=!1,t["shape-image-threshold"]=!1,t["shape-outside"]=!1,t["shape-margin"]=!1,t.size=!1,t.speak=!1,t["speak-as"]=!1,t["speak-header"]=!1,t["speak-numeral"]=!1,t["speak-punctuation"]=!1,t["speech-rate"]=!1,t.stress=!1,t["string-set"]=!1,t["tab-size"]=!1,t["table-layout"]=!1,t["text-align"]=!0,t["text-align-last"]=!0,t["text-combine-upright"]=!0,t["text-decoration"]=!0,t["text-decoration-color"]=!0,t["text-decoration-line"]=!0,t["text-decoration-skip"]=!0,t["text-decoration-style"]=!0,t["text-emphasis"]=!0,t["text-emphasis-color"]=!0,t["text-emphasis-position"]=!0,t["text-emphasis-style"]=!0,t["text-height"]=!0,t["text-indent"]=!0,t["text-justify"]=!0,t["text-orientation"]=!0,t["text-overflow"]=!0,t["text-shadow"]=!0,t["text-space-collapse"]=!0,t["text-transform"]=!0,t["text-underline-position"]=!0,t["text-wrap"]=!0,t.top=!1,t.transform=!1,t["transform-origin"]=!1,t["transform-style"]=!1,t.transition=!1,t["transition-delay"]=!1,t["transition-duration"]=!1,t["transition-property"]=!1,t["transition-timing-function"]=!1,t["unicode-bidi"]=!1,t["vertical-align"]=!1,t.visibility=!1,t["voice-balance"]=!1,t["voice-duration"]=!1,t["voice-family"]=!1,t["voice-pitch"]=!1,t["voice-range"]=!1,t["voice-rate"]=!1,t["voice-stress"]=!1,t["voice-volume"]=!1,t.volume=!1,t["white-space"]=!1,t.widows=!1,t.width=!0,t["will-change"]=!1,t["word-break"]=!0,t["word-spacing"]=!0,t["word-wrap"]=!0,t["wrap-flow"]=!1,t["wrap-through"]=!1,t["writing-mode"]=!1,t["z-index"]=!1,t}function oWe(t,e,n){}function iWe(t,e,n){}var sWe=/javascript\s*\:/img;function aWe(t,e){return sWe.test(e)?"":e}Xm.whiteList=vne();Xm.getDefaultWhiteList=vne;Xm.onAttr=oWe;Xm.onIgnoreAttr=iWe;Xm.safeAttrValue=aWe;var lWe={indexOf:function(t,e){var n,r;if(Array.prototype.indexOf)return t.indexOf(e);for(n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},forEach:function(t,e,n){var r,o;if(Array.prototype.forEach)return t.forEach(e,n);for(r=0,o=t.length;r<o;r++)e.call(n,t[r],r,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}},u1=lWe;function cWe(t,e){t=u1.trimRight(t),t[t.length-1]!==";"&&(t+=";");var n=t.length,r=!1,o=0,i=0,s="";function a(){if(!r){var u=u1.trim(t.slice(o,i)),d=u.indexOf(":");if(d!==-1){var f=u1.trim(u.slice(0,d)),h=u1.trim(u.slice(d+1));if(f){var m=e(o,s.length,f,h,u);m&&(s+=m+"; ")}}}o=i+1}for(;i<n;i++){var l=t[i];if(l==="/"&&t[i+1]==="*"){var c=t.indexOf("*/",i+2);if(c===-1)break;i=c+1,o=i+1,r=!1}else l==="("?r=!0:l===")"?r=!1:l===";"?r||a():l===`
`&&a()}return u1.trim(s)}var uWe=cWe,mk=Xm,dWe=uWe;function Kz(t){return t==null}function fWe(t){var e={};for(var n in t)e[n]=t[n];return e}function yne(t){t=fWe(t||{}),t.whiteList=t.whiteList||mk.whiteList,t.onAttr=t.onAttr||mk.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||mk.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||mk.safeAttrValue,this.options=t}yne.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,n=e.options,r=n.whiteList,o=n.onAttr,i=n.onIgnoreAttr,s=n.safeAttrValue,a=dWe(t,function(l,c,u,d,f){var h=r[u],m=!1;if(h===!0?m=h:typeof h=="function"?m=h(d):h instanceof RegExp&&(m=h.test(d)),m!==!0&&(m=!1),d=s(u,d),!!d){var g={position:c,sourcePosition:l,source:f,isWhite:m};if(m){var v=o(u,d,g);return Kz(v)?u+":"+d:v}else{var v=i(u,d,g);if(!Kz(v))return v}}});return a};var hWe=yne;(function(t,e){var n=Xm,r=hWe;function o(s,a){var l=new r(a);return l.process(s)}e=t.exports=o,e.FilterCSS=r;for(var i in n)e[i]=n[i];typeof window<"u"&&(window.filterCSS=t.exports)})(h3,h3.exports);var oN=h3.exports,iN={indexOf:function(t,e){var n,r;if(Array.prototype.indexOf)return t.indexOf(e);for(n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},forEach:function(t,e,n){var r,o;if(Array.prototype.forEach)return t.forEach(e,n);for(r=0,o=t.length;r<o;r++)e.call(n,t[r],r,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/,n=e.exec(t);return n?n.index:-1}},pWe=oN.FilterCSS,mWe=oN.getDefaultWhiteList,CC=iN;function bne(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var wne=new pWe;function gWe(t,e,n){}function vWe(t,e,n){}function yWe(t,e,n){}function bWe(t,e,n){}function xne(t){return t.replace(xWe,"&lt;").replace(kWe,"&gt;")}function wWe(t,e,n,r){if(n=Mne(n),e==="href"||e==="src"){if(n=CC.trim(n),n==="#")return"#";if(!(n.substr(0,7)==="http://"||n.substr(0,8)==="https://"||n.substr(0,7)==="mailto:"||n.substr(0,4)==="tel:"||n.substr(0,11)==="data:image/"||n.substr(0,6)==="ftp://"||n.substr(0,2)==="./"||n.substr(0,3)==="../"||n[0]==="#"||n[0]==="/"))return""}else if(e==="background"){if(gk.lastIndex=0,gk.test(n))return""}else if(e==="style"){if(Jz.lastIndex=0,Jz.test(n)||(Gz.lastIndex=0,Gz.test(n)&&(gk.lastIndex=0,gk.test(n))))return"";r!==!1&&(r=r||wne,n=r.process(n))}return n=Tne(n),n}var xWe=/</g,kWe=/>/g,SWe=/"/g,CWe=/&quot;/g,jWe=/&#([a-zA-Z0-9]*);?/gim,AWe=/&colon;?/gim,MWe=/&newline;?/gim,gk=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Jz=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Gz=/u\s*r\s*l\s*\(.*/gi;function kne(t){return t.replace(SWe,"&quot;")}function Sne(t){return t.replace(CWe,'"')}function Cne(t){return t.replace(jWe,function(e,n){return n[0]==="x"||n[0]==="X"?String.fromCharCode(parseInt(n.substr(1),16)):String.fromCharCode(parseInt(n,10))})}function jne(t){return t.replace(AWe,":").replace(MWe," ")}function Ane(t){for(var e="",n=0,r=t.length;n<r;n++)e+=t.charCodeAt(n)<32?" ":t.charAt(n);return CC.trim(e)}function Mne(t){return t=Sne(t),t=Cne(t),t=jne(t),t=Ane(t),t}function Tne(t){return t=kne(t),t=xne(t),t}function TWe(){return""}function OWe(t,e){typeof e!="function"&&(e=function(){});var n=!Array.isArray(t);function r(s){return n?!0:CC.indexOf(t,s)!==-1}var o=[],i=!1;return{onIgnoreTag:function(s,a,l){if(r(s))if(l.isClosing){var c="[/removed]",u=l.position+c.length;return o.push([i!==!1?i:l.position,u]),i=!1,c}else return i||(i=l.position),"[removed]";else return e(s,a,l)},remove:function(s){var a="",l=0;return CC.forEach(o,function(c){a+=s.slice(l,c[0]),l=c[1]}),a+=s.slice(l),a}}}function $We(t){for(var e="",n=0;n<t.length;){var r=t.indexOf("<!--",n);if(r===-1){e+=t.slice(n);break}e+=t.slice(n,r);var o=t.indexOf("-->",r);if(o===-1)break;n=o+3}return e}function EWe(t){var e=t.split("");return e=e.filter(function(n){var r=n.charCodeAt(0);return r===127?!1:r<=31?r===10||r===13:!0}),e.join("")}ri.whiteList=bne();ri.getDefaultWhiteList=bne;ri.onTag=gWe;ri.onIgnoreTag=vWe;ri.onTagAttr=yWe;ri.onIgnoreTagAttr=bWe;ri.safeAttrValue=wWe;ri.escapeHtml=xne;ri.escapeQuote=kne;ri.unescapeQuote=Sne;ri.escapeHtmlEntities=Cne;ri.escapeDangerHtml5Entities=jne;ri.clearNonPrintableCharacter=Ane;ri.friendlyAttrValue=Mne;ri.escapeAttrValue=Tne;ri.onIgnoreTagStripAll=TWe;ri.StripTagBody=OWe;ri.stripCommentTag=$We;ri.stripBlankChar=EWe;ri.attributeWrapSign='"';ri.cssFilter=wne;ri.getDefaultCSSWhiteList=mWe;var nM={},zf=iN;function _We(t){var e=zf.spaceIndex(t),n;return e===-1?n=t.slice(1,-1):n=t.slice(1,e+1),n=zf.trim(n).toLowerCase(),n.slice(0,1)==="/"&&(n=n.slice(1)),n.slice(-1)==="/"&&(n=n.slice(0,-1)),n}function PWe(t){return t.slice(0,2)==="</"}function IWe(t,e,n){var r="",o=0,i=!1,s=!1,a=0,l=t.length,c="",u="";e:for(a=0;a<l;a++){var d=t.charAt(a);if(i===!1){if(d==="<"){i=a;continue}}else if(s===!1){if(d==="<"){r+=n(t.slice(o,a)),i=a,o=a;continue}if(d===">"||a===l-1){r+=n(t.slice(o,i)),u=t.slice(i,a+1),c=_We(u),r+=e(i,r.length,c,u,PWe(u)),o=a+1,i=!1;continue}if(d==='"'||d==="'")for(var f=1,h=t.charAt(a-f);h.trim()===""||h==="=";){if(h==="="){s=d;continue e}h=t.charAt(a-++f)}}else if(d===s){s=!1;continue}}return o<l&&(r+=n(t.substr(o))),r}var RWe=/[^a-zA-Z0-9\\_:.-]/gim;function NWe(t,e){var n=0,r=0,o=[],i=!1,s=t.length;function a(f,h){if(f=zf.trim(f),f=f.replace(RWe,"").toLowerCase(),!(f.length<1)){var m=e(f,h||"");m&&o.push(m)}}for(var l=0;l<s;l++){var c=t.charAt(l),u,d;if(i===!1&&c==="="){i=t.slice(n,l),n=l+1,r=t.charAt(n)==='"'||t.charAt(n)==="'"?n:DWe(t,l+1);continue}if(i!==!1&&l===r){if(d=t.indexOf(c,l+1),d===-1)break;u=zf.trim(t.slice(r+1,d)),a(i,u),i=!1,l=d,n=l+1;continue}if(/\s|\n|\t/.test(c))if(t=t.replace(/\s|\n|\t/g," "),i===!1)if(d=LWe(t,l),d===-1){u=zf.trim(t.slice(n,l)),a(u),i=!1,n=l+1;continue}else{l=d-1;continue}else if(d=VWe(t,l-1),d===-1){u=zf.trim(t.slice(n,l)),u=Yz(u),a(i,u),i=!1,n=l+1;continue}else continue}return n<t.length&&(i===!1?a(t.slice(n)):a(i,Yz(zf.trim(t.slice(n))))),zf.trim(o.join(" "))}function LWe(t,e){for(;e<t.length;e++){var n=t[e];if(n!==" ")return n==="="?e:-1}}function DWe(t,e){for(;e<t.length;e++){var n=t[e];if(n!==" ")return n==="'"||n==='"'?e:-1}}function VWe(t,e){for(;e>0;e--){var n=t[e];if(n!==" ")return n==="="?e:-1}}function BWe(t){return t[0]==='"'&&t[t.length-1]==='"'||t[0]==="'"&&t[t.length-1]==="'"}function Yz(t){return BWe(t)?t.substr(1,t.length-2):t}nM.parseTag=IWe;nM.parseAttr=NWe;var zWe=oN.FilterCSS,Sl=ri,One=nM,HWe=One.parseTag,FWe=One.parseAttr,vS=iN;function vk(t){return t==null}function qWe(t){var e=vS.spaceIndex(t);if(e===-1)return{html:"",closing:t[t.length-2]==="/"};t=vS.trim(t.slice(e+1,-1));var n=t[t.length-1]==="/";return n&&(t=vS.trim(t.slice(0,-1))),{html:t,closing:n}}function UWe(t){var e={};for(var n in t)e[n]=t[n];return e}function WWe(t){var e={};for(var n in t)Array.isArray(t[n])?e[n.toLowerCase()]=t[n].map(function(r){return r.toLowerCase()}):e[n.toLowerCase()]=t[n];return e}function $ne(t){t=UWe(t||{}),t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=Sl.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=WWe(t.whiteList||t.allowList):t.whiteList=Sl.whiteList,this.attributeWrapSign=t.singleQuotedAttributeValue===!0?"'":Sl.attributeWrapSign,t.onTag=t.onTag||Sl.onTag,t.onTagAttr=t.onTagAttr||Sl.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||Sl.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||Sl.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||Sl.safeAttrValue,t.escapeHtml=t.escapeHtml||Sl.escapeHtml,this.options=t,t.css===!1?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new zWe(t.css))}$ne.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,n=e.options,r=n.whiteList,o=n.onTag,i=n.onIgnoreTag,s=n.onTagAttr,a=n.onIgnoreTagAttr,l=n.safeAttrValue,c=n.escapeHtml,u=e.attributeWrapSign,d=e.cssFilter;n.stripBlankChar&&(t=Sl.stripBlankChar(t)),n.allowCommentTag||(t=Sl.stripCommentTag(t));var f=!1;n.stripIgnoreTagBody&&(f=Sl.StripTagBody(n.stripIgnoreTagBody,i),i=f.onIgnoreTag);var h=HWe(t,function(m,g,v,y,b){var x={sourcePosition:m,position:g,isClosing:b,isWhite:Object.prototype.hasOwnProperty.call(r,v)},k=o(v,y,x);if(!vk(k))return k;if(x.isWhite){if(x.isClosing)return"</"+v+">";var w=qWe(y),S=r[v],C=FWe(w.html,function(j,A){var _=vS.indexOf(S,j)!==-1,R=s(v,j,A,_);return vk(R)?_?(A=l(v,j,A,d),A?j+"="+u+A+u:j):(R=a(v,j,A,_),vk(R)?void 0:R):R});return y="<"+v,C&&(y+=" "+C),w.closing&&(y+=" /"),y+=">",y}else return k=i(v,y,x),vk(k)?c(y):k},c);return f&&(h=f.remove(h)),h};var KWe=$ne;(function(t,e){var n=ri,r=nM,o=KWe;function i(a,l){var c=new o(l);return c.process(a)}e=t.exports=i,e.filterXSS=i,e.FilterXSS=o,function(){for(var a in n)e[a]=n[a];for(var l in r)e[l]=r[l]}(),typeof window<"u"&&(window.filterXSS=t.exports);function s(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}s()&&(self.filterXSS=t.exports)})(f3,f3.exports);var JWe=f3.exports;const GWe=rWe(JWe),YWe={a:["href","title","target"],span:["style","class","data-display"],blockquote:["class","style"],p:["class","style"],hr:[],pre:[],code:[],strong:[],img:["src","alt","title","width","height","style","data-display"],label:["contenteditable"],input:["type","value","checked"],div:["class","style"],iframe:["src","allowfullscreen","frameborder","width","height"],em:[],s:[],mark:["class","style"],sub:["class","style"],sup:["class","style"],h1:["class","style"],h2:["class","style"],h3:["class","style"],h4:["class","style"],h5:["class","style"],h6:["class","style"],ul:["class","data-type"],li:["class","data-checked","itemtypename"],ol:[],u:[],table:["class","style"],colgroup:[],col:["style"],tbody:["class","style"],tr:["class","style"],th:["class","style","colspan","rowspan"],td:["class","style","colspan","rowspan"],br:[]},XWe=["innerHTML"],QWe=en({__name:"VuetifyViewer",props:{value:{default:""},dark:{type:Boolean,default:void 0},dense:{type:Boolean,default:!1},markdownTheme:{type:[String,Boolean],default:void 0},xss:{type:[Boolean,Array],default:!0},xssOptions:{default:()=>YWe},extensions:{default:()=>[]}},setup(t){const e=t,{state:n}=UA(),r=fy(),{markdownThemeStyle:o}=Nte(ue(()=>e.markdownTheme)),i=ue(()=>[...n.extensions,...e.extensions]),s=ue(()=>iy(e.dark)?e.dark:iy(r.current.value.dark)?r.current.value.dark:!1),a=ue(()=>({__dark:Ie(s),dense:e.dense,view:!0,...Ie(o)})),l=ue(()=>u0(e.value)?e.value:nWe(e.value,Ie(i))),c=ue(()=>{let h=Ie(l);if(e.xss===!1)return h;h=h.replace("https://youtu.be/","https://www.youtube.com/watch?v=").replace("watch?v=","embed/").replace("https://vimeo.com/","https://player.vimeo.com/video/");const m=e.xssOptions;return GWe(h,{whiteList:m,css:!1})}),u=Ye();function d(){var h;(h=u.value)==null||h.querySelectorAll("img").forEach(m=>{var g;(g=m.nextElementSibling)!=null&&g.classList.contains("image-figure_caption")&&(m.nextElementSibling.style.width=`${m.offsetWidth}px`)})}const f=new ResizeObserver(()=>d());return Ai(h=>{u.value&&Ie(f).observe(u.value),h(()=>{Ie(f).disconnect()})}),(h,m)=>(tt(),zr("div",{class:Tt(["vuetify-pro-tiptap-editor__content",a.value]),style:{width:"100%"}},[Tc(h.$slots,"before"),Oe("div",{ref_key:"contentEl",ref:u,class:"content",innerHTML:c.value},null,8,XWe),Tc(h.$slots,"after")],2))}});var ZWe=Xi.create({name:"doc",topNode:!0,content:"block+"}),eKe=Xi.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Gr(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:o,storedMarks:i}=n;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=i||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&s){const d=l.filter(f=>a.includes(f.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),tKe=Object.defineProperty,nKe=(t,e)=>{for(var n in e)tKe(t,n,{get:e[n],enumerable:!0})},rKe="listItem",Xz="textStyle",Qz=/^\s*([-+*])\s$/,Ene=Xi.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(rKe,this.editor.getAttributes(Xz)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ry({find:Qz,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ry({find:Qz,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Xz),editor:this.editor})),[t]}}),_ne=Xi.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Gr(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),oKe={};nKe(oKe,{findListItemPos:()=>Bw,getNextListDepth:()=>sN,handleBackspace:()=>p3,handleDelete:()=>m3,hasListBefore:()=>Pne,hasListItemAfter:()=>iKe,hasListItemBefore:()=>Ine,listItemHasSubList:()=>Rne,nextListIsDeeper:()=>Nne,nextListIsHigher:()=>Lne});var Bw=(t,e)=>{const{$from:n}=e.selection,r=Ji(t,e.schema);let o=null,i=n.depth,s=n.pos,a=null;for(;i>0&&a===null;)o=n.node(i),o.type===r?a=i:(i-=1,s-=1);return a===null?null:{$pos:e.doc.resolve(s),depth:a}},sN=(t,e)=>{const n=Bw(t,e);if(!n)return!1;const[,r]=M8e(e,t,n.$pos.pos+4);return r},Pne=(t,e,n)=>{const{$anchor:r}=t.selection,o=Math.max(0,r.pos-2),i=t.doc.resolve(o).node();return!(!i||!n.includes(i.type.name))},Ine=(t,e)=>{var n;const{$anchor:r}=e.selection,o=e.doc.resolve(r.pos-2);return!(o.index()===0||((n=o.nodeBefore)==null?void 0:n.type.name)!==t)},Rne=(t,e,n)=>{if(!n)return!1;const r=Ji(t,e.schema);let o=!1;return n.descendants(i=>{i.type===r&&(o=!0)}),o},p3=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Nh(t.state,e)&&Pne(t.state,e,n)){const{$anchor:s}=t.state.selection,a=t.state.doc.resolve(s.before()-1),l=[];a.node().descendants((d,f)=>{d.type.name===e&&l.push({node:d,pos:f})});const c=l.at(-1);if(!c)return!1;const u=t.state.doc.resolve(a.start()+c.pos+1);return t.chain().cut({from:s.start()-1,to:s.end()+1},u.end()).joinForward().run()}if(!Nh(t.state,e)||!E8e(t.state))return!1;const r=Bw(e,t.state);if(!r)return!1;const o=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),i=Rne(e,t.state,o);return Ine(e,t.state)&&!i?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},Nne=(t,e)=>{const n=sN(t,e),r=Bw(t,e);return!r||!n?!1:n>r.depth},Lne=(t,e)=>{const n=sN(t,e),r=Bw(t,e);return!r||!n?!1:n<r.depth},m3=(t,e)=>{if(!Nh(t.state,e)||!$8e(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:o}=n;return!n.empty&&r.sameParent(o)?!1:Nne(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():Lne(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},iKe=(t,e)=>{var n;const{$anchor:r}=e.selection,o=e.doc.resolve(r.pos-r.parentOffset-2);return!(o.index()===o.parent.childCount-1||((n=o.nodeAfter)==null?void 0:n.type.name)!==t)},sKe=kr.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&m3(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&m3(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&p3(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&p3(t,n,r)&&(e=!0)}),e}}}}),aKe="listItem",Zz="textStyle",eH=/^(\d+)\.\s$/,Dne=Xi.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Gr(this.options.HTMLAttributes,n),0]:["ol",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(aKe,this.editor.getAttributes(Zz)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ry({find:eH,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ry({find:eH,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Zz)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),lKe=/^\s*(\[([( |x])?\])\s$/,Vne=Xi.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Gr(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const o=document.createElement("li"),i=document.createElement("label"),s=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),c=u=>{var d,f;a.ariaLabel=((f=(d=this.options.a11y)==null?void 0:d.checkboxLabel)==null?void 0:f.call(d,u,a.checked))||`Task item checkbox for ${u.textContent||"empty task item"}`};return c(t),i.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",u=>u.preventDefault()),a.addEventListener("change",u=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:d}=u.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:f})=>{const h=n();if(typeof h!="number")return!1;const m=f.doc.nodeAt(h);return f.setNodeMarkup(h,void 0,{...m==null?void 0:m.attrs,checked:d}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,d)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,d])=>{o.setAttribute(u,d)}),o.dataset.checked=t.attrs.checked,a.checked=t.attrs.checked,i.append(a,s),o.append(i,l),Object.entries(e).forEach(([u,d])=>{o.setAttribute(u,d)}),{dom:o,contentDOM:l,update:u=>u.type!==this.type?!1:(o.dataset.checked=u.attrs.checked,a.checked=u.attrs.checked,c(u),!0)}}},addInputRules(){return[ry({find:lKe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),Bne=Xi.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Gr(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});kr.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(Ene.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(_ne.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(sKe.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(Dne.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(Vne.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(Bne.configure(this.options.taskList)),t}});var cKe=Xi.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),uKe=Xi.create({name:"text",group:"inline"}),dKe=t=>{if(!t.children.length)return;const e=t.querySelectorAll("span");e&&e.forEach(n=>{var r,o;const i=n.getAttribute("style"),s=(o=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:o.getAttribute("style");n.setAttribute("style",`${s};${i}`)})},zne=Wc.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&dKe(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(o=>o.type===this.type).some(o=>Object.values(o.attrs).some(i=>!!i))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),fKe=kr.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(o=>o.trim()).filter(Boolean);for(let o=r.length-1;o>=0;o-=1){const i=r[o].split(":");if(i.length>=2){const s=i[0].trim().toLowerCase(),a=i.slice(1).join(":").trim();if(s==="background-color")return a.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),Hne=kr.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(o=>o.trim()).filter(Boolean);for(let o=r.length-1;o>=0;o-=1){const i=r[o].split(":");if(i.length>=2){const s=i[0].trim().toLowerCase(),a=i.slice(1).join(":").trim();if(s==="color")return a.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Fne=kr.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),hKe=kr.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),pKe=kr.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});kr.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(fKe.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(Hne.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(Fne.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(hKe.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(pKe.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(zne.configure(this.options.textStyle)),t}});function mKe(t={}){return new ko({view(e){return new gKe(e,t)}})}class gKe{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let i=s=>{this[o](s)};return e.dom.addEventListener(o,i),{name:o,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,o=this.editorView.dom,i=o.getBoundingClientRect(),s=i.width/o.offsetWidth,a=i.height/o.offsetHeight;if(n){let d=e.nodeBefore,f=e.nodeAfter;if(d||f){let h=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(h){let m=h.getBoundingClientRect(),g=d?m.bottom:m.top;d&&f&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let v=this.width/2*a;r={left:m.left,right:m.right,top:g-v,bottom:g+v}}}}if(!r){let d=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*s;r={left:d.left-f,right:d.left+f,top:d.top,bottom:d.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{let d=l.getBoundingClientRect(),f=d.width/l.offsetWidth,h=d.height/l.offsetHeight;c=d.left-l.scrollLeft*f,u=d.top-l.scrollTop*h}this.element.style.left=(r.left-c)/s+"px",this.element.style.top=(r.top-u)/a+"px",this.element.style.width=(r.right-r.left)/s+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),o=r&&r.type.spec.disableDropCursor,i=typeof o=="function"?o(this.editorView,n,e):o;if(n&&!i){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=kZ(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Si extends xn{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Si.valid(r)?new Si(r):xn.near(r)}content(){return vt.empty}eq(e){return e instanceof Si&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Si(e.resolve(n.pos))}getBookmark(){return new aN(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!vKe(e)||!yKe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let o=n.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Si.valid(e))return e;let o=e.pos,i=null;for(let s=e.depth;;s--){let a=e.node(s);if(n>0?e.indexAfter(s)<a.childCount:e.index(s)>0){i=a.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;o+=n;let l=e.doc.resolve(o);if(Si.valid(l))return l}for(;;){let s=n>0?i.firstChild:i.lastChild;if(!s){if(i.isAtom&&!i.isText&&!Gt.isSelectable(i)){e=e.doc.resolve(o+i.nodeSize*n),r=!1;continue e}break}i=s,o+=n;let a=e.doc.resolve(o);if(Si.valid(a))return a}return null}}}Si.prototype.visible=!1;Si.findFrom=Si.findGapCursorFrom;xn.jsonID("gapcursor",Si);class aN{constructor(e){this.pos=e}map(e){return new aN(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Si.valid(n)?new Si(n):xn.near(n)}}function vKe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function yKe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function bKe(){return new ko({props:{decorations:SKe,createSelectionBetween(t,e,n){return e.pos==n.pos&&Si.valid(n)?new Si(n):null},handleClick:xKe,handleKeyDown:wKe,handleDOMEvents:{beforeinput:kKe}}})}const wKe=jR({ArrowLeft:yk("horiz",-1),ArrowRight:yk("horiz",1),ArrowUp:yk("vert",-1),ArrowDown:yk("vert",1)});function yk(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,o,i){let s=r.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof Zt){if(!i.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=Si.findGapCursorFrom(a,e,l);return c?(o&&o(r.tr.setSelection(new Si(c))),!0):!1}}function xKe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Si.valid(r))return!1;let o=t.posAtCoords({left:n.clientX,top:n.clientY});return o&&o.inside>-1&&Gt.isSelectable(t.state.doc.nodeAt(o.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Si(r))),!0)}function kKe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Si))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let o=Ge.empty;for(let s=r.length-1;s>=0;s--)o=Ge.from(r[s].createAndFill(null,o));let i=t.state.tr.replace(n.pos,n.pos,new vt(o,0,0));return i.setSelection(Zt.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function SKe(t){if(!(t.selection instanceof Si))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Eo.create(t.doc,[ms.widget(t.selection.head,e,{key:"gapcursor"})])}var jC=200,bs=function(){};bs.prototype.append=function(t){return t.length?(t=bs.from(t),!this.length&&t||t.length<jC&&this.leafAppend(t)||this.length<jC&&t.leafPrepend(this)||this.appendInner(t)):this};bs.prototype.prepend=function(t){return t.length?bs.from(t).append(this):this};bs.prototype.appendInner=function(t){return new CKe(this,t)};bs.prototype.slice=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=this.length),t>=e?bs.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))};bs.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};bs.prototype.forEach=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)};bs.prototype.map=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length);var r=[];return this.forEach(function(o,i){return r.push(t(o,i))},e,n),r};bs.from=function(t){return t instanceof bs?t:t&&t.length?new qne(t):bs.empty};var qne=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,o){return r==0&&o==this.length?this:new e(this.values.slice(r,o))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,o,i,s){for(var a=o;a<i;a++)if(r(this.values[a],s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,i,s){for(var a=o-1;a>=i;a--)if(r(this.values[a],s+a)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=jC)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=jC)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(bs);bs.empty=new qne([]);var CKe=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,r,o,i){var s=this.left.length;if(r<s&&this.left.forEachInner(n,r,Math.min(o,s),i)===!1||o>s&&this.right.forEachInner(n,Math.max(r-s,0),Math.min(this.length,o)-s,i+s)===!1)return!1},e.prototype.forEachInvertedInner=function(n,r,o,i){var s=this.left.length;if(r>s&&this.right.forEachInvertedInner(n,r-s,Math.max(o,s)-s,i+s)===!1||o<s&&this.left.forEachInvertedInner(n,Math.min(r,s),o,i)===!1)return!1},e.prototype.sliceInner=function(n,r){if(n==0&&r==this.length)return this;var o=this.left.length;return r<=o?this.left.slice(n,r):n>=o?this.right.slice(n-o,r-o):this.left.slice(n,o).append(this.right.slice(0,r-o))},e.prototype.leafAppend=function(n){var r=this.right.leafAppend(n);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(n){var r=this.left.leafPrepend(n);if(r)return new e(r,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(bs);const jKe=500;class fc{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,i;n&&(o=this.remapping(r,this.items.length),i=o.maps.length);let s=e.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){o||(o=this.remapping(r,f+1),i=o.maps.length),i--,u.push(d);return}if(o){u.push(new iu(d.map));let h=d.step.map(o.slice(i)),m;h&&s.maybeStep(h).doc&&(m=s.mapping.maps[s.mapping.maps.length-1],c.push(new iu(m,void 0,void 0,c.length+u.length))),i--,m&&o.appendMap(m,i)}else s.maybeStep(d.step);if(d.selection)return a=o?d.selection.map(o.slice(i)):d.selection,l=new fc(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,n,r,o){let i=[],s=this.eventCount,a=this.items,l=!o&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new iu(e.mapping.maps[u],d,n),h;(h=l&&l.merge(f))&&(f=h,u?i.pop():a=a.slice(0,a.length-1)),i.push(f),n&&(s++,n=void 0),o||(l=f)}let c=s-r.depth;return c>MKe&&(a=AKe(a,c),s-=c),new fc(a.append(i),s)}remapping(e,n){let r=new Sb;return this.items.forEach((o,i)=>{let s=o.mirrorOffset!=null&&i-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new fc(this.items.append(e.map(n=>new iu(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-n),i=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},o);let l=n;this.items.forEach(f=>{let h=i.getMirror(--l);if(h==null)return;s=Math.min(s,h);let m=i.maps[h];if(f.step){let g=e.steps[h].invert(e.docs[h]),v=f.selection&&f.selection.map(i.slice(l+1,h));v&&a++,r.push(new iu(m,g,v))}else r.push(new iu(m))},o);let c=[];for(let f=n;f<s;f++)c.push(new iu(i.maps[f]));let u=this.items.slice(0,o).append(c).append(r),d=new fc(u,a);return d.emptyItemCount()>jKe&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,o=[],i=0;return this.items.forEach((s,a)=>{if(a>=e)o.push(s),s.selection&&i++;else if(s.step){let l=s.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=s.selection&&s.selection.map(n.slice(r));u&&i++;let d=new iu(c.invert(),l,u),f,h=o.length-1;(f=o.length&&o[h].merge(d))?o[h]=f:o.push(d)}}else s.map&&r--},this.items.length,0),new fc(bs.from(o.reverse()),i)}}fc.empty=new fc(bs.empty,0);function AKe(t,e){let n;return t.forEach((r,o)=>{if(r.selection&&e--==0)return n=o,!1}),t.slice(n)}class iu{constructor(e,n,r,o){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new iu(n.getMap().invert(),n,this.selection)}}}class Hf{constructor(e,n,r,o,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=o,this.prevComposition=i}}const MKe=20;function TKe(t,e,n,r){let o=n.getMeta(em),i;if(o)return o.historyState;n.getMeta(EKe)&&(t=new Hf(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(em))return s.getMeta(em).redo?new Hf(t.done.addTransform(n,void 0,r,yS(e)),t.undone,tH(n.mapping.maps),t.prevTime,t.prevComposition):new Hf(t.done,t.undone.addTransform(n,void 0,r,yS(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!s&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!OKe(n,t.prevRanges)),c=s?AO(t.prevRanges,n.mapping):tH(n.mapping.maps);return new Hf(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,yS(e)),fc.empty,c,n.time,a??t.prevComposition)}else return(i=n.getMeta("rebased"))?new Hf(t.done.rebased(n,i),t.undone.rebased(n,i),AO(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Hf(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),AO(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function OKe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,o)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&o>=e[i]&&(n=!0)}),n}function tH(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,o,i,s)=>e.push(i,s));return e}function AO(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}function $Ke(t,e,n){let r=yS(e),o=em.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let s=i.selection.resolve(i.transform.doc),a=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),o,r),l=new Hf(n?a:i.remaining,n?i.remaining:a,null,0,-1);return i.transform.setSelection(s).setMeta(em,{redo:n,historyState:l})}let MO=!1,nH=null;function yS(t){let e=t.plugins;if(nH!=e){MO=!1,nH=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){MO=!0;break}}return MO}const em=new hi("history"),EKe=new hi("closeHistory");function _Ke(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new ko({key:em,state:{init(){return new Hf(fc.empty,fc.empty,null,0,-1)},apply(e,n,r){return TKe(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,o=r=="historyUndo"?Wne:r=="historyRedo"?Kne:null;return o?(n.preventDefault(),o(e.state,e.dispatch)):!1}}}})}function Une(t,e){return(n,r)=>{let o=em.getState(n);if(!o||(t?o.undone:o.done).eventCount==0)return!1;if(r){let i=$Ke(o,n,t);i&&r(i.scrollIntoView())}return!0}}const Wne=Une(!1),Kne=Une(!0);var PKe=kr.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new ko({key:new hi("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const o=this.options.limit;if(o==null||o===0){t=!0;return}const i=this.storage.characters({node:r.doc});if(i>o){const s=i-o,a=0,l=s;console.warn(`[CharacterCount] Initial content exceeded limit of ${o} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(a,l);return t=!0,c}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const o=this.storage.characters({node:n.doc}),i=this.storage.characters({node:e.doc});if(i<=r||o>r&&i>r&&i<=o)return!0;if(o>r&&i>r&&i>o||!e.getMeta("paste"))return!1;const s=e.selection.$head.pos,a=i-r,l=s-a,c=s;return e.deleteRange(l,c),!(this.storage.characters({node:e.doc})>r)}})]}}),IKe=kr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[mKe(this.options)]}}),RKe=kr.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new ko({key:new hi("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:o}=e,i=[];if(!n||!r)return Eo.create(t,[]);let s=0;this.options.mode==="deepest"&&t.descendants((l,c)=>{if(!l.isText){if(!(o>=c&&o<=c+l.nodeSize-1))return!1;s+=1}});let a=0;return t.descendants((l,c)=>{if(l.isText||!(o>=c&&o<=c+l.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&s-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";i.push(ms.node(c,c+l.nodeSize,{class:this.options.className}))}),Eo.create(t,i)}}})]}}),NKe=kr.create({name:"gapCursor",addProseMirrorPlugins(){return[bKe()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ur(Yt(t,"allowGapCursor",n)))!=null?e:null}}}),LKe=kr.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new ko({key:new hi("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,o=[];if(!n)return null;const i=this.editor.isEmpty;return t.descendants((s,a)=>{const l=r>=a&&r<=a+s.nodeSize,c=!s.isLeaf&&zA(s);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];i&&u.push(this.options.emptyEditorClass);const d=ms.node(a,a+s.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:s,pos:a,hasAnchor:l}):this.options.placeholder});o.push(d)}return this.options.includeChildren}),Eo.create(t,o)}}})]}});kr.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new ko({key:new hi("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||Ree(n.selection)||t.view.dragging?null:Eo.create(n.doc,[ms.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function rH({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}kr.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new hi(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>(this.options.notAfter||[]).concat(this.options.node).includes(n.name));return[new ko({key:t,appendTransaction:(n,r,o)=>{const{doc:i,tr:s,schema:a}=o,l=t.getState(o),c=i.content.size,u=a.nodes[this.options.node];if(l)return s.insert(c,u.create())},state:{init:(n,r)=>{const o=r.tr.doc.lastChild;return!rH({node:o,types:e})},apply:(n,r)=>{if(!n.docChanged)return r;const o=n.doc.lastChild;return!rH({node:o,types:e})}}})]}});var DKe=kr.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Wne(t,e),redo:()=>({state:t,dispatch:e})=>Kne(t,e)}},addProseMirrorPlugins(){return[_Ke(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}});const VKe=t=>{var e;return{action:()=>t.editor.chain().focus().toggleBlockquote().run(),isActive:()=>t.editor.isActive("blockquote")||!1,disabled:((e=t.isDisabled)==null?void 0:e.call(t,t.editor))||!t.editor.can().toggleCodeBlock(),title:t.t("editor.blockquote.tooltip"),icon:"blockquote"}};var BKe="M19,12H17V15H14V17H19V12M7,9H10V7H5V12H7V9M21,3H3A2,2 0 0,0 1,5V19A2,2 0 0,0 3,21H21A2,2 0 0,0 23,19V5A2,2 0 0,0 21,3M21,19H3V5H21V19Z",zKe="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",HKe="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",FKe="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",qKe="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3M11 8H9V10C9 11.1 8.1 12 7 12C8.1 12 9 12.9 9 14V16H11V18H9C7.9 18 7 17.1 7 16V15C7 13.9 6.1 13 5 13V11C6.1 11 7 10.1 7 9V8C7 6.9 7.9 6 9 6H11V8M19 13C17.9 13 17 13.9 17 15V16C17 17.1 16.1 18 15 18H13V16H15V14C15 12.9 15.9 12 17 12C15.9 12 15 11.1 15 10V8H13V6H15C16.1 6 17 6.9 17 8V9C17 10.1 17.9 11 19 11V13Z",UKe="M14.6,16.6L19.2,12L14.6,7.4L16,6L22,12L16,18L14.6,16.6M9.4,16.6L4.8,12L9.4,7.4L8,6L2,12L8,18L9.4,16.6Z",WKe="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",KKe="M13.09 20H6L12 14L13.88 15.88C14.5 14.9 15.36 14.1 16.4 13.6L18 12V13.09C18.33 13.04 18.66 13 19 13C19.34 13 19.67 13.04 20 13.09V8L14 2H6C4.89 2 4 2.89 4 4V20C4 21.1 4.89 22 6 22H13.81C13.46 21.39 13.21 20.72 13.09 20M13 3.5L18.5 9H13V3.5M8 9C9.11 9 10 9.9 10 11S9.11 13 8 13 6 12.11 6 11 6.9 9 8 9M20 15V18H23V20H20V23H18V20H15V18H18V15H20Z",oH="M3,3H21V5H3V3M7,7H17V9H7V7M3,11H21V13H3V11M7,15H17V17H7V15M3,19H21V21H3V19Z",JKe="M3,3H21V5H3V3M3,7H21V9H3V7M3,11H21V13H3V11M3,15H21V17H3V15M3,19H21V21H3V19Z",GKe="M3,3H21V5H3V3M3,7H15V9H3V7M3,11H21V13H3V11M3,15H15V17H3V15M3,19H21V21H3V19Z",YKe="M3,3H21V5H3V3M9,7H21V9H9V7M3,11H21V13H3V11M9,15H21V17H9V15M3,19H21V21H3V19Z",XKe="M13.5,15.5H10V12.5H13.5A1.5,1.5 0 0,1 15,14A1.5,1.5 0 0,1 13.5,15.5M10,6.5H13A1.5,1.5 0 0,1 14.5,8A1.5,1.5 0 0,1 13,9.5H10M15.6,10.79C16.57,10.11 17.25,9 17.25,8C17.25,5.74 15.5,4 13.25,4H7V18H14.04C16.14,18 17.75,16.3 17.75,14.21C17.75,12.69 16.89,11.39 15.6,10.79Z",QKe="M6,5V5.18L8.82,8H11.22L10.5,9.68L12.6,11.78L14.21,8H20V5H6M3.27,5L2,6.27L8.97,13.24L6.5,19H9.5L11.07,15.34L16.73,21L18,19.73L3.55,5.27L3.27,5Z",ZKe="M4,17L6.75,14.25L6.72,14.23C6.14,13.64 6.14,12.69 6.72,12.11L11.46,7.37L15.7,11.61L10.96,16.35C10.39,16.93 9.46,16.93 8.87,16.37L8.24,17H4M15.91,2.91C16.5,2.33 17.45,2.33 18.03,2.91L20.16,5.03C20.74,5.62 20.74,6.57 20.16,7.16L16.86,10.45L12.62,6.21L15.91,2.91Z",eJe="M3,7H9V13H3V7M3,3H21V5H3V3M21,7V9H11V7H21M21,11V13H11V11H21M3,15H17V17H3V15M3,19H21V21H3V19Z",tJe="M3,7H9V13H3V7M3,3H21V5H3V3M21,11V13H11V11H21M3,15H17V17H3V15M3,19H21V21H3V19Z",nJe="M15,7H21V13H15V7M3,3H21V5H3V3M13,7V9H3V7H13M9,11V13H3V11H9M3,15H17V17H3V15M3,19H21V21H3V19Z",rJe="M17,8H20V20H21V21H17V20H18V17H14L12.5,20H14V21H10V20H11L17,8M18,9L14.5,16H18V9M5,3H10C11.11,3 12,3.89 12,5V16H9V11H6V16H3V5C3,3.89 3.89,3 5,3M6,5V9H9V5H6Z",oJe="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M14,18V16H16V6.31L13.5,7.75V5.44L16,4H18V16H20V18H14Z",iJe="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M21,18H15A2,2 0 0,1 13,16C13,15.47 13.2,15 13.54,14.64L18.41,9.41C18.78,9.05 19,8.55 19,8A2,2 0 0,0 17,6A2,2 0 0,0 15,8H13A4,4 0 0,1 17,4A4,4 0 0,1 21,8C21,9.1 20.55,10.1 19.83,10.83L15,16H21V18Z",sJe="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M15,4H19A2,2 0 0,1 21,6V16A2,2 0 0,1 19,18H15A2,2 0 0,1 13,16V15H15V16H19V12H15V10H19V6H15V7H13V6A2,2 0 0,1 15,4Z",aJe="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M18,18V13H13V11L18,4H20V11H21V13H20V18H18M18,11V7.42L15.45,11H18Z",lJe="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M15,4H20V6H15V10H17A4,4 0 0,1 21,14A4,4 0 0,1 17,18H15A2,2 0 0,1 13,16V15H15V16H17A2,2 0 0,0 19,14A2,2 0 0,0 17,12H15A2,2 0 0,1 13,10V6A2,2 0 0,1 15,4Z",cJe="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M15,4H19A2,2 0 0,1 21,6V7H19V6H15V10H19A2,2 0 0,1 21,12V16A2,2 0 0,1 19,18H15A2,2 0 0,1 13,16V6A2,2 0 0,1 15,4M15,12V16H19V12H15Z",uJe="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M13,8H15.31L15.63,5H17.63L17.31,8H19.31L19.63,5H21.63L21.31,8H23V10H21.1L20.9,12H23V14H20.69L20.37,17H18.37L18.69,14H16.69L16.37,17H14.37L14.69,14H13V12H14.9L15.1,10H13V8M17.1,10L16.9,12H18.9L19.1,10H17.1Z",dJe="M11,13H21V11H11M11,9H21V7H11M3,3V5H21V3M3,21H21V19H3M3,12L7,16V8M11,17H21V15H11V17Z",fJe="M11,13H21V11H11M11,9H21V7H11M3,3V5H21V3M11,17H21V15H11M3,8V16L7,12M3,21H21V19H3V21Z",hJe="M10,4V7H12.21L8.79,15H6V18H14V15H11.79L15.21,7H18V4H10Z",pJe="M7,5H21V7H7V5M7,13V11H21V13H7M4,4.5A1.5,1.5 0 0,1 5.5,6A1.5,1.5 0 0,1 4,7.5A1.5,1.5 0 0,1 2.5,6A1.5,1.5 0 0,1 4,4.5M4,10.5A1.5,1.5 0 0,1 5.5,12A1.5,1.5 0 0,1 4,13.5A1.5,1.5 0 0,1 2.5,12A1.5,1.5 0 0,1 4,10.5M7,19V17H21V19H7M4,16.5A1.5,1.5 0 0,1 5.5,18A1.5,1.5 0 0,1 4,19.5A1.5,1.5 0 0,1 2.5,18A1.5,1.5 0 0,1 4,16.5Z",mJe="M21,19V17H8V19H21M21,13V11H8V13H21M8,7H21V5H8V7M4,5V7H6V5H4M3,5A1,1 0 0,1 4,4H6A1,1 0 0,1 7,5V7A1,1 0 0,1 6,8H4A1,1 0 0,1 3,7V5M4,11V13H6V11H4M3,11A1,1 0 0,1 4,10H6A1,1 0 0,1 7,11V13A1,1 0 0,1 6,14H4A1,1 0 0,1 3,13V11M4,17V19H6V17H4M3,17A1,1 0 0,1 4,16H6A1,1 0 0,1 7,17V19A1,1 0 0,1 6,20H4A1,1 0 0,1 3,19V17Z",gJe="M7,13V11H21V13H7M7,19V17H21V19H7M7,7V5H21V7H7M3,8V5H2V4H4V8H3M2,17V16H5V20H2V19H4V18.5H3V17.5H4V17H2M4.25,10A0.75,0.75 0 0,1 5,10.75C5,10.95 4.92,11.14 4.79,11.27L3.12,13H5V14H2V13.08L4,11H2V10H4.25Z",vJe="M13,4A4,4 0 0,1 17,8A4,4 0 0,1 13,12H11V18H9V4H13M13,10A2,2 0 0,0 15,8A2,2 0 0,0 13,6H11V10H13Z",yJe="M10,7L8,11H11V17H5V11L7,7H10M18,7L16,11H19V17H13V11L15,7H18Z",bJe="M2 4V7H7V19H10V7H15V4H2M21 9H12V12H15V19H18V12H21V9Z",wJe="M3,14H21V12H3M5,4V7H10V10H14V7H19V4M10,19H14V16H10V19Z",xJe="M16,7.41L11.41,12L16,16.59L14.59,18L10,13.41L5.41,18L4,16.59L8.59,12L4,7.41L5.41,6L10,10.59L14.59,6L16,7.41M21.85,21.03H16.97V20.03L17.86,19.23C18.62,18.58 19.18,18.04 19.56,17.6C19.93,17.16 20.12,16.75 20.13,16.36C20.14,16.08 20.05,15.85 19.86,15.66C19.68,15.5 19.39,15.38 19,15.38C18.69,15.38 18.42,15.44 18.16,15.56L17.5,15.94L17.05,14.77C17.32,14.56 17.64,14.38 18.03,14.24C18.42,14.1 18.85,14 19.32,14C20.1,14.04 20.7,14.25 21.1,14.66C21.5,15.07 21.72,15.59 21.72,16.23C21.71,16.79 21.53,17.31 21.18,17.78C20.84,18.25 20.42,18.7 19.91,19.14L19.27,19.66V19.68H21.85V21.03Z",kJe="M16,7.41L11.41,12L16,16.59L14.59,18L10,13.41L5.41,18L4,16.59L8.59,12L4,7.41L5.41,6L10,10.59L14.59,6L16,7.41M21.85,9H16.97V8L17.86,7.18C18.62,6.54 19.18,6 19.56,5.55C19.93,5.11 20.12,4.7 20.13,4.32C20.14,4.04 20.05,3.8 19.86,3.62C19.68,3.43 19.39,3.34 19,3.33C18.69,3.34 18.42,3.4 18.16,3.5L17.5,3.89L17.05,2.72C17.32,2.5 17.64,2.33 18.03,2.19C18.42,2.05 18.85,2 19.32,2C20.1,2 20.7,2.2 21.1,2.61C21.5,3 21.72,3.54 21.72,4.18C21.71,4.74 21.53,5.26 21.18,5.73C20.84,6.21 20.42,6.66 19.91,7.09L19.27,7.61V7.63H21.85V9Z",SJe="M5,21H19V19H5V21M12,17A6,6 0 0,0 18,11V3H15.5V11A3.5,3.5 0 0,1 12,14.5A3.5,3.5 0 0,1 8.5,11V3H6V11A6,6 0 0,0 12,17Z",CJe="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z",jJe="M14,14H19V16H16V19H14V14M5,14H10V19H8V16H5V14M8,5H10V10H5V8H8V5M19,8V10H14V5H16V8H19Z",AJe="M18 15V18H15V20H18V23H20V20H23V18H20V15H18M13.3 21H5C3.9 21 3 20.1 3 19V5C3 3.9 3.9 3 5 3H19C20.1 3 21 3.9 21 5V13.3C20.4 13.1 19.7 13 19 13C17.9 13 16.8 13.3 15.9 13.9L14.5 12L11 16.5L8.5 13.5L5 18H13.1C13 18.3 13 18.7 13 19C13 19.7 13.1 20.4 13.3 21Z",MJe="M22 13H14V11H22V13M22 7H14V9H22V7M14 17H22V15H14V17M12 9V15C12 16.1 11.1 17 10 17H4C2.9 17 2 16.1 2 15V9C2 7.9 2.9 7 4 7H10C11.1 7 12 7.9 12 9M10.5 15L8.3 12L6.5 14.3L5.3 12.8L3.5 15H10.5Z",TJe="M2,5.27L3.28,4L20,20.72L18.73,22L13.9,17.17L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L12.5,15.76L10.88,14.15C10.87,14.39 10.77,14.64 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C8.12,13.77 7.63,12.37 7.72,11L2,5.27M12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.79,8.97L9.38,7.55L12.71,4.22M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.2,10.54 16.61,12.5 16.06,14.23L14.28,12.46C14.23,11.78 13.94,11.11 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z",iH="M10.6 13.4A1 1 0 0 1 9.2 14.8A4.8 4.8 0 0 1 9.2 7.8L12.7 4.2A5.1 5.1 0 0 1 19.8 4.2A5.1 5.1 0 0 1 19.8 11.3L18.3 12.8A6.4 6.4 0 0 0 17.9 10.4L18.4 9.9A3.2 3.2 0 0 0 18.4 5.6A3.2 3.2 0 0 0 14.1 5.6L10.6 9.2A2.9 2.9 0 0 0 10.6 13.4M23 18V20H20V23H18V20H15V18H18V15H20V18M16.2 13.7A4.8 4.8 0 0 0 14.8 9.2A1 1 0 0 0 13.4 10.6A2.9 2.9 0 0 1 13.4 14.8L9.9 18.4A3.2 3.2 0 0 1 5.6 18.4A3.2 3.2 0 0 1 5.6 14.1L6.1 13.7A7.3 7.3 0 0 1 5.7 11.2L4.2 12.7A5.1 5.1 0 0 0 4.2 19.8A5.1 5.1 0 0 0 11.3 19.8L13.1 18A6 6 0 0 1 16.2 13.7Z",OJe="M19,13H5V11H19V13Z",$Je="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z",EJe="M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M14.5,8A1.5,1.5 0 0,1 13,6.5A1.5,1.5 0 0,1 14.5,5A1.5,1.5 0 0,1 16,6.5A1.5,1.5 0 0,1 14.5,8M9.5,8A1.5,1.5 0 0,1 8,6.5A1.5,1.5 0 0,1 9.5,5A1.5,1.5 0 0,1 11,6.5A1.5,1.5 0 0,1 9.5,8M6.5,12A1.5,1.5 0 0,1 5,10.5A1.5,1.5 0 0,1 6.5,9A1.5,1.5 0 0,1 8,10.5A1.5,1.5 0 0,1 6.5,12M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A1.5,1.5 0 0,0 13.5,19.5C13.5,19.11 13.35,18.76 13.11,18.5C12.88,18.23 12.73,17.88 12.73,17.5A1.5,1.5 0 0,1 14.23,16H16A5,5 0 0,0 21,11C21,6.58 16.97,3 12,3Z",_Je="M18.4,10.6C16.55,9 14.15,8 11.5,8C6.85,8 2.92,11.03 1.54,15.22L3.9,16C4.95,12.81 7.95,10.5 11.5,10.5C13.45,10.5 15.23,11.22 16.62,12.38L13,16H22V7L18.4,10.6Z",PJe="M9 7V17H15V15H11V7H9Z",IJe="M9 7C7.9 7 7 7.9 7 9V17H9V9H11V16H13V9H15V17H17V9C17 7.9 16.11 7 15 7H9Z",RJe="M11 7C9.9 7 9 7.9 9 9V11C9 12.11 9.9 13 11 13H13V15H9V17H13C14.11 17 15 16.11 15 15V13C15 11.9 14.11 11 13 11H11V9H15V7H11Z",NJe="M5,4H19A2,2 0 0,1 21,6V18A2,2 0 0,1 19,20H5A2,2 0 0,1 3,18V6A2,2 0 0,1 5,4M5,8V12H11V8H5M13,8V12H19V8H13M5,14V18H11V14H5M13,14V18H19V14H13Z",LJe="M11,2A2,2 0 0,1 13,4V20A2,2 0 0,1 11,22H2V2H11M4,10V14H11V10H4M4,16V20H11V16H4M4,4V8H11V4H4M15,11H18V8H20V11H23V13H20V16H18V13H15V11Z",DJe="M13,2A2,2 0 0,0 11,4V20A2,2 0 0,0 13,22H22V2H13M20,10V14H13V10H20M20,16V20H13V16H20M20,4V8H13V4H20M9,11H6V8H4V11H1V13H4V16H6V13H9V11Z",VJe="M4,2H11A2,2 0 0,1 13,4V20A2,2 0 0,1 11,22H4A2,2 0 0,1 2,20V4A2,2 0 0,1 4,2M4,10V14H11V10H4M4,16V20H11V16H4M4,4V8H11V4H4M17.59,12L15,9.41L16.41,8L19,10.59L21.59,8L23,9.41L20.41,12L23,14.59L21.59,16L19,13.41L16.41,16L15,14.59L17.59,12Z",BJe="M5,10H3V4H11V6H5V10M19,18H13V20H21V14H19V18M5,18V14H3V20H11V18H5M21,4H13V6H19V10H21V4M8,13V15L11,12L8,9V11H3V13H8M16,11V9L13,12L16,15V13H21V11H16Z",zJe="M18,14H20V17H23V19H20V22H18V19H15V17H18V14M4,3H18A2,2 0 0,1 20,5V12.08C18.45,11.82 16.92,12.18 15.68,13H12V17H13.08C12.97,17.68 12.97,18.35 13.08,19H4A2,2 0 0,1 2,17V5A2,2 0 0,1 4,3M4,7V11H10V7H4M12,7V11H18V7H12M4,13V17H10V13H4Z",HJe="M15.46,15.88L16.88,14.46L19,16.59L21.12,14.46L22.54,15.88L20.41,18L22.54,20.12L21.12,21.54L19,19.41L16.88,21.54L15.46,20.12L17.59,18L15.46,15.88M4,3H18A2,2 0 0,1 20,5V12.08C18.45,11.82 16.92,12.18 15.68,13H12V17H13.08C12.97,17.68 12.97,18.35 13.08,19H4A2,2 0 0,1 2,17V5A2,2 0 0,1 4,3M4,7V11H10V7H4M12,7V11H18V7H12M4,13V17H10V13H4Z",FJe="M22,10A2,2 0 0,1 20,12H4A2,2 0 0,1 2,10V3H4V5H8V3H10V5H14V3H16V5H20V3H22V10M4,10H8V7H4V10M10,10H14V7H10V10M20,10V7H16V10H20M11,14H13V17H16V19H13V22H11V19H8V17H11V14Z",qJe="M22,14A2,2 0 0,0 20,12H4A2,2 0 0,0 2,14V21H4V19H8V21H10V19H14V21H16V19H20V21H22V14M4,14H8V17H4V14M10,14H14V17H10V14M20,14V17H16V14H20M11,10H13V7H16V5H13V2H11V5H8V7H11V10Z",UJe="M9.41,13L12,15.59L14.59,13L16,14.41L13.41,17L16,19.59L14.59,21L12,18.41L9.41,21L8,19.59L10.59,17L8,14.41L9.41,13M22,9A2,2 0 0,1 20,11H4A2,2 0 0,1 2,9V6A2,2 0 0,1 4,4H20A2,2 0 0,1 22,6V9M4,9H8V6H4V9M10,9H14V6H10V9M16,9H20V6H16V9Z",WJe="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z",KJe="M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z",JJe="M17,10.5V7A1,1 0 0,0 16,6H4A1,1 0 0,0 3,7V17A1,1 0 0,0 4,18H16A1,1 0 0,0 17,17V13.5L21,17.5V6.5L17,10.5M14,13H11V16H9V13H6V11H9V8H11V11H14V13Z",GJe="M12,20A6,6 0 0,1 6,14C6,10 12,3.25 12,3.25C12,3.25 18,10 18,14A6,6 0 0,1 12,20Z";const YJe={bold:XKe,italic:hJe,underline:SJe,strike:wJe,color:GJe,highlight:ZKe,heading:uJe,textAlign:oH,fontFamily:rJe,fontSize:bJe,subscript:xJe,superscript:kJe,bulletList:pJe,orderedList:gJe,taskList:mJe,indent:fJe,outdent:dJe,link:iH,fileImagePlus:KKe,image:AJe,imageLabel:MJe,video:JJe,table:NJe,blockquote:yJe,horizontalRule:OJe,code:UKe,codeBlock:qKe,clear:QKe,undo:KJe,redo:_Je,markdownTheme:EJe,fullscreen:CJe,h1:oJe,h2:iJe,h3:sJe,h4:aJe,h5:lJe,h6:cJe,p:vJe,left:GKe,center:oH,right:YKe,justify:JKe,circle:HKe,close:FKe,fullscreenExit:jJe,linkVariant:iH,linkVariantOff:TJe,openInNew:$Je,formatFloatLeft:eJe,formatFloatNone:tJe,formatFloatRight:nJe,sizeS:RJe,sizeM:IJe,sizeL:PJe,aspectRatio:BKe,delete:WKe,text:WJe,tablePlus:zJe,tableRemove:HJe,tableColumnPlusAfter:LJe,tableColumnPlusBefore:DJe,tableColumnRemove:VJe,tableRowPlusAfter:FJe,tableRowPlusBefore:qJe,tableRowRemove:UJe,tableMergeCells:BJe,check:zKe};function ki(t){if(t)return`svg:${YJe[t]}`}const Jne={editor:{type:Object,required:!0},icon:{type:String,default:void 0},rawIcon:{type:String,default:void 0},tooltip:{type:String,default:""},disabled:{type:Boolean,default:!1},color:{type:String,default:void 0},action:{type:Function,default:void 0},isActive:{type:Function,default:void 0},class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},pi={editor:{type:Object,required:!0},t:{type:Function,required:!0},isDisabled:{type:Function,default:void 0}},Gn=en({__name:"index",props:Jne,setup(t){const e=t,n=co("disableToolbar",Ye(!1));return(r,o)=>{var i;const s=lo,a=sfe,l=fl;return tt(),Rt(l,{density:"comfortable",size:"small",disabled:Ie(n)||r.disabled,color:r.color,icon:"",class:Tt(["rounded me-1 ms-0",[e.class,{"v-btn--active":(i=r.isActive)==null?void 0:i.call(r)}]]),onClick:r.action},{default:He(()=>[F(s,{icon:e.rawIcon||Ie(ki)(e.icon)},null,8,["icon"]),F(a,{eager:!1,activator:"parent",location:"top",text:e.tooltip},null,8,["text"]),Tc(r.$slots,"default")]),_:3},8,["disabled","color","class","onClick"])}}}),XJe=en({__name:"BlockquoteActionButton",props:pi,setup(t){const e=t,n=VKe({editor:e.editor,t:e.t,isDisabled:e.isDisabled});return(r,o)=>(tt(),Rt(Gn,Pt({editor:e.editor},{...Ie(n),tootip:Ie(n).title}),null,16,["editor"]))}}),QJe=en({__name:"BoldActionButton",props:pi,setup(t){return(e,n)=>(tt(),Rt(Gn,{editor:e.editor,action:()=>e.editor.chain().focus().toggleBold().run(),"is-active":()=>e.editor.isActive("bold")||!1,disabled:!e.editor.can().toggleBold(),tooltip:e.t("editor.bold.tooltip"),icon:"bold"},null,8,["editor","action","is-active","disabled","tooltip"]))}}),ZJe=en({__name:"BulletListActionButton",props:pi,setup(t){return(e,n)=>(tt(),Rt(Gn,{editor:e.editor,action:()=>e.editor.chain().focus().toggleBulletList().run(),"is-active":()=>e.editor.isActive("bulletList")||!1,disabled:!e.editor.can().toggleBulletList(),tooltip:e.t("editor.bulletlist.tooltip"),icon:"bulletList"},null,8,["editor","action","is-active","disabled","tooltip"]))}}),eGe=en({__name:"ClearActionButton",props:pi,setup(t){return(e,n)=>(tt(),Rt(Gn,{editor:e.editor,action:()=>e.editor.chain().focus().clearNodes().unsetAllMarks().run(),disabled:!e.editor.can().chain().focus().clearNodes().unsetAllMarks().run(),tooltip:e.t("editor.clear.tooltip"),icon:"clear"},null,8,["editor","action","disabled","tooltip"]))}}),tGe=en({__name:"CodeActionButton",props:pi,setup(t){return(e,n)=>(tt(),Rt(Gn,{editor:e.editor,action:()=>e.editor.chain().focus().toggleCode().run(),"is-active":()=>e.editor.isActive("code")||!1,disabled:!e.editor.can().toggleCode(),tooltip:e.t("editor.code.tooltip"),icon:"code"},null,8,["editor","action","is-active","disabled","tooltip"]))}}),nGe=t=>{var e;return{action:()=>t.editor.chain().focus().toggleCodeBlock().run(),isActive:()=>t.editor.isActive("codeBlock")||!1,disabled:((e=t.isDisabled)==null?void 0:e.call(t,t.editor))||!t.editor.can().toggleCodeBlock(),title:t.t("editor.codeblock.tooltip"),icon:"codeBlock"}},rGe=en({__name:"CodeBlockActionButton",props:pi,setup(t){const e=t,n=nGe(e);return(r,o)=>(tt(),Rt(Gn,Pt({editor:e.editor},{...Ie(n),tootip:Ie(n).title}),null,16,["editor"]))}}),Gne=en({__name:"ColorPicker",props:{modelValue:{default:""},nudgeLeft:{default:0},nudgeTop:{default:0},more:{type:Boolean,default:!0}},emits:["update:modelValue","change"],setup(t,{emit:e}){const n=t,r=e,o=Ye(""),i=Ye(!1);Bt(i,a=>{o.value=n.modelValue});function s(a){r("update:modelValue",a),r("change",a),o.value=a,i.value=!1}return(a,l)=>{const c=lo,u=fl,d=$c,f=Yq,h=Ej,m=nw;return tt(),Rt(m,{modelValue:i.value,"onUpdate:modelValue":l[2]||(l[2]=g=>i.value=g),"nudge-left":a.nudgeLeft||255,"nudge-top":a.nudgeTop||42,"close-on-content-click":!1,transition:"scale-transition",origin:a.nudgeLeft?"top left":"top right",activator:"parent"},{default:He(()=>[F(h,null,{default:He(()=>[F(f,{class:"d-flex flex-wrap justify-between ma-1",fluid:"","max-width":230},{default:He(()=>[(tt(!0),zr(Dt,null,ea(Ie(h9e),g=>(tt(),Rt(u,{key:g,flat:"",icon:"",density:"compact",onClick:v=>s(g)},{default:He(()=>[F(c,{icon:Ie(ki)("circle"),color:g},null,8,["icon","color"])]),_:2},1032,["onClick"]))),128)),F(d,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=g=>o.value=g),class:"mt-2 mx-1","append-inner-icon":Ie(ki)("check"),density:"compact",label:"HEX",variant:"outlined",flat:"","hide-details":"","single-line":"",clearable:"","onClick:appendInner":l[1]||(l[1]=g=>s(o.value))},W3({_:2},[o.value?{name:"prepend-inner",fn:He(()=>[F(c,{class:"opacity-100",icon:Ie(ki)("circle"),color:o.value},null,8,["icon","color"])]),key:"0"}:void 0]),1032,["modelValue","append-inner-icon"])]),_:1})]),_:1})]),_:1},8,["modelValue","nudge-left","nudge-top","origin"])}}}),oGe=en({__name:"ColorActionButton",props:pi,setup(t){const e=t,{state:n}=YR();function r(i){typeof i=="string"&&e.editor.chain().focus().setColor(i).run()}function o(){const{color:i}=e.editor.getAttributes("textStyle");return i&&e.editor.isActive({color:i})||!1}return Ai(()=>{const{color:i}=e.editor.getAttributes("textStyle");n.color=i}),(i,s)=>(tt(),Rt(Gn,{editor:i.editor,icon:"color",tooltip:i.t("editor.color.tooltip"),disabled:!i.editor.can().setColor(""),color:Ie(n).color,"is-active":o},{default:He(()=>[F(Gne,{modelValue:Ie(n).color,"onUpdate:modelValue":s[0]||(s[0]=a=>Ie(n).color=a),activator:"parent","nudge-top":-4,"nudge-left":8,onChange:r},null,8,["modelValue"])]),_:1},8,["editor","tooltip","disabled","color"]))}}),iGe=en({__name:"FullscreenActionButton",props:{...pi,useWindow:{type:Boolean,default:!1}},setup(t){const e=t,{t:n}=vf(),{state:r,toggleFullscreen:o}=YR(),{isFullscreen:i,enter:s,exit:a}=H7e();Bt(i,d=>{!d&&r.isFullscreen&&e.useWindow&&u()});const l=ue(()=>{const d=r.isFullscreen?"editor.fullscreen.tooltip.exit":"editor.fullscreen.tooltip.fullscreen";if(d)return Ie(n)(d)}),c=ue(()=>r.isFullscreen?"fullscreenExit":"fullscreen");function u(d=!1){o(),r.isFullscreen?(document.documentElement.classList.add("overflow-y-hidden"),d&&s()):(document.documentElement.classList.remove("overflow-y-hidden"),d&&a())}return(d,f)=>(tt(),Rt(Gn,{editor:d.editor,icon:c.value,tooltip:l.value,action:()=>u(t.useWindow)},null,8,["editor","icon","tooltip","action"]))}}),sGe=en({__name:"HighlightActionButton",props:pi,setup(t){const e=t,{state:n}=YR();function r(o){typeof o=="string"&&e.editor.chain().focus().setHighlight({color:o}).run()}return Ai(()=>{const{color:o}=e.editor.getAttributes("highlight");n.highlight=o}),(o,i)=>(tt(),Rt(Gn,{editor:o.editor,icon:"highlight",tooltip:o.t("editor.highlight.tooltip"),disabled:!o.editor.can().setHighlight(),color:Ie(n).highlight,"is-active":()=>o.editor.isActive("highlight")||!1},{default:He(()=>[F(Gne,{modelValue:Ie(n).highlight,"onUpdate:modelValue":i[0]||(i[0]=s=>Ie(n).highlight=s),activator:"parent","nudge-top":-4,"nudge-left":8,onChange:r},null,8,["modelValue"])]),_:1},8,["editor","tooltip","disabled","color","is-active"]))}}),aGe=en({__name:"HistoryActionButton",props:pi,setup(t){const e=t,n=["undo","redo"];function r(o){o==="redo"&&e.editor.chain().focus().redo().run(),o==="undo"&&e.editor.chain().focus().undo().run()}return(o,i)=>(tt(),zr(Dt,null,ea(n,s=>F(Gn,{key:s,editor:o.editor,action:()=>r(s),"is-active":()=>!1,disabled:!o.editor.can()[s](),tooltip:o.t(`editor.${s}.tooltip`),icon:s},null,8,["editor","action","disabled","tooltip","icon"])),64))}}),lGe=en({__name:"HorizontalRuleActionButton",props:pi,setup(t){return(e,n)=>(tt(),Rt(Gn,{editor:e.editor,action:()=>e.editor.chain().focus().setHorizontalRule().run(),"is-active":()=>e.editor.isActive("horizontalRule")||!1,disabled:!e.editor.can().setHorizontalRule(),tooltip:e.t("editor.horizontalrule.tooltip"),icon:"horizontalRule"},null,8,["editor","action","is-active","disabled","tooltip"]))}}),lN=en({__name:"OriginalThemeProvider",setup(t){const{global:{name:e}}=fy();return(n,r)=>{const o=T4;return tt(),Rt(o,{theme:Ie(e)},{default:He(()=>[Tc(n.$slots,"default")]),_:3},8,["theme"])}}}),cGe=en({__name:"ImageActionButton",props:{...pi,upload:{type:Function,default:void 0},imageTabs:{type:Array,default:()=>[]},hiddenTabs:{type:Array,default:()=>[]}},setup(t){const e=t,n=Ye({});function r(){var o,i;const s=(o=e.editor)==null?void 0:o.view.state.selection,a=((i=s==null?void 0:s.node)==null?void 0:i.attrs)??{};a!=null&&a.src&&(n.value.src=a.src),a!=null&&a.alt&&(n.value.alt=a.alt),a!=null&&a.title&&(n.value.title=a.title),a!=null&&a.width&&(n.value.width=a.width),a!=null&&a.height&&(n.value.height=a.height),a!=null&&a.display&&(n.value.display=a.display),a!=null&&a.label&&(n.value.label=a.label),a!=null&&a.labelDisabled&&(n.value.labelDisabled=a.labelDisabled),n.value.lockAspectRatio=a.lockAspectRatio??!0}return(o,i)=>(tt(),Rt(Gn,{editor:o.editor,action:r,"is-active":()=>o.editor.isActive("image")||!1,disabled:!o.editor.can().setImage({}),tooltip:o.t("editor.image.tooltip"),icon:"image"},{default:He(()=>[F(lN,null,{default:He(()=>[Tc(o.$slots,"dialog",{props:{editor:o.editor,value:n.value,imageTabs:t.imageTabs,hiddenTabs:t.hiddenTabs,upload:t.upload}})]),_:3})]),_:3},8,["editor","is-active","disabled","tooltip"]))}}),uGe=en({__name:"IndentActionButton",props:pi,setup(t){const e=t,n=["outdent","indent"],r={indent:"sinkListItem",outdent:"liftListItem"};function o(i){i==="indent"&&e.editor.chain().focus().sinkListItem("listItem").run(),i==="outdent"&&e.editor.chain().focus().liftListItem("listItem").run()}return(i,s)=>(tt(),zr(Dt,null,ea(n,a=>F(Gn,{key:a,editor:i.editor,action:()=>o(a),"is-active":()=>!1,disabled:!i.editor.can()[r[a]]("listItem"),tooltip:i.t(`editor.${a}.tooltip`),icon:a},null,8,["editor","action","disabled","tooltip","icon"])),64))}}),dGe=en({__name:"ItalicActionButton",props:pi,setup(t){return(e,n)=>(tt(),Rt(Gn,{editor:e.editor,action:()=>e.editor.chain().focus().toggleItalic().run(),"is-active":()=>e.editor.isActive("italic")||!1,disabled:!e.editor.can().toggleItalic(),tooltip:e.t("editor.italic.tooltip"),icon:"italic"},null,8,["editor","action","is-active","disabled","tooltip"]))}}),fGe=en({__name:"LinkActionButton",props:pi,setup(t){const e=t,n=Ye({href:void 0,target:void 0});function r(){const{href:o,target:i}=e.editor.getAttributes("link");n.value={href:o,target:i}}return(o,i)=>(tt(),Rt(Gn,{editor:o.editor,icon:"link",tooltip:o.t("editor.link.tooltip"),disabled:!o.editor.can().setLink({href:""}),"is-active":()=>o.editor.isActive("link")||!1,action:r},{default:He(()=>[F(lN,null,{default:He(()=>[Tc(o.$slots,"dialog",{props:{editor:o.editor,value:n.value.href,...n.value}})]),_:3})]),_:3},8,["editor","tooltip","disabled","is-active"]))}}),hGe=en({__name:"OrderedListActionButton",props:pi,setup(t){return(e,n)=>(tt(),Rt(Gn,{editor:e.editor,action:()=>e.editor.chain().focus().toggleOrderedList().run(),"is-active":()=>e.editor.isActive("orderedList")||!1,disabled:!e.editor.can().toggleOrderedList(),tooltip:e.t("editor.orderedlist.tooltip"),icon:"orderedList"},null,8,["editor","action","is-active","disabled","tooltip"]))}}),pGe=en({__name:"StrikeActionButton",props:pi,setup(t){return(e,n)=>(tt(),Rt(Gn,{editor:e.editor,action:()=>e.editor.chain().focus().toggleStrike().run(),"is-active":()=>e.editor.isActive("strike")||!1,disabled:!e.editor.can().toggleStrike(),tooltip:e.t("editor.strike.tooltip"),icon:"strike"},null,8,["editor","action","is-active","disabled","tooltip"]))}}),mGe=en({__name:"SubscriptActionButton",props:{...pi,extension:{type:Object,required:!0}},setup(t){const e=t,n=ue(()=>{const i=[],s=e.extension.options.subscript,a=e.extension.options.superscript;return s!==!1&&i.push("subscript"),a!==!1&&i.push("superscript"),i}),r={subscript:"toggleSubscript",superscript:"toggleSuperscript"};function o(i){i==="subscript"&&e.editor.chain().focus().toggleSubscript().run(),i==="superscript"&&e.editor.chain().focus().toggleSuperscript().run()}return(i,s)=>(tt(!0),zr(Dt,null,ea(n.value,a=>(tt(),Rt(Gn,{key:a,editor:i.editor,action:()=>o(a),"is-active":()=>i.editor.isActive(a)||!1,disabled:!i.editor.can()[r[a]](),tooltip:i.t(`editor.${a}.tooltip`),icon:a},null,8,["editor","action","is-active","disabled","tooltip","icon"]))),128))}}),gGe=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,vGe=/CrOS/,yGe=/android|ipad|playbook|silk/i;function sH(t={}){let e=t.ua||typeof navigator<"u"&&navigator.userAgent;return e&&typeof e=="object"&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),typeof e!="string"?!1:!!(gGe.test(e)&&!vGe.test(e)||t.tablet&&yGe.test(e)||t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&e.includes("Macintosh")&&e.includes("Safari"))}const bGe=["onMouseover","onMousedown"],wGe=en({__name:"CreateTablePopover",emits:["create-table"],setup(t,{emit:e}){const n=e,{t:r}=vf(),o=Ye(!1),i=Ye(!0),s=ji({rows:sH()?ck:lk,cols:sH()?ck:lk}),a=ji({rows:uk,cols:uk});function l(f,h){const m={boxSizing:"border-box",width:"16px",height:"16px",padding:"4px",border:"1px solid #dcdfe6",borderRadius:"2px"};return h<=a.cols&&f<=a.rows&&(m.backgroundColor="#ecf5ff",m.borderColor="var(--vp-theme-primary)"),m}function c(f,h){f===s.rows&&(s.rows=Math.min(f+1,ck)),h===s.cols&&(s.cols=Math.min(h+1,ck)),a.rows=f,a.cols=h}function u(f,h){n("create-table",{rows:f,cols:h,withHeaderRow:Ie(i)}),d()}function d(){o.value=!1,i.value=!0,s.rows=lk,s.cols=lk,a.rows=uk,a.cols=uk}return(f,h)=>{const m=v4,g=cf,v=Uq,y=Fu,b=nw;return tt(),Rt(b,{modelValue:o.value,"onUpdate:modelValue":h[1]||(h[1]=x=>o.value=x),location:"end bottom","open-on-click":"","open-on-hover":"","close-on-content-click":!1,activator:"parent"},{default:He(()=>[F(y,{density:"compact"},{default:He(()=>[F(g,{class:"pa-2 pb-0"},{default:He(()=>[F(m,{modelValue:i.value,"onUpdate:modelValue":h[0]||(h[0]=x=>i.value=x),density:"compact","hide-details":"",label:Ie(r)("editor.table.menu.insert_table.with_header_row")},null,8,["modelValue","label"])]),_:1}),F(g,{class:"d-flex flex-column flex-wrap justify-space-between pa-2"},{default:He(()=>[(tt(!0),zr(Dt,null,ea(s.rows,x=>(tt(),zr("div",{key:"r"+x,class:"d-flex"},[(tt(!0),zr(Dt,null,ea(s.cols,k=>(tt(),zr("div",{key:"c"+k,class:"pa-1",onMouseover:w=>c(x,k),onMousedown:w=>u(x,k)},[Oe("div",{style:Qt(l(x,k))},null,4)],40,bGe))),128))]))),128))]),_:1}),F(v,{class:"pt-0 pb-2"},{default:He(()=>[dr(Kr(a.rows)+" x "+Kr(a.cols),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),xGe=en({__name:"TableMenu",props:{editor:{},activator:{default:void 0}},setup(t){const e=t,{t:n}=vf(),r=Ye(!1),o=ue(()=>[{type:"item",key:"insert-table",title:Ie(n)("editor.table.menu.insert_table"),icon:ki("tablePlus"),disabled:!e.editor.can().insertTable()||!1},{type:"divider"},{type:"item",key:"add-column-before",title:Ie(n)("editor.table.menu.add_column_before"),icon:ki("tableColumnPlusBefore"),disabled:!e.editor.can().addColumnBefore()||!1},{type:"item",key:"add-column-after",title:Ie(n)("editor.table.menu.add_column_after"),icon:ki("tableColumnPlusAfter"),disabled:!e.editor.can().addColumnAfter()||!1},{type:"item",key:"delete-column",title:Ie(n)("editor.table.menu.delete_column"),icon:ki("tableColumnRemove"),disabled:!e.editor.can().deleteColumn()||!1},{type:"divider"},{type:"item",key:"add-row-before",title:Ie(n)("editor.table.menu.add_row_before"),icon:ki("tableRowPlusBefore"),disabled:!e.editor.can().addRowBefore()||!1},{type:"item",key:"add-row-after",title:Ie(n)("editor.table.menu.add_row_after"),icon:ki("tableRowPlusAfter"),disabled:!e.editor.can().addRowAfter()||!1},{type:"item",key:"delete-row",title:Ie(n)("editor.table.menu.delete_row"),icon:ki("tableRowRemove"),disabled:!e.editor.can().deleteRow()||!1},{type:"divider"},{type:"item",key:"merge-or-split-cells",title:Ie(n)("editor.table.menu.merge_or_split_cells"),icon:ki("tableMergeCells"),disabled:!e.editor.can().mergeOrSplit()||!1},{type:"divider"},{type:"item",key:"delete-table",title:Ie(n)("editor.table.menu.delete_table"),icon:ki("tableRemove"),disabled:!e.editor.can().deleteTable()||!1}]);function i(a,l){var c;if(!a)return;const{editor:u}=e,d={"insert-table":()=>u.chain().focus().insertTable({...l}).run(),"add-column-before":()=>u.chain().focus().addColumnBefore().run(),"add-column-after":()=>u.chain().focus().addColumnAfter().run(),"delete-column":()=>u.chain().focus().deleteColumn().run(),"add-row-before":()=>u.chain().focus().addRowBefore().run(),"add-row-after":()=>u.chain().focus().addRowAfter().run(),"delete-row":()=>u.chain().focus().deleteRow().run(),"merge-or-split-cells":()=>u.chain().focus().mergeOrSplit().run(),"delete-table":()=>u.chain().focus().deleteTable().run()};(c=d[a])==null||c.call(d)}function s(a){i("insert-table",a),r.value=!1}return(a,l)=>{const c=lo,u=x4,d=Tv,f=Fh,h=Ej,m=nw;return tt(),Rt(m,{modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=g=>r.value=g),activator:"parent"},{default:He(()=>[F(h,{density:"compact"},{default:He(()=>[(tt(!0),zr(Dt,null,ea(o.value,(g,v)=>(tt(),zr(Dt,null,[g.key==="insert-table"?(tt(),Rt(d,{key:v,disabled:g.disabled},{prepend:He(()=>[F(c,{icon:g.icon},null,8,["icon"])]),default:He(()=>[F(u,null,{default:He(()=>[dr(Kr(g.title),1)]),_:2},1024),g.key==="insert-table"?(tt(),Rt(wGe,{key:v,onCreateTable:s})):Ia("",!0)]),_:2},1032,["disabled"])):g.type==="item"?(tt(),Rt(d,{key:"item-"+v,disabled:g.disabled,onClick:y=>i(g.key)},{prepend:He(()=>[F(c,{icon:g.icon},null,8,["icon"])]),default:He(()=>[F(u,null,{default:He(()=>[dr(Kr(g.title),1)]),_:2},1024)]),_:2},1032,["disabled","onClick"])):(tt(),Rt(f,{key:"divider-"+v}))],64))),256))]),_:1})]),_:1},8,["modelValue"])}}}),kGe=en({__name:"TableActionButton",props:pi,setup(t){return(e,n)=>(tt(),Rt(Gn,{editor:e.editor,"is-active":()=>e.editor.isActive("table")||!1,disabled:!e.editor.can().insertTable(),tooltip:e.t("editor.table.tooltip"),icon:"table"},{default:He(()=>[F(xGe,{editor:e.editor,activator:"parent"},null,8,["editor"])]),_:1},8,["editor","is-active","disabled","tooltip"]))}}),SGe=en({__name:"TaskListActionButton",props:pi,setup(t){return(e,n)=>(tt(),Rt(Gn,{editor:e.editor,action:()=>e.editor.chain().focus().toggleTaskList().run(),"is-active":()=>e.editor.isActive("taskList")||!1,disabled:!e.editor.can().toggleTaskList(),tooltip:e.t("editor.tasklist.tooltip"),icon:"taskList"},null,8,["editor","action","is-active","disabled","tooltip"]))}}),CGe=en({__name:"UnderlineActionButton",props:pi,setup(t){return(e,n)=>(tt(),Rt(Gn,{editor:e.editor,action:()=>e.editor.chain().focus().toggleUnderline().run(),"is-active":()=>e.editor.isActive("underline")||!1,disabled:!e.editor.can().toggleUnderline(),tooltip:e.t("editor.underline.tooltip"),icon:"underline"},null,8,["editor","action","is-active","disabled","tooltip"]))}}),jGe=en({__name:"VideoActionButton",props:pi,setup(t){const e=t,n=Ye(void 0);function r(){const{src:o}=e.editor.getAttributes("video");n.value=o}return(o,i)=>(tt(),Rt(Gn,{editor:o.editor,action:r,"is-active":()=>o.editor.isActive("video")||!1,disabled:!o.editor.can().setVideo({}),tooltip:o.t("editor.video.tooltip"),icon:"video"},{default:He(()=>[F(lN,null,{default:He(()=>[Tc(o.$slots,"dialog",{props:{editor:o.editor,value:n.value}})]),_:3})]),_:3},8,["editor","is-active","disabled","tooltip"]))}}),AGe=t=>{const e=["float-left","float-none","float-right"],n=["formatFloatLeft","formatFloatNone","formatFloatRight"],r=["left","inline","right"];return e.map((o,i)=>({type:o,component:Gn,componentProps:{tooltip:`editor.image.${o.replace("-",".")}.tooltip`,icon:n[i],action:()=>t.chain().focus().updateImage({display:r[i]}).run(),isActive:()=>t.isActive("image",{display:r[i]})}}))},MGe=t=>{const e=["size-small","size-medium","size-large"],n=["sizeS","sizeM","sizeL"];return e.map((r,o)=>({type:`image-${r}`,component:Gn,componentProps:{tooltip:`editor.${r.replace("-",".")}.tooltip`,icon:n[o],action:()=>t.chain().focus().updateImage({width:gC[r],height:null}).run(),isActive:()=>t.isActive("image",{width:gC[r]})}}))},TGe=t=>[...AGe(t),...MGe(t),{type:"image-aspect-ratio",component:Gn,componentProps:{tooltip:"editor.image.dialog.form.aspectRatio",icon:"aspectRatio",action:()=>{const e=t.isActive("image",{lockAspectRatio:!0});t.chain().focus().updateImage({lockAspectRatio:!e,height:e?void 0:null}).run()},isActive:()=>t.isActive("image",{lockAspectRatio:!0})}},{type:"image-label",component:Gn,componentProps:{tooltip:"editor.image.dialog.form.label",icon:"imageLabel",action:()=>{const e=t.isActive("image",{labelDisabled:!0});t.chain().focus().updateImage({labelDisabled:!e}).run()},isActive:()=>!t.isActive("image",{labelDisabled:!0})}}],OGe=t=>{const e=["size-small","size-medium","size-large"],n=["sizeS","sizeM","sizeL"];return e.map((r,o)=>({type:`video-${r}`,component:Gn,componentProps:{tooltip:`editor.${r.replace("-",".")}.tooltip`,icon:n[o],action:()=>t.chain().focus().updateVideo({width:vC[r]}).run(),isActive:()=>t.isActive("video",{width:vC[r]})}}))},$Ge=t=>[{type:"table-add-column-before",component:Gn,componentProps:{tooltip:"editor.table.menu.add_column_before",icon:"tableColumnPlusBefore",action:()=>t.chain().focus().addColumnBefore().run(),disabled:!t.can().addColumnBefore()}},{type:"table-add-column-after",component:Gn,componentProps:{tooltip:"editor.table.menu.add_column_after",icon:"tableColumnPlusAfter",action:()=>t.chain().focus().addColumnAfter().run(),disabled:!t.can().addColumnAfter()}},{type:"table-delete-column",component:Gn,componentProps:{tooltip:"editor.table.menu.delete_column",icon:"tableColumnRemove",action:()=>t.chain().focus().deleteColumn().run(),disabled:!t.can().deleteColumn()}},{type:"table-add-row-before",component:Gn,componentProps:{tooltip:"editor.table.menu.add_row_before",icon:"tableRowPlusBefore",action:()=>t.chain().focus().addRowBefore().run(),disabled:!t.can().addRowBefore()}},{type:"table-add-row-after",component:Gn,componentProps:{tooltip:"editor.table.menu.add_row_after",icon:"tableRowPlusAfter",action:()=>t.chain().focus().addRowAfter().run(),disabled:!t.can().addRowAfter()}},{type:"table-delete-row",component:Gn,componentProps:{tooltip:"editor.table.menu.delete_row",icon:"tableRowRemove",action:()=>t.chain().focus().deleteRow().run(),disabled:!t.can().deleteRow()}},{type:"table-merge-or-split-cells",component:Gn,componentProps:{tooltip:"editor.table.menu.merge_or_split_cells",icon:"tableMergeCells",action:()=>t.chain().focus().mergeOrSplit().run(),disabled:!t.can().mergeOrSplit()}},{type:"table-delete-table",component:Gn,componentProps:{tooltip:"editor.table.menu.delete_table",icon:"tableRemove",action:()=>t.chain().focus().deleteTable().run(),disabled:!t.can().deleteTable()}}],Yne=t=>[...TGe(t),...OGe(t),...$Ge(t),{type:"unlink",component:Gn,componentProps:{tooltip:"editor.link.unlink.tooltip",icon:"linkVariantOff",action:()=>{const{href:e}=t.getAttributes("link");t.chain().extendMarkRange("link",{href:e}).unsetLink().focus().run()}}},{type:"link-open",component:Gn,componentProps:{tooltip:"editor.link.open",icon:"openInNew",action:()=>{const{href:e}=t.getAttributes("link");u0(e)&&e&&window.open(e,"_blank")}}},{type:"remove",component:Gn,componentProps:{tooltip:"editor.remove",icon:"delete",action:()=>{const{state:e,dispatch:n}=t.view;RA(e,n)}}}],EGe=(t,e,{editor:n,extension:r,t:o})=>{const{extensions:i=[]}=n.extensionManager,s={};for(const a of Object.keys(t)){const l=t[a];if(!l)continue;const c=[];for(const f of l){if(f==="divider"){const g=c[c.length-1];if((g==null?void 0:g.type)==="divider")continue;c.push({type:"divider",component:void 0,componentProps:{}});continue}const h=e.find(g=>g.type===f);if(h){c.push({...h,componentProps:{...h.componentProps,tooltip:h.componentProps.tooltip?o(h.componentProps.tooltip):void 0},componentSlots:h.componentSlots});continue}const m=i.find(g=>g.name===f);if(m){const{button:g}=m.options,v=g({editor:n,extension:m,t:o});c.push({type:f,component:v.component,componentProps:v.componentProps,componentSlots:v.componentSlots});continue}}const u=c[c.length-1],d=c[0];(u==null?void 0:u.type)==="divider"&&c.pop(),(d==null?void 0:d.type)==="divider"&&c.shift(),s[a]=c}return s},Xne=kr.create({name:"base-kit",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),bubble:{list:g9e,defaultBubbleList:Yne,button:({editor:e,extension:n,t:r})=>{var o;const{list:i={},defaultBubbleList:s}=((o=n.options)==null?void 0:o.bubble)??{},a=(s==null?void 0:s(e))??[];return EGe(i,a,{editor:e,extension:n,t:r})}}}},addExtensions(){const t=[];return this.options.placeholder!==!1&&t.push(LKe.configure({placeholder:"",...this.options.placeholder})),this.options.focus!==!1&&t.push(RKe.configure({className:"focus",...this.options.focus})),this.options.document!==!1&&t.push(ZWe.configure()),this.options.text!==!1&&t.push(uKe.configure()),this.options.gapcursor!==!1&&t.push(NKe.configure()),this.options.dropcursor!==!1&&t.push(IKe.configure(this.options.dropcursor)),this.options.characterCount!==!1&&t.push(PKe.configure(this.options.characterCount)),this.options.paragraph!==!1&&t.push(cKe.configure(this.options.paragraph)),this.options.hardBreak!==!1&&t.push(eKe.configure(this.options.hardBreak)),this.options.listItem!==!1&&t.push(_ne.configure(this.options.listItem)),this.options.textStyle!==!1&&t.push(zne.configure(this.options.textStyle)),t}}),_Ge={...j7e(Jne,["action","isActive"]),maxHeight:{type:[String,Number],default:void 0},items:{type:Array,default:()=>[]}},Py=()=>({...pi,extension:{type:Object,required:!0}});({...Py()});const zw=en({__name:"index",props:jie({..._Ge,showMenu:{type:Boolean,default:!1}},{showMenu:{type:Boolean},showMenuModifiers:{}}),emits:["update:showMenu"],setup(t){const e=t,n=Jie(t,"showMenu"),r=ue(()=>{const i=e.items.find(s=>s.isActive());return i&&!i.default?{...i,rawIcon:i.rawIcon,icon:i.icon?i.icon:e.icon}:{title:e.tooltip,icon:e.icon,isActive:()=>!1}}),o=ue(()=>({active:r,items:e.items}));return(i,s)=>{const a=lo,l=x4,c=Tv,u=Fh,d=Ej,f=nw;return tt(),zr(Dt,null,[F(Ie(Gn),{class:Tt(e.class),style:Qt(e.style),editor:i.editor,icon:r.value.icon,"raw-icon":r.value.rawIcon,tooltip:r.value.title,disabled:i.disabled,color:i.color,"is-active":r.value.isActive},{default:He(()=>[F(f,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=h=>n.value=h),activator:"parent"},{default:He(()=>[F(d,{density:"compact","max-height":i.maxHeight},{default:He(()=>[(tt(!0),zr(Dt,null,ea(i.items,(h,m)=>(tt(),zr(Dt,{key:m},[F(c,{active:h.isActive(),disabled:h.disabled,onClick:h.action},{prepend:He(()=>[h.rawIcon||h.icon?(tt(),Rt(a,{key:0,icon:h.rawIcon?h.rawIcon:Ie(ki)(h.icon)},null,8,["icon"])):Ia("",!0)]),default:He(()=>[F(l,{style:Qt(h.style)},{default:He(()=>[dr(Kr(h.title),1)]),_:2},1032,["style"])]),_:2},1032,["active","disabled","onClick"]),h.divider?(tt(),Rt(u,{key:0})):Ia("",!0)],64))),128))]),_:1},8,["max-height"])]),_:1},8,["modelValue"]),Tc(i.$slots,"btn-append",SS(j0(o.value)))]),_:3},8,["class","style","editor","icon","raw-icon","tooltip","disabled","color","is-active"]),Tc(i.$slots,"append",SS(j0(o.value)))],64)}}}),PGe=en({__name:"FontFamilyActionMenuButton",props:Py(),setup(t){const e=t,n=ue(()=>{var r;return(((r=e.extension.options)==null?void 0:r.fontFamilies)||[]).map(o=>({title:e.t(o.title),isActive:()=>{const{fontFamily:i}=e.editor.getAttributes("textStyle");return o.value===X_&&i===void 0?!0:e.editor.isActive({fontFamily:o.value})||!1},action:()=>{if(o.value===X_){e.editor.chain().focus().unsetFontFamily().run();return}e.editor.chain().focus().setFontFamily(o.value).run()},style:{fontFamily:o.value},divider:o.divider??!1,default:o.default??!1}))});return(r,o)=>(tt(),Rt(zw,{editor:r.editor,items:n.value,"max-height":280,disabled:!e.editor.can().setFontFamily(""),tooltip:r.t("editor.fontFamily.tooltip"),icon:"fontFamily"},null,8,["editor","items","disabled","tooltip"]))}}),IGe=en({__name:"FontSizeActionMenuButton",props:Py(),setup(t){const e=t,n=ue(()=>{var r;const o=((r=e.extension.options)==null?void 0:r.fontSizes)||[];return[wg,...o].map(i=>({title:i===wg?e.t("editor.default"):String(i),isActive:()=>{const{fontSize:s}=e.editor.getAttributes("textStyle");return i===wg&&s===void 0?!0:e.editor.isActive({fontSize:String(i)})||!1},action:()=>{if(i===wg){e.editor.chain().focus().unsetFontSize().run();return}e.editor.chain().focus().setFontSize(String(i)).run()},divider:i===wg,default:i===wg}))});return(r,o)=>(tt(),Rt(zw,{editor:r.editor,items:n.value,"max-height":280,disabled:!e.editor.can().setFontSize(""),tooltip:r.t("editor.fontSize.tooltip"),icon:"fontSize"},null,8,["editor","items","disabled","tooltip"]))}}),RGe=en({__name:"HeadingActionMenuButton",props:Py(),setup(t){const e=t,n=ue(()=>{var r;const{extensions:o=[]}=e.editor.extensionManager??[],i=((r=e.extension.options)==null?void 0:r.levels)||[],s=o.find(l=>l.name==="base-kit"),a=i.map(l=>({action:()=>e.editor.chain().focus().toggleHeading({level:l}).run(),isActive:()=>e.editor.isActive("heading",{level:l})||!1,disabled:!e.editor.can().toggleHeading({level:l}),icon:`h${l}`,title:e.t(`editor.heading.h${l}.tooltip`)}));return s&&s.options.paragraph!==!1&&a.unshift({action:()=>e.editor.chain().focus().setParagraph().run(),isActive:()=>e.editor.isActive("paragraph")||!1,disabled:!e.editor.can().setParagraph(),icon:"p",title:e.t("editor.paragraph.tooltip"),divider:!0}),a});return(r,o)=>(tt(),Rt(zw,{editor:r.editor,items:n.value,"max-height":280,disabled:n.value.filter(i=>i.disabled).length===n.value.length,tooltip:r.t("editor.heading.tooltip"),icon:"heading"},null,8,["editor","items","disabled","tooltip"]))}}),NGe=en({__name:"MarkdownThemeActionMenuButton",props:Py(),setup(t){const e=t,{state:n}=UA(),r=ue(()=>[...nte,...e.extension.options.markdownThemes].map(o=>({title:e.t(o.title),isActive:()=>n.defaultMarkdownTheme===o.value,action:()=>{n.defaultMarkdownTheme=o.value},divider:o.divider??!1,default:o.default??!1})));return(o,i)=>(tt(),Rt(zw,{editor:o.editor,items:r.value,"max-height":280,disabled:!1,tooltip:o.t("editor.markdownTheme.tooltip"),icon:"markdownTheme"},null,8,["editor","items","tooltip"]))}}),LGe=en({__name:"TextAlignActionMenuButton",props:Py(),setup(t){const e=t,n=ue(()=>{var r;return(((r=e.extension.options)==null?void 0:r.alignments)||[]).map(o=>({title:e.t(`editor.textalign.${o}.tooltip`),icon:o,isActive:()=>e.editor.isActive({textAlign:o})||!1,action:()=>e.editor.chain().focus().setTextAlign(o).run(),disabled:!e.editor.can().setTextAlign(o)}))});return(r,o)=>(tt(),Rt(zw,{editor:r.editor,items:n.value,"max-height":280,disabled:n.value.filter(i=>i.disabled).length===n.value.length,tooltip:r.t("editor.textalign.tooltip"),icon:"center"},null,8,["editor","items","disabled","tooltip"]))}});var AC=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},DGe=/^\s*>\s$/,VGe=Xi.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return AC("blockquote",{...Gr(this.options.HTMLAttributes,t),children:AC("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ry({find:DGe,type:this.type})]}});const BGe=VGe.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),HTMLAttributes:{class:"blockquote"},button:({editor:e,t:n})=>({component:XJe,componentProps:{editor:e,t:n}})}}});var zGe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,HGe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,FGe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,qGe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,UGe=Wc.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return AC("strong",{...Gr(this.options.HTMLAttributes,t),children:AC("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[_m({find:zGe,type:this.type}),_m({find:FGe,type:this.type})]},addPasteRules(){return[Lh({find:HGe,type:this.type}),Lh({find:qGe,type:this.type})]}});const WGe=UGe.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:QJe,componentProps:{editor:e,t:n}})}}}),KGe=Ene.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:ZJe,componentProps:{editor:e,t:n}})}}}),JGe=Xi.create({name:"clear",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:eGe,componentProps:{editor:e,t:n}})}}});var GGe=/(^|[^`])`([^`]+)`(?!`)$/,YGe=/(^|[^`])`([^`]+)`(?!`)/g,XGe=Wc.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[_m({find:GGe,type:this.type})]},addPasteRules(){return[Lh({find:YGe,type:this.type})]}});const QGe=XGe.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:tGe,componentProps:{editor:e,t:n}})}}});var ZGe=/^```([a-z]+)?[\s\n]$/,eYe=/^~~~([a-z]+)?[\s\n]$/,tYe=Xi.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;return[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0]||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Gr(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{if(!this.options.enableTabIndentation)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:o}=n;if(r.parent.type!==this.type)return!1;const i=" ".repeat(this.options.tabSize);return o?t.commands.insertContent(i):t.commands.command(({tr:s})=>{const{from:a,to:l}=n,c=e.doc.textBetween(a,l,`
`,`
`).split(`
`).map(u=>i+u).join(`
`);return s.replaceWith(a,l,e.schema.text(c)),!0})},"Shift-Tab":({editor:t})=>{if(!this.options.enableTabIndentation)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:o}=n;return r.parent.type!==this.type?!1:o?t.commands.command(({tr:i})=>{var s;const{pos:a}=r,l=r.start(),c=r.end(),u=e.doc.textBetween(l,c,`
`,`
`).split(`
`);let d=0,f=0;const h=a-l;for(let y=0;y<u.length;y+=1){if(f+u[y].length>=h){d=y;break}f+=u[y].length+1}const m=((s=u[d].match(/^ */))==null?void 0:s[0])||"",g=Math.min(m.length,this.options.tabSize);if(g===0)return!0;let v=l;for(let y=0;y<d;y+=1)v+=u[y].length+1;return i.delete(v,v+g),a-v<=g&&i.setSelection(Zt.create(i.doc,v)),!0}):t.commands.command(({tr:i})=>{const{from:s,to:a}=n,l=e.doc.textBetween(s,a,`
`,`
`).split(`
`).map(c=>{var u;const d=((u=c.match(/^ */))==null?void 0:u[0])||"",f=Math.min(d.length,this.options.tabSize);return c.slice(f)}).join(`
`);return i.replaceWith(s,a,e.schema.text(l)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!i||!s?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:o,empty:i}=n;if(!i||o.parent.type!==this.type||o.parentOffset!==o.parent.nodeSize-2)return!1;const s=o.after();return s===void 0?!1:r.nodeAt(s)?t.commands.command(({tr:a})=>(a.setSelection(xn.near(r.resolve(s))),!0)):t.commands.exitCode()}}},addInputRules(){return[J_({find:ZGe,type:this.type,getAttributes:t=>({language:t[1]})}),J_({find:eYe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new ko({key:new hi("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,i=o==null?void 0:o.mode;if(!n||!i)return!1;const{tr:s,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:i},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(Zt.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}});const nYe=tYe.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:rGe,componentProps:{editor:e,t:n}})}}}),rYe=Hne.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:oGe,componentProps:{editor:e,t:n}})}}}),oYe=Fne.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),fontFamilies:p9e,button:({editor:e,extension:n,t:r})=>({component:PGe,componentProps:{editor:e,extension:n,t:r}})}}}),iYe=kr.create({name:"fontSize",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),types:["textStyle"],fontSizes:[...m9e],button:({editor:e,extension:n,t:r})=>({component:IGe,componentProps:{editor:e,extension:n,t:r}})}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>{const e=(t.style.fontSize||"").match(/^(\d+(\.\d+)?)(px|em|rem|%)?$/);return e?e[0]:""},renderHTML:t=>t.fontSize?{style:`font-size: ${d0(t.fontSize)}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),sYe=kr.create({name:"fullscreen",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),useWindow:!1,button:({editor:e,extension:n,t:r})=>({component:iGe,componentProps:{editor:e,t:r,useWindow:n.options.useWindow??!1}})}}});var aYe=Xi.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Gr(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>J_({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});const Qne=aYe.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),levels:[1,2,3,4,5,6],button:({editor:e,extension:n,t:r})=>({component:RGe,componentProps:{editor:e,extension:n,t:r}})}}});var lYe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,cYe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,uYe=Wc.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[_m({find:lYe,type:this.type})]},addPasteRules(){return[Lh({find:cYe,type:this.type})]}});const dYe=uYe.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),multicolor:!0,button:({editor:e,t:n})=>({component:sGe,componentProps:{editor:e,t:n}})}}}),fYe=DKe.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),depth:10,button:({editor:e,t:n})=>({component:aGe,componentProps:{editor:e,t:n}})}}});var hYe=Xi.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Gr(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!e9e(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,o=t();return Ree(n)?o.insertContentAt(r.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:i,dispatch:s})=>{var a;if(s){const{$to:l}=i.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?i.setSelection(Zt.create(i.doc,l.pos+1)):l.nodeAfter.isBlock?i.setSelection(Gt.create(i.doc,l.pos)):i.setSelection(Zt.create(i.doc,l.pos));else{const u=(a=l.parent.type.contentMatch.defaultType)==null?void 0:a.create();u&&(i.insert(c,u),i.setSelection(Zt.create(i.doc,c+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[ete({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}});const pYe=hYe.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:lGe,componentProps:{editor:e,t:n}})}}});var mYe=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,gYe=Xi.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Gr(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[ete({find:mYe,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}});const Zne=en({__name:"ImageProperties",props:{modelValue:{default:()=>({})},t:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=e,o=ue({get:()=>n.modelValue,set:i=>r("update:modelValue",i)});return(i,s)=>{const a=$c,l=v4;return tt(),zr(Dt,null,[F(a,{modelValue:o.value.alt,"onUpdate:modelValue":s[0]||(s[0]=c=>o.value.alt=c),label:i.t("editor.image.dialog.form.alt"),"prepend-icon":Ie(ki)("text")},null,8,["modelValue","label","prepend-icon"]),F(l,{modelValue:o.value.lockAspectRatio,"onUpdate:modelValue":s[1]||(s[1]=c=>o.value.lockAspectRatio=c),label:i.t("editor.image.dialog.form.aspectRatio"),"hide-details":""},null,8,["modelValue","label"]),F(l,{modelValue:o.value.labelDisabled,"onUpdate:modelValue":s[2]||(s[2]=c=>o.value.labelDisabled=c),label:i.t("editor.image.dialog.form.labelDisabled"),"hide-details":""},null,8,["modelValue","label"]),o.value.labelDisabled?Ia("",!0):(tt(),Rt(a,{key:0,modelValue:o.value.label,"onUpdate:modelValue":s[3]||(s[3]=c=>o.value.label=c),"hide-details":"",label:i.t("editor.image.dialog.form.label"),"prepend-icon":Ie(ki)("imageLabel")},null,8,["modelValue","label","prepend-icon"]))],64)}}}),vYe=en({__name:"ImageUpload",props:{modelValue:{default:()=>({})},upload:{type:Function,default:void 0},t:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=e,o=Ye(!1),i=ue({get:()=>n.modelValue,set:a=>r("update:modelValue",a)}),s=async a=>{var l;const c=a instanceof File?a:a[0];if(!c)throw new Error("No files to upload");try{o.value=!0;const u=await((l=n.upload)==null?void 0:l.call(n,c));if(!u)throw new Error("No link received after upload");i.value={...Ie(i),src:u}}catch(u){o3.error(`Failed to execute upload file: ${u}`)}finally{o.value=!1}};return(a,l)=>{const c=Gde,u=$c,d=uU;return tt(),Rt(d,{disabled:o.value},{default:He(()=>[F(c,{modelValue:i.value.file,"onUpdate:modelValue":[l[0]||(l[0]=f=>i.value.file=f),s],label:a.t("editor.image.dialog.form.file"),accept:"image/*",loading:o.value,"prepend-icon":Ie(ki)("fileImagePlus"),"onClick:clear":l[1]||(l[1]=f=>i.value.src=void 0)},null,8,["modelValue","label","loading","prepend-icon"]),F(u,{modelValue:i.value.src,"onUpdate:modelValue":l[2]||(l[2]=f=>i.value.src=f),label:a.t("editor.image.dialog.form.link"),disabled:"",autofocus:"","prepend-icon":Ie(ki)("linkVariant")},null,8,["modelValue","label","prepend-icon"]),F(Zne,{modelValue:i.value,"onUpdate:modelValue":l[3]||(l[3]=f=>i.value=f),t:a.t},null,8,["modelValue","t"])]),_:1},8,["disabled"])}}}),yYe=en({__name:"ImageUrl",props:{modelValue:{default:()=>({})},t:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=e,o=ue({get:()=>n.modelValue,set:i=>r("update:modelValue",i)});return(i,s)=>{const a=$c,l=uU;return tt(),Rt(l,null,{default:He(()=>[F(a,{modelValue:o.value.src,"onUpdate:modelValue":s[0]||(s[0]=c=>o.value.src=c),label:i.t("editor.image.dialog.form.link"),autofocus:"","prepend-icon":Ie(ki)("linkVariant")},null,8,["modelValue","label","prepend-icon"]),F(Zne,{modelValue:o.value,"onUpdate:modelValue":s[1]||(s[1]=c=>o.value=c),t:i.t},null,8,["modelValue","t"])]),_:1})}}}),bYe={class:"headline"},wYe=en({__name:"ImageDialog",props:{value:{default:()=>({})},editor:{},upload:{type:Function,default:void 0},imageTabs:{default:()=>[]},hiddenTabs:{default:()=>[]},destroy:{type:Function,default:void 0}},setup(t){const e=t,{t:n}=vf(),r=Ye(!1),o=Ye(!1),i=Ye({}),s=ue(()=>[...[{name:Ie(n)("editor.image.dialog.tab.url"),type:"url",component:yYe},{name:Ie(n)("editor.image.dialog.tab.upload"),type:"upload",component:vYe}].filter(u=>u.type?!e.hiddenTabs.includes(u.type):u),...e.imageTabs]),a=ue(()=>{const{src:u}=Ie(i);return!(typeof u=="string"&&u!=="")});async function l(){const{src:u,lockAspectRatio:d,height:f}=Ie(i);u&&(e.editor.chain().focus().setImage({...Ie(i),src:u,height:d?void 0:f}).run(),c())}function c(){r.value=!1,i.value={},setTimeout(()=>{var u;return(u=e.destroy)==null?void 0:u.call(e)},300)}return Bt(()=>e.value,u=>{i.value={...Ie(i),...u}},{immediate:!0,deep:!0}),(u,d)=>{const f=gy,h=lo,m=fl,g=Hh,v=fU,y=rfe,b=g$,x=m$,k=cf,w=rw,S=Fu,C=my;return tt(),Rt(C,{modelValue:r.value,"onUpdate:modelValue":d[3]||(d[3]=j=>r.value=j),"max-width":"400",activator:"parent","onClick:outside":c},{default:He(()=>[F(S,null,{default:He(()=>[F(g,{class:"px-6",density:"compact"},{default:He(()=>[Oe("span",bYe,Kr(Ie(n)("editor.image.dialog.title")),1),F(f),F(m,{class:"mx-0",icon:"",onClick:c},{default:He(()=>[F(h,{icon:Ie(ki)("close")},null,8,["icon"])]),_:1})]),_:1}),F(y,{modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=j=>o.value=j)},{default:He(()=>[(tt(!0),zr(Dt,null,ea(s.value,(j,A)=>(tt(),Rt(v,{key:A,value:A},{default:He(()=>[dr(Kr(j.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),F(k,null,{default:He(()=>[F(x,{modelValue:o.value,"onUpdate:modelValue":d[2]||(d[2]=j=>o.value=j)},{default:He(()=>[(tt(!0),zr(Dt,null,ea(s.value,(j,A)=>(tt(),Rt(b,{key:A,value:A},{default:He(()=>[(tt(),Rt(Sv(j.component),{modelValue:i.value,"onUpdate:modelValue":d[1]||(d[1]=_=>i.value=_),upload:u.upload,t:Ie(n)},null,8,["modelValue","upload","t"]))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),F(w,null,{default:He(()=>[F(m,{disabled:a.value,onClick:l},{default:He(()=>[dr(Kr(Ie(n)("editor.image.dialog.button.apply")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),xYe=["src","alt"],kYe={key:0,class:"image-resizer"},SYe=["onMousedown"],CYe=en({__name:"ImageView",props:{...c9e,selected:{type:Boolean,required:!0}},setup(t){const e=t,n=e.editor,r={TOP_LEFT:"tl",TOP_RIGHT:"tr",BOTTOM_LEFT:"bl",BOTTOM_RIGHT:"br"},o=Ye({width:UB,height:UB}),i=Ye({width:0,height:0}),s=Ye([r.TOP_LEFT,r.TOP_RIGHT,r.BOTTOM_LEFT,r.BOTTOM_RIGHT]),a=Ye(!1),l=Ye({x:0,y:0,w:0,h:0,dir:""}),c=ue(()=>{const{src:T,alt:z,width:U,height:G}=e.node.attrs,ce=n3(U)?`${U}px`:U,ie=n3(G)?`${G}px`:G;return{src:T||void 0,alt:z||void 0,style:{width:ce||void 0,height:ie||void 0}}}),u=ue(()=>e.node.attrs.display||void 0),d=ue(()=>e.node.attrs.lockAspectRatio??!0),f=ue(()=>typeof Ie(u)=="string"?["image-view",`image-view--${Ie(u)}`]:["image-view"]),h=Ye(void 0),m=ue(()=>{const{style:{width:T}}=Ie(c);return{width:T==="100%"?T:void 0}}),g=ue(()=>e.node.attrs.labelDisabled||!1);function v(T){i.value={width:T.target.width,height:T.target.height}}function y(){const{editor:T,getPos:z}=e,U=z();U&&T.commands.setNodeSelection(U)}const b=Ye(null),x=yv(function(){const{editor:T}=e,{width:z}=getComputedStyle(T.view.dom);o.value.width=Number.parseInt(z,10)},vO);function k(T,z){T.preventDefault(),T.stopPropagation(),l.value.x=T.clientX,l.value.y=T.clientY;const U=Ie(i).width,G=Ie(i).height,ce=U/G;let ie=Number(e.node.attrs.width),Z=Number(e.node.attrs.height);const W=Ie(o).width;ie&&!Z?(ie=ie>W?W:ie,Z=Math.round(ie/ce)):Z&&!ie?(ie=Math.round(Z*ce),ie=ie>W?W:ie):!ie&&!Z?(ie=U>W?W:U,Z=Math.round(ie/ce)):ie=ie>W?W:ie,l.value.w=ie,l.value.h=Z,l.value.dir=z,a.value=!0,C()}const w=yv(function(T){if(T.preventDefault(),T.stopPropagation(),!Ie(a))return;const{x:z,y:U,w:G,h:ce,dir:ie}=Ie(l),Z=(T.clientX-z)*(/l/.test(ie)?-1:1),W=(T.clientY-U)*(/t/.test(ie)?-1:1),B=M7e(G+Z,qB,Ie(o).width),H=Ie(d)?null:Math.max(ce+W,qB);e.updateAttributes({width:B,height:H})},vO);function S(T){T.preventDefault(),T.stopPropagation(),Ie(a)&&(a.value=!1,l.value={x:0,y:0,w:0,h:0,dir:""},j(),y())}function C(){document==null||document.addEventListener("mousemove",w,!0),document==null||document.addEventListener("mouseup",S,!0)}function j(){document==null||document.removeEventListener("mousemove",w,!0),document==null||document.removeEventListener("mouseup",S,!0)}const A=yv(function(){var T;h.value=`${(T=b.value)==null?void 0:T.offsetWidth}px`},vO),_=new ResizeObserver(()=>x()),R=new ResizeObserver(()=>A());return Ai(T=>{Ie(_).observe(e.editor.view.dom),b.value&&Ie(R).observe(b.value),T(()=>{Ie(_).disconnect(),Ie(R).disconnect()})}),(T,z)=>(tt(),Rt(Ie(s9e),{as:"span",class:Tt(f.value),style:Qt(m.value)},{default:He(()=>[Oe("div",{draggable:"true","data-drag-handle":"",class:Tt([{"image-view__body--focused":t.selected,"image-view__body--resizing":a.value},"image-view__body"]),style:Qt(m.value)},[Oe("img",{ref_key:"imgEl",ref:b,src:c.value.src,alt:c.value.alt,style:Qt(c.value.style),class:"image-view__body__image",onLoad:v,onClick:y},null,44,xYe),Ie(n).view.editable?Zs((tt(),zr("div",kYe,[(tt(!0),zr(Dt,null,ea(s.value,U=>(tt(),zr("span",{key:U,class:Tt([`image-resizer__handler--${U}`,"image-resizer__handler"]),onMousedown:G=>k(G,U)},null,42,SYe))),128))],512)),[[Bh,t.selected||a.value]]):Ia("",!0)],6),g.value?Ia("",!0):(tt(),zr("div",{key:0,class:"caption",style:Qt({width:h.value})},[Ie(n).view.editable?(tt(),Rt(Ie(i9e),{key:0})):e.node.attrs.label?(tt(),zr(Dt,{key:1},[dr(Kr(e.node.attrs.label??""),1)],64)):Ia("",!0)],4))]),_:1},8,["class","style"]))}}),jYe=gYe.extend({parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])',getAttrs(t){var e,n,r;if((e=t.parentElement)!=null&&e.classList.contains("image-figure_content")){const o=t.parentElement;let i=o.getAttribute("data-display");i||(n=o.parentElement)!=null&&n.classList.contains("image-figure")&&(i=(r=o.parentElement)==null?void 0:r.getAttribute("data-display")),i&&t.setAttribute("data-display",i);const s=o.querySelector(".image-figure_caption");s&&(t.innerHTML=s.innerHTML,o.removeChild(s))}return null}}]},renderHTML({HTMLAttributes:t,node:e}){const n=Gr(this.options.HTMLAttributes,t);if(e.attrs.labelDisabled||!e.content.size)return["img",n];const r={class:"image-figure"};return n["data-display"]&&(r["data-display"]=n["data-display"],delete n["data-display"]),["span",r,["span",{class:"image-figure_content"},["img",n],["span",{class:"image-figure_caption"},0]]]},content(){return this.options.captionContent||"text*"},addAttributes(){var t;return{...(t=this.parent)==null?void 0:t.call(this),src:{default:null},alt:{default:null},lockAspectRatio:{default:!0},width:{default:this.options.width},height:{default:null},display:{default:this.options.display,renderHTML:({display:e})=>e?{"data-display":e}:{},parseHTML:e=>e.getAttribute("data-display")||"inline"},labelDisabled:{default:this.options.labelDisabled,renderHTML:({labelDisabled:e})=>e?{"data-label-disabled":e}:{},parseHTML:e=>e.getAttribute("data-label-disabled")==="true"||!1}}},addNodeView(){return d9e(CYe)},addCommands(){var t;return{...(t=this.parent)==null?void 0:t.call(this),updateImage:e=>({commands:n})=>n.updateAttributes(this.name,e)}},addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),upload:void 0,width:gC["size-large"],display:"inline",imageTabs:[],hiddenTabs:[],inline:!0,dialogComponent:()=>wYe,button:({editor:e,extension:n,t:r})=>{const{upload:o,imageTabs:i,hiddenTabs:s,dialogComponent:a}=n.options;return{component:cGe,componentProps:{isDisabled:n.options.isDisabled,editor:e,t:r,upload:o,imageTabs:i,hiddenTabs:s},componentSlots:{dialog:a()}}}}}}),AYe=kr.create({name:"indent",addOptions(){return{divider:!1,spacer:!1,button:({editor:t,t:e})=>({component:uGe,componentProps:{editor:t,t:e}})}}});var MYe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,TYe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,OYe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,$Ye=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,EYe=Wc.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[_m({find:MYe,type:this.type}),_m({find:OYe,type:this.type})]},addPasteRules(){return[Lh({find:TYe,type:this.type}),Lh({find:$Ye,type:this.type})]}});const _Ye=EYe.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:dGe,componentProps:{editor:e,t:n}})}}}),PYe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",IYe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",g3="numeric",v3="ascii",y3="alpha",f0="asciinumeric",O1="alphanumeric",b3="domain",ere="emoji",RYe="scheme",NYe="slashscheme",TO="whitespace";function LYe(t,e){return t in e||(e[t]=[]),e[t]}function Lp(t,e,n){e[g3]&&(e[f0]=!0,e[O1]=!0),e[v3]&&(e[f0]=!0,e[y3]=!0),e[f0]&&(e[O1]=!0),e[y3]&&(e[O1]=!0),e[O1]&&(e[b3]=!0),e[ere]&&(e[b3]=!0);for(const r in e){const o=LYe(r,n);o.indexOf(t)<0&&o.push(t)}}function DYe(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Pa(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Pa.groups={};Pa.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const o=e.jr[r][0],i=e.jr[r][1];if(i&&o.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let o=0;o<t.length;o++)this.tt(t[o],e,n,r)},tr(t,e,n,r){r=r||Pa.groups;let o;return e&&e.j?o=e:(o=new Pa(e),n&&r&&Lp(e,n,r)),this.jr.push([t,o]),o},ts(t,e,n,r){let o=this;const i=t.length;if(!i)return o;for(let s=0;s<i-1;s++)o=o.tt(t[s]);return o.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||Pa.groups;const o=this;if(e&&e.j)return o.j[t]=e,e;const i=e;let s,a=o.go(t);if(a?(s=new Pa,Object.assign(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new Pa,i){if(r)if(s.t&&typeof s.t=="string"){const l=Object.assign(DYe(s.t,r),n);Lp(i,l,r)}else n&&Lp(i,n,r);s.t=i}return o.j[t]=s,s}};const Kn=(t,e,n,r,o)=>t.ta(e,n,r,o),bi=(t,e,n,r,o)=>t.tr(e,n,r,o),aH=(t,e,n,r,o)=>t.ts(e,n,r,o),ot=(t,e,n,r,o)=>t.tt(e,n,r,o),id="WORD",w3="UWORD",tre="ASCIINUMERICAL",nre="ALPHANUMERICAL",Rb="LOCALHOST",x3="TLD",k3="UTLD",bS="SCHEME",Pg="SLASH_SCHEME",cN="NUM",S3="WS",uN="NL",h0="OPENBRACE",p0="CLOSEBRACE",MC="OPENBRACKET",TC="CLOSEBRACKET",OC="OPENPAREN",$C="CLOSEPAREN",EC="OPENANGLEBRACKET",_C="CLOSEANGLEBRACKET",PC="FULLWIDTHLEFTPAREN",IC="FULLWIDTHRIGHTPAREN",RC="LEFTCORNERBRACKET",NC="RIGHTCORNERBRACKET",LC="LEFTWHITECORNERBRACKET",DC="RIGHTWHITECORNERBRACKET",VC="FULLWIDTHLESSTHAN",BC="FULLWIDTHGREATERTHAN",zC="AMPERSAND",HC="APOSTROPHE",FC="ASTERISK",Ff="AT",qC="BACKSLASH",UC="BACKTICK",WC="CARET",Jf="COLON",dN="COMMA",KC="DOLLAR",su="DOT",JC="EQUALS",fN="EXCLAMATION",bl="HYPHEN",m0="PERCENT",GC="PIPE",YC="PLUS",XC="POUND",g0="QUERY",hN="QUOTE",rre="FULLWIDTHMIDDLEDOT",pN="SEMI",au="SLASH",v0="TILDE",QC="UNDERSCORE",ore="EMOJI",ZC="SYM";var ire=Object.freeze({__proto__:null,ALPHANUMERICAL:nre,AMPERSAND:zC,APOSTROPHE:HC,ASCIINUMERICAL:tre,ASTERISK:FC,AT:Ff,BACKSLASH:qC,BACKTICK:UC,CARET:WC,CLOSEANGLEBRACKET:_C,CLOSEBRACE:p0,CLOSEBRACKET:TC,CLOSEPAREN:$C,COLON:Jf,COMMA:dN,DOLLAR:KC,DOT:su,EMOJI:ore,EQUALS:JC,EXCLAMATION:fN,FULLWIDTHGREATERTHAN:BC,FULLWIDTHLEFTPAREN:PC,FULLWIDTHLESSTHAN:VC,FULLWIDTHMIDDLEDOT:rre,FULLWIDTHRIGHTPAREN:IC,HYPHEN:bl,LEFTCORNERBRACKET:RC,LEFTWHITECORNERBRACKET:LC,LOCALHOST:Rb,NL:uN,NUM:cN,OPENANGLEBRACKET:EC,OPENBRACE:h0,OPENBRACKET:MC,OPENPAREN:OC,PERCENT:m0,PIPE:GC,PLUS:YC,POUND:XC,QUERY:g0,QUOTE:hN,RIGHTCORNERBRACKET:NC,RIGHTWHITECORNERBRACKET:DC,SCHEME:bS,SEMI:pN,SLASH:au,SLASH_SCHEME:Pg,SYM:ZC,TILDE:v0,TLD:x3,UNDERSCORE:QC,UTLD:k3,UWORD:w3,WORD:id,WS:S3});const td=/[a-z]/,d1=new RegExp("\\p{L}","u"),OO=new RegExp("\\p{Emoji}","u"),nd=/\d/,$O=/\s/,lH="\r",EO=`
`,VYe="",BYe="",_O="";let bk=null,wk=null;function zYe(t=[]){const e={};Pa.groups=e;const n=new Pa;bk==null&&(bk=cH(PYe)),wk==null&&(wk=cH(IYe)),ot(n,"'",HC),ot(n,"{",h0),ot(n,"}",p0),ot(n,"[",MC),ot(n,"]",TC),ot(n,"(",OC),ot(n,")",$C),ot(n,"<",EC),ot(n,">",_C),ot(n,"",PC),ot(n,"",IC),ot(n,"",RC),ot(n,"",NC),ot(n,"",LC),ot(n,"",DC),ot(n,"",VC),ot(n,"",BC),ot(n,"&",zC),ot(n,"*",FC),ot(n,"@",Ff),ot(n,"`",UC),ot(n,"^",WC),ot(n,":",Jf),ot(n,",",dN),ot(n,"$",KC),ot(n,".",su),ot(n,"=",JC),ot(n,"!",fN),ot(n,"-",bl),ot(n,"%",m0),ot(n,"|",GC),ot(n,"+",YC),ot(n,"#",XC),ot(n,"?",g0),ot(n,'"',hN),ot(n,"/",au),ot(n,";",pN),ot(n,"~",v0),ot(n,"_",QC),ot(n,"\\",qC),ot(n,"",rre);const r=bi(n,nd,cN,{[g3]:!0});bi(r,nd,r);const o=bi(r,td,tre,{[f0]:!0}),i=bi(r,d1,nre,{[O1]:!0}),s=bi(n,td,id,{[v3]:!0});bi(s,nd,o),bi(s,td,s),bi(o,nd,o),bi(o,td,o);const a=bi(n,d1,w3,{[y3]:!0});bi(a,td),bi(a,nd,i),bi(a,d1,a),bi(i,nd,i),bi(i,td),bi(i,d1,i);const l=ot(n,EO,uN,{[TO]:!0}),c=ot(n,lH,S3,{[TO]:!0}),u=bi(n,$O,S3,{[TO]:!0});ot(n,_O,u),ot(c,EO,l),ot(c,_O,u),bi(c,$O,u),ot(u,lH),ot(u,EO),bi(u,$O,u),ot(u,_O,u);const d=bi(n,OO,ore,{[ere]:!0});ot(d,"#"),bi(d,OO,d),ot(d,VYe,d);const f=ot(d,BYe);ot(f,"#"),bi(f,OO,d);const h=[[td,s],[nd,o]],m=[[td,null],[d1,a],[nd,i]];for(let g=0;g<bk.length;g++)Af(n,bk[g],x3,id,h);for(let g=0;g<wk.length;g++)Af(n,wk[g],k3,w3,m);Lp(x3,{tld:!0,ascii:!0},e),Lp(k3,{utld:!0,alpha:!0},e),Af(n,"file",bS,id,h),Af(n,"mailto",bS,id,h),Af(n,"http",Pg,id,h),Af(n,"https",Pg,id,h),Af(n,"ftp",Pg,id,h),Af(n,"ftps",Pg,id,h),Lp(bS,{scheme:!0,ascii:!0},e),Lp(Pg,{slashscheme:!0,ascii:!0},e),t=t.sort((g,v)=>g[0]>v[0]?1:-1);for(let g=0;g<t.length;g++){const v=t[g][0],y=t[g][1]?{[RYe]:!0}:{[NYe]:!0};v.indexOf("-")>=0?y[b3]=!0:td.test(v)?nd.test(v)?y[f0]=!0:y[v3]=!0:y[g3]=!0,aH(n,v,v,y)}return aH(n,"localhost",Rb,{ascii:!0}),n.jd=new Pa(ZC),{start:n,tokens:Object.assign({groups:e},ire)}}function sre(t,e){const n=HYe(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,o=[];let i=0,s=0;for(;s<r;){let a=t,l=null,c=0,u=null,d=-1,f=-1;for(;s<r&&(l=a.go(n[s]));)a=l,a.accepts()?(d=0,f=0,u=a):d>=0&&(d+=n[s].length,f++),c+=n[s].length,i+=n[s].length,s++;i-=d,s-=f,c-=d,o.push({t:u.t,v:e.slice(i-c,i),s:i-c,e:i})}return o}function HYe(t){const e=[],n=t.length;let r=0;for(;r<n;){let o=t.charCodeAt(r),i,s=o<55296||o>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(s),r+=s.length}return e}function Af(t,e,n,r,o){let i;const s=e.length;for(let a=0;a<s-1;a++){const l=e[a];t.j[l]?i=t.j[l]:(i=new Pa(r),i.jr=o.slice(),t.j[l]=i),t=i}return i=new Pa(n),i.jr=o.slice(),t.j[e[s-1]]=i,i}function cH(t){const e=[],n=[];let r=0,o="0123456789";for(;r<t.length;){let i=0;for(;o.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let s=parseInt(t.substring(r,r+i),10);s>0;s--)n.pop();r+=i}else n.push(t[r]),r++}return e}const Nb={defaultProtocol:"http",events:null,format:uH,formatHref:uH,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function mN(t,e=null){let n=Object.assign({},Nb);t&&(n=Object.assign(n,t instanceof mN?t.o:t));const r=n.ignoreTags,o=[];for(let i=0;i<r.length;i++)o.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=o}mN.prototype={o:Nb,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let o=this.o[t];return o&&(typeof o=="object"?(o=n.t in o?o[n.t]:Nb[t],typeof o=="function"&&r&&(o=o(e,n))):typeof o=="function"&&r&&(o=o(e,n.t,n)),o)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function uH(t){return t}function are(t,e){this.t="token",this.v=t,this.tk=e}are.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Nb.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),o=t.get("tagName",n,e),i=this.toFormattedString(t),s={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),u=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return s.href=r,a&&(s.class=a),l&&(s.target=l),c&&(s.rel=c),u&&Object.assign(s,u),{tagName:o,attributes:s,content:i,eventListeners:d}}};function rM(t,e){class n extends are{constructor(o,i){super(o,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const dH=rM("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),fH=rM("text"),FYe=rM("nl"),xk=rM("url",{isLink:!0,toHref(t=Nb.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Rb&&t[1].t===Jf}}),yl=t=>new Pa(t);function qYe({groups:t}){const e=t.domain.concat([zC,FC,Ff,qC,UC,WC,KC,JC,bl,cN,m0,GC,YC,XC,au,ZC,v0,QC]),n=[HC,Jf,dN,su,fN,m0,g0,hN,pN,EC,_C,h0,p0,TC,MC,OC,$C,PC,IC,RC,NC,LC,DC,VC,BC],r=[zC,HC,FC,qC,UC,WC,KC,JC,bl,h0,p0,m0,GC,YC,XC,g0,au,ZC,v0,QC],o=yl(),i=ot(o,v0);Kn(i,r,i),Kn(i,t.domain,i);const s=yl(),a=yl(),l=yl();Kn(o,t.domain,s),Kn(o,t.scheme,a),Kn(o,t.slashscheme,l),Kn(s,r,i),Kn(s,t.domain,s);const c=ot(s,Ff);ot(i,Ff,c),ot(a,Ff,c),ot(l,Ff,c);const u=ot(i,su);Kn(u,r,i),Kn(u,t.domain,i);const d=yl();Kn(c,t.domain,d),Kn(d,t.domain,d);const f=ot(d,su);Kn(f,t.domain,d);const h=yl(dH);Kn(f,t.tld,h),Kn(f,t.utld,h),ot(c,Rb,h);const m=ot(d,bl);ot(m,bl,m),Kn(m,t.domain,d),Kn(h,t.domain,d),ot(h,su,f),ot(h,bl,m);const g=ot(h,Jf);Kn(g,t.numeric,dH);const v=ot(s,bl),y=ot(s,su);ot(v,bl,v),Kn(v,t.domain,s),Kn(y,r,i),Kn(y,t.domain,s);const b=yl(xk);Kn(y,t.tld,b),Kn(y,t.utld,b),Kn(b,t.domain,s),Kn(b,r,i),ot(b,su,y),ot(b,bl,v),ot(b,Ff,c);const x=ot(b,Jf),k=yl(xk);Kn(x,t.numeric,k);const w=yl(xk),S=yl();Kn(w,e,w),Kn(w,n,S),Kn(S,e,w),Kn(S,n,S),ot(b,au,w),ot(k,au,w);const C=ot(a,Jf),j=ot(l,Jf),A=ot(j,au),_=ot(A,au);Kn(a,t.domain,s),ot(a,su,y),ot(a,bl,v),Kn(l,t.domain,s),ot(l,su,y),ot(l,bl,v),Kn(C,t.domain,w),ot(C,au,w),ot(C,g0,w),Kn(_,t.domain,w),Kn(_,e,w),ot(_,au,w);const R=[[h0,p0],[MC,TC],[OC,$C],[EC,_C],[PC,IC],[RC,NC],[LC,DC],[VC,BC]];for(let T=0;T<R.length;T++){const[z,U]=R[T],G=ot(w,z);ot(S,z,G),ot(G,U,w);const ce=yl(xk);Kn(G,e,ce);const ie=yl();Kn(G,n),Kn(ce,e,ce),Kn(ce,n,ie),Kn(ie,e,ce),Kn(ie,n,ie),ot(ce,U,w),ot(ie,U,w)}return ot(o,Rb,b),ot(o,uN,FYe),{start:o,tokens:ire}}function UYe(t,e,n){let r=n.length,o=0,i=[],s=[];for(;o<r;){let a=t,l=null,c=null,u=0,d=null,f=-1;for(;o<r&&!(l=a.go(n[o].t));)s.push(n[o++]);for(;o<r&&(c=l||a.go(n[o].t));)l=null,a=c,a.accepts()?(f=0,d=a):f>=0&&f++,o++,u++;if(f<0)o-=u,o<r&&(s.push(n[o]),o++);else{s.length>0&&(i.push(PO(fH,e,s)),s=[]),o-=f,u-=f;const h=d.t,m=n.slice(o-u,o);i.push(PO(h,e,m))}}return s.length>0&&i.push(PO(fH,e,s)),i}function PO(t,e,n){const r=n[0].s,o=n[n.length-1].e,i=e.slice(r,o);return new t(i,n)}const WYe=typeof console<"u"&&console&&console.warn||(()=>{}),KYe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",zo={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function JYe(){return Pa.groups={},zo.scanner=null,zo.parser=null,zo.tokenQueue=[],zo.pluginQueue=[],zo.customSchemes=[],zo.initialized=!1,zo}function hH(t,e=!1){if(zo.initialized&&WYe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${KYe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);zo.customSchemes.push([t,e])}function GYe(){zo.scanner=zYe(zo.customSchemes);for(let t=0;t<zo.tokenQueue.length;t++)zo.tokenQueue[t][1]({scanner:zo.scanner});zo.parser=qYe(zo.scanner.tokens);for(let t=0;t<zo.pluginQueue.length;t++)zo.pluginQueue[t][1]({scanner:zo.scanner,parser:zo.parser});return zo.initialized=!0,zo}function gN(t){return zo.initialized||GYe(),UYe(zo.parser.start,t,sre(zo.scanner.start,t))}gN.scan=sre;function lre(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new mN(n),o=gN(t),i=[];for(let s=0;s<o.length;s++){const a=o[s];a.isLink&&(!e||a.t===e)&&r.check(a)&&i.push(a.toFormattedObject(r))}return i}var vN="[\0- -\u2029]",YYe=new RegExp(vN),XYe=new RegExp(`${vN}$`),QYe=new RegExp(vN,"g");function ZYe(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function eXe(t){return new ko({key:new hi("autolink"),appendTransaction:(e,n,r)=>{const o=e.some(l=>l.docChanged)&&!n.doc.eq(r.doc),i=e.some(l=>l.getMeta("preventAutolink"));if(!o||i)return;const{tr:s}=r,a=See(n.doc,[...e]);if(Pee(a).forEach(({newRange:l})=>{const c=b8e(r.doc,l,f=>f.isTextblock);let u,d;if(c.length>1)u=c[0],d=r.doc.textBetween(u.pos,u.pos+u.node.nodeSize,void 0," ");else if(c.length){const f=r.doc.textBetween(l.from,l.to," "," ");if(!XYe.test(f))return;u=c[0],d=r.doc.textBetween(u.pos,l.to,void 0," ")}if(u&&d){const f=d.split(YYe).filter(Boolean);if(f.length<=0)return!1;const h=f[f.length-1],m=u.pos+d.lastIndexOf(h);if(!h)return!1;const g=gN(h).map(v=>v.toObject(t.defaultProtocol));if(!ZYe(g))return!1;g.filter(v=>v.isLink).map(v=>({...v,from:m+v.start+1,to:m+v.end+1})).filter(v=>r.schema.marks.code?!r.doc.rangeHasMark(v.from,v.to,r.schema.marks.code):!0).filter(v=>t.validate(v.value)).filter(v=>t.shouldAutoLink(v.value)).forEach(v=>{NR(v.from,v.to,r.doc).some(y=>y.mark.type===t.type)||s.addMark(v.from,v.to,t.type.create({href:v.href}))})}}),!!s.steps.length)return s}})}function tXe(t){return new ko({key:new hi("handleClickLink"),props:{handleClick:(e,n,r)=>{var o,i;if(r.button!==0||!e.editable)return!1;let s=null;if(r.target instanceof HTMLAnchorElement)s=r.target;else{let u=r.target;const d=[];for(;u.nodeName!=="DIV";)d.push(u),u=u.parentNode;s=d.find(f=>f.nodeName==="A")}if(!s)return!1;const a=_ee(e.state,t.type.name),l=(o=s==null?void 0:s.href)!=null?o:a.href,c=(i=s==null?void 0:s.target)!=null?i:a.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),s&&l?(window.open(l,c),!0):!1}}})}function nXe(t){return new ko({key:new hi("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:o}=e,{selection:i}=o,{empty:s}=i;if(s)return!1;let a="";r.content.forEach(c=>{a+=c.textContent});const l=lre(a,{defaultProtocol:t.defaultProtocol}).find(c=>c.isLink&&c.value===a);return!a||!l?!1:t.editor.commands.setMark(t.type,{href:l.href})}}})}function gp(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const o=typeof r=="string"?r:r.scheme;o&&n.push(o)}),!t||t.replace(QYe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var rXe=Wc.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){hH(t);return}hH(t.scheme,t.optionalSlashes)})},onDestroy(){JYe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!gp(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!gp(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!gp(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Gr(this.options.HTMLAttributes,t),0]:["a",Gr(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!gp(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!gp(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Lh({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,o=lre(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:s=>!!gp(s,n),protocols:n,defaultProtocol:r}));o.length&&o.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(eXe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:o=>!!gp(o,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(tXe({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(nXe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}});const oXe={class:"headline"},iXe=en({__name:"LinkDialog",props:{value:{default:void 0},target:{default:"_blank"},editor:{},destroy:{type:Function,default:void 0}},setup(t){const e=t,{t:n}=vf(),r=()=>({href:"",target:"_blank"}),o=Ye(r()),i=Ye(!1),s=ue(()=>{const{href:c,target:u}=o.value;return c?e.value===c&&e.target===u:!0});function a(){const{href:c,target:u}=o.value;c&&e.editor.chain().focus().extendMarkRange("link").setLink({href:c,target:u}).run(),l()}function l(){i.value=!1,o.value=r(),setTimeout(()=>{var c;return(c=e.destroy)==null?void 0:c.call(e)},300)}return Bt(i,c=>{c&&(o.value={href:e.value,target:e.target})}),(c,u)=>{const d=gy,f=lo,h=fl,m=Hh,g=$c,v=cf,y=rw,b=Fu,x=my;return tt(),Rt(x,{modelValue:i.value,"onUpdate:modelValue":u[1]||(u[1]=k=>i.value=k),"max-width":"400",activator:"parent","onClick:outside":l},{default:He(()=>[F(b,null,{default:He(()=>[F(m,{class:"px-6",density:"compact"},{default:He(()=>[Oe("span",oXe,Kr(Ie(n)("editor.link.dialog.title")),1),F(d),F(h,{class:"mx-0",icon:"",onClick:l},{default:He(()=>[F(f,{icon:Ie(ki)("close")},null,8,["icon"])]),_:1})]),_:1}),F(v,null,{default:He(()=>[F(g,{modelValue:o.value.href,"onUpdate:modelValue":u[0]||(u[0]=k=>o.value.href=k),label:Ie(n)("editor.link.dialog.link"),autofocus:""},null,8,["modelValue","label"])]),_:1}),F(y,null,{default:He(()=>[F(h,{disabled:s.value,onClick:a},{default:He(()=>[dr(Kr(Ie(n)("editor.link.dialog.button.apply")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),sXe=rXe.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),openOnClick:!1,dialogComponent:()=>iXe,button:({editor:e,extension:n,t:r})=>{const{dialogComponent:o}=n.options;return{component:fGe,componentProps:{editor:e,t:r},componentSlots:{dialog:o()}}}}},addProseMirrorPlugins(){var t;return[...((t=this.parent)==null?void 0:t.call(this))||[],new ko({props:{handleClick(e,n){const{schema:r,doc:o,tr:i}=e.state,s=BA(o.resolve(n),r.marks.link);if(!s)return!1;const a=o.resolve(s.from),l=o.resolve(s.to),c=i.setSelection(new Zt(a,l));return e.dispatch(c),!0}}})]}}),aXe=kr.create({name:"markdownTheme",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),markdownThemes:nte,button:({editor:e,extension:n,t:r})=>({component:NGe,componentProps:{editor:e,extension:n,t:r}})}}}),lXe=Dne.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:hGe,componentProps:{editor:e,t:n}})}}});var cXe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,uXe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,dXe=Wc.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[_m({find:cXe,type:this.type})]},addPasteRules(){return[Lh({find:uXe,type:this.type})]}});const fXe=dXe.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:pGe,componentProps:{editor:e,t:n}})}}});var hXe=Wc.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(t){return t!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:t}){return["sub",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{setSubscript:()=>({commands:t})=>t.setMark(this.name),toggleSubscript:()=>({commands:t})=>t.toggleMark(this.name),unsetSubscript:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),pXe=Wc.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(t){return t!=="super"?!1:null}}]},renderHTML({HTMLAttributes:t}){return["sup",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{setSuperscript:()=>({commands:t})=>t.setMark(this.name),toggleSuperscript:()=>({commands:t})=>t.toggleMark(this.name),unsetSuperscript:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}});const mXe=kr.create({name:"subAndSuperScript",addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,extension:n,t:r})=>({component:mGe,componentProps:{editor:e,extension:n,t:r}})}},addExtensions(){const t=[];return this.options.subscript!==!1&&t.push(hXe.configure(this.options.subscript)),this.options.superscript!==!1&&t.push(pXe.configure(this.options.superscript)),t}});var cre=Xi.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(n=>parseInt(n,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",Gr(this.options.HTMLAttributes,t),0]}}),ure=Xi.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(n=>parseInt(n,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",Gr(this.options.HTMLAttributes,t),0]}}),dre=Xi.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",Gr(this.options.HTMLAttributes,t),0]}});function C3(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function pH(t,e,n,r,o,i){var s;let a=0,l=!0,c=e.firstChild;const u=t.firstChild;if(u!==null)for(let d=0,f=0;d<u.childCount;d+=1){const{colspan:h,colwidth:m}=u.child(d).attrs;for(let g=0;g<h;g+=1,f+=1){const v=o===f?i:m&&m[g],y=v?`${v}px`:"";if(a+=v||r,v||(l=!1),c){if(c.style.width!==y){const[b,x]=C3(r,v);c.style.setProperty(b,x)}c=c.nextSibling}else{const b=document.createElement("col"),[x,k]=C3(r,v);b.style.setProperty(x,k),e.appendChild(b)}}}for(;c;){const d=c.nextSibling;(s=c.parentNode)==null||s.removeChild(c),c=d}l?(n.style.width=`${a}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${a}px`)}var gXe=class{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),pH(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,pH(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){return t.type==="attributes"&&(t.target===this.table||this.colgroup.contains(t.target))}};function vXe(t,e,n,r){let o=0,i=!0;const s=[],a=t.firstChild;if(!a)return{};for(let u=0,d=0;u<a.childCount;u+=1){const{colspan:f,colwidth:h}=a.child(u).attrs;for(let m=0;m<f;m+=1,d+=1){const g=n===d?r:h&&h[m];o+=g||e,g||(i=!1);const[v,y]=C3(e,g);s.push(["col",{style:`${v}: ${y}`}])}}const l=i?`${o}px`:"",c=i?"":`${o}px`;return{colgroup:["colgroup",{},...s],tableWidth:l,tableMinWidth:c}}function mH(t,e){return t.createAndFill()}function yXe(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function bXe(t,e,n,r,o){const i=yXe(t),s=[],a=[];for(let c=0;c<n;c+=1){const u=mH(i.cell);if(u&&a.push(u),r){const d=mH(i.header_cell);d&&s.push(d)}}const l=[];for(let c=0;c<e;c+=1)l.push(i.row.createChecked(null,r&&c===0?s:a));return i.table.createChecked(null,l)}function wXe(t){return t instanceof xo}var kk=({editor:t})=>{const{selection:e}=t.state;if(!wXe(e))return!1;let n=0;const r=jee(e.ranges[0].$from,o=>o.type.name==="table");return r==null||r.node.descendants(o=>{if(o.type.name==="table")return!1;["tableCell","tableHeader"].includes(o.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},fre=Xi.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:gXe,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:o}=vXe(t,this.options.cellMinWidth);return["table",Gr(this.options.HTMLAttributes,e,{style:r?`width: ${r}`:`min-width: ${o}`}),n,["tbody",0]]},addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:o,editor:i})=>{const s=bXe(i.schema,t,e,n);if(o){const a=r.selection.from+1;r.replaceSelectionWith(s).scrollIntoView().setSelection(Zt.near(r.doc.resolve(a)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>cUe(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>uUe(t,e),deleteColumn:()=>({state:t,dispatch:e})=>fUe(t,e),addRowBefore:()=>({state:t,dispatch:e})=>pUe(t,e),addRowAfter:()=>({state:t,dispatch:e})=>mUe(t,e),deleteRow:()=>({state:t,dispatch:e})=>vUe(t,e),deleteTable:()=>({state:t,dispatch:e})=>CUe(t,e),mergeCells:()=>({state:t,dispatch:e})=>Nz(t,e),splitCell:()=>({state:t,dispatch:e})=>Lz(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>Ib("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>Ib("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>kUe(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>Nz(t,e)?!0:Lz(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>wUe(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>Vz(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>Vz(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&dne(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=xo.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:kk,"Mod-Backspace":kk,Delete:kk,"Mod-Delete":kk}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[IUe({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],qUe({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:Ur(Yt(t,"tableRole",e))}}});kr.create({name:"tableKit",addExtensions(){const t=[];return this.options.table!==!1&&t.push(fre.configure(this.options.table)),this.options.tableCell!==!1&&t.push(cre.configure(this.options.tableCell)),this.options.tableHeader!==!1&&t.push(ure.configure(this.options.tableHeader)),this.options.tableRow!==!1&&t.push(dre.configure(this.options.tableRow)),t}});const xXe=fre.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),resizable:!0,HTMLAttributes:{class:"table-wrapper"},button:({editor:e,t:n})=>({component:kGe,componentProps:{editor:e,t:n}})}},addExtensions(){return[dre.configure(this.options.tableRow),ure.configure(this.options.tableHeader),cre.configure(this.options.tableCell)]}}),kXe=Bne.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),HTMLAttributes:{class:"task-list"},taskItem:{HTMLAttributes:{class:"task-list-item"}},button:({editor:e,t:n})=>({component:SGe,componentProps:{editor:e,t:n}})}},addExtensions(){return[Vne.configure(this.options.taskItem)]}});var SXe=kr.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}});const CXe=SXe.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),types:["heading","paragraph"],button:({editor:e,extension:n,t:r})=>({component:LGe,componentProps:{editor:e,extension:n,t:r}})}}});var jXe=Wc.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});const AXe=jXe.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),button:({editor:e,t:n})=>({component:CGe,componentProps:{editor:e,t:n}})}}}),MXe={class:"headline"},TXe=en({__name:"VideoDialog",props:{value:{default:void 0},editor:{},destroy:{type:Function,default:void 0}},setup(t){const e=t,{t:n}=vf(),r=Ye(""),o=Ye(!1),i=ue(()=>e.value===r.value||!Ie(r));function s(){Ie(r)&&e.editor.chain().focus().setVideo({src:r.value}).run(),a()}function a(){o.value=!1,r.value="",setTimeout(()=>{var l;return(l=e.destroy)==null?void 0:l.call(e)},300)}return Ai(()=>{e.value&&(r.value=e.value)}),(l,c)=>{const u=gy,d=lo,f=fl,h=Hh,m=$c,g=cf,v=rw,y=Fu,b=my;return tt(),Rt(b,{modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=x=>o.value=x),"max-width":"400",activator:"parent","onClick:outside":a},{default:He(()=>[F(y,null,{default:He(()=>[F(h,{class:"px-6",density:"compact"},{default:He(()=>[Oe("span",MXe,Kr(Ie(n)("editor.video.dialog.title")),1),F(u),F(f,{class:"mx-0",icon:"",onClick:a},{default:He(()=>[F(d,{icon:Ie(ki)("close")},null,8,["icon"])]),_:1})]),_:1}),F(g,null,{default:He(()=>[F(m,{modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=x=>r.value=x),label:Ie(n)("editor.video.dialog.link"),"hide-details":"",autofocus:""},null,8,["modelValue","label"])]),_:1}),F(v,null,{default:He(()=>[F(f,{disabled:i.value,onClick:s},{default:He(()=>[dr(Kr(Ie(n)("editor.video.dialog.button.apply")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});function OXe(t){return t=t.replace("https://youtu.be/","https://www.youtube.com/watch?v=").replace("watch?v=","embed/"),t=t.replace("https://vimeo.com/","https://player.vimeo.com/video/"),/^https?:\/\/www.bilibili.com\/video\/.*/i.test(t)&&(t=t.replace(/\?.*$/i,"").replace("https://www.bilibili.com/video/","https://player.bilibili.com/player.html?bvid=")),t.includes("drive.google.com")&&(t=t.replace("/view","/preview")),t}const $Xe=Xi.create({name:"video",group:"block",atom:!0,draggable:!0,addAttributes(){return{src:{default:null,renderHTML:({src:t})=>({src:t?OXe(t):null})},width:{default:this.options.width,renderHTML:({width:t})=>({width:d0(t)})},frameborder:{default:this.options.frameborder?1:0,parseHTML:()=>this.options.frameborder?1:0},allowfullscreen:{default:this.options.allowFullscreen,parseHTML:()=>this.options.allowFullscreen}}},parseHTML(){return[{tag:"div[data-video] iframe"}]},renderHTML({HTMLAttributes:t}){const{width:e="100%"}=t??{},n={...t,width:"100%",height:"100%"},r=`position: relative;overflow: hidden;display: flex;flex: 1;max-width: ${e};`,o=`flex: 1;padding-bottom: ${9/16*100}%;`,i=["div",{style:r},["div",{style:o}],["iframe",n]];return["div",{...this.options.HTMLAttributes,"data-video":""},i]},addCommands(){return{setVideo:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t}),updateVideo:t=>({commands:e})=>e.updateAttributes(this.name,t)}},addOptions(){return{divider:!1,spacer:!1,allowFullscreen:!0,frameborder:!1,width:vC["size-medium"],HTMLAttributes:{class:"iframe-wrapper",style:"display: flex;justify-content: center;"},dialogComponent:()=>TXe,button:({editor:t,extension:e,t:n})=>{const{dialogComponent:r}=e.options;return{component:jGe,componentProps:{editor:t,t:n},componentSlots:{dialog:r()}}}}}}),EXe=t=>e=>{const{lang:n,fallbackLang:r,markdownTheme:o,components:i={},extensions:s}=t||{};r&&qs.setFallbackLang(r),n&&qs.setLang(n),Object.keys(i).forEach(a=>e.component(a,i[a])),v9e({defaultLang:n,defaultFallbackLang:r,defaultMarkdownTheme:o,extensions:s})},_Xe=en({__name:"CustomLang",props:{modelValue:{default:()=>({})}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=e,o=ue({get:()=>n.modelValue,set:s=>{r("update:modelValue",s)}}),i=ue(()=>Object.keys(Ie(o)));return(s,a)=>{const l=C4,c=$c,u=Nde,d=Fde,f=cf,h=Fu;return tt(),Rt(h,{class:"mt-2"},{default:He(()=>[F(l,null,{default:He(()=>a[0]||(a[0]=[dr("Custom Lang")])),_:1,__:[0]}),F(f,null,{default:He(()=>[F(d,null,{default:He(()=>[(tt(!0),zr(Dt,null,ea(i.value,m=>(tt(),Rt(u,{key:m,cols:12,sm:6,md:4,lg:3},{default:He(()=>[F(c,{modelValue:o.value[m],"onUpdate:modelValue":g=>o.value[m]=g,label:m},null,8,["modelValue","onUpdate:modelValue","label"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}}});function Ms(t){this.content=t}Ms.prototype={constructor:Ms,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,o=r.find(t),i=r.content.slice();return o==-1?i.push(n||t,e):(i[o+1]=e,n&&(i[o]=n)),new Ms(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ms(n)},addToStart:function(t,e){return new Ms([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ms(n)},addBefore:function(t,e,n){var r=this.remove(e),o=r.content.slice(),i=r.find(t);return o.splice(i==-1?o.length:i,0,e,n),new Ms(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ms.from(t),t.size?new Ms(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ms.from(t),t.size?new Ms(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ms.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Ms.from=function(t){if(t instanceof Ms)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ms(e)};function hre(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let o=t.child(r),i=e.child(r);if(o==i){n+=o.nodeSize;continue}if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){let s=hre(o.content,i.content,n+1);if(s!=null)return s}n+=o.nodeSize}}function pre(t,e,n,r){for(let o=t.childCount,i=e.childCount;;){if(o==0||i==0)return o==i?null:{a:n,b:r};let s=t.child(--o),a=e.child(--i),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let c=pre(s.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class ut{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,o=0,i){for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;if(c>e&&r(l,o+a,i||null,s)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,o+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,o){let i="",s=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?o?typeof o=="function"?o(a):o:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(s?s=!1:i+=r),i+=c},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,o=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)o.push(e.content[i]);return new ut(o,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],o=0;if(n>e)for(let i=0,s=0;s<n;i++){let a=this.content[i],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),o+=a.nodeSize),s=l}return new ut(r,o)}cutByIndex(e,n){return e==n?ut.empty:e==0&&n==this.content.length?this:new ut(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let o=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return o[e]=n,new ut(o,i)}addToStart(e){return new ut([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ut(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let o=this.content[n];e(o,r,n),r+=o.nodeSize}}findDiffStart(e,n=0){return hre(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return pre(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Sk(0,e);if(e==this.size)return Sk(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,o=0;;r++){let i=this.child(r),s=o+i.nodeSize;if(s>=e)return s==e||n>0?Sk(r+1,s):Sk(r,o);o=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ut.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ut(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ut.empty;let n,r=0;for(let o=0;o<e.length;o++){let i=e[o];r+=i.nodeSize,o&&i.isText&&e[o-1].sameMarkup(i)?(n||(n=e.slice(0,o)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new ut(n||e,r)}static from(e){if(!e)return ut.empty;if(e instanceof ut)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ut([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ut.empty=new ut([],0);const IO={index:0,offset:0};function Sk(t,e){return IO.index=t,IO.offset=e,IO}function ej(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!ej(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!ej(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class wo{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let o=0;o<e.length;o++){let i=e[o];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,o));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ej(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return wo.none;if(e instanceof wo)return[e];let n=e.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}}wo.none=[];class tj extends Error{}class zt{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=gre(this.content,e+this.openStart,n);return r&&new zt(r,this.openStart,this.openEnd)}removeBetween(e,n){return new zt(mre(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return zt.empty;let r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new zt(ut.fromJSON(e,n.content),r,o)}static maxOpen(e,n=!0){let r=0,o=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)o++;return new zt(e,r,o)}}zt.empty=new zt(ut.empty,0,0);function mre(t,e,n){let{index:r,offset:o}=t.findIndex(e),i=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(o==e||i.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(mre(i.content,e-o-1,n-o-1)))}function gre(t,e,n,r){let{index:o,offset:i}=t.findIndex(e),s=t.maybeChild(o);if(i==e||s.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=gre(s.content,e-i-1,n);return a&&t.replaceChild(o,s.copy(a))}function PXe(t,e,n){if(n.openStart>t.depth)throw new tj("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new tj("Inconsistent open depths");return vre(t,e,n,0)}function vre(t,e,n,r){let o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){let s=vre(t,e,n,r+1);return i.copy(i.content.replaceChild(o,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,a=s.content;return nm(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=IXe(n,t);return nm(i,bre(t,s,a,e,r))}else return nm(i,nj(t,e,r))}function yre(t,e){if(!e.type.compatibleContent(t.type))throw new tj("Cannot join "+e.type.name+" onto "+t.type.name)}function j3(t,e,n){let r=t.node(n);return yre(r,e.node(n)),r}function tm(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function y0(t,e,n,r){let o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(tm(t.nodeAfter,r),i++));for(let a=i;a<s;a++)tm(o.child(a),r);e&&e.depth==n&&e.textOffset&&tm(e.nodeBefore,r)}function nm(t,e){return t.type.checkContent(e),t.copy(e)}function bre(t,e,n,r,o){let i=t.depth>o&&j3(t,e,o+1),s=r.depth>o&&j3(n,r,o+1),a=[];return y0(null,t,o,a),i&&s&&e.index(o)==n.index(o)?(yre(i,s),tm(nm(i,bre(t,e,n,r,o+1)),a)):(i&&tm(nm(i,nj(t,e,o+1)),a),y0(e,n,o,a),s&&tm(nm(s,nj(n,r,o+1)),a)),y0(r,null,o,a),new ut(a)}function nj(t,e,n){let r=[];if(y0(null,t,n,r),t.depth>n){let o=j3(t,e,n+1);tm(nm(o,nj(t,e,n+1)),r)}return y0(e,null,n,r),new ut(r)}function IXe(t,e){let n=e.depth-t.openStart,o=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)o=e.node(i).copy(ut.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}class Lb{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=e.child(n);return r?e.child(n).cut(r):o}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)o+=r.child(i).nodeSize;return o}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return wo.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),o=e.maybeChild(n);if(!r){let a=r;r=o,o=a}let i=r.marks;for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!o||!i[s].isInSet(o.marks))&&(i=i[s--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,o=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!o||!r[i].isInSet(o.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new rj(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],o=0,i=n;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(i),c=i-l;if(r.push(s,a,o+l),!c||(s=s.child(a),s.isText))break;i=c-1,o+=l+1}return new Lb(n,r,i)}static resolveCached(e,n){let r=gH.get(e);if(r)for(let i=0;i<r.elts.length;i++){let s=r.elts[i];if(s.pos==n)return s}else gH.set(e,r=new RXe);let o=r.elts[r.i]=Lb.resolve(e,n);return r.i=(r.i+1)%NXe,o}}class RXe{constructor(){this.elts=[],this.i=0}}const NXe=12,gH=new WeakMap;class rj{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const LXe=Object.create(null);let rm=class A3{constructor(e,n,r,o=wo.none){this.type=e,this.attrs=n,this.marks=o,this.content=r||ut.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,o=0){this.content.nodesBetween(e,n,r,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,o){return this.content.textBetween(e,n,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&ej(this.attrs,n||e.defaultAttrs||LXe)&&wo.sameSet(this.marks,r||wo.none)}copy(e=null){return e==this.content?this:new A3(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new A3(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return zt.empty;let o=this.resolve(e),i=this.resolve(n),s=r?0:o.sharedDepth(n),a=o.start(s),c=o.node(s).content.cut(o.pos-a,i.pos-a);return new zt(c,o.depth-s,i.depth-s)}replace(e,n,r){return PXe(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:o}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(o==e||n.isText)return n;e-=o+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}resolve(e){return Lb.resolveCached(this,e)}resolveNoCache(e){return Lb.resolve(this,e)}rangeHasMark(e,n,r){let o=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),wre(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ut.empty,o=0,i=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,o,i),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=o;l<i;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;let i=this.contentMatchAt(e).matchType(r),s=i&&i.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=wo.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!wo.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let o=ut.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,o,r);return i.type.checkAttrs(i.attrs),i}};rm.prototype.text=void 0;class oj extends rm{constructor(e,n,r,o){if(super(e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wre(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new oj(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new oj(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function wre(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Rm{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new DXe(e,n);if(r.next==null)return Rm.empty;let o=xre(r);r.next&&r.err("Unexpected trailing text");let i=UXe(qXe(o));return WXe(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let o=this;for(let i=n;o&&i<r;i++)o=o.matchType(e.child(i).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let o=[this];function i(s,a){let l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return ut.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&o.indexOf(d)==-1){o.push(d);let f=i(d,a.concat(u));if(f)return f}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),i=o.match;if(i.matchType(e)){let s=[];for(let a=o;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<i.next.length;s++){let{type:a,next:l}=i.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!o.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:o}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let o=0;o<r.next.length;o++)e.indexOf(r.next[o].next)==-1&&n(r.next[o].next)}return n(this),e.map((r,o)=>{let i=o+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)i+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return i}).join(`
`)}}Rm.empty=new Rm(!0);class DXe{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function xre(t){let e=[];do e.push(VXe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function VXe(t){let e=[];do e.push(BXe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function BXe(t){let e=FXe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=zXe(t,e);else break;return e}function vH(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function zXe(t,e){let n=vH(t),r=n;return t.eat(",")&&(t.next!="}"?r=vH(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function HXe(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let o=[];for(let i in n){let s=n[i];s.isInGroup(e)&&o.push(s)}return o.length==0&&t.err("No node type or group '"+e+"' found"),o}function FXe(t){if(t.eat("(")){let e=xre(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=HXe(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function qXe(t){let e=[[]];return o(i(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){let c={term:l,to:a};return e[s].push(c),c}function o(s,a){s.forEach(l=>l.to=a)}function i(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(i(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=i(s.exprs[l],a);if(l==s.exprs.length-1)return c;o(c,a=n())}else if(s.type=="star"){let l=n();return r(a,l),o(i(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return o(i(s.expr,a),l),o(i(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(i(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let u=n();o(i(s.expr,l),u),l=u}if(s.max==-1)o(i(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=n();r(l,u),o(i(s.expr,l),u),l=u}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function kre(t,e){return e-t}function yH(t,e){let n=[];return r(e),n.sort(kre);function r(o){let i=t[o];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(o);for(let s=0;s<i.length;s++){let{term:a,to:l}=i[s];!a&&n.indexOf(l)==-1&&r(l)}}}function UXe(t){let e=Object.create(null);return n(yH(t,0));function n(r){let o=[];r.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<o.length;u++)o[u][0]==a&&(c=o[u][1]);yH(t,l).forEach(u=>{c||o.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let i=e[r.join(",")]=new Rm(r.indexOf(t.length-1)>-1);for(let s=0;s<o.length;s++){let a=o[s][1].sort(kre);i.next.push({type:o[s][0],next:e[a.join(",")]||n(a)})}return i}}function WXe(t,e){for(let n=0,r=[t];n<r.length;n++){let o=r[n],i=!o.validEnd,s=[];for(let a=0;a<o.next.length;a++){let{type:l,next:c}=o.next[a];s.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),r.indexOf(c)==-1&&r.push(c)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Sre(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Cre(t,e){let n=Object.create(null);for(let r in t){let o=e&&e[r];if(o===void 0){let i=t[r];if(i.hasDefault)o=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function jre(t,e,n,r){for(let o in e)if(!(o in t))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in t){let i=t[o];i.validate&&i.validate(e[o])}}function Are(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new JXe(t,r,e[r]);return n}class ij{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Are(e,r.attrs),this.defaultAttrs=Sre(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Rm.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Cre(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new rm(this,this.computeAttrs(e),ut.from(n),wo.setFrom(r))}createChecked(e=null,n,r){return n=ut.from(n),this.checkContent(n),new rm(this,this.computeAttrs(e),n,wo.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ut.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let o=this.contentMatch.matchFragment(n),i=o&&o.fillBefore(ut.empty,!0);return i?new rm(this,e,n.append(i),wo.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){jre(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:wo.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,s)=>r[i]=new ij(i,n,s));let o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}function KXe(t,e,n){let r=n.split("|");return o=>{let i=o===null?"null":typeof o;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class JXe{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?KXe(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class oM{constructor(e,n,r,o){this.name=e,this.rank=n,this.schema=r,this.spec=o,this.attrs=Are(e,o.attrs),this.excluded=null;let i=Sre(this.attrs);this.instance=i?new wo(this,i):null}create(e=null){return!e&&this.instance?this.instance:new wo(this,Cre(this.attrs,e))}static compile(e,n){let r=Object.create(null),o=0;return e.forEach((i,s)=>r[i]=new oM(i,o++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){jre(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class GXe{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let o in e)n[o]=e[o];n.nodes=Ms.from(e.nodes),n.marks=Ms.from(e.marks||{}),this.nodes=ij.compile(this.spec.nodes,this),this.marks=oM.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let i=this.nodes[o],s=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=r[s]||(r[s]=Rm.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?bH(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let o in this.marks){let i=this.marks[o],s=i.spec.excludes;i.excluded=s==null?[i]:s==""?[]:bH(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof ij){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,o)}text(e,n){let r=this.nodes.text;return new oj(r,r.defaultAttrs,e,wo.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return rm.fromJSON(this,e)}markFromJSON(e){return wo.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function bH(t,e){let n=[];for(let r=0;r<e.length;r++){let o=e[r],i=t.marks[o],s=i;if(i)n.push(i);else for(let a in t.marks){let l=t.marks[a];(o=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function YXe(t){return t.tag!=null}function XXe(t){return t.style!=null}class xv{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(o=>{if(YXe(o))this.tags.push(o);else if(XXe(o)){let i=/[^=]*/.exec(o.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let i=e.nodes[o.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new xH(this,n,!1);return r.addAll(e,wo.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new xH(this,n,!0);return r.addAll(e,wo.none,n.from,n.to),zt.maxOpen(r.finish())}matchTag(e,n,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let i=this.tags[o];if(eQe(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let s=i.getAttrs(e);if(s===!1)continue;i.attrs=s||void 0}return i}}}matchStyle(e,n,r,o){for(let i=o?this.styles.indexOf(o)+1:0;i<this.styles.length;i++){let s=this.styles[i],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function r(o){let i=o.priority==null?50:o.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<i)break}n.splice(s,0,o)}for(let o in e.marks){let i=e.marks[o].spec.parseDOM;i&&i.forEach(s=>{r(s=kH(s)),s.mark||s.ignore||s.clearMark||(s.mark=o)})}for(let o in e.nodes){let i=e.nodes[o].spec.parseDOM;i&&i.forEach(s=>{r(s=kH(s)),s.node||s.ignore||s.mark||(s.node=o)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new xv(e,xv.schemaRules(e)))}}const Mre={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},QXe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Tre={ol:!0,ul:!0},Db=1,M3=2,wS=4;function wH(t,e,n){return e!=null?(e?Db:0)|(e==="full"?M3:0):t&&t.whitespace=="pre"?Db|M3:n&-5}class Ck{constructor(e,n,r,o,i,s){this.type=e,this.attrs=n,this.marks=r,this.solid=o,this.options=s,this.content=[],this.activeMarks=wo.none,this.match=i||(s&wS?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ut.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Db)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-o[0].length))}}let n=ut.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ut.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Mre.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class xH{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=n.topNode,i,s=wH(null,n.preserveWhitespace,0)|(r?wS:0);o?i=new Ck(o.type,o.attrs,wo.none,!0,n.topMatch||o.type.contentMatch,s):r?i=new Ck(null,null,wo.none,!0,null,s):i=new Ck(e.schema.topNodeType,null,wo.none,!0,null,s),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,o=this.top,i=o.options&M3?"full":this.localPreserveWS||(o.options&Db)>0;if(i==="full"||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)i!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=o.content[o.content.length-1],a=e.previousSibling;(!s||a&&a.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let o=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),a;Tre.hasOwnProperty(s)&&this.parser.normalizeLists&&ZXe(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:QXe.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(Mre.hasOwnProperty(s))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),c=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let d=l&&l.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),c&&this.sync(i),this.needsBlock=u}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=o}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let i=this.parser.matchedStyles[o],s=r.getPropertyValue(i);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(i,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,o){let i,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(s,n.attrs||null,r,n.preserveWhitespace);l&&(i=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(o)this.addElement(e,r,o);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}i&&this.sync(a)&&this.open--}addAll(e,n,r,o){let i=r||0;for(let s=r?e.childNodes[r]:e.firstChild,a=o==null?null:e.childNodes[o];s!=a;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s,n);this.findAtPoint(e,i)}findPlace(e,n,r){let o,i;for(let s=this.open,a=0;s>=0;s--){let l=this.nodes[s],c=l.findWrapping(e);if(c&&(!o||o.length>c.length+a)&&(o=c,i=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!o)return null;this.sync(i);for(let s=0;s<o.length;s++)n=this.enterInner(o[s],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let o=this.findPlace(e,n,r);if(o){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=wo.none;for(let a of o.concat(e.marks))(i.type?i.type.allowsMarkType(a.type):SH(a.type,e.type))&&(s=a.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,n,r,o){let i=this.findPlace(e.create(n),r,!1);return i&&(i=this.enterInner(e,n,r,!0,o)),i}enterInner(e,n,r,o=!1,i){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=wH(e,i,s.options);s.options&wS&&s.content.length==0&&(a|=wS);let l=wo.none;return r=r.filter(c=>(s.type?s.type.allowsMarkType(c.type):SH(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Ck(e,n,l,o,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Db)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let o=r.length-1;o>=0;o--)e+=r[o].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=i;l--)if(s(a-1,l))return!0;return!1}else{let u=l>0||l==0&&o?this.nodes[l].type:r&&l>=i?r.node(l-i).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function ZXe(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Tre.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function eQe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function kH(t){let e={};for(let n in t)e[n]=t[n];return e}function SH(t,e){let n=e.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(t))continue;let i=[],s=a=>{i.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||i.indexOf(u)<0&&s(u))return!0}};if(s(o.contentMatch))return!0}}const Ore=65535,$re=Math.pow(2,16);function tQe(t,e){return t+e*$re}function CH(t){return t&Ore}function nQe(t){return(t-(t&Ore))/$re}const Ere=1,_re=2,xS=4,Pre=8;class T3{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Pre)>0}get deletedBefore(){return(this.delInfo&(Ere|xS))>0}get deletedAfter(){return(this.delInfo&(_re|xS))>0}get deletedAcross(){return(this.delInfo&xS)>0}}class rl{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&rl.empty)return rl.empty}recover(e){let n=0,r=CH(e);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+nQe(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let o=0,i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?o:0);if(l>e)break;let c=this.ranges[a+i],u=this.ranges[a+s],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:n:n,h=l+o+(f<0?0:u);if(r)return h;let m=e==(n<0?l:d)?null:tQe(a/3,e-l),g=e==l?_re:e==d?Ere:xS;return(n<0?e!=l:e!=d)&&(g|=Pre),new T3(h,g,m)}o+=u-c}return r?e+o:new T3(e+o,0,null)}touches(e,n){let r=0,o=CH(n),i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+i],u=l+c;if(e<=u&&a==o*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,i=0;o<this.ranges.length;o+=3){let s=this.ranges[o],a=s-(this.inverted?i:0),l=s+(this.inverted?0:i),c=this.ranges[o+n],u=this.ranges[o+r];e(a,a+c,l,l+u),i+=u-c}}invert(){return new rl(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?rl.empty:new rl(e<0?[0,-e,0]:[0,0,e])}}rl.empty=new rl([]);class sj{constructor(e,n,r=0,o=e?e.length:0){this.mirror=n,this.from=r,this.to=o,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new sj(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let o=e.getMirror(n);this.appendMap(e._maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let o=e.getMirror(n);this.appendMap(e._maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let e=new sj;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let o=0;for(let i=this.from;i<this.to;i++){let s=this._maps[i],a=s.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this._maps[l].recover(a.recover);continue}}o|=a.delInfo,e=a.pos}return r?e:new T3(e,o,null)}}const RO=Object.create(null);class aa{getMap(){return rl.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=RO[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in RO)throw new RangeError("Duplicate use of step JSON ID "+e);return RO[e]=n,n.prototype.jsonID=e,n}}class qi{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new qi(e,null)}static fail(e){return new qi(null,e)}static fromReplace(e,n,r,o){try{return qi.ok(e.replace(n,r,o))}catch(i){if(i instanceof tj)return qi.fail(i.message);throw i}}}function yN(t,e,n){let r=[];for(let o=0;o<t.childCount;o++){let i=t.child(o);i.content.size&&(i=i.copy(yN(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return ut.fromArray(r)}class lh extends aa{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new zt(yN(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),o),n.openStart,n.openEnd);return qi.fromReplace(e,this.from,this.to,i)}invert(){return new pc(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new lh(n.pos,r.pos,this.mark)}merge(e){return e instanceof lh&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new lh(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new lh(n.from,n.to,e.markFromJSON(n.mark))}}aa.jsonID("addMark",lh);class pc extends aa{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new zt(yN(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),n.openStart,n.openEnd);return qi.fromReplace(e,this.from,this.to,r)}invert(){return new lh(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new pc(n.pos,r.pos,this.mark)}merge(e){return e instanceof pc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new pc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new pc(n.from,n.to,e.markFromJSON(n.mark))}}aa.jsonID("removeMark",pc);class ch extends aa{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return qi.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return qi.fromReplace(e,this.pos,this.pos+1,new zt(ut.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new ch(this.pos,n.marks[o]);return new ch(this.pos,this.mark)}}return new Nm(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ch(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ch(n.pos,e.markFromJSON(n.mark))}}aa.jsonID("addNodeMark",ch);class Nm extends aa{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return qi.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return qi.fromReplace(e,this.pos,this.pos+1,new zt(ut.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new ch(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Nm(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Nm(n.pos,e.markFromJSON(n.mark))}}aa.jsonID("removeNodeMark",Nm);class ds extends aa{constructor(e,n,r,o=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=o}apply(e){return this.structure&&O3(e,this.from,this.to)?qi.fail("Structure replace would overwrite content"):qi.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new rl([this.from,this.to-this.from,this.slice.size])}invert(e){return new ds(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ds(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ds)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?zt.empty:new zt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ds(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?zt.empty:new zt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ds(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ds(n.from,n.to,zt.fromJSON(e,n.slice),!!n.structure)}}aa.jsonID("replace",ds);class ws extends aa{constructor(e,n,r,o,i,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=a}apply(e){if(this.structure&&(O3(e,this.from,this.gapFrom)||O3(e,this.gapTo,this.to)))return qi.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return qi.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?qi.fromReplace(e,this.from,this.to,r):qi.fail("Content does not fit in gap")}getMap(){return new rl([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new ws(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||i>r.pos?null:new ws(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ws(n.from,n.to,n.gapFrom,n.gapTo,zt.fromJSON(e,n.slice),n.insert,!!n.structure)}}aa.jsonID("replaceAround",ws);function O3(t,e,n){let r=t.resolve(e),o=n-e,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let s=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}}return!1}function rQe(t,e,n,r){let o=[],i=[],s,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,e),h=Math.min(c+l.nodeSize,n),m=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(m)||(s&&s.to==f&&s.mark.eq(d[g])?s.to=h:o.push(s=new pc(f,h,d[g])));a&&a.to==f?a.to=h:i.push(a=new lh(f,h,r))}}),o.forEach(l=>t.step(l)),i.forEach(l=>t.step(l))}function oQe(t,e,n,r){let o=[],i=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;i++;let l=null;if(r instanceof oM){let c=s.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let h=0;h<o.length;h++){let m=o[h];m.step==i-1&&d.eq(o[h].style)&&(f=m)}f?(f.to=c,f.step=i):o.push({style:d,from:Math.max(a,e),to:c,step:i})}}}),o.forEach(s=>t.step(new pc(s.from,s.to,s.style)))}function bN(t,e,n,r=n.contentMatch,o=!0){let i=t.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<i.childCount;l++){let c=i.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)s.push(new ds(a,u,zt.empty));else{r=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||t.step(new pc(a,u,c.marks[f]));if(o&&c.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,m;for(;f=h.exec(c.text);)m||(m=new zt(ut.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),s.push(new ds(a+f.index,a+f.index+f[0].length,m))}}a=u}if(!r.validEnd){let l=r.fillBefore(ut.empty,!0);t.replace(a,a,new zt(l,0,0))}for(let l=s.length-1;l>=0;l--)t.step(s[l])}function iQe(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Iy(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let o=t.$from.node(r),i=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&o.canReplace(i,s,n))return r;if(r==0||o.type.spec.isolating||!iQe(o,i,s))break}return null}function sQe(t,e,n){let{$from:r,$to:o,depth:i}=e,s=r.before(i+1),a=o.after(i+1),l=s,c=a,u=ut.empty,d=0;for(let m=i,g=!1;m>n;m--)g||r.index(m)>0?(g=!0,u=ut.from(r.node(m).copy(u)),d++):l--;let f=ut.empty,h=0;for(let m=i,g=!1;m>n;m--)g||o.after(m+1)<o.end(m)?(g=!0,f=ut.from(o.node(m).copy(f)),h++):c++;t.step(new ws(l,c,s,a,new zt(u.append(f),d,h),u.size-d,!0))}function Ire(t,e,n=null,r=t){let o=aQe(t,e),i=o&&lQe(r,e);return i?o.map(jH).concat({type:e,attrs:n}).concat(i.map(jH)):null}function jH(t){return{type:t,attrs:null}}function aQe(t,e){let{parent:n,startIndex:r,endIndex:o}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let s=i.length?i[0]:e;return n.canReplaceWith(r,o,s)?i:null}function lQe(t,e){let{parent:n,startIndex:r,endIndex:o}=t,i=n.child(r),s=e.contentMatch.findWrapping(i.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<o;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}function cQe(t,e,n){let r=ut.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ut.from(n[s].type.create(n[s].attrs,r))}let o=e.start,i=e.end;t.step(new ws(o,i,o,i,new zt(r,0,0),n.length,!0))}function uQe(t,e,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{let l=typeof o=="function"?o(s):o;if(s.isTextblock&&!s.hasMarkup(r,l)&&dQe(t.doc,t.mapping.slice(i).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!m?c=!1:!h&&m&&(c=!0)}c===!1&&Nre(t,s,a,i),bN(t,t.mapping.slice(i).map(a,1),r,void 0,c===null);let u=t.mapping.slice(i),d=u.map(a,1),f=u.map(a+s.nodeSize,1);return t.step(new ws(d,f,d+1,f-1,new zt(ut.from(r.create(l,null,s.marks)),0,0),1,!0)),c===!0&&Rre(t,s,a,i),!1}})}function Rre(t,e,n,r){e.forEach((o,i)=>{if(o.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(o.text);){let l=t.mapping.slice(r).map(n+1+i+s.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function Nre(t,e,n,r){e.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let s=t.mapping.slice(r).map(n+1+i);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function dQe(t,e,n){let r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function fQe(t,e,n,r,o){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(r,null,o||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new ws(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new zt(ut.from(s),0,0),1,!0))}function Dd(t,e,n=1,r){let o=t.resolve(e),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,u=n-2;c>i;c--,u--){let d=o.node(c),f=o.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),m=r&&r[u+1];m&&(h=h.replaceChild(0,m.type.create(m.attrs)));let g=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(h))return!1}let a=o.indexAfter(i),l=r&&r[0];return o.node(i).canReplaceWith(a,a,l?l.type:o.node(i+1).type)}function hQe(t,e,n=1,r){let o=t.doc.resolve(e),i=ut.empty,s=ut.empty;for(let a=o.depth,l=o.depth-n,c=n-1;a>l;a--,c--){i=ut.from(o.node(a).copy(i));let u=r&&r[c];s=ut.from(u?u.type.create(u.attrs,s):o.node(a).copy(s))}t.step(new ds(e,e,new zt(i.append(s),n,n),!0))}function Qm(t,e){let n=t.resolve(e),r=n.index();return Lre(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function pQe(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let o=0;o<e.childCount;o++){let i=e.child(o),s=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function Lre(t,e){return!!(t&&e&&!t.isLeaf&&pQe(t,e))}function iM(t,e,n=-1){let r=t.resolve(e);for(let o=r.depth;;o--){let i,s,a=r.index(o);if(o==r.depth?(i=r.nodeBefore,s=r.nodeAfter):n>0?(i=r.node(o+1),a++,s=r.node(o).maybeChild(a)):(i=r.node(o).maybeChild(a-1),s=r.node(o+1)),i&&!i.isTextblock&&Lre(i,s)&&r.node(o).canReplace(a,a+1))return e;if(o==0)break;e=n<0?r.before(o):r.after(o)}}function mQe(t,e,n){let r=null,{linebreakReplacement:o}=t.doc.type.schema,i=t.doc.resolve(e-n),s=i.node().type;if(o&&s.inlineContent){let u=s.whitespace=="pre",d=!!s.contentMatch.matchType(o);u&&!d?r=!1:!u&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);Nre(t,u.node(),u.before(),a)}s.inlineContent&&bN(t,e+n-1,s,i.node().contentMatchAt(i.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new ds(c,l.map(e+n,-1),zt.empty,!0)),r===!0){let u=t.doc.resolve(c);Rre(t,u.node(),u.before(),t.steps.length)}return t}function gQe(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let i=r.indexAfter(o);if(r.node(o).canReplaceWith(i,i,n))return r.after(o+1);if(i<r.node(o).childCount)return null}return null}function sM(t,e,n=e,r=zt.empty){if(e==n&&!r.size)return null;let o=t.resolve(e),i=t.resolve(n);return Dre(o,i,r)?new ds(e,n,r):new vQe(o,i,r).fit()}function Dre(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class vQe{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ut.empty;for(let o=0;o<=e.depth;o++){let i=e.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=ut.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let i=this.placed,s=r.depth,a=o.depth;for(;s&&a&&i.childCount==1;)i=i.firstChild.content,s--,a--;let l=new zt(i,s,a);return e>-1?new ws(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new ds(r.pos,o.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(o=0),i.type.spec.isolating&&o<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let o,i=null;r?(i=NO(this.unplaced.content,r-1).firstChild,o=i.content):o=this.unplaced.content;let s=o.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(s?c.matchType(s.type)||(d=c.fillBefore(ut.from(s),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:d};if(n==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=NO(e,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new zt(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=NO(e,n);if(o.childCount<=1&&n>0){let i=e.size-n<=n+o.size;this.unplaced=new zt($1(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new zt($1(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:o,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let g=0;g<i.length;g++)this.openFrontierNode(i[g]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(o){for(let g=0;g<o.childCount;g++)u.push(o.child(g));d=d.matchFragment(o)}let h=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let g=a.child(c),v=d.matchType(g.type);if(!v)break;c++,(c>1||l==0||g.content.size)&&(d=v,u.push(Vre(g.mark(f.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?h:-1)))}let m=c==a.childCount;m||(h=-1),this.placed=E1(this.placed,n,ut.from(u)),this.frontier[n].match=d,m&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,v=a;g<h;g++){let y=v.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),v=y.content}this.unplaced=m?e==0?zt.empty:new zt($1(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new zt($1(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!LO(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=LO(e,n,o,r,i);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=LO(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=E1(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let o=e.node(r),i=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,i)}return e}openFrontierNode(e,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=E1(this.placed,this.depth,ut.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ut.empty,!0);n.childCount&&(this.placed=E1(this.placed,this.frontier.length,n))}}function $1(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy($1(t.firstChild.content,e-1,n)))}function E1(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(E1(t.lastChild.content,e-1,n)))}function NO(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Vre(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,Vre(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ut.empty,!0)))),t.copy(r)}function LO(t,e,n,r,o){let i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,s);return a&&!yQe(n,i.content,s)?a:null}function yQe(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function bQe(t){return t.spec.defining||t.spec.definingForContent}function wQe(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let o=t.doc.resolve(e),i=t.doc.resolve(n);if(Dre(o,i,r))return t.step(new ds(e,n,r));let s=zre(o,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(o.depth+1);s.unshift(a);for(let f=o.depth,h=o.pos-1;f>0;f--,h--){let m=o.node(f).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;s.indexOf(f)>-1?a=f:o.before(f)==h&&s.splice(1,0,-f)}let l=s.indexOf(a),c=[],u=r.openStart;for(let f=r.content,h=0;;h++){let m=f.firstChild;if(c.push(m),h==r.openStart)break;f=m.content}for(let f=u-1;f>=0;f--){let h=c[f],m=bQe(h.type);if(m&&!h.sameMarkup(o.node(Math.abs(a)-1)))u=f;else if(m||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),m=c[h];if(m)for(let g=0;g<s.length;g++){let v=s[(g+l)%s.length],y=!0;v<0&&(y=!1,v=-v);let b=o.node(v-1),x=o.index(v-1);if(b.canReplaceWith(x,x,m.type,m.marks))return t.replace(o.before(v),y?i.after(v):n,new zt(Bre(r.content,0,r.openStart,h),h,r.openEnd))}}let d=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let h=s[f];h<0||(e=o.before(h),n=i.after(h))}}function Bre(t,e,n,r,o){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(Bre(i.content,e+1,n,r,i)))}if(e>r){let i=o.contentMatchAt(0),s=i.fillBefore(t).append(t);t=s.append(i.matchFragment(s).fillBefore(ut.empty,!0))}return t}function xQe(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let o=gQe(t.doc,e,r.type);o!=null&&(e=n=o)}t.replaceRange(e,n,new zt(ut.from(r),0,0))}function kQe(t,e,n){let r=t.doc.resolve(e),o=t.doc.resolve(n),i=zre(r,o);for(let s=0;s<i.length;s++){let a=i[s],l=s==i.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),o.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),o.indexAfter(a-1))))return t.delete(r.before(a),o.after(a))}for(let s=1;s<=r.depth&&s<=o.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&o.end(s)-n!=o.depth-s&&r.start(s-1)==o.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),o.index(s-1)))return t.delete(r.before(s),n);t.delete(e,n)}function zre(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let o=r;o>=0;o--){let i=t.start(o);if(i<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(i==e.start(o)||o==t.depth&&o==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==i-1)&&n.push(o)}return n}class kv extends aa{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return qi.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return qi.fromReplace(e,this.pos,this.pos+1,new zt(ut.from(o),0,n.isLeaf?0:1))}getMap(){return rl.empty}invert(e){return new kv(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new kv(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new kv(n.pos,n.attr,n.value)}}aa.jsonID("attr",kv);class Vb extends aa{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return qi.ok(r)}getMap(){return rl.empty}invert(e){return new Vb(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Vb(n.attr,n.value)}}aa.jsonID("docAttr",Vb);let cy=class extends Error{};cy=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};cy.prototype=Object.create(Error.prototype);cy.prototype.constructor=cy;cy.prototype.name="TransformError";class SQe{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new sj}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new cy(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=zt.empty){let o=sM(this.doc,e,n,r);return o&&this.step(o),this}replaceWith(e,n,r){return this.replace(e,n,new zt(ut.from(r),0,0))}delete(e,n){return this.replace(e,n,zt.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return wQe(this,e,n,r),this}replaceRangeWith(e,n,r){return xQe(this,e,n,r),this}deleteRange(e,n){return kQe(this,e,n),this}lift(e,n){return sQe(this,e,n),this}join(e,n=1){return mQe(this,e,n),this}wrap(e,n){return cQe(this,e,n),this}setBlockType(e,n=e,r,o=null){return uQe(this,e,n,r,o),this}setNodeMarkup(e,n,r=null,o){return fQe(this,e,n,r,o),this}setNodeAttribute(e,n,r){return this.step(new kv(e,n,r)),this}setDocAttribute(e,n){return this.step(new Vb(e,n)),this}addNodeMark(e,n){return this.step(new ch(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof wo)n.isInSet(r.marks)&&this.step(new Nm(e,n));else{let o=r.marks,i,s=[];for(;i=n.isInSet(o);)s.push(new Nm(e,i)),o=i.removeFromSet(o);for(let a=s.length-1;a>=0;a--)this.step(s[a])}return this}split(e,n=1,r){return hQe(this,e,n,r),this}addMark(e,n,r){return rQe(this,e,n,r),this}removeMark(e,n,r){return oQe(this,e,n,r),this}clearIncompatible(e,n,r){return bN(this,e,n,r),this}}const DO=Object.create(null);class so{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new CQe(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=zt.empty){let r=n.content.lastChild,o=null;for(let a=0;a<n.openEnd;a++)o=r,r=r.lastChild;let i=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=e.mapping.slice(i);e.replaceRange(u.map(l.pos),u.map(c.pos),a?zt.empty:n),a==0&&TH(e,i,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,o=this.ranges;for(let i=0;i<o.length;i++){let{$from:s,$to:a}=o[i],l=e.mapping.slice(r),c=l.map(s.pos),u=l.map(a.pos);i?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),TH(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let o=e.parent.inlineContent?new ei(e):Ig(e.node(0),e.parent,e.pos,e.index(),n,r);if(o)return o;for(let i=e.depth-1;i>=0;i--){let s=n<0?Ig(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Ig(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Bl(e.node(0))}static atStart(e){return Ig(e,e,0,0,1)||new Bl(e)}static atEnd(e){return Ig(e,e,e.content.size,e.childCount,-1)||new Bl(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=DO[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in DO)throw new RangeError("Duplicate use of selection JSON ID "+e);return DO[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ei.between(this.$anchor,this.$head).getBookmark()}}so.prototype.visible=!0;class CQe{constructor(e,n){this.$from=e,this.$to=n}}let AH=!1;function MH(t){!AH&&!t.parent.inlineContent&&(AH=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ei extends so{constructor(e,n=e){MH(e),MH(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return so.near(r);let o=e.resolve(n.map(this.anchor));return new ei(o.parent.inlineContent?o:r,r)}replace(e,n=zt.empty){if(super.replace(e,n),n==zt.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ei&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new aM(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ei(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let o=e.resolve(n);return new this(o,r==n?o:e.resolve(r))}static between(e,n,r){let o=e.pos-n.pos;if((!r||o)&&(r=o>=0?1:-1),!n.parent.inlineContent){let i=so.findFrom(n,r,!0)||so.findFrom(n,-r,!0);if(i)n=i.$head;else return so.near(n,r)}return e.parent.inlineContent||(o==0?e=n:(e=(so.findFrom(e,-r,!0)||so.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=o<0&&(e=n))),new ei(e,n)}}so.jsonID("text",ei);class aM{constructor(e,n){this.anchor=e,this.head=n}map(e){return new aM(e.map(this.anchor),e.map(this.head))}resolve(e){return ei.between(e.resolve(this.anchor),e.resolve(this.head))}}class _o extends so{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:o}=n.mapResult(this.anchor),i=e.resolve(o);return r?so.near(i):new _o(i)}content(){return new zt(ut.from(this.node),0,0)}eq(e){return e instanceof _o&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new wN(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new _o(e.resolve(n.anchor))}static create(e,n){return new _o(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}_o.prototype.visible=!1;so.jsonID("node",_o);class wN{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new aM(r,r):new wN(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&_o.isSelectable(r)?new _o(n):so.near(n)}}class Bl extends so{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=zt.empty){if(n==zt.empty){e.delete(0,e.doc.content.size);let r=so.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Bl(e)}map(e){return new Bl(e)}eq(e){return e instanceof Bl}getBookmark(){return jQe}}so.jsonID("all",Bl);const jQe={map(){return this},resolve(t){return new Bl(t)}};function Ig(t,e,n,r,o,i=!1){if(e.inlineContent)return ei.create(t,n);for(let s=r-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){let a=e.child(s);if(a.isAtom){if(!i&&_o.isSelectable(a))return _o.create(t,n-(o<0?a.nodeSize:0))}else{let l=Ig(t,a,n+o,o<0?a.childCount:0,o,i);if(l)return l}n+=a.nodeSize*o}return null}function TH(t,e,n){let r=t.steps.length-1;if(r<e)return;let o=t.steps[r];if(!(o instanceof ds||o instanceof ws))return;let i=t.mapping.maps[r],s;i.forEach((a,l,c,u)=>{s==null&&(s=u)}),t.setSelection(so.near(t.doc.resolve(s),n))}function OH(t,e){return!e||!t?t:t.bind(e)}class jk{constructor(e,n,r){this.name=e,this.init=OH(n.init,r),this.apply=OH(n.apply,r)}}new jk("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new jk("selection",{init(t,e){return t.selection||so.atStart(e.doc)},apply(t){return t.selection}}),new jk("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new jk("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}});function Hre(t,e,n){for(let r in t){let o=t[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=Hre(o,e,{})),n[r]=o}return n}class Zm{constructor(e){this.spec=e,this.props={},e.props&&Hre(e.props,this,this.props),this.key=e.key?e.key.key:Fre("plugin")}getState(e){return e[this.key]}}const VO=Object.create(null);function Fre(t){return t in VO?t+"$"+ ++VO[t]:(VO[t]=0,t+"$")}class eg{constructor(e="key"){this.key=Fre(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const xN=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function qre(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const Ure=(t,e,n)=>{let r=qre(t,n);if(!r)return!1;let o=kN(r);if(!o){let s=r.blockRange(),a=s&&Iy(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let i=o.nodeBefore;if(eoe(t,o,e,-1))return!0;if(r.parent.content.size==0&&(uy(i,"end")||_o.isSelectable(i)))for(let s=r.depth;;s--){let a=sM(t.doc,r.before(s),r.after(s),zt.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(uy(i,"end")?so.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):_o.create(l.doc,o.pos-i.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return i.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0):!1},AQe=(t,e,n)=>{let r=qre(t,n);if(!r)return!1;let o=kN(r);return o?Wre(t,o,e):!1},MQe=(t,e,n)=>{let r=Jre(t,n);if(!r)return!1;let o=SN(r);return o?Wre(t,o,e):!1};function Wre(t,e,n){let r=e.nodeBefore,o=r,i=e.pos-1;for(;!o.isTextblock;i--){if(o.type.spec.isolating)return!1;let u=o.lastChild;if(!u)return!1;o=u}let s=e.nodeAfter,a=s,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=sM(t.doc,i,l,zt.empty);if(!c||c.from!=i||c instanceof ds&&c.slice.size>=l-i)return!1;if(n){let u=t.tr.step(c);u.setSelection(ei.create(u.doc,i)),n(u.scrollIntoView())}return!0}function uy(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Kre=(t,e,n)=>{let{$head:r,empty:o}=t.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=kN(r)}let s=i&&i.nodeBefore;return!s||!_o.isSelectable(s)?!1:(e&&e(t.tr.setSelection(_o.create(t.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function kN(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function Jre(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const Gre=(t,e,n)=>{let r=Jre(t,n);if(!r)return!1;let o=SN(r);if(!o)return!1;let i=o.nodeAfter;if(eoe(t,o,e,1))return!0;if(r.parent.content.size==0&&(uy(i,"start")||_o.isSelectable(i))){let s=sM(t.doc,r.before(),r.after(),zt.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(uy(i,"start")?so.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):_o.create(a.doc,a.mapping.map(o.pos))),e(a.scrollIntoView())}return!0}}return i.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0):!1},Yre=(t,e,n)=>{let{$head:r,empty:o}=t.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=SN(r)}let s=i&&i.nodeAfter;return!s||!_o.isSelectable(s)?!1:(e&&e(t.tr.setSelection(_o.create(t.doc,i.pos)).scrollIntoView()),!0)};function SN(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const TQe=(t,e)=>{let n=t.selection,r=n instanceof _o,o;if(r){if(n.node.isTextblock||!Qm(t.doc,n.from))return!1;o=n.from}else if(o=iM(t.doc,n.from,-1),o==null)return!1;if(e){let i=t.tr.join(o);r&&i.setSelection(_o.create(i.doc,o-t.doc.resolve(o).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},OQe=(t,e)=>{let n=t.selection,r;if(n instanceof _o){if(n.node.isTextblock||!Qm(t.doc,n.to))return!1;r=n.to}else if(r=iM(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},$Qe=(t,e)=>{let{$from:n,$to:r}=t.selection,o=n.blockRange(r),i=o&&Iy(o);return i==null?!1:(e&&e(t.tr.lift(o,i).scrollIntoView()),!0)},Xre=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function CN(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const EQe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),s=CN(o.contentMatchAt(i));if(!s||!o.canReplaceWith(i,i,s))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(so.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},Qre=(t,e)=>{let n=t.selection,{$from:r,$to:o}=n;if(n instanceof Bl||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=CN(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=t.tr.insert(s,i.createAndFill());a.setSelection(ei.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},Zre=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Dd(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),o=r&&Iy(r);return o==null?!1:(e&&e(t.tr.lift(r,o).scrollIntoView()),!0)};function _Qe(t){return(e,n)=>{let{$from:r,$to:o}=e.selection;if(e.selection instanceof _o&&e.selection.node.isBlock)return!r.parentOffset||!Dd(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],s,a,l=!1,c=!1;for(let h=r.depth;;h--)if(r.node(h).isBlock){l=r.end(h)==r.pos+(r.depth-h),c=r.start(h)==r.pos-(r.depth-h),a=CN(r.node(h-1).contentMatchAt(r.indexAfter(h-1))),i.unshift(l&&a?{type:a}:null),s=h;break}else{if(h==1)return!1;i.unshift(null)}let u=e.tr;(e.selection instanceof ei||e.selection instanceof Bl)&&u.deleteSelection();let d=u.mapping.map(r.pos),f=Dd(u.doc,d,i.length,i);if(f||(i[0]=a?{type:a}:null,f=Dd(u.doc,d,i.length,i)),!f)return!1;if(u.split(d,i.length,i),!l&&c&&r.node(s).type!=a){let h=u.mapping.map(r.before(s)),m=u.doc.resolve(h);a&&r.node(s-1).canReplaceWith(m.index(),m.index()+1,a)&&u.setNodeMarkup(u.mapping.map(r.before(s)),a)}return n&&n(u.scrollIntoView()),!0}}const PQe=_Qe(),IQe=(t,e)=>{let{$from:n,to:r}=t.selection,o,i=n.sharedDepth(r);return i==0?!1:(o=n.before(i),e&&e(t.tr.setSelection(_o.create(t.doc,o))),!0)};function RQe(t,e,n){let r=e.nodeBefore,o=e.nodeAfter,i=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(o.isTextblock||Qm(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function eoe(t,e,n,r){let o=e.nodeBefore,i=e.nodeAfter,s,a,l=o.type.spec.isolating||i.type.spec.isolating;if(!l&&RQe(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(a=o.contentMatchAt(o.childCount)).findWrapping(i.type))&&a.matchType(s[0]||i.type).validEnd){if(n){let h=e.pos+i.nodeSize,m=ut.empty;for(let y=s.length-1;y>=0;y--)m=ut.from(s[y].create(null,m));m=ut.from(o.copy(m));let g=t.tr.step(new ws(e.pos-1,h,e.pos,h,new zt(m,1,0),s.length,!0)),v=g.doc.resolve(h+2*s.length);v.nodeAfter&&v.nodeAfter.type==o.type&&Qm(g.doc,v.pos)&&g.join(v.pos),n(g.scrollIntoView())}return!0}let u=i.type.spec.isolating||r>0&&l?null:so.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),f=d&&Iy(d);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(c&&uy(i,"start",!0)&&uy(o,"end")){let h=o,m=[];for(;m.push(h),!h.isTextblock;)h=h.lastChild;let g=i,v=1;for(;!g.isTextblock;g=g.firstChild)v++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(n){let y=ut.empty;for(let x=m.length-1;x>=0;x--)y=ut.from(m[x].copy(y));let b=t.tr.step(new ws(e.pos-m.length,e.pos+i.nodeSize,e.pos+v,e.pos+i.nodeSize-v,new zt(y,m.length,0),0,!0));n(b.scrollIntoView())}return!0}}return!1}function toe(t){return function(e,n){let r=e.selection,o=t<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return o.node(i).isTextblock?(n&&n(e.tr.setSelection(ei.create(e.doc,t<0?o.start(i):o.end(i)))),!0):!1}}const NQe=toe(-1),LQe=toe(1);function DQe(t,e=null){return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i),a=s&&Ire(s,t,e);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function $H(t,e=null){return function(n,r){let o=!1;for(let i=0;i<n.selection.ranges.length&&!o;i++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[i];n.doc.nodesBetween(s,a,(l,c)=>{if(o)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)o=!0;else{let u=n.doc.resolve(c),d=u.index();o=u.parent.canReplaceWith(d,d+1,t)}})}if(!o)return!1;if(r){let i=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];i.setBlockType(a,l,t,e)}r(i.scrollIntoView())}return!0}}function jN(...t){return function(e,n,r){for(let o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}jN(xN,Ure,Kre);jN(xN,Gre,Yre);jN(Xre,Qre,Zre,PQe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function VQe(t,e=null){return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i);if(!s)return!1;let a=r?n.tr:null;return BQe(a,s,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function BQe(t,e,n,r=null){let o=!1,i=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=s.resolve(e.start-2);i=new rj(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new rj(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let a=Ire(i,n,r,e);return a?(t&&zQe(t,e,a,o,n),!0):!1}function zQe(t,e,n,r,o){let i=ut.empty;for(let u=n.length-1;u>=0;u--)i=ut.from(n[u].type.create(n[u].attrs,i));t.step(new ws(e.start-(r?2:0),e.end,e.start,e.end,new zt(i,0,0),n.length,!0));let s=0;for(let u=0;u<n.length;u++)n[u].type==o&&(s=u+1);let a=n.length-s,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,f=!0;u<d;u++,f=!1)!f&&Dd(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function HQe(t){return function(e,n){let{$from:r,$to:o}=e.selection,i=r.blockRange(o,s=>s.childCount>0&&s.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?FQe(e,n,t,i):qQe(e,n,i):!0:!1}}function FQe(t,e,n,r){let o=t.tr,i=r.end,s=r.$to.end(r.depth);i<s&&(o.step(new ws(i-1,s,i,s,new zt(ut.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new rj(o.doc.resolve(r.$from.pos),o.doc.resolve(s),r.depth));const a=Iy(r);if(a==null)return!1;o.lift(r,a);let l=o.doc.resolve(o.mapping.map(i,-1)-1);return Qm(o.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&o.join(l.pos),e(o.scrollIntoView()),!0}function qQe(t,e,n){let r=t.tr,o=n.parent;for(let h=n.end,m=n.endIndex-1,g=n.startIndex;m>g;m--)h-=o.child(m).nodeSize,r.delete(h-1,h+1);let i=r.doc.resolve(n.start),s=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==o.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?ut.empty:ut.from(o))))return!1;let d=i.pos,f=d+s.nodeSize;return r.step(new ws(d-(a?1:0),f+(l?1:0),d+1,f-1,new zt((a?ut.empty:ut.from(o.copy(ut.empty))).append(l?ut.empty:ut.from(o.copy(ut.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function UQe(t){return function(e,n){let{$from:r,$to:o}=e.selection,i=r.blockRange(o,c=>c.childCount>0&&c.firstChild.type==t);if(!i)return!1;let s=i.startIndex;if(s==0)return!1;let a=i.parent,l=a.child(s-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=ut.from(c?t.create():null),d=new zt(ut.from(t.create(null,ut.from(a.type.create(null,u)))),c?3:1,0),f=i.start,h=i.end;n(e.tr.step(new ws(f-(c?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}var WQe=Object.defineProperty,noe=(t,e)=>{for(var n in e)WQe(t,n,{get:e[n],enumerable:!0})};function roe(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:o}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,i=n.storedMarks,n}}}var KQe=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:o}=n,i=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([s,a])=>[s,(...c)=>{const u=a(...c)(i);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(o),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,s=[],a=!!t,l=t||o.tr,c=()=>(!a&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(l),s.every(d=>d===!0)),u={...Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...m)=>{const g=this.buildProps(l,e),v=f(...m)(g);return s.push(v),u}])),run:c};return u}createCan(t){const{rawCommands:e,state:n}=this,r=!1,o=t||n.tr,i=this.buildProps(o,r);return{...Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...c)=>l(...c)({...i,dispatch:void 0})])),chain:()=>this.createChain(o,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,s={tr:t,editor:r,view:i,state:roe({state:o,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([a,l])=>[a,(...c)=>l(...c)(s)]))}};return s}};function JQe(t,e){const n=new SQe(t);return e.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}var ooe=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&ooe(r)}return t};function Ak(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return ooe(n)}function Bb(t,e,n){if(t instanceof rm||t instanceof ut)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,o=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ut.fromArray(t.map(a=>e.nodeFromJSON(a)));const s=e.nodeFromJSON(t);return n.errorOnInvalidContent&&s.check(),s}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),Bb("",e,n)}if(o){if(n.errorOnInvalidContent){let s=!1,a="";const l=new GXe({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(s=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?xv.fromSchema(l).parseSlice(Ak(t),n.parseOptions):xv.fromSchema(l).parse(Ak(t),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const i=xv.fromSchema(e);return n.slice?i.parseSlice(Ak(t),n.parseOptions).content:i.parse(Ak(t),n.parseOptions)}return Bb("",e,n)}function GQe(t,e,n={},r={}){return Bb(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function YQe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function XQe(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function AN(t){return e=>XQe(e.$from,t)}function zb(t,e,n){return t.config[e]===void 0&&t.parent?zb(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?zb(t.parent,e,n):null}):t.config[e]}function QQe(t){return typeof t=="function"}function $3(t,e=void 0,...n){return QQe(t)?e?t.bind(e)(...n):t(...n):t}function ZQe(t){const e=t.filter(o=>o.type==="extension"),n=t.filter(o=>o.type==="node"),r=t.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function eZe(t,e,n){const{from:r,to:o}=e,{blockSeparator:i=`

`,textSerializers:s={}}=n||{};let a="";return t.nodesBetween(r,o,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(a+=i);const h=s==null?void 0:s[l.type.name];if(h)return u&&(a+=h({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(f=l==null?void 0:l.text)==null?void 0:f.slice(Math.max(r,c)-c,o-c))}),a}function tZe(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function ep(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function nZe(t,e){const n=ep(e,t.schema),{from:r,to:o,empty:i}=t.selection,s=[];i?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,o,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function oa(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function ioe(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function rZe(t,e=JSON.stringify){const n={};return t.filter(r=>{const o=e(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function oZe(t){const e=rZe(t);return e.length===1?e:e.filter((n,r)=>!e.filter((i,s)=>s!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function iZe(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((o,i)=>{const s=[];if(o.ranges.length)o.forEach((a,l)=>{s.push({from:a,to:l})});else{const{from:a,to:l}=n[i];if(a===void 0||l===void 0)return;s.push({from:a,to:l})}s.forEach(({from:a,to:l})=>{const c=e.slice(i).map(a,-1),u=e.slice(i).map(l),d=e.invert().map(c,-1),f=e.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),oZe(r)}function sZe(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function aj(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(o=>n.strict?e[o]===t[o]:sZe(e[o])?e[o].test(t[o]):e[o]===t[o]):!0}function soe(t,e,n={}){return t.find(r=>r.type===e&&aj(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function EH(t,e,n={}){return!!soe(t,e,n)}function aoe(t,e,n){var r;if(!t||!e)return;let o=t.parent.childAfter(t.parentOffset);if((!o.node||!o.node.marks.some(u=>u.type===e))&&(o=t.parent.childBefore(t.parentOffset)),!o.node||!o.node.marks.some(u=>u.type===e)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!soe([...o.node.marks],e,n)))return;let s=o.index,a=t.start()+o.offset,l=s+1,c=a+o.node.nodeSize;for(;s>0&&EH([...t.parent.child(s-1).marks],e,n);)s-=1,a-=t.parent.child(s).nodeSize;for(;l<t.parent.childCount&&EH([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function kS(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=t.find(i=>i.type===e&&i.name===r);return o?o.attribute.keepOnSplit:!1}))}function aZe(t,e,n={}){const{empty:r,ranges:o}=t.selection,i=e?ep(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>i?i.name===d.type.name:!0).find(d=>aj(d.attrs,n,{strict:!1}));let s=0;const a=[];if(o.forEach(({$from:d,$to:f})=>{const h=d.pos,m=f.pos;t.doc.nodesBetween(h,m,(g,v)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(h,v),b=Math.min(m,v+g.nodeSize),x=b-y;s+=x,a.push(...g.marks.map(k=>({mark:k,from:y,to:b})))})}),s===0)return!1;const l=a.filter(d=>i?i.name===d.mark.type.name:!0).filter(d=>aj(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=a.filter(d=>i?d.mark.type!==i&&d.mark.type.excludes(i):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=s}function MN(t,e,n={}){const{from:r,to:o,empty:i}=t.selection,s=e?oa(e,t.schema):null,a=[];t.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const h=Math.max(r,f),m=Math.min(o,f+d.nodeSize);a.push({node:d,from:h,to:m})});const l=o-r,c=a.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>aj(d.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}function _H(t,e){const{nodeExtensions:n}=ZQe(e),r=n.find(s=>s.name===t);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},i=$3(zb(r,"group",o));return typeof i!="string"?!1:i.split(" ").includes("list")}function loe(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let o=!0;return t.content.forEach(i=>{o!==!1&&(loe(i,{ignoreWhitespace:n,checkChildren:e})||(o=!1))}),o}return!1}function coe(t){return t instanceof ei}function Dp(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function lZe(t,e=null){if(!e)return null;const n=so.atStart(t),r=so.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const o=n.from,i=r.to;return e==="all"?ei.create(t,Dp(0,o,i),Dp(t.content.size,o,i)):ei.create(t,Dp(e,o,i),Dp(e,o,i))}function cZe(t,e,n){const r=t.steps.length-1;if(r<e)return;const o=t.steps[r];if(!(o instanceof ds||o instanceof ws))return;const i=t.mapping.maps[r];let s=0;i.forEach((a,l,c,u)=>{s===0&&(s=u)}),t.setSelection(so.near(t.doc.resolve(s),n))}function uZe(t){return Object.prototype.toString.call(t).slice(8,-1)}function Mk(t){return uZe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function uoe(t,e){const n={...t};return Mk(t)&&Mk(e)&&Object.keys(e).forEach(r=>{Mk(e[r])&&Mk(t[r])?n[r]=uoe(t[r],e[r]):n[r]=e[r]}),n}var dZe=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...$3(zb(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...$3(zb(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>uoe(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},fZe={};noe(fZe,{ClipboardTextSerializer:()=>hZe,Commands:()=>Cet,Delete:()=>jet,Drop:()=>Aet,Editable:()=>Met,FocusEvents:()=>Tet,Keymap:()=>Oet,Paste:()=>$et,Tabindex:()=>Eet,focusEventsPluginKey:()=>poe});var Gu=class doe extends dZe{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new doe(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},hZe=Gu.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Zm({key:new eg("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:o}=e,{ranges:i}=o,s=Math.min(...i.map(u=>u.$from.pos)),a=Math.max(...i.map(u=>u.$to.pos)),l=tZe(n);return eZe(r,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),foe={};noe(foe,{blur:()=>pZe,clearContent:()=>mZe,clearNodes:()=>gZe,command:()=>vZe,createParagraphNear:()=>yZe,cut:()=>bZe,deleteCurrentNode:()=>wZe,deleteNode:()=>xZe,deleteRange:()=>kZe,deleteSelection:()=>SZe,enter:()=>CZe,exitCode:()=>jZe,extendMarkRange:()=>AZe,first:()=>MZe,focus:()=>OZe,forEach:()=>$Ze,insertContent:()=>EZe,insertContentAt:()=>PZe,joinBackward:()=>NZe,joinDown:()=>RZe,joinForward:()=>LZe,joinItemBackward:()=>DZe,joinItemForward:()=>VZe,joinTextblockBackward:()=>BZe,joinTextblockForward:()=>zZe,joinUp:()=>IZe,keyboardShortcut:()=>FZe,lift:()=>qZe,liftEmptyBlock:()=>UZe,liftListItem:()=>WZe,newlineInCode:()=>KZe,resetAttributes:()=>JZe,scrollIntoView:()=>GZe,selectAll:()=>YZe,selectNodeBackward:()=>XZe,selectNodeForward:()=>QZe,selectParentNode:()=>ZZe,selectTextblockEnd:()=>eet,selectTextblockStart:()=>tet,setContent:()=>net,setMark:()=>oet,setMeta:()=>iet,setNode:()=>set,setNodeSelection:()=>aet,setTextSelection:()=>cet,sinkListItem:()=>uet,splitBlock:()=>det,splitListItem:()=>fet,toggleList:()=>het,toggleMark:()=>pet,toggleNode:()=>met,toggleWrap:()=>get,undoInputRule:()=>vet,unsetAllMarks:()=>yet,unsetMark:()=>bet,updateAttributes:()=>wet,wrapIn:()=>xet,wrapInList:()=>ket});var pZe=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),mZe=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),gZe=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:o}=r;return n&&o.forEach(({$from:i,$to:s})=>{t.doc.nodesBetween(i.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+a.nodeSize)),h=d.blockRange(f);if(!h)return;const m=Iy(h);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(h.start,g)}(m||m===0)&&e.lift(h,m)})}),!0},vZe=t=>e=>t(e),yZe=()=>({state:t,dispatch:e})=>Qre(t,e),bZe=(t,e)=>({editor:n,tr:r})=>{const{state:o}=n,i=o.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const s=r.mapping.map(e);return r.insert(s,i.content),r.setSelection(new ei(r.doc.resolve(Math.max(s-1,0)))),!0},wZe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const o=t.selection.$anchor;for(let i=o.depth;i>0;i-=1)if(o.node(i).type===r.type){if(e){const a=o.before(i),l=o.after(i);t.delete(a,l).scrollIntoView()}return!0}return!1},xZe=t=>({tr:e,state:n,dispatch:r})=>{const o=oa(t,n.schema),i=e.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===o){if(r){const l=i.before(s),c=i.after(s);e.delete(l,c).scrollIntoView()}return!0}return!1},kZe=t=>({tr:e,dispatch:n})=>{const{from:r,to:o}=t;return n&&e.delete(r,o),!0},SZe=()=>({state:t,dispatch:e})=>xN(t,e),CZe=()=>({commands:t})=>t.keyboardShortcut("Enter"),jZe=()=>({state:t,dispatch:e})=>EQe(t,e),AZe=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const i=ep(t,r.schema),{doc:s,selection:a}=n,{$from:l,from:c,to:u}=a;if(o){const d=aoe(l,i,e);if(d&&d.from<=c&&d.to>=u){const f=ei.create(s,d.from,d.to);n.setSelection(f)}}return!0},MZe=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function TZe(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function TN(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var OZe=(t=null,e={})=>({editor:n,view:r,tr:o,dispatch:i})=>{e={scrollIntoView:!0,...e};const s=()=>{(TN()||TZe())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!coe(n.state.selection))return s(),!0;const a=lZe(o.doc,t)||n.state.selection,l=n.state.selection.eq(a);return i&&(l||o.setSelection(a),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),s()),!0},$Ze=(t,e)=>n=>t.every((r,o)=>e(r,{...n,index:o})),EZe=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),_Ze=t=>!("type"in t),PZe=(t,e,n)=>({tr:r,dispatch:o,editor:i})=>{var s;if(o){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=v=>{i.emit("contentError",{editor:i,error:v,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{Bb(e,i.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(v){l(v)}try{a=Bb(e,i.schema,{parseOptions:c,errorOnInvalidContent:(s=n.errorOnInvalidContent)!=null?s:i.options.enableContentCheck})}catch(v){return l(v),!1}let{from:u,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,h=!0;if((_Ze(a)?a:[a]).forEach(v=>{v.check(),f=f?v.isText&&v.marks.length===0:!1,h=h?v.isBlock:!1}),u===d&&h){const{parent:v}=r.doc.resolve(u);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(u-=1,d+=1)}let g;if(f){if(Array.isArray(e))g=e.map(v=>v.text||"").join("");else if(e instanceof ut){let v="";e.forEach(y=>{y.text&&(v+=y.text)}),g=v}else typeof e=="object"&&e&&e.text?g=e.text:g=e;r.insertText(g,u,d)}else{g=a;const v=r.doc.resolve(u),y=v.node(),b=v.parentOffset===0,x=y.isText||y.isTextblock,k=y.content.size>0;b&&x&&k&&(u=Math.max(0,u-1)),r.replaceWith(u,d,g)}n.updateSelection&&cZe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:g}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:g})}return!0},IZe=()=>({state:t,dispatch:e})=>TQe(t,e),RZe=()=>({state:t,dispatch:e})=>OQe(t,e),NZe=()=>({state:t,dispatch:e})=>Ure(t,e),LZe=()=>({state:t,dispatch:e})=>Gre(t,e),DZe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=iM(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},VZe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=iM(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},BZe=()=>({state:t,dispatch:e})=>AQe(t,e),zZe=()=>({state:t,dispatch:e})=>MQe(t,e);function hoe(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function HZe(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,o,i,s;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))TN()||hoe()?s=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var FZe=t=>({editor:e,view:n,tr:r,dispatch:o})=>{const i=HZe(t).split(/-(?!$)/),s=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0},qZe=(t,e={})=>({state:n,dispatch:r})=>{const o=oa(t,n.schema);return MN(n,o,e)?$Qe(n,r):!1},UZe=()=>({state:t,dispatch:e})=>Zre(t,e),WZe=t=>({state:e,dispatch:n})=>{const r=oa(t,e.schema);return HQe(r)(e,n)},KZe=()=>({state:t,dispatch:e})=>Xre(t,e);function PH(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,o)=>(n.includes(o)||(r[o]=t[o]),r),{})}var JZe=(t,e)=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const a=ioe(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(i=oa(t,r.schema)),a==="mark"&&(s=ep(t,r.schema)),o&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{i&&i===c.type&&n.setNodeMarkup(u,void 0,PH(c.attrs,e)),s&&c.marks.length&&c.marks.forEach(d=>{s===d.type&&n.addMark(u,u+c.nodeSize,s.create(PH(d.attrs,e)))})})}),!0):!1},GZe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),YZe=()=>({tr:t,dispatch:e})=>{if(e){const n=new Bl(t.doc);t.setSelection(n)}return!0},XZe=()=>({state:t,dispatch:e})=>Kre(t,e),QZe=()=>({state:t,dispatch:e})=>Yre(t,e),ZZe=()=>({state:t,dispatch:e})=>IQe(t,e),eet=()=>({state:t,dispatch:e})=>LQe(t,e),tet=()=>({state:t,dispatch:e})=>NQe(t,e),net=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:i,dispatch:s,commands:a})=>{const{doc:l}=i;if(r.preserveWhitespace!=="full"){const c=GQe(t,o.schema,r,{errorOnInvalidContent:e??o.options.enableContentCheck});return s&&i.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return s&&i.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},t,{parseOptions:r,errorOnInvalidContent:e??o.options.enableContentCheck})};function ret(t,e,n){var r;const{selection:o}=e;let i=null;if(coe(o)&&(i=o.$cursor),i){const a=(r=t.storedMarks)!=null?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(a)||!a.some(c=>c.type.excludes(n)))}const{ranges:s}=o;return s.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const h=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));c=h&&m}return!c}),c})}var oet=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=n,{empty:s,ranges:a}=i,l=ep(t,r.schema);if(o)if(s){const c=nZe(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,h)=>{const m=Math.max(h,u),g=Math.min(h+f.nodeSize,d);f.marks.find(y=>y.type===l)?f.marks.forEach(y=>{l===y.type&&n.addMark(m,g,l.create({...y.attrs,...e}))}):n.addMark(m,g,l.create(e))})});return ret(r,n,l)},iet=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),set=(t,e={})=>({state:n,dispatch:r,chain:o})=>{const i=oa(t,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),i.isTextblock?o().command(({commands:a})=>$H(i,{...s,...e})(n)?!0:a.clearNodes()).command(({state:a})=>$H(i,{...s,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},aet=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,o=Dp(t,0,r.content.size),i=_o.create(r,o);e.setSelection(i)}return!0},cet=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:o,to:i}=typeof t=="number"?{from:t,to:t}:t,s=ei.atStart(r).from,a=ei.atEnd(r).to,l=Dp(o,s,a),c=Dp(i,s,a),u=ei.create(r,l,c);e.setSelection(u)}return!0},uet=t=>({state:e,dispatch:n})=>{const r=oa(t,e.schema);return UQe(r)(e,n)};function IH(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(o=>e==null?void 0:e.includes(o.type.name));t.tr.ensureMarks(r)}}var det=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:o})=>{const{selection:i,doc:s}=e,{$from:a,$to:l}=i,c=o.extensionManager.attributes,u=kS(c,a.node().type.name,a.node().attrs);if(i instanceof _o&&i.node.isBlock)return!a.parentOffset||!Dd(s,a.pos)?!1:(r&&(t&&IH(n,o.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=a.depth===0?void 0:YQe(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=d&&f?[{type:f,attrs:u}]:void 0,m=Dd(e.doc,e.mapping.map(a.pos),1,h);if(!h&&!m&&Dd(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(m=!0,h=f?[{type:f,attrs:u}]:void 0),r){if(m&&(i instanceof ei&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,h),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const g=e.mapping.map(a.before()),v=e.doc.resolve(g);a.node(-1).canReplaceWith(v.index(),v.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}t&&IH(n,o.extensionManager.splittableMarks),e.scrollIntoView()}return m},fet=(t,e={})=>({tr:n,state:r,dispatch:o,editor:i})=>{var s;const a=oa(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const f=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let y=ut.empty;const b=l.index(-1)?1:l.index(-2)?2:3;for(let j=l.depth-b;j>=l.depth-3;j-=1)y=ut.from(l.node(j).copy(y));const x=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,k={...kS(f,l.node().type.name,l.node().attrs),...e},w=((s=a.contentMatch.defaultType)==null?void 0:s.createAndFill(k))||void 0;y=y.append(ut.from(a.createAndFill(null,w)||void 0));const S=l.before(l.depth-(b-1));n.replace(S,l.after(-x),new zt(y,4-b,0));let C=-1;n.doc.nodesBetween(S,n.doc.content.size,(j,A)=>{if(C>-1)return!1;j.isTextblock&&j.content.size===0&&(C=A+1)}),C>-1&&n.setSelection(ei.near(n.doc.resolve(C))),n.scrollIntoView()}return!0}const h=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...kS(f,d.type.name,d.attrs),...e},g={...kS(f,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const v=h?[{type:a,attrs:m},{type:h,attrs:g}]:[{type:a,attrs:m}];if(!Dd(n.doc,l.pos,2))return!1;if(o){const{selection:y,storedMarks:b}=r,{splittableMarks:x}=i.extensionManager,k=b||y.$to.parentOffset&&y.$from.marks();if(n.split(l.pos,2,v).scrollIntoView(),!k||!o)return!0;const w=k.filter(S=>x.includes(S.type.name));n.ensureMarks(w)}return!0},BO=(t,e)=>{const n=AN(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&Qm(t.doc,n.pos)&&t.join(n.pos),!0},zO=(t,e)=>{const n=AN(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&Qm(t.doc,r)&&t.join(r),!0},het=(t,e,n,r={})=>({editor:o,tr:i,state:s,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,h=oa(t,s.schema),m=oa(e,s.schema),{selection:g,storedMarks:v}=s,{$from:y,$to:b}=g,x=y.blockRange(b),k=v||g.$to.parentOffset&&g.$from.marks();if(!x)return!1;const w=AN(S=>_H(S.type.name,d))(g);if(x.depth>=1&&w&&x.depth-w.depth<=1){if(w.node.type===h)return c.liftListItem(m);if(_H(w.node.type.name,d)&&h.validContent(w.node.content)&&a)return l().command(()=>(i.setNodeMarkup(w.pos,h),!0)).command(()=>BO(i,h)).command(()=>zO(i,h)).run()}return!n||!k||!a?l().command(()=>u().wrapInList(h,r)?!0:c.clearNodes()).wrapInList(h,r).command(()=>BO(i,h)).command(()=>zO(i,h)).run():l().command(()=>{const S=u().wrapInList(h,r),C=k.filter(j=>f.includes(j.type.name));return i.ensureMarks(C),S?!0:c.clearNodes()}).wrapInList(h,r).command(()=>BO(i,h)).command(()=>zO(i,h)).run()},pet=(t,e={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:i=!1}=n,s=ep(t,r.schema);return aZe(r,s,e)?o.unsetMark(s,{extendEmptyMarkRange:i}):o.setMark(s,e)},met=(t,e,n={})=>({state:r,commands:o})=>{const i=oa(t,r.schema),s=oa(e,r.schema),a=MN(r,i,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?o.setNode(s,l):o.setNode(i,{...l,...n})},get=(t,e={})=>({state:n,commands:r})=>{const o=oa(t,n.schema);return MN(n,o,e)?r.lift(o):r.wrapIn(o,e)},vet=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let i;if(o.spec.isInputRules&&(i=o.getState(t))){if(e){const s=t.tr,a=i.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(i.text){const l=s.doc.resolve(i.from).marks();s.replaceWith(i.from,i.to,t.schema.text(i.text,l))}else s.delete(i.from,i.to)}return!0}}return!1},yet=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:o}=n;return r||e&&o.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},bet=(t,e={})=>({tr:n,state:r,dispatch:o})=>{var i;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=n,l=ep(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!o)return!0;if(u&&s){let{from:f,to:h}=a;const m=(i=c.marks().find(v=>v.type===l))==null?void 0:i.attrs,g=aoe(c,l,m);g&&(f=g.from,h=g.to),n.removeMark(f,h,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},wet=(t,e={})=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const a=ioe(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(i=oa(t,r.schema)),a==="mark"&&(s=ep(t,r.schema)),o&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let d,f,h,m;n.selection.empty?r.doc.nodesBetween(c,u,(g,v)=>{i&&i===g.type&&(h=Math.max(v,c),m=Math.min(v+g.nodeSize,u),d=v,f=g)}):r.doc.nodesBetween(c,u,(g,v)=>{v<c&&i&&i===g.type&&(h=Math.max(v,c),m=Math.min(v+g.nodeSize,u),d=v,f=g),v>=c&&v<=u&&(i&&i===g.type&&n.setNodeMarkup(v,void 0,{...g.attrs,...e}),s&&g.marks.length&&g.marks.forEach(y=>{if(s===y.type){const b=Math.max(v,c),x=Math.min(v+g.nodeSize,u);n.addMark(b,x,s.create({...y.attrs,...e}))}}))}),f&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...f.attrs,...e}),s&&f.marks.length&&f.marks.forEach(g=>{s===g.type&&n.addMark(h,m,s.create({...g.attrs,...e}))}))}),!0):!1},xet=(t,e={})=>({state:n,dispatch:r})=>{const o=oa(t,n.schema);return DQe(o,e)(n,r)},ket=(t,e={})=>({state:n,dispatch:r})=>{const o=oa(t,n.schema);return VQe(o,e)(n,r)},Cet=Gu.create({name:"commands",addCommands(){return{...foe}}}),jet=Gu.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,o;const i=()=>{var s,a,l,c;if((c=(l=(a=(s=this.editor.options.coreExtensionOptions)==null?void 0:s.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,t))!=null?c:t.getMeta("y-sync$"))return;const u=JQe(t.before,[t,...e]);iZe(u).forEach(h=>{u.mapping.mapResult(h.oldRange.from).deletedAfter&&u.mapping.mapResult(h.oldRange.to).deletedBefore&&u.before.nodesBetween(h.oldRange.from,h.oldRange.to,(m,g)=>{const v=g+m.nodeSize-2,y=h.oldRange.from<=g&&v<=h.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:g,to:v,newFrom:u.mapping.map(g),newTo:u.mapping.map(v),deletedRange:h.oldRange,newRange:h.newRange,partial:!y,editor:this.editor,transaction:t,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((h,m)=>{var g,v;if(h instanceof pc){const y=f.slice(m).map(h.from,-1),b=f.slice(m).map(h.to),x=f.invert().map(y,-1),k=f.invert().map(b),w=(g=u.doc.nodeAt(y-1))==null?void 0:g.marks.some(C=>C.eq(h.mark)),S=(v=u.doc.nodeAt(b))==null?void 0:v.marks.some(C=>C.eq(h.mark));this.editor.emit("delete",{type:"mark",mark:h.mark,from:h.from,to:h.to,deletedRange:{from:x,to:k},newRange:{from:y,to:b},partial:!!(S||w),editor:this.editor,transaction:t,combinedTransform:u})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(i,0):i()}}),Aet=Gu.create({name:"drop",addProseMirrorPlugins(){return[new Zm({key:new eg("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),Met=Gu.create({name:"editable",addProseMirrorPlugins(){return[new Zm({key:new eg("editable"),props:{editable:()=>this.editor.options.editable}})]}}),poe=new eg("focusEvents"),Tet=Gu.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Zm({key:poe,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Oet=Gu.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:f,parent:h}=d,m=d.parent.isTextblock&&f>0?a.doc.resolve(f-1):d,g=m.parent.type.spec.isolating,v=d.pos-d.parentOffset,y=g&&m.parent.childCount===1?v===d.pos:so.atStart(c).from===f;return!u||!h.type.isTextblock||h.textContent.length||!y||y&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return TN()||hoe()?i:o},addProseMirrorPlugins(){return[new Zm({key:new eg("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(g=>g.getMeta("composition")))return;const r=t.some(g=>g.docChanged)&&!e.doc.eq(n.doc),o=t.some(g=>g.getMeta("preventClearDocument"));if(!r||o)return;const{empty:i,from:s,to:a}=e.selection,l=so.atStart(e.doc).from,c=so.atEnd(e.doc).to;if(i||!(s===l&&a===c)||!loe(n.doc))return;const f=n.tr,h=roe({state:n,transaction:f}),{commands:m}=new KQe({editor:this.editor,state:h});if(m.clearNodes(),!!f.steps.length)return f}})]}}),$et=Gu.create({name:"paste",addProseMirrorPlugins(){return[new Zm({key:new eg("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),Eet=Gu.create({name:"tabindex",addProseMirrorPlugins(){return[new Zm({key:new eg("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),_et="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",Pet="M14 2H6C4.89 2 4 2.9 4 4V20C4 21.11 4.89 22 6 22H18C19.11 22 20 21.11 20 20V8L14 2M18 20H6V4H13V9H18V20M9.54 15.65L11.63 17.74L10.35 19L7 15.65L10.35 12.3L11.63 13.56L9.54 15.65M17 15.65L13.65 19L12.38 17.74L14.47 15.65L12.38 13.56L13.65 12.3L17 15.65Z";const Iet=en({__name:"PreviewActionButton",props:{editor:{},tooltip:{default:void 0},disabled:{type:Boolean,default:!1}},setup(t){const{global:{name:e}}=fy(),n=Ye(""),r=Ye(!1),o=Ye(900);return(i,s)=>{const a=lo,l=fl,c=Q7,u=Hh,d=WO("VuetifyViewer"),f=Yq,h=Xq,m=Fu,g=my,v=T4;return tt(),Rt(Ie(Gn),{editor:i.editor,tooltip:"",disabled:i.disabled},{default:He(()=>[F(a,null,{default:He(()=>[dr(Kr(`svg:${Ie(Pet)}`),1)]),_:1}),F(v,{theme:Ie(e)},{default:He(()=>[F(g,{modelValue:r.value,"onUpdate:modelValue":s[2]||(s[2]=y=>r.value=y),fullscreen:"","hide-overlay":"",activator:"parent"},{default:He(()=>[F(m,null,{default:He(()=>[F(u,{dark:"",color:"primary"},{default:He(()=>[F(l,{icon:"",dark:"",onClick:s[0]||(s[0]=y=>r.value=!1)},{default:He(()=>[F(a,null,{default:He(()=>[dr(Kr(`svg:${Ie(_et)}`),1)]),_:1})]),_:1}),F(c,{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=y=>n.value=y),color:"deep-purple-accent-3",rounded:"0",group:""},{default:He(()=>[F(l,{value:""},{default:He(()=>s[3]||(s[3]=[dr(" Global ")])),_:1,__:[3]}),F(l,{value:"default"},{default:He(()=>s[4]||(s[4]=[dr(" Default ")])),_:1,__:[4]}),F(l,{value:"github"},{default:He(()=>s[5]||(s[5]=[dr(" Github ")])),_:1,__:[5]}),F(l,{value:"maidragon"},{default:He(()=>s[6]||(s[6]=[dr(" Maidragon ")])),_:1,__:[6]})]),_:1},8,["modelValue"])]),_:1}),F(h,null,{default:He(()=>[F(f,{class:"mx-auto","max-width":o.value},{default:He(()=>[F(d,{value:i.editor.getJSON(),"markdown-theme":n.value},null,8,["value","markdown-theme"])]),_:1},8,["max-width"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["theme"])]),_:1},8,["editor","disabled"])}}}),Ret=Gu.create({name:"preview",addOptions(){return{divider:!1,spacer:!1,button:({editor:t})=>({component:Iet,componentProps:{editor:t}})}}}),RH={type:"doc",content:[{type:"heading",attrs:{textAlign:"start",level:1},content:[{type:"text",text:"Vuetify Pro Tiptap"}]},{type:"paragraph",attrs:{textAlign:"start"},content:[{type:"text",text:"A WYSIWYG rich-text editor using "},{type:"text",marks:[{type:"link",attrs:{href:"https://github.com/scrumpy/tiptap",target:"_blank",class:null}}],text:"tiptap"},{type:"text",text:" and "},{type:"text",marks:[{type:"link",attrs:{href:"https://github.com/vuetifyjs/vuetify",target:"_blank",class:null}}],text:"vuetify"},{type:"text",text:" for Vue.js"},{type:"image",attrs:{textAlign:"left",src:"https://picsum.photos/1920/1080.webp?t=1",alt:"Test 1",title:null,lockAspectRatio:!0,width:200,height:null,display:"right"},content:[{type:"text",text:"Image legend"}]}]},{type:"paragraph",attrs:{textAlign:"start"}},{type:"paragraph",attrs:{textAlign:"start"}},{type:"horizontalRule"},{type:"heading",attrs:{textAlign:"start",level:2},content:[{type:"text",text:"Demo"}]},{type:"paragraph",attrs:{textAlign:"start"},content:[{type:"text",text:""},{type:"text",marks:[{type:"link",attrs:{href:"https://yikoyu.github.io/vuetify-pro-tiptap/",target:"_blank",class:null}}],text:"https://yikoyu.github.io/vuetify-pro-tiptap/"}]},{type:"heading",attrs:{textAlign:"start",level:2},content:[{type:"text",text:"Features"}]},{type:"bulletList",content:[{type:"listItem",content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Use "},{type:"text",marks:[{type:"link",attrs:{href:"https://github.com/vuetifyjs/vuetify",target:"_blank",class:null}}],text:"vuetify"},{type:"text",text:" components"}]}]},{type:"listItem",content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Markdown support"}]}]},{type:"listItem",content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"TypeScript support"}]}]},{type:"listItem",content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"I18n support("},{type:"text",marks:[{type:"code"}],text:"en"},{type:"text",text:", "},{type:"text",marks:[{type:"code"}],text:"zhHans"},{type:"text",text:")"}]}]},{type:"listItem",content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Vuetify 3.x and Vue 3.x support"}]}]}]},{type:"heading",attrs:{textAlign:"start",level:2},content:[{type:"text",text:"Vuetify 2.x"}]},{type:"paragraph",attrs:{textAlign:"start"},content:[{type:"text",text:"For Vuetify 2.x please use the latest version of "},{type:"text",marks:[{type:"link",attrs:{href:"https://github.com/yikoyu/vuetify-pro-tiptap/tree/1.x",target:"_blank",class:null}}],text:"vuetify-pro-tiptap@1.X.X"}]},{type:"heading",attrs:{textAlign:"start",level:2},content:[{type:"text",text:"Installation"}]},{type:"heading",attrs:{textAlign:"start",level:3},content:[{type:"text",text:"NPM"}]},{type:"codeBlock",attrs:{language:null},content:[{type:"text",text:`pnpm add vuetify-pro-tiptap
# or
yarn add vuetify-pro-tiptap
# or
npm i vuetify-pro-tiptap -S`}]},{type:"heading",attrs:{textAlign:"start",level:3},content:[{type:"text",text:"Install plugin"}]},{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"tiptap.tsmain.ts"}]},{type:"heading",attrs:{textAlign:"start",level:2},content:[{type:"text",text:"Global Settings"}]},{type:"codeBlock",attrs:{language:null},content:[{type:"text",text:`import { markRaw } from 'vue'
import { VuetifyTiptap, VuetifyViewer, createVuetifyProTipTap, defaultBubbleList } from 'vuetify-pro-tiptap'
import { BaseKit, Image, Fullscreen } from 'vuetify-pro-tiptap'
import 'vuetify-pro-tiptap/style.css'
import SelectImage from './components/SelectImage.vue'

export const vuetifyProTipTap = createVuetifyProTipTap({
  // Set default lang
  lang: 'zhHans',
  // Global registration app.component
  components: {
    VuetifyTiptap,
    VuetifyViewer
  },
  // Global registration extensions
  extensions: [
    BaseKit.configure({
      placeholder: {
        placeholder: 'Enter some text...'
      },
      bubble: {
        // default config
        list: {
          image: [ 'float-left', 'float-none', 'float-right', 'divider', 'size-small', 'size-medium', 'size-large', 'divider', 'textAlign', 'divider', 'image', 'image-aspect-ratio', 'remove'],
          text: ['bold', 'italic', 'underline', 'strike', 'divider', 'color', 'highlight', 'textAlign', 'divider', 'link'],
          video: ['video', 'remove']
        },
        defaultBubbleList: editor => {
          // You can customize the bubble menu here
          return defaultBubbleList(editor) // default customize bubble list
        }
      }
    }),
    Image.configure({
      // Generate a VDivider after the button
      divider: true,
      // Custom image tabs
      imageTabs: [{ name: 'SELECT', component: markRaw(SelectImage) }],
      // hidden default tab
      hiddenTabs: ['upload'],
      // custom upload function
      upload(file) {
        const url = URL.createObjectURL(file)
        console.log('mock upload api :>> ', url)
        return Promise.resolve(url)
      }
    }),
    Fullscreen.configure({
      // Generate a VSpacer after the button
      spacer: true
    })
  ]
})`}]},{type:"heading",attrs:{textAlign:"start",level:2},content:[{type:"text",text:"Custom extensions"}]},{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"PreviewActionButton.vuepreview.ts"}]},{type:"heading",attrs:{textAlign:"start",level:2},content:[{type:"text",text:"I18n"}]},{type:"heading",attrs:{textAlign:"start",level:3},content:[{type:"text",text:"Setting language"}]},{type:"paragraph",attrs:{textAlign:"start"},content:[{type:"text",text:"You can declare when you install the plugin."}]},{type:"codeBlock",attrs:{language:null},content:[{type:"text",text:`import { createVuetifyProTipTap } from 'vuetify-pro-tiptap'

const VuetifyProTipTap = createVuetifyProTipTap({
  lang: 'zhHans'
})`}]},{type:"paragraph",attrs:{textAlign:"start"},content:[{type:"text",text:"Or use "},{type:"text",marks:[{type:"code"}],text:"setLang"},{type:"text",text:" dynamic change"}]},{type:"codeBlock",attrs:{language:null},content:[{type:"text",text:`import { locale } from 'vuetify-pro-tiptap'

locale.setLang('en')`}]},{type:"paragraph",attrs:{textAlign:"start"},content:[{type:"text",text:"Available languages:"}]},{type:"bulletList",content:[{type:"listItem",content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"en (default)"}]}]},{type:"listItem",content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"zhHans"}]}]}]},{type:"heading",attrs:{textAlign:"start",level:3},content:[{type:"text",text:"Use unavailable language"}]},{type:"paragraph",attrs:{textAlign:"start"},content:[{type:"text",text:"Loading unavailable language, use "},{type:"text",marks:[{type:"code"}],text:"setMessage"},{type:"text",text:" for Settings"}]},{type:"codeBlock",attrs:{language:null},content:[{type:"text",text:`import { locale } from 'vuetify-pro-tiptap'

locale.setMessage('zhHant', {
  // i18n text
})
locale.setLang('zhHant')`}]},{type:"heading",attrs:{textAlign:"start",level:2},content:[{type:"text",text:"Usage"}]},{type:"codeBlock",attrs:{language:null},content:[{type:"text",text:`<script setup lang="ts">
import { ref } from 'vue'
import { VuetifyTiptap, VuetifyViewer } from 'vuetify-pro-tiptap'
import 'vuetify-pro-tiptap/style.css'
import { BaseKit, Bold, Italic, Underline, Strike, Color, Highlight, Heading, Link, Image, Video, Table, Fullscreen, History } from 'vuetify-pro-tiptap'

const extensions = [
  BaseKit.configure({
    placeholder: {
      placeholder: 'Enter some text...'
    }
  }),
  Bold,
  Italic,
  Underline,
  Strike,
  Color,
  Highlight,
  Heading,
  Link,
  Image,
  Video,
  Table,
  Fullscreen,
  History
]

const content = ref('')
<\/script>

<template>
  <v-app id="app">
    <v-container>
      <VuetifyTiptap v-model="content" label="Title" rounded :min-height="200" :max-height="465" :max-width="900" :extensions="extensions" />
      <VuetifyViewer :value="content" />
    </v-container>
  </v-app>
</template>`}]},{type:"heading",attrs:{textAlign:"start",level:2},content:[{type:"text",text:"Props"}]},{type:"heading",attrs:{textAlign:"start",level:3},content:[{type:"text",text:"VuetifyTiptap"}]},{type:"heading",attrs:{textAlign:"start",level:4},content:[{type:"text",text:"Props"}]},{type:"table",content:[{type:"tableRow",content:[{type:"tableHeader",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Name"}]}]},{type:"tableHeader",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Type"}]}]},{type:"tableHeader",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Default"}]}]},{type:"tableHeader",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Description"}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"modelValue"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"string"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"''"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"The inputs value"}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"dark"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"boolean"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"false"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Applies the dark theme variant to the component."}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"dense"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"boolean"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"false"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Reduces the input height"}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"outlined"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"boolean"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"true"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Applies the outlined style to the input"}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"flat"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"boolean"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"true"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Removes the cards elevation"}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"disabled"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"boolean"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"false"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Disable the input"}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"label"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"string"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"undefined"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Sets input label"}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"hideToolbar"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"boolean"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"false"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Hidden the toolbar"}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"disableToolbar"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"boolean"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"false"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Disable the toolbar"}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"maxWidth"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"string | boolean"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"undefined"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Sets the maximum width for the component."}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"minHeight"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"string | boolean"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"undefined"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Sets the minimum height for the component."}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"maxHeight"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"string | boolean"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"undefined"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Sets the maximum height for the component."}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"extensions"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"AnyExtension[]"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"[]"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Tiptap the extensions"}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"editorClass"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"string | string[] | Record<string, any>"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"undefined"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Editor class"}]}]}]}]},{type:"heading",attrs:{textAlign:"start",level:4},content:[{type:"text",text:"Slots"}]},{type:"table",content:[{type:"tableRow",content:[{type:"tableHeader",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Name"}]}]},{type:"tableHeader",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Description"}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"editor"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Slot to customize editor"}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"bottom"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Slot to customize editor bottom"}]}]}]}]},{type:"heading",attrs:{textAlign:"start",level:3},content:[{type:"text",text:"VuetifyViewer"}]},{type:"heading",attrs:{textAlign:"start",level:4},content:[{type:"text",text:"Props"}]},{type:"table",content:[{type:"tableRow",content:[{type:"tableHeader",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Name"}]}]},{type:"tableHeader",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Type"}]}]},{type:"tableHeader",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Default"}]}]},{type:"tableHeader",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Description"}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"value"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"value"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"''"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"The previews value"}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"dark"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"boolean"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"false"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Applies the dark theme variant to the component."}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"dense"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"boolean"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"false"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Reduces the input height"}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"hideMarkdownStyle"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"boolean"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"false"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Hide .markdown-body class"}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"xss"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"boolean"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"true"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Enable xss filter"}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"xssOptions"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"xss.IWhiteList"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Default rule"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Xss filter rule config"}]}]}]}]},{type:"heading",attrs:{textAlign:"start",level:4},content:[{type:"text",text:"Slots"}]},{type:"table",content:[{type:"tableRow",content:[{type:"tableHeader",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Name"}]}]},{type:"tableHeader",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Description"}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"before"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Add content at the before"}]}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"after"}]}]},{type:"tableCell",attrs:{colspan:1,rowspan:1,colwidth:null},content:[{type:"paragraph",attrs:{textAlign:"left"},content:[{type:"text",text:"Add content at the after"}]}]}]}]}]},Net={class:"my-4"},Let={class:"my-4"},Det={class:"my-4"},Vet=en({__name:"App",setup(t){const e=[Ret.configure({spacer:!0}),Xne.configure({placeholder:{placeholder:"Placeholder..."}}),Qne.configure({levels:[1,2,3,4]})],n=fy(),r=Ye(null),o=Ye("json"),i=Ye(RH),s=Ye(""),a=Ye(!0),l=Ye(!1);Ye(!1);const c=Ye(!1),u=Ye(!1),d=Ye(null),f=Ye(900),h=Ye(RH),m=Ye({...qs.message.en});function g(){n.global.name.value=n.global.current.value.dark?"light":"dark"}function v(){qs.setMessage("custom",Ie(m)),qs.setLang("custom")}function y({editor:w,output:S}){const C=w.getJSON();h.value=C,console.log("output :>> ",S),console.log("output[html] :>> ",w.getHTML()),console.log("output[json] :>> ",w.getJSON()),console.log("output[text] :>> ",w.getText())}function b(){var S;const w=(S=r.value)==null?void 0:S.editor.getHTML();console.log("getHTML :>> ",w)}function x(){var S;const w=(S=r.value)==null?void 0:S.editor.getJSON();console.log("getJSON :>> ",w,JSON.stringify(w))}function k(){var S;const w=(S=r.value)==null?void 0:S.editor.getText();console.log("getText :>> ",w)}return(w,S)=>{const C=cq,j=fl,A=Q7,_=WO("VuetifyViewer"),R=cf,T=Fu,z=my,U=WO("VuetifyTiptap"),G=Fh,ce=Xq,ie=Yle;return tt(),Rt(ie,{id:"app"},{default:He(()=>[F(ce,null,{default:He(()=>[F(C,{class:"mb-4",type:"info",title:"Support repository",variant:"tonal"},{text:He(()=>S[9]||(S[9]=[Oe("div",{class:"d-flex align-center"},[dr(" If you like the repository, you can give us "),Oe("iframe",{class:"ms-2",src:"https://ghbtns.com/github-btn.html?user=yikoyu&repo=vuetify-pro-tiptap&type=star&count=true",frameborder:"0",scrolling:"0",width:"120",height:"20",title:"GitHub"})],-1)])),_:1}),F(j,{class:"mb-4",color:"primary",onClick:g},{default:He(()=>[dr(Kr(w.$vuetify.theme.current.dark?"dark":"light"),1)]),_:1}),F(j,{class:"mb-4 ms-4",color:"primary",onClick:S[0]||(S[0]=Z=>Ie(qs).setLang("zhHans"))},{default:He(()=>S[10]||(S[10]=[dr(" set Chinese ")])),_:1,__:[10]}),F(j,{class:"mb-4 ms-4",color:"primary",onClick:S[1]||(S[1]=Z=>Ie(qs).setLang("en"))},{default:He(()=>S[11]||(S[11]=[dr(" set English ")])),_:1,__:[11]}),F(j,{class:"mb-4 ms-4",color:"primary",onClick:v},{default:He(()=>S[12]||(S[12]=[dr(" set Custom Lang ")])),_:1,__:[12]}),Oe("div",Net,[F(A,{modelValue:s.value,"onUpdate:modelValue":S[2]||(S[2]=Z=>s.value=Z),color:"deep-purple-accent-3",rounded:"0",group:""},{default:He(()=>[F(j,{value:""},{default:He(()=>S[13]||(S[13]=[dr(" Global ")])),_:1,__:[13]}),F(j,{value:"default"},{default:He(()=>S[14]||(S[14]=[dr(" Default ")])),_:1,__:[14]}),F(j,{value:"github"},{default:He(()=>S[15]||(S[15]=[dr(" Github ")])),_:1,__:[15]}),F(j,{value:"maidragon"},{default:He(()=>S[16]||(S[16]=[dr(" Maidragon ")])),_:1,__:[16]})]),_:1},8,["modelValue"])]),Oe("div",Let,[F(A,{modelValue:o.value,"onUpdate:modelValue":S[3]||(S[3]=Z=>o.value=Z),color:"deep-purple-accent-3",rounded:"0",group:""},{default:He(()=>[F(j,{value:"html"},{default:He(()=>S[17]||(S[17]=[dr(" Html ")])),_:1,__:[17]}),F(j,{value:"json"},{default:He(()=>S[18]||(S[18]=[dr(" Json ")])),_:1,__:[18]}),F(j,{value:"text"},{default:He(()=>S[19]||(S[19]=[dr(" Text ")])),_:1,__:[19]})]),_:1},8,["modelValue"])]),F(j,{class:"mb-4",color:"primary",onClick:b},{default:He(()=>S[20]||(S[20]=[dr(" getHTML ")])),_:1,__:[20]}),F(j,{class:"mb-4 ms-4",color:"primary",onClick:x},{default:He(()=>S[21]||(S[21]=[dr(" getJSON ")])),_:1,__:[21]}),F(j,{class:"mb-4 ms-4",color:"primary",onClick:k},{default:He(()=>S[22]||(S[22]=[dr(" getText ")])),_:1,__:[22]}),Oe("div",Det,[F(z,{width:f.value},{activator:He(({props:Z})=>[F(j,Pt(Z,{class:"mb-4",color:"primary",text:"Viewer"}),null,16)]),default:He(()=>[F(T,null,{default:He(()=>[F(R,null,{default:He(()=>[F(_,{value:i.value},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["width"])]),F(U,{ref_key:"VuetifyTiptapRef",ref:r,modelValue:i.value,"onUpdate:modelValue":S[4]||(S[4]=Z=>i.value=Z),"markdown-theme":s.value,"onUpdate:markdownTheme":S[5]||(S[5]=Z=>s.value=Z),label:"Title",output:o.value,"hide-toolbar":c.value,"disable-toolbar":u.value,outlined:a.value,dense:l.value,"error-messages":d.value,rounded:"","max-height":465,"max-width":f.value,extensions:e,onChange:y},null,8,["modelValue","markdown-theme","output","hide-toolbar","disable-toolbar","outlined","dense","error-messages","max-width"]),F(G,{class:"my-4"}),F(Ie(d5e),{modelValue:h.value,"onUpdate:modelValue":S[6]||(S[6]=Z=>h.value=Z),"read-only":"",height:"400px"},null,8,["modelValue"]),F(G,{class:"my-4"}),F(U,{"markdown-theme":s.value,"onUpdate:markdownTheme":S[7]||(S[7]=Z=>s.value=Z),label:"Editor 2",outlined:a.value,dense:l.value,rounded:"",dark:"","max-height":465,"max-width":f.value,extensions:e},null,8,["markdown-theme","outlined","dense","max-width"]),F(G,{class:"my-4"}),F(G,{class:"my-4"}),F(_Xe,{modelValue:m.value,"onUpdate:modelValue":S[8]||(S[8]=Z=>m.value=Z)},null,8,["modelValue"])]),_:1})]),_:1})}}}),Bet={image:["float-left","float-none","float-right","divider","image-size-small","image-size-medium","image-size-large","divider","textAlign","divider","image","image-aspect-ratio","image-label","remove"],text:["bold","italic","underline","strike","divider","color","highlight","textAlign","divider","link"],link:["bold","italic","underline","strike","divider","color","highlight","textAlign","divider","link","unlink","link-open"],video:["video-size-small","video-size-medium","video-size-large","divider","video","remove"],table:["table-add-column-before","table-add-column-after","table-delete-column","divider","table-add-row-before","table-add-row-after","table-delete-row","divider","table-merge-or-split-cells","divider","table-delete-table","divider"]},zet={class:"headline"},Het=en({__name:"LinkDialog",props:{value:{default:void 0},target:{default:"_blank"},editor:{},destroy:{type:Function,default:void 0}},setup(t){const e=t,n=()=>({href:"",target:"_blank"}),r=Ye(n()),o=Ye(!1),i=ue(()=>{const{href:l,target:c}=r.value;return l?e.value===l&&e.target===c:!0});function s(){const{href:l,target:c}=r.value;l&&e.editor.chain().focus().extendMarkRange("link").setLink({href:l,target:c}).run(),a()}function a(){o.value=!1,r.value=n(),setTimeout(()=>{var l;return(l=e.destroy)==null?void 0:l.call(e)},300)}return Bt(o,l=>{l&&(r.value={href:e.value,target:e.target})}),(l,c)=>{const u=gy,d=lo,f=fl,h=Hh,m=$c,g=cf,v=rw,y=Fu,b=my;return tt(),Rt(b,{modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=x=>o.value=x),"max-width":"400",activator:"parent","onClick:outside":a},{default:He(()=>[F(y,null,{default:He(()=>[F(h,{class:"px-6",density:"compact"},{default:He(()=>[Oe("span",zet,Kr(Ie(qs).message[Ie(qs).lang]["editor.link.dialog.title"]),1),F(u),F(f,{class:"mx-0",icon:"",onClick:a},{default:He(()=>[F(d,{icon:"$close"})]),_:1})]),_:1}),F(g,null,{default:He(()=>[c[2]||(c[2]=Oe("div",null,"This is a custom dialog component;",-1)),c[3]||(c[3]=Oe("div",null,[dr("please use the "),Oe("strong",null,"dialogComponent"),dr(" parameter.")],-1)),F(m,{modelValue:r.value.href,"onUpdate:modelValue":c[0]||(c[0]=x=>r.value.href=x),label:Ie(qs).message[Ie(qs).lang]["editor.link.dialog.link"],autofocus:""},null,8,["modelValue","label"])]),_:1,__:[2,3]}),F(v,null,{default:He(()=>[F(f,{disabled:i.value,onClick:s},{default:He(()=>[dr(Kr(Ie(qs).message[Ie(qs).lang]["editor.link.dialog.button.apply"]),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Fet=en({__name:"SelectImage",props:{modelValue:{default:()=>({})},upload:{type:Function,default:void 0},t:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=e,o=ue({get:()=>n.modelValue,set:s=>{r("update:modelValue",s)}}),i=[{alt:"Test 1",src:"https://picsum.photos/1920/1080.webp?t=1"},{alt:"Test 2",src:"https://picsum.photos/1920/1080.webp?t=2"},{alt:"Test 3",src:"https://picsum.photos/1920/1080.webp?t=3"}];return Bt(()=>Ie(o).src,s=>{const a=i.find(l=>l.src===s);a&&(o.value.alt=a.alt)}),(s,a)=>{const l=cq,c=gde,u=$c,d=v4;return tt(),zr(Dt,null,[F(l,{class:"mb-4",type:"info",text:"Select tab is custom component"}),F(c,{modelValue:o.value.src,"onUpdate:modelValue":a[0]||(a[0]=f=>o.value.src=f),label:"Select Image",items:i,"item-value":"src","item-title":"alt"},null,8,["modelValue"]),F(u,{modelValue:o.value.alt,"onUpdate:modelValue":a[1]||(a[1]=f=>o.value.alt=f),label:"Alt"},null,8,["modelValue"]),F(d,{modelValue:o.value.lockAspectRatio,"onUpdate:modelValue":a[2]||(a[2]=f=>o.value.lockAspectRatio=f),label:"Lock original aspect ratio"},null,8,["modelValue"])],64)}}}),qet=EXe({lang:"zhHans",fallbackLang:"en",markdownTheme:"github",components:{VuetifyTiptap:eWe,VuetifyViewer:QWe},extensions:[Xne.configure({placeholder:{placeholder:"Enter some text..."},bubble:{list:{...Bet},defaultBubbleList:t=>Yne(t)}}),WGe,_Ye,AXe,fXe,QGe.configure({divider:!0}),Qne,CXe,oYe,iYe,rYe,dYe.configure({divider:!0}),mXe.configure({divider:!0}),JGe.configure({divider:!0}),KGe,lXe,kXe,AYe.configure({divider:!0}),sXe.configure({dialogComponent:()=>Het}),jYe.configure({imageTabs:[{name:"SELECT",component:Fb(Fet)}],width:500,upload(t){const e=URL.createObjectURL(t);return console.log("mock upload api :>> ",e),Promise.resolve(e)}}),$Xe,xXe.configure({divider:!0,cellMinWidth:100}),BGe,pYe,nYe.configure({divider:!0}),fYe.configure({divider:!0}),aXe.configure({markdownThemes:[{title:"Github",value:"github"},{title:"Maidragon",value:"maidragon"}]}),sYe.configure({useWindow:!0})]}),Uet=B7(),lM=Bse(Vet);lM.use(Uet);lM.use(qet);lM.config.unwrapInjectedRef=!0;lM.mount("#app");
